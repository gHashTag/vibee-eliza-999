
app = "vibee-eliza-999-prod"
primary_region = "ams"

[build]
  dockerfile = "Dockerfile"
  context = "."

[env]
  PORT = "3000"
  NODE_ENV = "production"

  # Infisical Cloud Configuration
  INFISICAL_CLIENT_ID = "88fcf0cd-cce9-4844-bad2-8e19b4bad3ed"
  INFISICAL_CLIENT_SECRET = "b377e7a60b669ea2317f339dc6cb79ce49d588a7bbed92433bb2a73dedff3314"
  INFISICAL_PROJECT_ID = "fd763fa3-35d5-4045-93bd-1795c5f00fc3"
  INFISICAL_ENVIRONMENT = "dev"

[[services]]
  internal_port = 3000
  protocol = "tcp"

  [[services.ports]]
    handlers = ["http"]
    port = 80

  [[services.ports]]
    handlers = ["tls", "http"]
    port = 443

  [services.http_checks]
    path = "/healthz"
    grace_period = "30s"
    interval = "15s"
    restart_limit = 3
    timeout = "10s"

[vm]
  cpu_kind = "shared"
  cpus = 2
  memory_mb = 2048
