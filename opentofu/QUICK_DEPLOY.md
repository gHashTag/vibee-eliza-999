# üöÄ –ë—ã—Å—Ç—Ä—ã–π –î–µ–ø–ª–æ–π –Ω–∞ –°–µ—Ä–≤–µ—Ä–µ

–í—ã —É–∂–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ! –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã:

## 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é opentofu

```bash
cd /home/aiagent/vibee-agent/opentofu
```

## 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–æ—Ä—Ç 3000

```bash
sudo lsof -i :3000
# –∏–ª–∏
docker ps | grep 3000
```

–ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç, –Ω—É–∂–Ω–æ –ª–∏–±–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–∏—Å, –ª–∏–±–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

## 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å terraform.tfvars

```bash
cat terraform.tfvars
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã (–æ—Å–æ–±–µ–Ω–Ω–æ Infisical credentials).

## 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
bash deploy.sh

# –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é
bash validate.sh
tofu init
tofu plan
tofu apply -auto-approve
```

## 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps | grep vibee

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs vibee-agent-stage -f

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health
curl http://localhost:3000/health
```

## –ï—Å–ª–∏ –ø–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç

–ï—Å–ª–∏ –ø–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º —Å–µ—Ä–≤–∏—Å–æ–º, –º–æ–∂–Ω–æ:

1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–∏—Å** (–µ—Å–ª–∏ –æ–Ω –Ω–µ –Ω—É–∂–µ–Ω)
2. **–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç** –≤ `main.tf`:
   ```hcl
   agent_port = 3001  # –≤–º–µ—Å—Ç–æ 3000
   ```

## Troubleshooting

### –û—à–∏–±–∫–∞: OpenTofu –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OpenTofu
wget https://github.com/opentofu/opentofu/releases/download/v1.8.0/tofu_1.8.0_linux_amd64.zip
unzip tofu_1.8.0_linux_amd64.zip
sudo mv tofu /usr/local/bin/
```

### –û—à–∏–±–∫–∞: Docker –Ω–µ –∑–∞–ø—É—â–µ–Ω
```bash
sudo systemctl start docker
sudo systemctl enable docker
```

### –û—à–∏–±–∫–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
```bash
# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER
# –ü–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å
newgrp docker
```

