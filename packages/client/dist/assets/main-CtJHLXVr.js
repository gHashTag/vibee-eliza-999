const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-CU67Zn6k.js","assets/html-GMplVEZG.js","assets/javascript-wDzz0qaB.js","assets/css-DPfMkruS.js","assets/angular-ts-BwZT4LLn.js","assets/scss-OYdSNvt2.js","assets/apl-dKokRX4l.js","assets/xml-sdJ4AIDG.js","assets/java-CylS5w8V.js","assets/json-Cp-IABpG.js","assets/astro-CbQHKStN.js","assets/typescript-BPQ3VLAy.js","assets/postcss-CXtECtnM.js","assets/tsx-COt5Ahok.js","assets/blade-DVc8C-J4.js","assets/html-derivative-BFtXZ54Q.js","assets/sql-BLtJtn59.js","assets/bsl-BO_Y6i37.js","assets/sdbl-DVxCFoDh.js","assets/cairo-KRGpt6FW.js","assets/python-B6aJPvgy.js","assets/cobol-nwyudZeR.js","assets/coffee-Ch7k5sss.js","assets/cpp-CofmeUqb.js","assets/regexp-CDVJQ6XC.js","assets/glsl-DplSGwfg.js","assets/c-BIGW1oBm.js","assets/crystal-tKQVLTB8.js","assets/shellscript-Yzrsuije.js","assets/edge-BkV0erSs.js","assets/elixir-CDX3lj18.js","assets/elm-DbKCFpqz.js","assets/erb-BOJIQeun.js","assets/ruby-BvKwtOVI.js","assets/haml-B8DHNrY2.js","assets/graphql-ChdNCCLP.js","assets/jsx-g9-lgVsj.js","assets/lua-BbnMAYS6.js","assets/yaml-Buea-lGh.js","assets/erlang-DsQrWhSR.js","assets/markdown-Cvjx9yec.js","assets/fortran-fixed-form-BZjJHVRy.js","assets/fortran-free-form-D22FLkUw.js","assets/fsharp-CXgrBDvD.js","assets/gdresource-B7Tvp0Sc.js","assets/gdshader-DkwncUOv.js","assets/gdscript-DTMYz4Jt.js","assets/git-commit-F4YmCXRG.js","assets/diff-D97Zzqfu.js","assets/git-rebase-r7XF79zn.js","assets/glimmer-js-Rg0-pVw9.js","assets/glimmer-ts-U6CK756n.js","assets/hack-CaT9iCJl.js","assets/handlebars-BL8al0AC.js","assets/http-jrhK8wxY.js","assets/hurl-irOxFIW8.js","assets/csv-fuZLfV_i.js","assets/hxml-Bvhsp5Yf.js","assets/haxe-CzTSHFRz.js","assets/jinja-4LBKfQ-Z.js","assets/jison-wvAkD_A8.js","assets/julia-C8NyazO9.js","assets/r-DiinP2Uv.js","assets/latex-BUKiar2Z.js","assets/tex-Cppo0RY3.js","assets/liquid-DYVedYrR.js","assets/marko-CPi9NSCl.js","assets/less-B1dDrJ26.js","assets/mdc-DUICxH0z.js","assets/nginx-DknmC5AR.js","assets/nim-CVrawwO9.js","assets/perl-C0TMdlhV.js","assets/php-CDn_0X-4.js","assets/pug-CGlum2m_.js","assets/qml-3beO22l8.js","assets/razor-WgofotgN.js","assets/csharp-CX12Zw3r.js","assets/rst-B0xPkSld.js","assets/cmake-D1j8_8rp.js","assets/sas-cz2c8ADy.js","assets/shaderlab-Dg9Lc6iA.js","assets/hlsl-D3lLCCz7.js","assets/shellsession-BADoaaVG.js","assets/soy-Brmx7dQM.js","assets/sparql-rVzFXLq3.js","assets/turtle-BsS91CYL.js","assets/stata-BH5u7GGu.js","assets/svelte-3Dk4HxPD.js","assets/templ-W15q3VgB.js","assets/go-Dn2_MT6a.js","assets/ts-tags-zn1MmPIZ.js","assets/twig-CO9l9SDP.js","assets/vue-CCoi5OLL.js","assets/vue-html-DAAvJJDi.js","assets/vue-vine-_Ih-lPRR.js","assets/stylus-BEDo0Tqx.js","assets/xsl-CtQFsRM5.js","assets/mermaid.core-v0mniV2G.js","assets/main-xihm1dng.js","assets/katex-XSfRedCB.css"])))=>i.map(i=>d[i]);
var jF=Object.defineProperty;var a=(e,t)=>jF(e,"name",{value:t,configurable:!0});import{g as Xp,j as b,S as Ku,r as U,R as Fk,a as Uk,T as Hk,P as Gk,C as Jp,b as Vk,X as yi,O as Kp,c as Wp,D as Qp,d as BF,e as zF,f as FF,h as UF,i as Yk,k as HF,l as Zk,m as $k,L as P2,n as L2,o as Xk,p as GF,V as VF,G as YF,q as Jk,I as ZF,s as as,t as $F,u as Kk,v as XF,w as Wk,x as JF,y as Ks,z as KF,A as Qk,B as qk,E as eA,F as tA,H as rA,J as Un,K as WF,M as QF,N as qF,Q as eU,U as tU,W as rU,Y as nU,Z as iU,_ as aU,$ as nA,a0 as iA,a1 as aA,a2 as sA,a3 as oA,a4 as lA,a5 as ea,a6 as sU,a7 as uA,a8 as cA,a9 as oU,aa as dA,ab as Fn,ac as D2,ad as xh,ae as hA,af as fA,ag as lU,ah as uU,ai as j2,aj as pA,ak as cU,al as dU,am as mA,an as hU,ao as ml,ap as Bg,aq as Ps,ar as Ya,as as f_,at as kl,au as fU,av as Xa,aw as Yn,ax as Ln,ay as gA,az as vA,aA as bA,aB as yA,aC as wA,aD as Pi,aE as qp,aF as pU,aG as mU,aH as gU,aI as em,aJ as tm,aK as Qc,aL as Al,aM as No,aN as p_,aO as vU,aP as Eh,aQ as rm,aR as Td,aS as bU,aT as m_,aU as yU,aV as _A,aW as wU,aX as xA,aY as EA,aZ as SA,a_ as kA,a$ as AA,b0 as _U,b1 as B2,b2 as Dy,b3 as TA,b4 as xU,b5 as P0,b6 as z2,b7 as Nd,b8 as nf,b9 as jy,ba as F2,bb as g_,bc as v_,bd as b_,be as nm,bf as Sh,bg as U2,bh as NA,bi as qn,bj as CA,bk as IA,bl as Ul,bm as MA,bn as y_,bo as wi,bp as bc,bq as H2,br as gl,bs as Du,bt as G2,bu as kh,bv as L0,bw as OA,bx as EU,by as V2,bz as Cd,bA as SU,bB as kU,bC as Ki,bD as Wi,bE as fu,bF as AU,bG as Y2,bH as TU,bI as Z2,bJ as RA,bK as PA,bL as NU,bM as CU,bN as IU,bO as MU,bP as OU,bQ as RU,bR as $2,bS as PU,bT as LU,bU as DU,bV as X2,bW as J2,bX as jU,bY as LA,bZ as By,b_ as BU,b$ as DA,c0 as zU,c1 as FU,c2 as UU,c3 as HU,c4 as GU,c5 as VU,c6 as YU,c7 as ZU,c8 as $U,c9 as jA,ca as BA,cb as zA,cc as FA,cd as XU,ce as JU,cf as KU,cg as zy,ch as WU,ci as QU,cj as im,ck as qU,cl as UA,cm as eH,cn as tH,co as zg,cp as w_,cq as __,cr as rH,cs as K2,ct as nH,cu as iH,cv as aH,cw as sH,cx as oH,cy as lH,cz as uH,cA as cH,cB as dH,cC as hH,cD as sa,cE as fH}from"./react-vendor-BZsmEqKa.js";import{_ as ge}from"./main-xihm1dng.js";function HA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=HA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}a(HA,"r$3");function am(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=HA(e))&&(n&&(n+=" "),n+=t);return n}a(am,"clsx");const x_=a(e=>typeof e=="boolean"?`${e}`:e===0?"0":e,"falsyToString"),E_=am,ro=a((e,t)=>r=>{var n;if(t?.variants==null)return E_(e,r?.class,r?.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(c=>{const h=r?.[c],d=s?.[c];if(h===null)return null;const g=x_(h)||x_(d);return i[c][g]}),l=r&&Object.entries(r).reduce((c,h)=>{let[d,g]=h;return g===void 0||(c[d]=g),c},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,h)=>{let{class:d,className:g,...m}=h;return Object.entries(m).every(y=>{let[x,A]=y;return Array.isArray(A)?A.includes({...s,...l}[x]):{...s,...l}[x]===A})?[...c,d,g]:c},[]);return E_(e,o,u,r?.class,r?.className)},"cva"),yu="user",af="client_chat",qc="client_group_chat",Id=512;var l0=(e=>(e.REQUIRED="required",e.OPTIONAL="optional",e))(l0||{});const nu={name:"required",username:"optional",system:"required","settings.voice.model":"optional",bio:"optional",topics:"optional",adjectives:"optional","style.all":"optional","style.chat":"optional","style.post":"optional"};var u0={exports:{}},pH=u0.exports,S_;function mH(){return S_||(S_=1,(function(e,t){(function(r,n){e.exports=n()})(pH,(function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",l="minute",u="hour",c="day",h="week",d="month",g="quarter",m="year",y="date",x="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:a(function(v){var _=["th","st","nd","rd"],S=v%100;return"["+v+(_[(S-20)%10]||_[S]||_[0])+"]"},"ordinal")},R=a(function(v,_,S){var T=String(v);return!T||T.length>=_?v:""+Array(_+1-T.length).join(S)+v},"m"),P={s:R,z:a(function(v){var _=-v.utcOffset(),S=Math.abs(_),T=Math.floor(S/60),N=S%60;return(_<=0?"+":"-")+R(T,2,"0")+":"+R(N,2,"0")},"z"),m:a(function v(_,S){if(_.date()<S.date())return-v(S,_);var T=12*(S.year()-_.year())+(S.month()-_.month()),N=_.clone().add(T,d),k=S-N<0,p=_.clone().add(T+(k?-1:1),d);return+(-(T+(S-N)/(k?N-p:p-N))||0)},"t2"),a:a(function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},"a"),p:a(function(v){return{M:d,y:m,w:h,d:c,D:y,h:u,m:l,s:o,ms:s,Q:g}[v]||String(v||"").toLowerCase().replace(/s$/,"")},"p"),u:a(function(v){return v===void 0},"u")},L="en",z={};z[L]=M;var Z="$isDayjsObject",Y=a(function(v){return v instanceof f||!(!v||!v[Z])},"S"),ae=a(function v(_,S,T){var N;if(!_)return L;if(typeof _=="string"){var k=_.toLowerCase();z[k]&&(N=k),S&&(z[k]=S,N=k);var p=_.split("-");if(!N&&p.length>1)return v(p[0])}else{var E=_.name;z[E]=_,N=E}return!T&&N&&(L=N),N||!T&&L},"t2"),F=a(function(v,_){if(Y(v))return v.clone();var S=typeof _=="object"?_:{};return S.date=v,S.args=arguments,new f(S)},"O"),W=P;W.l=ae,W.i=Y,W.w=function(v,_){return F(v,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var f=(function(){function v(S){this.$L=ae(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[Z]=!0}a(v,"M2");var _=v.prototype;return _.parse=function(S){this.$d=(function(T){var N=T.date,k=T.utc;if(N===null)return new Date(NaN);if(W.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var p=N.match(A);if(p){var E=p[2]-1||0,I=(p[7]||"0").substring(0,3);return k?new Date(Date.UTC(p[1],E,p[3]||1,p[4]||0,p[5]||0,p[6]||0,I)):new Date(p[1],E,p[3]||1,p[4]||0,p[5]||0,p[6]||0,I)}}return new Date(N)})(S),this.init()},_.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},_.$utils=function(){return W},_.isValid=function(){return this.$d.toString()!==x},_.isSame=function(S,T){var N=F(S);return this.startOf(T)<=N&&N<=this.endOf(T)},_.isAfter=function(S,T){return F(S)<this.startOf(T)},_.isBefore=function(S,T){return this.endOf(T)<F(S)},_.$g=function(S,T,N){return W.u(S)?this[T]:this.set(N,S)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(S,T){var N=this,k=!!W.u(T)||T,p=W.p(S),E=a(function(ne,se){var Ye=W.w(N.$u?Date.UTC(N.$y,se,ne):new Date(N.$y,se,ne),N);return k?Ye:Ye.endOf(c)},"l2"),I=a(function(ne,se){return W.w(N.toDate()[ne].apply(N.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(se)),N)},"$2"),O=this.$W,B=this.$M,H=this.$D,G="set"+(this.$u?"UTC":"");switch(p){case m:return k?E(1,0):E(31,11);case d:return k?E(1,B):E(0,B+1);case h:var J=this.$locale().weekStart||0,ce=(O<J?O+7:O)-J;return E(k?H-ce:H+(6-ce),B);case c:case y:return I(G+"Hours",0);case u:return I(G+"Minutes",1);case l:return I(G+"Seconds",2);case o:return I(G+"Milliseconds",3);default:return this.clone()}},_.endOf=function(S){return this.startOf(S,!1)},_.$set=function(S,T){var N,k=W.p(S),p="set"+(this.$u?"UTC":""),E=(N={},N[c]=p+"Date",N[y]=p+"Date",N[d]=p+"Month",N[m]=p+"FullYear",N[u]=p+"Hours",N[l]=p+"Minutes",N[o]=p+"Seconds",N[s]=p+"Milliseconds",N)[k],I=k===c?this.$D+(T-this.$W):T;if(k===d||k===m){var O=this.clone().set(y,1);O.$d[E](I),O.init(),this.$d=O.set(y,Math.min(this.$D,O.daysInMonth())).$d}else E&&this.$d[E](I);return this.init(),this},_.set=function(S,T){return this.clone().$set(S,T)},_.get=function(S){return this[W.p(S)]()},_.add=function(S,T){var N,k=this;S=Number(S);var p=W.p(T),E=a(function(B){var H=F(k);return W.w(H.date(H.date()+Math.round(B*S)),k)},"y2");if(p===d)return this.set(d,this.$M+S);if(p===m)return this.set(m,this.$y+S);if(p===c)return E(1);if(p===h)return E(7);var I=(N={},N[l]=n,N[u]=i,N[o]=r,N)[p]||1,O=this.$d.getTime()+S*I;return W.w(O,this)},_.subtract=function(S,T){return this.add(-1*S,T)},_.format=function(S){var T=this,N=this.$locale();if(!this.isValid())return N.invalidDate||x;var k=S||"YYYY-MM-DDTHH:mm:ssZ",p=W.z(this),E=this.$H,I=this.$m,O=this.$M,B=N.weekdays,H=N.months,G=N.meridiem,J=a(function(se,Ye,Te,ye){return se&&(se[Ye]||se(T,k))||Te[Ye].slice(0,ye)},"h2"),ce=a(function(se){return W.s(E%12||12,se,"0")},"d2"),ne=G||function(se,Ye,Te){var ye=se<12?"AM":"PM";return Te?ye.toLowerCase():ye};return k.replace(C,(function(se,Ye){return Ye||(function(Te){switch(Te){case"YY":return String(T.$y).slice(-2);case"YYYY":return W.s(T.$y,4,"0");case"M":return O+1;case"MM":return W.s(O+1,2,"0");case"MMM":return J(N.monthsShort,O,H,3);case"MMMM":return J(H,O);case"D":return T.$D;case"DD":return W.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return J(N.weekdaysMin,T.$W,B,2);case"ddd":return J(N.weekdaysShort,T.$W,B,3);case"dddd":return B[T.$W];case"H":return String(E);case"HH":return W.s(E,2,"0");case"h":return ce(1);case"hh":return ce(2);case"a":return ne(E,I,!0);case"A":return ne(E,I,!1);case"m":return String(I);case"mm":return W.s(I,2,"0");case"s":return String(T.$s);case"ss":return W.s(T.$s,2,"0");case"SSS":return W.s(T.$ms,3,"0");case"Z":return p}return null})(se)||p.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(S,T,N){var k,p=this,E=W.p(T),I=F(S),O=(I.utcOffset()-this.utcOffset())*n,B=this-I,H=a(function(){return W.m(p,I)},"D2");switch(E){case m:k=H()/12;break;case d:k=H();break;case g:k=H()/3;break;case h:k=(B-O)/6048e5;break;case c:k=(B-O)/864e5;break;case u:k=B/i;break;case l:k=B/n;break;case o:k=B/r;break;default:k=B}return N?k:W.a(k)},_.daysInMonth=function(){return this.endOf(d).$D},_.$locale=function(){return z[this.$L]},_.locale=function(S,T){if(!S)return this.$L;var N=this.clone(),k=ae(S,T,!0);return k&&(N.$L=k),N},_.clone=function(){return W.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},v})(),w=f.prototype;return F.prototype=w,[["$ms",s],["$s",o],["$m",l],["$H",u],["$W",c],["$M",d],["$y",m],["$D",y]].forEach((function(v){w[v[1]]=function(_){return this.$g(_,v[0],v[1])}})),F.extend=function(v,_){return v.$i||(v(_,f,F),v.$i=!0),F},F.locale=ae,F.isDayjs=Y,F.unix=function(v){return F(1e3*v)},F.en=z[L],F.Ls=z,F.p={},F}))})(u0)),u0.exports}a(mH,"requireDayjs_min");var gH=mH();const GA=Xp(gH);var c0={exports:{}},vH=c0.exports,k_;function bH(){return k_||(k_=1,(function(e,t){(function(r,n){e.exports=n()})(vH,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,s){var o=i.prototype,l=o.format;s.en.formats=r,o.format=function(u){u===void 0&&(u="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,h=(function(d,g){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(m,y,x){var A=x&&x.toUpperCase();return y||g[x]||r[x]||g[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(C,M,R){return M||R.slice(1)}))}))})(u,c===void 0?{}:c);return l.call(this,h)}}}))})(c0)),c0.exports}a(bH,"requireLocalizedFormat");var yH=bH();const wH=Xp(yH),_H=a((e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},"concatArrays"),xH=a((e,t)=>({classGroupId:e,validator:t}),"createClassValidatorObject"),VA=a((e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),"createClassPartObject"),D0="-",A_=[],EH="arbitrary..",SH=a(e=>{const t=AH(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a(o=>{if(o.startsWith("[")&&o.endsWith("]"))return kH(o);const l=o.split(D0),u=l[0]===""&&l.length>1?1:0;return YA(l,u,t)},"getClassGroupId"),getConflictingClassGroupIds:a((o,l)=>{if(l){const u=n[o],c=r[o];return u?c?_H(c,u):u:c||A_}return r[o]||A_},"getConflictingClassGroupIds")}},"createClassGroupUtils"),YA=a((e,t,r)=>{if(e.length-t===0)return r.classGroupId;const i=e[t],s=r.nextPart.get(i);if(s){const c=YA(e,t+1,s);if(c)return c}const o=r.validators;if(o===null)return;const l=t===0?e.join(D0):e.slice(t).join(D0),u=o.length;for(let c=0;c<u;c++){const h=o[c];if(h.validator(l))return h.classGroupId}},"getGroupRecursive"),kH=a(e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?EH+n:void 0})(),"getGroupIdForArbitraryProperty"),AH=a(e=>{const{theme:t,classGroups:r}=e;return TH(r,t)},"createClassMap"),TH=a((e,t)=>{const r=VA();for(const n in e){const i=e[n];W2(i,r,n,t)}return r},"processClassGroups"),W2=a((e,t,r,n)=>{const i=e.length;for(let s=0;s<i;s++){const o=e[s];NH(o,t,r,n)}},"processClassesRecursively"),NH=a((e,t,r,n)=>{if(typeof e=="string"){CH(e,t,r);return}if(typeof e=="function"){IH(e,t,r,n);return}MH(e,t,r,n)},"processClassDefinition"),CH=a((e,t,r)=>{const n=e===""?t:ZA(t,e);n.classGroupId=r},"processStringDefinition"),IH=a((e,t,r,n)=>{if(OH(e)){W2(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(xH(r,e))},"processFunctionDefinition"),MH=a((e,t,r,n)=>{const i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[l,u]=i[o];W2(u,ZA(t,l),r,n)}},"processObjectDefinition"),ZA=a((e,t)=>{let r=e;const n=t.split(D0),i=n.length;for(let s=0;s<i;s++){const o=n[s];let l=r.nextPart.get(o);l||(l=VA(),r.nextPart.set(o,l)),r=l}return r},"getPart"),OH=a(e=>"isThemeGetter"in e&&e.isThemeGetter===!0,"isThemeGetter"),RH=a(e=>{if(e<1)return{get:a(()=>{},"get"),set:a(()=>{},"set")};let t=0,r=Object.create(null),n=Object.create(null);const i=a((s,o)=>{r[s]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))},"update");return{get(s){let o=r[s];if(o!==void 0)return o;if((o=n[s])!==void 0)return i(s,o),o},set(s,o){s in r?r[s]=o:i(s,o)}}},"createLruCache"),Fy="!",T_=":",PH=[],N_=a((e,t,r,n,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),"createResultObject"),LH=a(e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a(i=>{const s=[];let o=0,l=0,u=0,c;const h=i.length;for(let x=0;x<h;x++){const A=i[x];if(o===0&&l===0){if(A===T_){s.push(i.slice(u,x)),u=x+1;continue}if(A==="/"){c=x;continue}}A==="["?o++:A==="]"?o--:A==="("?l++:A===")"&&l--}const d=s.length===0?i:i.slice(u);let g=d,m=!1;d.endsWith(Fy)?(g=d.slice(0,-1),m=!0):d.startsWith(Fy)&&(g=d.slice(1),m=!0);const y=c&&c>u?c-u:void 0;return N_(s,m,g,y)},"parseClassName");if(t){const i=t+T_,s=n;n=a(o=>o.startsWith(i)?s(o.slice(i.length)):N_(PH,!1,o,void 0,!0),"parseClassName")}if(r){const i=n;n=a(s=>r({className:s,parseClassName:i}),"parseClassName")}return n},"createParseClassName"),DH=a(e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let s=0;s<r.length;s++){const o=r[s],l=o[0]==="[",u=t.has(o);l||u?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(o)):i.push(o)}return i.length>0&&(i.sort(),n.push(...i)),n}},"createSortModifiers"),jH=a(e=>({cache:RH(e.cacheSize),parseClassName:LH(e),sortModifiers:DH(e),...SH(e)}),"createConfigUtils"),BH=/\s+/,zH=a((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],l=e.trim().split(BH);let u="";for(let c=l.length-1;c>=0;c-=1){const h=l[c],{isExternal:d,modifiers:g,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}=r(h);if(d){u=h+(u.length>0?" "+u:u);continue}let A=!!x,C=n(A?y.substring(0,x):y);if(!C){if(!A){u=h+(u.length>0?" "+u:u);continue}if(C=n(y),!C){u=h+(u.length>0?" "+u:u);continue}A=!1}const M=g.length===0?"":g.length===1?g[0]:s(g).join(":"),R=m?M+Fy:M,P=R+C;if(o.indexOf(P)>-1)continue;o.push(P);const L=i(C,A);for(let z=0;z<L.length;++z){const Z=L[z];o.push(R+Z)}u=h+(u.length>0?" "+u:u)}return u},"mergeClassList"),FH=a((...e)=>{let t=0,r,n,i="";for(;t<e.length;)(r=e[t++])&&(n=$A(r))&&(i&&(i+=" "),i+=n);return i},"twJoin"),$A=a(e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=$A(e[n]))&&(r&&(r+=" "),r+=t);return r},"toValue"),UH=a((e,...t)=>{let r,n,i,s;const o=a(u=>{const c=t.reduce((h,d)=>d(h),e());return r=jH(c),n=r.cache.get,i=r.cache.set,s=l,l(u)},"initTailwindMerge"),l=a(u=>{const c=n(u);if(c)return c;const h=zH(u,r);return i(u,h),h},"tailwindMerge");return s=o,(...u)=>s(FH(...u))},"createTailwindMerge"),HH=[],_n=a(e=>{const t=a(r=>r[e]||HH,"themeGetter");return t.isThemeGetter=!0,t},"fromTheme"),XA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,JA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,GH=/^\d+\/\d+$/,VH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$H=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,iu=a(e=>GH.test(e),"isFraction"),ur=a(e=>!!e&&!Number.isNaN(Number(e)),"isNumber$1"),lo=a(e=>!!e&&Number.isInteger(Number(e)),"isInteger"),Fg=a(e=>e.endsWith("%")&&ur(e.slice(0,-1)),"isPercent"),bs=a(e=>VH.test(e),"isTshirtSize"),JH=a(()=>!0,"isAny"),KH=a(e=>YH.test(e)&&!ZH.test(e),"isLengthOnly"),KA=a(()=>!1,"isNever"),WH=a(e=>$H.test(e),"isShadow"),QH=a(e=>XH.test(e),"isImage"),qH=a(e=>!Bt(e)&&!zt(e),"isAnyNonArbitrary"),eG=a(e=>Wu(e,qA,KA),"isArbitrarySize"),Bt=a(e=>XA.test(e),"isArbitraryValue"),Zo=a(e=>Wu(e,eT,KH),"isArbitraryLength"),Ug=a(e=>Wu(e,aG,ur),"isArbitraryNumber"),C_=a(e=>Wu(e,WA,KA),"isArbitraryPosition"),tG=a(e=>Wu(e,QA,QH),"isArbitraryImage"),sf=a(e=>Wu(e,tT,WH),"isArbitraryShadow"),zt=a(e=>JA.test(e),"isArbitraryVariable"),yc=a(e=>Qu(e,eT),"isArbitraryVariableLength"),rG=a(e=>Qu(e,sG),"isArbitraryVariableFamilyName"),I_=a(e=>Qu(e,WA),"isArbitraryVariablePosition"),nG=a(e=>Qu(e,qA),"isArbitraryVariableSize"),iG=a(e=>Qu(e,QA),"isArbitraryVariableImage"),of=a(e=>Qu(e,tT,!0),"isArbitraryVariableShadow"),Wu=a((e,t,r)=>{const n=XA.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},"getIsArbitraryValue"),Qu=a((e,t,r=!1)=>{const n=JA.exec(e);return n?n[1]?t(n[1]):r:!1},"getIsArbitraryVariable"),WA=a(e=>e==="position"||e==="percentage","isLabelPosition"),QA=a(e=>e==="image"||e==="url","isLabelImage"),qA=a(e=>e==="length"||e==="size"||e==="bg-size","isLabelSize"),eT=a(e=>e==="length","isLabelLength"),aG=a(e=>e==="number","isLabelNumber"),sG=a(e=>e==="family-name","isLabelFamilyName"),tT=a(e=>e==="shadow","isLabelShadow"),oG=a(()=>{const e=_n("color"),t=_n("font"),r=_n("text"),n=_n("font-weight"),i=_n("tracking"),s=_n("leading"),o=_n("breakpoint"),l=_n("container"),u=_n("spacing"),c=_n("radius"),h=_n("shadow"),d=_n("inset-shadow"),g=_n("text-shadow"),m=_n("drop-shadow"),y=_n("blur"),x=_n("perspective"),A=_n("aspect"),C=_n("ease"),M=_n("animate"),R=a(()=>["auto","avoid","all","avoid-page","page","left","right","column"],"scaleBreak"),P=a(()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],"scalePosition"),L=a(()=>[...P(),zt,Bt],"scalePositionWithArbitrary"),z=a(()=>["auto","hidden","clip","visible","scroll"],"scaleOverflow"),Z=a(()=>["auto","contain","none"],"scaleOverscroll"),Y=a(()=>[zt,Bt,u],"scaleUnambiguousSpacing"),ae=a(()=>[iu,"full","auto",...Y()],"scaleInset"),F=a(()=>[lo,"none","subgrid",zt,Bt],"scaleGridTemplateColsRows"),W=a(()=>["auto",{span:["full",lo,zt,Bt]},lo,zt,Bt],"scaleGridColRowStartAndEnd"),f=a(()=>[lo,"auto",zt,Bt],"scaleGridColRowStartOrEnd"),w=a(()=>["auto","min","max","fr",zt,Bt],"scaleGridAutoColsRows"),v=a(()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],"scaleAlignPrimaryAxis"),_=a(()=>["start","end","center","stretch","center-safe","end-safe"],"scaleAlignSecondaryAxis"),S=a(()=>["auto",...Y()],"scaleMargin"),T=a(()=>[iu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Y()],"scaleSizing"),N=a(()=>[e,zt,Bt],"scaleColor"),k=a(()=>[...P(),I_,C_,{position:[zt,Bt]}],"scaleBgPosition"),p=a(()=>["no-repeat",{repeat:["","x","y","space","round"]}],"scaleBgRepeat"),E=a(()=>["auto","cover","contain",nG,eG,{size:[zt,Bt]}],"scaleBgSize"),I=a(()=>[Fg,yc,Zo],"scaleGradientStopPosition"),O=a(()=>["","none","full",c,zt,Bt],"scaleRadius"),B=a(()=>["",ur,yc,Zo],"scaleBorderWidth"),H=a(()=>["solid","dashed","dotted","double"],"scaleLineStyle"),G=a(()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],"scaleBlendMode"),J=a(()=>[ur,Fg,I_,C_],"scaleMaskImagePosition"),ce=a(()=>["","none",y,zt,Bt],"scaleBlur"),ne=a(()=>["none",ur,zt,Bt],"scaleRotate"),se=a(()=>["none",ur,zt,Bt],"scaleScale"),Ye=a(()=>[ur,zt,Bt],"scaleSkew"),Te=a(()=>[iu,"full",...Y()],"scaleTranslate");return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bs],breakpoint:[bs],color:[JH],container:[bs],"drop-shadow":[bs],ease:["in","out","in-out"],font:[qH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bs],shadow:[bs],spacing:["px",ur],text:[bs],"text-shadow":[bs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",iu,Bt,zt,A]}],container:["container"],columns:[{columns:[ur,Bt,zt,l]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ae()}],"inset-x":[{"inset-x":ae()}],"inset-y":[{"inset-y":ae()}],start:[{start:ae()}],end:[{end:ae()}],top:[{top:ae()}],right:[{right:ae()}],bottom:[{bottom:ae()}],left:[{left:ae()}],visibility:["visible","invisible","collapse"],z:[{z:[lo,"auto",zt,Bt]}],basis:[{basis:[iu,"full","auto",l,...Y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ur,iu,"auto","initial","none",Bt]}],grow:[{grow:["",ur,zt,Bt]}],shrink:[{shrink:["",ur,zt,Bt]}],order:[{order:[lo,"first","last","none",zt,Bt]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":f()}],"col-end":[{"col-end":f()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":f()}],"row-end":[{"row-end":f()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":w()}],"auto-rows":[{"auto-rows":w()}],gap:[{gap:Y()}],"gap-x":[{"gap-x":Y()}],"gap-y":[{"gap-y":Y()}],"justify-content":[{justify:[...v(),"normal"]}],"justify-items":[{"justify-items":[..._(),"normal"]}],"justify-self":[{"justify-self":["auto",..._()]}],"align-content":[{content:["normal",...v()]}],"align-items":[{items:[..._(),{baseline:["","last"]}]}],"align-self":[{self:["auto",..._(),{baseline:["","last"]}]}],"place-content":[{"place-content":v()}],"place-items":[{"place-items":[..._(),"baseline"]}],"place-self":[{"place-self":["auto",..._()]}],p:[{p:Y()}],px:[{px:Y()}],py:[{py:Y()}],ps:[{ps:Y()}],pe:[{pe:Y()}],pt:[{pt:Y()}],pr:[{pr:Y()}],pb:[{pb:Y()}],pl:[{pl:Y()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":Y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Y()}],"space-y-reverse":["space-y-reverse"],size:[{size:T()}],w:[{w:[l,"screen",...T()]}],"min-w":[{"min-w":[l,"screen","none",...T()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...T()]}],h:[{h:["screen","lh",...T()]}],"min-h":[{"min-h":["screen","lh","none",...T()]}],"max-h":[{"max-h":["screen","lh",...T()]}],"font-size":[{text:["base",r,yc,Zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,zt,Ug]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fg,Bt]}],"font-family":[{font:[rG,Bt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,zt,Bt]}],"line-clamp":[{"line-clamp":[ur,"none",zt,Ug]}],leading:[{leading:[s,...Y()]}],"list-image":[{"list-image":["none",zt,Bt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",zt,Bt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[ur,"from-font","auto",zt,Zo]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[ur,"auto",zt,Bt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zt,Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zt,Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:k()}],"bg-repeat":[{bg:p()}],"bg-size":[{bg:E()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lo,zt,Bt],radial:["",zt,Bt],conic:[lo,zt,Bt]},iG,tG]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:O()}],"rounded-s":[{"rounded-s":O()}],"rounded-e":[{"rounded-e":O()}],"rounded-t":[{"rounded-t":O()}],"rounded-r":[{"rounded-r":O()}],"rounded-b":[{"rounded-b":O()}],"rounded-l":[{"rounded-l":O()}],"rounded-ss":[{"rounded-ss":O()}],"rounded-se":[{"rounded-se":O()}],"rounded-ee":[{"rounded-ee":O()}],"rounded-es":[{"rounded-es":O()}],"rounded-tl":[{"rounded-tl":O()}],"rounded-tr":[{"rounded-tr":O()}],"rounded-br":[{"rounded-br":O()}],"rounded-bl":[{"rounded-bl":O()}],"border-w":[{border:B()}],"border-w-x":[{"border-x":B()}],"border-w-y":[{"border-y":B()}],"border-w-s":[{"border-s":B()}],"border-w-e":[{"border-e":B()}],"border-w-t":[{"border-t":B()}],"border-w-r":[{"border-r":B()}],"border-w-b":[{"border-b":B()}],"border-w-l":[{"border-l":B()}],"divide-x":[{"divide-x":B()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":B()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ur,zt,Bt]}],"outline-w":[{outline:["",ur,yc,Zo]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",h,of,sf]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",d,of,sf]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[ur,Zo]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":B()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",g,of,sf]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[ur,zt,Bt]}],"mix-blend":[{"mix-blend":[...G(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":G()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ur]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[zt,Bt]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[ur]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:k()}],"mask-repeat":[{mask:p()}],"mask-size":[{mask:E()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",zt,Bt]}],filter:[{filter:["","none",zt,Bt]}],blur:[{blur:ce()}],brightness:[{brightness:[ur,zt,Bt]}],contrast:[{contrast:[ur,zt,Bt]}],"drop-shadow":[{"drop-shadow":["","none",m,of,sf]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",ur,zt,Bt]}],"hue-rotate":[{"hue-rotate":[ur,zt,Bt]}],invert:[{invert:["",ur,zt,Bt]}],saturate:[{saturate:[ur,zt,Bt]}],sepia:[{sepia:["",ur,zt,Bt]}],"backdrop-filter":[{"backdrop-filter":["","none",zt,Bt]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[ur,zt,Bt]}],"backdrop-contrast":[{"backdrop-contrast":[ur,zt,Bt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ur,zt,Bt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ur,zt,Bt]}],"backdrop-invert":[{"backdrop-invert":["",ur,zt,Bt]}],"backdrop-opacity":[{"backdrop-opacity":[ur,zt,Bt]}],"backdrop-saturate":[{"backdrop-saturate":[ur,zt,Bt]}],"backdrop-sepia":[{"backdrop-sepia":["",ur,zt,Bt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Y()}],"border-spacing-x":[{"border-spacing-x":Y()}],"border-spacing-y":[{"border-spacing-y":Y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",zt,Bt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ur,"initial",zt,Bt]}],ease:[{ease:["linear","initial",C,zt,Bt]}],delay:[{delay:[ur,zt,Bt]}],animate:[{animate:["none",M,zt,Bt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,zt,Bt]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:Ye()}],"skew-x":[{"skew-x":Ye()}],"skew-y":[{"skew-y":Ye()}],transform:[{transform:[zt,Bt,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zt,Bt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zt,Bt]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[ur,yc,Zo,Ug]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},"getDefaultConfig"),rT=UH(oG);function Ue(...e){return rT(am(e))}a(Ue,"cn$1");GA.extend(wH);const vl=GA,Tl=a(e=>e.substring(0,2),"formatAgentName");function Fs(){return URL.createObjectURL(new Blob).split("/").pop()}a(Fs,"randomUUID");function Nl(){const e="elizaos-client-user-id",t=localStorage.getItem(e);if(t)return t;const r=Fs();return localStorage.setItem(e,r),r}a(Nl,"getEntityId");const nT=a((e,t=Id,r=.8)=>new Promise((n,i)=>{const s=new FileReader;s.onload=o=>{if(o.target?.result){const l=new Image;l.src=o.target.result,l.onload=()=>{const u=document.createElement("canvas");let c=l.width,h=l.height;c>h?c>t&&(h*=t/c,c=t):h>t&&(c*=t/h,h=t),u.width=c,u.height=h,u.getContext("2d")?.drawImage(l,0,0,c,h);const g=u.toDataURL("image/jpeg",r);n(g)},l.onerror=i}},s.onerror=i,s.readAsDataURL(e)}),"compressImage"),M_=["/images/agents/agent1.png","/images/agents/agent2.png","/images/agents/agent3.png","/images/agents/agent4.png","/images/agents/agent5.png"],Md=a(e=>{if(e?.settings?.avatar)return e.settings.avatar;if(e?.id){let t=0;for(let n=0;n<e.id.length;n++){const i=e.id.charCodeAt(n);t=(t<<5)-t+i,t|=0}const r=Math.abs(t)%M_.length;return M_[r]}return"/elizaos-icon.png"},"getAgentAvatar"),Q2=a((e,t,r)=>{if(e?.name&&e.name.trim()!=="")return e.name;if(t&&t.length>0){const n=t.filter(i=>i.id!==r&&i.name);if(n.length===0&&t.some(i=>i.id===r&&i.name)){const i=t.find(s=>s.id===r);return i&&i.name||"Unnamed Group"}if(n.length>0)return n.map(i=>i.name).slice(0,3).join(", ")+(n.length>3?"...":"")}return"Unnamed Group"},"generateGroupName"),q2=ro("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-red-800 text-white shadow-xs hover:bg-red-600 focus-visible:ring-red-400/20 dark:focus-visible:ring-red-500",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-auto w-auto"}},defaultVariants:{variant:"default",size:"default"}});function dt({className:e,variant:t,size:r,asChild:n=!1,...i}){const s=n?Ku:"button";return b.jsx(s,{"data-slot":"button",className:Ue(q2({variant:t,size:r,className:e})),...i})}a(dt,"Button$1");const pn=U.forwardRef(({className:e,type:t,...r},n)=>b.jsx("input",{type:t,className:Ue("flex h-12 w-full rounded border border-input bg-card px-4 py-3 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,"data-testid":r["data-testid"]||"input",...r}));pn.displayName="Input";const Bi=U.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>b.jsx(Fk,{ref:i,decorative:r,orientation:t,className:Ue("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),"data-testid":n["data-testid"]||"separator",...n}));Bi.displayName=Fk.displayName;const iT=Uk,lG=Hk,uG=Gk,aT=U.forwardRef(({className:e,...t},r)=>b.jsx(Kp,{className:Ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));aT.displayName=Kp.displayName;const cG=ro("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),e4=U.forwardRef(({side:e="right",className:t,children:r,...n},i)=>b.jsxs(uG,{children:[b.jsx(aT,{}),b.jsxs(Jp,{ref:i,className:Ue(cG({side:e}),t),...n,children:[b.jsxs(Vk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[b.jsx(yi,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));e4.displayName=Jp.displayName;const dG=U.forwardRef(({className:e,...t},r)=>b.jsx(Wp,{ref:r,className:Ue("text-lg font-semibold text-foreground",e),...t}));dG.displayName=Wp.displayName;const hG=U.forwardRef(({className:e,...t},r)=>b.jsx(Qp,{ref:r,className:Ue("text-sm text-muted-foreground",e),...t}));hG.displayName=Qp.displayName;function Od({className:e,...t}){return b.jsx("div",{className:Ue("animate-pulse rounded-md bg-primary/10",e),"data-testid":t["data-testid"]||"skeleton",...t})}a(Od,"Skeleton");const Au=BF,dn=zF,hn=FF,nn=U.forwardRef(({className:e,sideOffset:t=4,...r},n)=>b.jsx(UF,{children:b.jsx(Yk,{ref:n,sideOffset:t,className:Ue("z-50 overflow-hidden select-none rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));nn.displayName=Yk.displayName;const Hg=768;function fG(){const[e,t]=U.useState(void 0);return U.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Hg-1}px)`),n=a(()=>{t(window.innerWidth<Hg)},"onChange");return r.addEventListener("change",n),t(window.innerWidth<Hg),()=>r.removeEventListener("change",n)},[]),!!e}a(fG,"useIsMobile");const pG="sidebar:state",mG=3600*24*7,gG="16rem",vG="18rem",bG="3rem",yG="b",sT=U.createContext(null);function sm(){const e=U.useContext(sT);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}a(sm,"useSidebar");const oT=U.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:i,children:s,...o},l)=>{const u=fG(),[c,h]=U.useState(!1),[d,g]=U.useState(e),m=t??d,y=U.useCallback(M=>{const R=typeof M=="function"?M(m):M;r?r(R):g(R),document.cookie=`${pG}=${R}; path=/; max-age=${mG}`},[r,m]),x=U.useCallback(()=>u?h(M=>!M):y(M=>!M),[u,y,h]);U.useEffect(()=>{const M=a(R=>{R.key===yG&&(R.metaKey||R.ctrlKey)&&(R.preventDefault(),x())},"handleKeyDown");return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[x]);const A=m?"expanded":"collapsed",C=U.useMemo(()=>({state:A,open:m,setOpen:y,isMobile:u,openMobile:c,setOpenMobile:h,toggleSidebar:x}),[A,m,y,u,c,h,x]);return b.jsx(sT.Provider,{value:C,children:b.jsx(Au,{delayDuration:0,children:b.jsx("div",{style:{"--sidebar-width":gG,"--sidebar-width-icon":bG,...i},className:Ue("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-card",n),ref:l,...o,children:s})})})});oT.displayName="SidebarProvider";const lT=U.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:i,...s},o)=>{const{isMobile:l,state:u,openMobile:c,setOpenMobile:h}=sm();return r==="none"?b.jsx("div",{className:Ue("flex h-full w-[--sidebar-width] flex-col bg-card text-sidebar-foreground",n),ref:o,...s,children:i}):l?b.jsx(iT,{open:c,onOpenChange:h,...s,children:b.jsx(e4,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-card p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":vG},side:e,children:b.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):b.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":u,"data-collapsible":u==="collapsed"?r:"","data-variant":t,"data-side":e,children:[b.jsx("div",{className:Ue("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),b.jsx("div",{className:Ue("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:b.jsx("div",{"data-sidebar":"sidebar",className:"flex m-4 rounded-md w-full flex-col group-data-[variant=floating]:rounded-md group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});lT.displayName="Sidebar";const wG=U.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:i}=sm();return b.jsxs(dt,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ue("h-7 w-7",e),onClick:a(s=>{t?.(s),i()},"onClick"),"data-testid":"sidebar-toggle",...r,children:[b.jsx(HF,{}),b.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});wG.displayName="SidebarTrigger";const _G=U.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=sm();return b.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Ue("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-card-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-card","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});_G.displayName="SidebarRail";const uT=U.forwardRef(({className:e,...t},r)=>b.jsx("main",{ref:r,className:Ue("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));uT.displayName="SidebarInset";const xG=U.forwardRef(({className:e,...t},r)=>b.jsx(pn,{ref:r,"data-sidebar":"input",className:Ue("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));xG.displayName="SidebarInput";const cT=U.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"header",className:Ue("flex flex-col gap-2 p-2",e),...t}));cT.displayName="SidebarHeader";const dT=U.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"footer",className:Ue("flex flex-col gap-2 p-2",e),...t}));dT.displayName="SidebarFooter";const EG=U.forwardRef(({className:e,...t},r)=>b.jsx(Bi,{ref:r,"data-sidebar":"separator",className:Ue("mx-2 w-auto bg-card-border",e),...t}));EG.displayName="SidebarSeparator";const hT=U.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"content",className:Ue("flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto overflow-x-hidden group-data-[collapsible=icon]:overflow-hidden",e),...t}));hT.displayName="SidebarContent";const om=U.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"group",className:Ue("relative flex w-full min-w-0 flex-col p-0.5",e),...t}));om.displayName="SidebarGroup";const SG=U.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?Ku:"div";return b.jsx(i,{ref:n,"data-sidebar":"group-label",className:Ue("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});SG.displayName="SidebarGroupLabel";const kG=U.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?Ku:"button";return b.jsx(i,{ref:n,"data-sidebar":"group-action",className:Ue("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});kG.displayName="SidebarGroupAction";const lm=U.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"group-content",className:Ue("w-full text-sm p-0 m-0",e),...t}));lm.displayName="SidebarGroupContent";const bl=U.forwardRef(({className:e,...t},r)=>b.jsx("ul",{ref:r,"data-sidebar":"menu",className:Ue("flex w-full min-w-0 flex-col gap-0.5",e),...t}));bl.displayName="SidebarMenu";const Ta=U.forwardRef(({className:e,...t},r)=>b.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Ue("group/menu-item relative",e),...t}));Ta.displayName="SidebarMenuItem";const AG=ro("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Cl=U.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:i,className:s,...o},l)=>{const u=e?Ku:"button",{isMobile:c,state:h}=sm(),d=b.jsx(u,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:Ue(AG({variant:r,size:n}),s),...o});return i?(typeof i=="string"&&(i={children:i}),b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:d}),b.jsx(nn,{side:"right",align:"center",hidden:h!=="collapsed"||c,...i})]})):d});Cl.displayName="SidebarMenuButton";const TG=U.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},i)=>{const s=t?Ku:"button";return b.jsx(s,{ref:i,"data-sidebar":"menu-action",className:Ue("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});TG.displayName="SidebarMenuAction";const NG=U.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Ue("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));NG.displayName="SidebarMenuBadge";const um=U.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const i=U.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return b.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Ue("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&b.jsx(Od,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),b.jsx(Od,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});um.displayName="SidebarMenuSkeleton";const CG=U.forwardRef(({className:e,...t},r)=>b.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Ue("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));CG.displayName="SidebarMenuSub";const IG=U.forwardRef(({...e},t)=>b.jsx("li",{ref:t,...e}));IG.displayName="SidebarMenuSubItem";const MG=U.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...i},s)=>{const o=e?Ku:"a";return b.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:Ue("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-card-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-card-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});MG.displayName="SidebarMenuSubButton";const OG=ro("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ya({className:e,variant:t,...r}){return b.jsx("div",{className:Ue(OG({variant:t}),e),"data-testid":r["data-testid"]||"badge",...r})}a(ya,"Badge$1");const RG=ro("text-sm font-normal text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Tu=U.forwardRef(({className:e,...t},r)=>b.jsx(Zk,{ref:r,className:Ue(RG(),e),...t}));Tu.displayName=Zk.displayName;const PG=a(({tag:e,onRemove:t})=>b.jsxs(ya,{variant:"outline",className:"flex items-center gap-1.5 pr-1.5 text-sm py-1 px-2 transition-colors hover:bg-accent hover:text-accent-foreground",children:[e,b.jsxs(dt,{type:"button",variant:"ghost",size:"icon",onClick:a(()=>t(e),"onClick"),className:"hover:bg-accent/20 rounded-full p-0.5 transition-colors h-auto w-auto min-w-0 min-h-0",children:[b.jsx(yi,{className:"h-3 w-3"}),b.jsxs("span",{className:"sr-only",children:["Remove ",e]})]})]}),"Tag"),LG=a(({tags:e,onRemove:t})=>b.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.map(r=>b.jsx(PG,{tag:r,onRemove:t},r))}),"TagList"),DG=a(({value:e,onChange:t,onKeyDown:r,onAdd:n})=>b.jsxs("div",{className:"relative",children:[b.jsx(pn,{value:e,onChange:t,onKeyDown:r,placeholder:"Type and press Enter or click Add...",className:Ue("bg-background pr-16",!e&&"text-muted-foreground")}),e.trim()&&b.jsx(dt,{size:"sm",onClick:n,className:"absolute top-1/2 -translate-y-1/2 right-2 h-7 px-3",children:"Add"})]}),"TagInput");function jG({title:e,data:t,onChange:r}){const[n,i]=U.useState(""),s=a(()=>{const u=n.trim();u&&!t.includes(u)&&(r([...t,u]),i(""))},"addTag"),o=a(u=>{u.key==="Enter"&&(u.preventDefault(),s())},"handleKeyDown"),l=a(u=>{r(t.filter(c=>c!==u))},"removeTag");return b.jsxs("div",{className:"space-y-2",children:[b.jsx(Tu,{children:e}),b.jsxs("div",{className:"p-2 bg-card rounded border border-input",children:[b.jsx(LG,{tags:t,onRemove:l}),b.jsx(DG,{value:n,onChange:a(u=>i(u.target.value),"onChange"),onKeyDown:o,onAdd:s})]})]})}a(jG,"ArrayInput");const t4=$k,cm=U.forwardRef(({className:e,...t},r)=>b.jsx(P2,{ref:r,className:Ue("inline-flex items-center bg-transparent border-b border-sidebar-border w-full",e),...t}));cm.displayName=P2.displayName;const Rd=U.forwardRef(({className:e,...t},r)=>b.jsx(L2,{ref:r,className:Ue("inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-muted-foreground bg-transparent transition-all hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground data-[state=active]:border-b-2 data-[state=active]:border-b-primary relative",e),...t}));Rd.displayName=L2.displayName;const va=U.forwardRef(({className:e,...t},r)=>b.jsx(Xk,{ref:r,className:Ue("text-foreground ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));va.displayName=Xk.displayName;const Ah=U.forwardRef(({className:e,...t},r)=>b.jsx("textarea",{className:Ue("flex min-h-[120px] w-full rounded border border-input bg-card px-4 py-3 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,"data-testid":t["data-testid"]||"textarea",...t}));Ah.displayName="Textarea";const BG=1,zG=3e3;let Gg=0;function FG(){return Gg=(Gg+1)%Number.MAX_SAFE_INTEGER,Gg.toString()}a(FG,"genId");const Vg=new Map,O_=a(e=>{if(Vg.has(e))return;const t=setTimeout(()=>{Vg.delete(e),hd({type:"REMOVE_TOAST",toastId:e})},zG);Vg.set(e,t)},"addToRemoveQueue"),UG=a((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,BG)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;if(r)O_(r);else for(const n of e.toasts)O_(n.id);return{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},"reducer"),d0=[];let h0={toasts:[]};function hd(e){h0=UG(h0,e);for(const t of d0)t(h0)}a(hd,"dispatch");function HG({...e}){const t=FG(),r=a(i=>hd({type:"UPDATE_TOAST",toast:{...i,id:t}}),"update"),n=a(()=>hd({type:"DISMISS_TOAST",toastId:t}),"dismiss");return hd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a(i=>{i||n()},"onOpenChange")}}),{id:t,dismiss:n,update:r}}a(HG,"toast");function Br(){const[e,t]=U.useState(h0);return U.useEffect(()=>(d0.push(t),()=>{const r=d0.indexOf(t);r>-1&&d0.splice(r,1)}),[]),{...e,toast:HG,dismiss:a(r=>hd({type:"DISMISS_TOAST",toastId:r}),"dismiss")}}a(Br,"useToast");function GG(e){return e.replace(/[^a-zA-Z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").toLowerCase()}a(GG,"sanitizeFilename");function VG(e){const t={id:e.id,name:e.name,username:e.username,system:e.system,templates:e.templates,bio:e.bio,messageExamples:e.messageExamples,postExamples:e.postExamples,topics:e.topics,adjectives:e.adjectives,knowledge:e.knowledge,plugins:e.plugins,settings:e.settings?{...e.settings}:void 0,style:e.style};if(t.settings&&"secrets"in t.settings){const{secrets:r,...n}=t.settings;t.settings=n}return Object.fromEntries(Object.entries(t).filter(([r,n])=>n!=null))}a(VG,"agentToCharacterData");function YG(e){const t=new Date().toISOString().split("T")[0];return`${GG(e||"agent")}-${t}.json`}a(YG,"generateExportFilename");function ZG(e,t){const r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}a(ZG,"downloadJsonFile");function r4(e,t){try{const r=VG(e),n=YG(e.name);return ZG(r,n),t&&t({title:"Character Exported",description:`${e.name}'s character data has been downloaded as ${n}`}),{success:!0,filename:n}}catch(r){return console.error("Failed to export character:",r),t&&t({title:"Export Failed",description:"Failed to export character data. Please try again.",variant:"destructive"}),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}a(r4,"exportCharacterAsJson");const Ys=GF,Yg=YF,Zs=VF,es=U.forwardRef(({className:e,children:t,...r},n)=>b.jsxs(Jk,{ref:n,className:Ue("flex h-12 w-full items-center justify-between whitespace-nowrap rounded border border-input bg-card px-4 py-3 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,b.jsx(ZF,{asChild:!0,children:b.jsx(as,{className:"h-4 w-4 opacity-50"})})]}));es.displayName=Jk.displayName;const fT=U.forwardRef(({className:e,...t},r)=>b.jsx(eA,{ref:r,className:Ue("flex cursor-default items-center justify-center py-1",e),...t,children:b.jsx(tA,{className:"h-4 w-4"})}));fT.displayName=eA.displayName;const pT=U.forwardRef(({className:e,...t},r)=>b.jsx(rA,{ref:r,className:Ue("flex cursor-default items-center justify-center py-1",e),...t,children:b.jsx(as,{className:"h-4 w-4"})}));pT.displayName=rA.displayName;const ts=U.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>b.jsx($F,{children:b.jsxs(Kk,{ref:i,className:Ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-xl border border-input bg-card text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[b.jsx(fT,{}),b.jsx(XF,{className:Ue("p-2",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),b.jsx(pT,{})]})}));ts.displayName=Kk.displayName;const Uy=U.forwardRef(({className:e,...t},r)=>b.jsx(qk,{ref:r,className:Ue("px-4 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider",e),...t}));Uy.displayName=qk.displayName;const Ar=U.forwardRef(({className:e,children:t,...r},n)=>b.jsxs(Wk,{ref:n,className:Ue("relative flex w-full cursor-default select-none items-center rounded py-3 pl-4 pr-8 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[b.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(JF,{children:b.jsx(Ks,{className:"h-4 w-4"})})}),b.jsx(KF,{children:t})]}));Ar.displayName=Wk.displayName;const Hy=U.forwardRef(({className:e,...t},r)=>b.jsx(Qk,{ref:r,className:Ue("-mx-1 my-1 h-px bg-muted",e),...t}));Hy.displayName=Qk.displayName;const mT={elevenlabs:"@elizaos/plugin-elevenlabs",openai:"@elizaos/plugin-openai",none:""},$G=[{value:"none",label:"No Voice",provider:"none"}],XG=[],n4=[{value:"EXAVITQu4vr4xnSDxMaL",label:"ElevenLabs - Rachel (Default)",provider:"elevenlabs",gender:"female",language:"en",features:["natural","professional"]},{value:"21m00Tcm4TlvDq8ikWAM",label:"ElevenLabs - Adam",provider:"elevenlabs",gender:"male",language:"en",features:["natural","professional"]},{value:"AZnzlk1XvdvUeBnXmlld",label:"ElevenLabs - Domi",provider:"elevenlabs",gender:"female",language:"en",features:["natural","friendly"]},{value:"MF3mGyEYCl7XYWbV9V6O",label:"ElevenLabs - Elli",provider:"elevenlabs",gender:"female",language:"en",features:["natural","friendly"]},{value:"TxGEqnHWrfWFTfGW9XjX",label:"ElevenLabs - Josh",provider:"elevenlabs",gender:"male",language:"en",features:["natural","professional"]}],gT=[{value:"alloy",label:"OpenAI - Alloy",provider:"openai",gender:"female",language:"en",features:["natural","versatile"]},{value:"echo",label:"OpenAI - Echo",provider:"openai",gender:"male",language:"en",features:["natural","professional"]},{value:"fable",label:"OpenAI - Fable",provider:"openai",gender:"male",language:"en",features:["natural","narrative"]},{value:"onyx",label:"OpenAI - Onyx",provider:"openai",gender:"male",language:"en",features:["natural","deep"]},{value:"nova",label:"OpenAI - Nova",provider:"openai",gender:"female",language:"en",features:["natural","friendly"]},{value:"shimmer",label:"OpenAI - Shimmer",provider:"openai",gender:"female",language:"en",features:["natural","bright"]},{value:"ash",label:"OpenAI - Ash",provider:"openai",gender:"male",language:"en",features:["natural","calm"]},{value:"coral",label:"OpenAI - Coral",provider:"openai",gender:"female",language:"en",features:["natural","warm"]},{value:"sage",label:"OpenAI - Sage",provider:"openai",gender:"female",language:"en",features:["natural","wise"]},{value:"ballad",label:"OpenAI - Ballad",provider:"openai",gender:"male",language:"en",features:["natural","melodic"]}],vT=a(()=>[...$G,...XG,...n4,...gT],"getAllVoiceModels"),Gy=a(e=>vT().find(t=>t.value===e),"getVoiceModelByValue");function JG(){const[e,t]=U.useState(null);return U.useEffect(()=>{const r=localStorage.getItem("ELEVENLABS_API_KEY");t(r)},[]),Un({queryKey:["elevenlabs-voices",e],queryFn:a(async()=>{if(!e)return[];try{const r=await fetch("https://api.elevenlabs.io/v2/voices",{method:"GET",headers:{"xi-api-key":e}});if(!r.ok)return console.error("Failed to fetch ElevenLabs voices:",r.statusText),[];const n=await r.json(),i=n4.map(l=>l.value);return n.voices.filter(l=>!i.includes(l.voice_id)).map(l=>({value:l.voice_id,label:`ElevenLabs - ${l.name} (Custom)`,provider:"elevenlabs",gender:l.labels?.gender==="female"?"female":"male",language:"en",features:[l.category||"professional",l.labels?.description||"natural"]}))}catch(r){return console.error("Error fetching ElevenLabs voices:",r),[]}},"queryFn"),staleTime:3600*1e3,refetchOnWindowFocus:!1})}a(JG,"useElevenLabsVoices");function Pd({...e}){return b.jsx(WF,{"data-slot":"dropdown-menu",...e})}a(Pd,"DropdownMenu");function Ld({...e}){return b.jsx(QF,{"data-slot":"dropdown-menu-trigger",...e})}a(Ld,"DropdownMenuTrigger");function Dd({className:e,sideOffset:t=4,onPointerDown:r,onPointerDownOutside:n,onCloseAutoFocus:i,...s}){const o=U.useRef(!1),l=U.useCallback(h=>{o.current=!0,r?.(h)},[r]),u=U.useCallback(h=>{o.current=!0,n?.(h)},[n]),c=U.useCallback(h=>{if(i)return i(h);o.current&&(h.preventDefault(),o.current=!1)},[i]);return b.jsx(qF,{children:b.jsx(eU,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ue("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden rounded-md border p-1 shadow-lg",e),onPointerDown:l,onPointerDownOutside:u,onCloseAutoFocus:c,...s})})}a(Dd,"DropdownMenuContent");function Ja({className:e,inset:t,variant:r="default",...n}){return b.jsx(tU,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Ue("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground data-[variant=destructive]:font-normal relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm font-medium outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...n})}a(Ja,"DropdownMenuItem");function KG({className:e,inset:t,...r}){return b.jsx(nU,{"data-slot":"dropdown-menu-label","data-inset":t,className:Ue("text-muted-foreground px-2 py-1.5 text-xs font-medium data-[inset]:pl-8",e),...r})}a(KG,"DropdownMenuLabel");function j0({className:e,...t}){return b.jsx(rU,{"data-slot":"dropdown-menu-separator",className:Ue("bg-border -mx-1 my-1 h-px",e),...t})}a(j0,"DropdownMenuSeparator");const bT=[{id:"none",label:"None (Start Blank)",description:"Start with an empty configuration",template:{name:"",username:"",system:"",bio:[],topics:[],adjectives:[],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap"],settings:{secrets:{}}}},{id:"discord-bot",label:"Discord Bot",description:"Interactive Discord bot that handles server interactions",template:{name:"Discord Assistant",username:"discordbot",system:"You are a Discord bot designed to assist users in a Discord server. You respond to messages, handle commands, and provide helpful information to community members. You should be friendly, helpful, and maintain a consistent personality. Focus on providing value to the community through clear, concise responses.",bio:["Helpful Discord community assistant","Responds to commands and natural language queries","Assists with server-specific information and resources","Maintains a friendly and helpful tone"],topics:["Discord server","Community assistance","Command handling","Server information"],adjectives:["Helpful","Responsive","Friendly","Informative","Reliable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-discord"],style:{all:["Be friendly and helpful","Use clear, concise language","Follow Discord conventions"],chat:["Respond promptly to queries","Use appropriate formatting for clarity","Reference relevant commands when helpful"],post:["Structure longer responses with clear sections","Use embeds for rich content when appropriate"]},settings:{secrets:{}}}},{id:"telegram-bot",label:"Telegram Bot",description:"Interactive bot for Telegram channels and groups",template:{name:"Telegram Assistant",username:"telegrambot",system:"You are a helpful Telegram bot designed to assist users in channels and groups. You respond to commands and natural language queries, providing information, assistance, and engaging with users in a friendly manner. You can handle both one-on-one conversations and group interactions, adapting your tone and content accordingly while respecting privacy and community guidelines.",bio:["Interactive Telegram bot","Assists users in channels and groups","Responds to commands and natural language"],topics:["Channel information","User assistance","Content sharing","Group moderation","FAQ responses"],adjectives:["Helpful","Responsive","Friendly","Informative","Reliable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-telegram"],style:{all:["Be concise and clear","Use Telegram-friendly formatting","Respond promptly to user queries"],chat:["Handle commands efficiently","Include relevant emoji when appropriate","Maintain conversation context"],post:["Structure longer messages clearly","Use formatting for better readability","Include relevant links when helpful"]},settings:{clients:["telegram"],allowDirectMessages:!0,shouldOnlyJoinInAllowedGroups:!1,messageTrackingLimit:100,secrets:{}}}},{id:"slack-bot",label:"Slack Bot",description:"Interactive bot for Slack workspaces",template:{name:"Slack Assistant",username:"slackbot",system:"You are a specialized assistant for Slack workspaces. You help teams by answering questions, providing information, and facilitating collaboration. You can respond to direct messages and channel mentions, maintaining a helpful and professional tone that aligns with the organization's culture. Keep responses concise and relevant to the conversation context.",bio:["Specialized Slack workspace assistant","Facilitates team collaboration","Provides timely responses to queries"],topics:["Workspace information","Team collaboration","Company policies","Resource access","Task management"],adjectives:["Responsive","Helpful","Organized","Team-oriented","Professional"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-slack"],style:{all:["Be concise and clear","Match the tone of the workspace","Use Slack-appropriate formatting"],chat:["Reference relevant messages when appropriate","Use thread replies for detailed responses","Include emojis when fitting the workspace culture"],post:["Structure information with clear sections","Use bullet points for lists","Include relevant links when helpful"]},settings:{secrets:{}}}},{id:"twitter-agent",label:"Twitter/X Agent",description:"Manages Twitter presence and engagement",template:{name:"Twitter Agent",username:"twitteragent",system:"You are a Twitter engagement specialist designed to help create and manage effective Twitter content. You assist with drafting tweets, responding to mentions, analyzing engagement metrics, and suggesting content strategies. Your tone should match the brand voice while maintaining authenticity and encouraging audience interaction. Keep tweets concise and impactful within character limits.",bio:["Twitter engagement specialist","Creates compelling social content","Manages audience interactions"],topics:["Tweet creation","Audience engagement","Content strategy","Trend analysis","Brand voice"],adjectives:["Engaging","Concise","Strategic","Conversational","Creative"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-twitter"],style:{all:["Be concise and impactful","Stay within character limits","Use platform-appropriate formatting"],chat:["Match brand voice in replies","Be conversational and authentic","Use hashtags strategically"],post:["Draft varied content types","Suggest engaging visuals or polls","Include call-to-actions when appropriate"]},settings:{TWITTER_DRY_RUN:!1,MAX_TWEET_LENGTH:280,TWITTER_ENABLE_POST_GENERATION:!0,TWITTER_POST_INTERVAL_MIN:90,TWITTER_POST_INTERVAL_MAX:180,secrets:{}}}},{id:"github-bot",label:"GitHub Repository Assistant",description:"Helps manage GitHub repositories and development workflows",template:{name:"GitHub Assistant",username:"githubasst",system:"You are a GitHub repository assistant designed to help development teams manage their workflow and codebase. You can assist with pull request reviews, issue triage, documentation updates, and providing information about repository structure and conventions. Maintain a technical but approachable tone, and prioritize accuracy in all technical information.",bio:["GitHub repository management specialist","Assists with development workflows","Provides code and documentation support"],topics:["Pull requests","Issue tracking","Repository structure","Code reviews","Development workflows"],adjectives:["Technical","Precise","Helpful","Organized","Knowledgeable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-github"],style:{all:["Use technically precise language","Reference GitHub concepts appropriately","Link to relevant documentation when helpful"],chat:["Be concise in comments","Format code snippets properly","Summarize technical points clearly"],post:["Structure longer responses with clear headings","Use code blocks with syntax highlighting","Link to specific lines of code when relevant"]},settings:{secrets:{}}}},{id:"instagram-agent",label:"Instagram Content Manager",description:"Creates and manages content for Instagram",template:{name:"Instagram Manager",username:"instagrammgr",system:"You are an Instagram content specialist designed to help create and manage engaging Instagram presence. You assist with content creation, caption writing, hashtag strategy, engagement tactics, and understanding analytics. Your approach emphasizes visual storytelling, authenticity, and building connections with followers. Maintain a voice that matches the brand identity while adapting to Instagram's evolving features and trends.",bio:["Instagram content creation specialist","Develops engaging visual storytelling","Optimizes profile engagement"],topics:["Content creation","Caption writing","Hashtag strategy","Engagement tactics","Visual aesthetics"],adjectives:["Creative","Visual","Engaging","Trend-aware","Authentic"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-instagram"],style:{all:["Balance visual description with compelling text","Maintain brand voice consistency","Consider current platform trends"],chat:["Provide actionable content suggestions","Reference visual elements clearly","Include relevant hashtag recommendations"],post:["Craft captions that enhance visual content","Suggest content series and themes","Balance promotional with authentic content"]},settings:{POST_INTERVAL_MIN:90,POST_INTERVAL_MAX:180,ENABLE_ACTION_PROCESSING:!0,ACTION_INTERVAL:5,MAX_ACTIONS_PROCESSING:1,secrets:{}}}}];function yT(e){return bT.find(t=>t.id===e)}a(yT,"getTemplateById");const i4=iU,WG=aU,wT=U.forwardRef(({className:e,...t},r)=>b.jsx(lA,{className:Ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));wT.displayName=lA.displayName;const dm=U.forwardRef(({className:e,...t},r)=>b.jsxs(WG,{children:[b.jsx(wT,{}),b.jsx(nA,{ref:r,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));dm.displayName=nA.displayName;const hm=a(({className:e,...t})=>b.jsx("div",{className:Ue("flex flex-col space-y-2 text-center sm:text-left",e),...t}),"AlertDialogHeader");hm.displayName="AlertDialogHeader";const fm=a(({className:e,...t})=>b.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t}),"AlertDialogFooter");fm.displayName="AlertDialogFooter";const pm=U.forwardRef(({className:e,...t},r)=>b.jsx(iA,{ref:r,className:Ue("text-lg font-semibold",e),...t}));pm.displayName=iA.displayName;const mm=U.forwardRef(({className:e,...t},r)=>b.jsx(aA,{ref:r,className:Ue("text-sm text-muted-foreground",e),...t}));mm.displayName=aA.displayName;const gm=U.forwardRef(({className:e,...t},r)=>b.jsx(oA,{ref:r,className:Ue(q2(),e),...t}));gm.displayName=oA.displayName;const vm=U.forwardRef(({className:e,...t},r)=>b.jsx(sA,{ref:r,className:Ue(q2({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));vm.displayName=sA.displayName;function QG({open:e,onOpenChange:t,missingSecrets:r,onConfirm:n,onCancel:i}){return b.jsx(i4,{open:e,onOpenChange:t,children:b.jsxs(dm,{children:[b.jsxs(hm,{children:[b.jsxs(pm,{className:"flex items-center gap-2",children:[b.jsx(ea,{className:"h-5 w-5 text-yellow-500"}),"Missing Required Configuration"]}),b.jsxs(mm,{className:"space-y-3",children:[b.jsx("p",{children:"The following required secrets are missing or empty. Your agent may not function properly without these values."}),b.jsx("div",{className:"bg-muted rounded-md p-3 space-y-2",children:r.map(s=>b.jsxs("div",{className:"text-sm",children:[b.jsx("code",{className:"font-mono font-semibold",children:s.name}),s.plugin&&b.jsxs("span",{className:"text-muted-foreground ml-2",children:["(required by ",s.plugin,")"]}),s.description&&b.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.description})]},s.name))}),b.jsx("p",{className:"text-sm",children:"Do you want to save anyway?"})]})]}),b.jsxs(fm,{children:[b.jsx(vm,{onClick:i,children:"Go Back"}),b.jsx(gm,{onClick:n,className:"bg-yellow-600 hover:bg-yellow-700",children:"Save Anyway"})]})]})})}a(QG,"MissingSecretsDialog");var Mi={},qG=Object.create,{getPrototypeOf:eV,defineProperty:jd,getOwnPropertyNames:_T,getOwnPropertyDescriptor:tV}=Object,xT=Object.prototype.hasOwnProperty,Fi=a((e,t,r)=>{r=e!=null?qG(eV(e)):{};let n=t||!e||!e.__esModule?jd(r,"default",{value:e,enumerable:!0}):r;for(let i of _T(e))xT.call(n,i)||jd(n,i,{get:a(()=>e[i],"get"),enumerable:!0});return n},"K8"),R_=new WeakMap,hr=a(e=>{var t=R_.get(e),r;return t||(t=jd({},"__esModule",{value:!0}),(e&&typeof e=="object"||typeof e=="function")&&_T(e).map(n=>!xT.call(t,n)&&jd(t,n,{get:a(()=>e[n],"get"),enumerable:!(r=tV(e,n))||r.enumerable})),R_.set(e,t),t)},"J6"),ht=a((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"x$"),_i=a((e,t)=>{for(var r in t)jd(e,r,{get:t[r],enumerable:!0,configurable:!0,set:a(n=>t[r]=()=>n,"set")})},"rq"),Th=a((e,t)=>()=>(e&&(t=e(e=0)),t),"m_"),f0=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:a((t,r)=>(typeof require<"u"?require:t)[r],"get")}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),rV=ht((e,t)=>{t.exports=function(r,n){if(typeof r!="string")throw TypeError("Expected a string");return n=typeof n>"u"?"_":n,r.replace(/([a-z\d])([A-Z])/g,"$1"+n+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+n+"$2").toLowerCase()}}),nV=ht((e,t)=>{var r=/[\p{Lu}]/u,n=/[\p{Ll}]/u,i=/^[\p{Lu}](?![\p{Lu}])/gu,s=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,l=new RegExp("^"+o.source),u=new RegExp(o.source+s.source,"gu"),c=new RegExp("\\d+"+s.source,"gu"),h=a((y,x,A)=>{let C=!1,M=!1,R=!1;for(let P=0;P<y.length;P++){let L=y[P];C&&r.test(L)?(y=y.slice(0,P)+"-"+y.slice(P),C=!1,R=M,M=!0,P++):M&&R&&n.test(L)?(y=y.slice(0,P-1)+"-"+y.slice(P-1),R=M,M=!1,C=!0):(C=x(L)===L&&A(L)!==L,R=M,M=A(L)===L&&x(L)!==L)}return y},"KN"),d=a((y,x)=>(i.lastIndex=0,y.replace(i,A=>x(A))),"_N"),g=a((y,x)=>(u.lastIndex=0,c.lastIndex=0,y.replace(u,(A,C)=>x(C)).replace(c,A=>x(A))),"PN"),m=a((y,x)=>{if(!(typeof y=="string"||Array.isArray(y)))throw TypeError("Expected the input to be `string | string[]`");if(x={pascalCase:!1,preserveConsecutiveUppercase:!1,...x},Array.isArray(y)?y=y.map(M=>M.trim()).filter(M=>M.length).join("-"):y=y.trim(),y.length===0)return"";let A=x.locale===!1?M=>M.toLowerCase():M=>M.toLocaleLowerCase(x.locale),C=x.locale===!1?M=>M.toUpperCase():M=>M.toLocaleUpperCase(x.locale);return y.length===1?x.pascalCase?C(y):A(y):(y!==A(y)&&(y=h(y,A,C)),y=y.replace(l,""),x.preserveConsecutiveUppercase?y=d(y,A):y=A(y),x.pascalCase&&(y=C(y.charAt(0))+y.slice(1)),g(y,C))},"FJ");t.exports=m,t.exports.default=m}),iV=ht((e,t)=>{function r(n,i){typeof i=="boolean"&&(i={forever:i}),this._originalTimeouts=JSON.parse(JSON.stringify(n)),this._timeouts=n,this._options=i||{},this._maxRetryTime=i&&i.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}a(r,"H8"),t.exports=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(n){if(this._timeout&&clearTimeout(this._timeout),!n)return!1;var i=new Date().getTime();if(n&&i-this._operationStart>=this._maxRetryTime)return this._errors.push(n),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(n);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var o=this;return this._timer=setTimeout(function(){o._attempts++,o._operationTimeoutCb&&(o._timeout=setTimeout(function(){o._operationTimeoutCb(o._attempts)},o._operationTimeout),o._options.unref&&o._timeout.unref()),o._fn(o._attempts)},s),this._options.unref&&this._timer.unref(),!0},r.prototype.attempt=function(n,i){this._fn=n,i&&(i.timeout&&(this._operationTimeout=i.timeout),i.cb&&(this._operationTimeoutCb=i.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},r.prototype.try=function(n){console.log("Using RetryOperation.try() is deprecated"),this.attempt(n)},r.prototype.start=function(n){console.log("Using RetryOperation.start() is deprecated"),this.attempt(n)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(this._errors.length===0)return null;for(var n={},i=null,s=0,o=0;o<this._errors.length;o++){var l=this._errors[o],u=l.message,c=(n[u]||0)+1;n[u]=c,c>=s&&(i=l,s=c)}return i}}),aV=ht(e=>{var t=iV();e.operation=function(r){var n=e.timeouts(r);return new t(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},e.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<n.retries;o++)s.push(this.createTimeout(o,n));return r&&r.forever&&!s.length&&s.push(this.createTimeout(o,n)),s.sort(function(l,u){return l-u}),s},e.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return s=Math.min(s,n.maxTimeout),s},e.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in r)typeof r[s]=="function"&&i.push(s)}for(var o=0;o<i.length;o++){var l=i[o],u=r[l];r[l]=function(c){var h=e.operation(n),d=Array.prototype.slice.call(arguments,1),g=d.pop();d.push(function(m){h.retry(m)||(m&&(arguments[0]=h.mainError()),g.apply(this,arguments))}),h.attempt(function(){c.apply(r,d)})}.bind(r,u),r[l].options=n}}}),a4=ht((e,t)=>{var r=aV(),n=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class i extends Error{static{a(this,"O2")}constructor(c){super(),c instanceof Error?(this.originalError=c,{message:c}=c):(this.originalError=Error(c),this.originalError.stack=this.stack),this.name="AbortError",this.message=c}}var s=a((u,c,h)=>{let d=h.retries-(c-1);return u.attemptNumber=c,u.retriesLeft=d,u},"jC"),o=a(u=>n.includes(u),"vC"),l=a((u,c)=>new Promise((h,d)=>{c={onFailedAttempt:a(()=>{},"onFailedAttempt"),retries:10,...c};let g=r.operation(c);g.attempt(async m=>{try{h(await u(m))}catch(y){if(!(y instanceof Error)){d(TypeError(`Non-error was thrown: "${y}". You should only throw errors.`));return}if(y instanceof i)g.stop(),d(y.originalError);else if(y instanceof TypeError&&!o(y.message))g.stop(),d(y);else{s(y,m,c);try{await c.onFailedAttempt(y)}catch(x){d(x);return}g.retry(y)||d(g.mainError())}}})}),"uw");t.exports=l,t.exports.default=l,t.exports.AbortError=i}),sV=ht((e,t)=>{var r=Object.prototype.hasOwnProperty,n="~";function i(){}a(i,"HP"),Object.create&&(i.prototype=Object.create(null),!new i().__proto__&&(n=!1));function s(c,h,d){this.fn=c,this.context=h,this.once=d||!1}a(s,"WC");function o(c,h,d,g,m){if(typeof d!="function")throw TypeError("The listener must be a function");var y=new s(d,g||c,m),x=n?n+h:h;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],y]:c._events[x].push(y):(c._events[x]=y,c._eventsCount++),c}a(o,"xw");function l(c,h){--c._eventsCount===0?c._events=new i:delete c._events[h]}a(l,"E1");function u(){this._events=new i,this._eventsCount=0}a(u,"Cq"),u.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)r.call(h,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},u.prototype.listeners=function(c){var h=n?n+c:c,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var g=0,m=d.length,y=Array(m);g<m;g++)y[g]=d[g].fn;return y},u.prototype.listenerCount=function(c){var h=n?n+c:c,d=this._events[h];return d?d.fn?1:d.length:0},u.prototype.emit=function(c,h,d,g,m,y){var x=n?n+c:c;if(!this._events[x])return!1;var A=this._events[x],C=arguments.length,M,R;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,d),!0;case 4:return A.fn.call(A.context,h,d,g),!0;case 5:return A.fn.call(A.context,h,d,g,m),!0;case 6:return A.fn.call(A.context,h,d,g,m,y),!0}for(R=1,M=Array(C-1);R<C;R++)M[R-1]=arguments[R];A.fn.apply(A.context,M)}else{var P=A.length,L;for(R=0;R<P;R++)switch(A[R].once&&this.removeListener(c,A[R].fn,void 0,!0),C){case 1:A[R].fn.call(A[R].context);break;case 2:A[R].fn.call(A[R].context,h);break;case 3:A[R].fn.call(A[R].context,h,d);break;case 4:A[R].fn.call(A[R].context,h,d,g);break;default:if(!M)for(L=1,M=Array(C-1);L<C;L++)M[L-1]=arguments[L];A[R].fn.apply(A[R].context,M)}}return!0},u.prototype.on=function(c,h,d){return o(this,c,h,d,!1)},u.prototype.once=function(c,h,d){return o(this,c,h,d,!0)},u.prototype.removeListener=function(c,h,d,g){var m=n?n+c:c;if(!this._events[m])return this;if(!h)return l(this,m),this;var y=this._events[m];if(y.fn)y.fn===h&&(!g||y.once)&&(!d||y.context===d)&&l(this,m);else{for(var x=0,A=[],C=y.length;x<C;x++)(y[x].fn!==h||g&&!y[x].once||d&&y[x].context!==d)&&A.push(y[x]);A.length?this._events[m]=A.length===1?A[0]:A:l(this,m)}return this},u.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&l(this,h)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,typeof t<"u"&&(t.exports=u)}),oV=ht((e,t)=>{t.exports=(r,n)=>(n=n||(()=>{}),r.then(i=>new Promise(s=>{s(n())}).then(()=>i),i=>new Promise(s=>{s(n())}).then(()=>{throw i})))}),lV=ht((e,t)=>{var r=oV();class n extends Error{static{a(this,"j2")}constructor(o){super(o),this.name="TimeoutError"}}var i=a((s,o,l)=>new Promise((u,c)=>{if(typeof o!="number"||o<0)throw TypeError("Expected `milliseconds` to be a positive number");if(o===1/0){u(s);return}let h=setTimeout(()=>{if(typeof l=="function"){try{u(l())}catch(m){c(m)}return}let d=typeof l=="string"?l:`Promise timed out after ${o} milliseconds`,g=l instanceof Error?l:new n(d);typeof s.cancel=="function"&&s.cancel(),c(g)},o);r(s.then(u,c),()=>{clearTimeout(h)})}),"dw");t.exports=i,t.exports.default=i,t.exports.TimeoutError=n}),uV=ht(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(r,n,i){let s=0,o=r.length;for(;o>0;){let l=o/2|0,u=s+l;i(r[u],n)<=0?(s=++u,o-=l+1):o=l}return s}a(t,"JC"),e.default=t}),cV=ht(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=uV();class r{static{a(this,"nw")}constructor(){this._queue=[]}enqueue(i,s){s=Object.assign({priority:0},s);let o={priority:s.priority,run:i};if(this.size&&this._queue[this.size-1].priority>=s.priority){this._queue.push(o);return}let l=t.default(this._queue,o,(u,c)=>c.priority-u.priority);this._queue.splice(l,0,o)}dequeue(){let i=this._queue.shift();return i?.run}filter(i){return this._queue.filter(s=>s.priority===i.priority).map(s=>s.run)}get size(){return this._queue.length}}e.default=r}),s4=ht(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=sV(),r=lV(),n=cV(),i=a(()=>{},"I1"),s=new r.TimeoutError;class o extends t{static{a(this,"Uw")}constructor(u){var c,h,d,g;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,u=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},u),!(typeof u.intervalCap=="number"&&u.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(h=(c=u.intervalCap)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""}\` (${typeof u.intervalCap})`);if(u.interval===void 0||!(Number.isFinite(u.interval)&&u.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(g=(d=u.interval)===null||d===void 0?void 0:d.toString())!==null&&g!==void 0?g:""}\` (${typeof u.interval})`);this._carryoverConcurrencyCount=u.carryoverConcurrencyCount,this._isIntervalIgnored=u.intervalCap===1/0||u.interval===0,this._intervalCap=u.intervalCap,this._interval=u.interval,this._queue=new u.queueClass,this._queueClass=u.queueClass,this.concurrency=u.concurrency,this._timeout=u.timeout,this._throwOnTimeout=u.throwOnTimeout===!0,this._isPaused=u.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let u=Date.now();if(this._intervalId===void 0){let c=this._intervalEnd-u;if(c<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},c)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let u=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let c=this._queue.dequeue();return c?(this.emit("active"),c(),u&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(u){if(!(typeof u=="number"&&u>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${u}\` (${typeof u})`);this._concurrency=u,this._processQueue()}async add(u,c={}){return new Promise((h,d)=>{let g=a(async()=>{this._pendingCount++,this._intervalCount++;try{let m=this._timeout===void 0&&c.timeout===void 0?u():r.default(Promise.resolve(u()),c.timeout===void 0?this._timeout:c.timeout,()=>{(c.throwOnTimeout===void 0?this._throwOnTimeout:c.throwOnTimeout)&&d(s)});h(await m)}catch(m){d(m)}this._next()},"_");this._queue.enqueue(g,c),this._tryToStartAnother(),this.emit("add")})}async addAll(u,c){return Promise.all(u.map(async h=>this.add(h,c)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(u=>{let c=this._resolveEmpty;this._resolveEmpty=()=>{c(),u()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(u=>{let c=this._resolveIdle;this._resolveIdle=()=>{c(),u()}})}get size(){return this._queue.size}sizeBy(u){return this._queue.filter(u).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(u){this._timeout=u}}e.default=o}),bm=ht((e,t)=>{var r=Number.MAX_SAFE_INTEGER||9007199254740991,n=["major","premajor","minor","preminor","patch","prepatch","prerelease"];t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:r,RELEASE_TYPES:n,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}),ym=ht((e,t)=>{var r=typeof process=="object"&&Mi&&Mi.NODE_DEBUG&&/\bsemver\b/i.test(Mi.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{};t.exports=r}),Nh=ht((e,t)=>{var{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=bm(),s=ym();e=t.exports={};var o=e.re=[],l=e.safeRe=[],u=e.src=[],c=e.safeSrc=[],h=e.t={},d=0,g="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[g,n]],y=a(A=>{for(let[C,M]of m)A=A.split(`${C}*`).join(`${C}{0,${M}}`).split(`${C}+`).join(`${C}{1,${M}}`);return A},"gC"),x=a((A,C,M)=>{let R=y(C),P=d++;s(A,P,C),h[A]=P,u[P]=C,c[P]=R,o[P]=new RegExp(C,M?"g":void 0),l[P]=new RegExp(R,M?"g":void 0)},"Y6");x("NUMERICIDENTIFIER","0|[1-9]\\d*"),x("NUMERICIDENTIFIERLOOSE","\\d+"),x("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),x("MAINVERSION",`(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})`),x("MAINVERSIONLOOSE",`(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASEIDENTIFIER",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIER]})`),x("PRERELEASEIDENTIFIERLOOSE",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASE",`(?:-(${u[h.PRERELEASEIDENTIFIER]}(?:\\.${u[h.PRERELEASEIDENTIFIER]})*))`),x("PRERELEASELOOSE",`(?:-?(${u[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[h.PRERELEASEIDENTIFIERLOOSE]})*))`),x("BUILDIDENTIFIER",`${g}+`),x("BUILD",`(?:\\+(${u[h.BUILDIDENTIFIER]}(?:\\.${u[h.BUILDIDENTIFIER]})*))`),x("FULLPLAIN",`v?${u[h.MAINVERSION]}${u[h.PRERELEASE]}?${u[h.BUILD]}?`),x("FULL",`^${u[h.FULLPLAIN]}$`),x("LOOSEPLAIN",`[v=\\s]*${u[h.MAINVERSIONLOOSE]}${u[h.PRERELEASELOOSE]}?${u[h.BUILD]}?`),x("LOOSE",`^${u[h.LOOSEPLAIN]}$`),x("GTLT","((?:<|>)?=?)"),x("XRANGEIDENTIFIERLOOSE",`${u[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),x("XRANGEIDENTIFIER",`${u[h.NUMERICIDENTIFIER]}|x|X|\\*`),x("XRANGEPLAIN",`[v=\\s]*(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:${u[h.PRERELEASE]})?${u[h.BUILD]}?)?)?`),x("XRANGEPLAINLOOSE",`[v=\\s]*(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:${u[h.PRERELEASELOOSE]})?${u[h.BUILD]}?)?)?`),x("XRANGE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAIN]}$`),x("XRANGELOOSE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAINLOOSE]}$`),x("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),x("COERCE",`${u[h.COERCEPLAIN]}(?:$|[^\\d])`),x("COERCEFULL",u[h.COERCEPLAIN]+`(?:${u[h.PRERELEASE]})?(?:${u[h.BUILD]})?(?:$|[^\\d])`),x("COERCERTL",u[h.COERCE],!0),x("COERCERTLFULL",u[h.COERCEFULL],!0),x("LONETILDE","(?:~>?)"),x("TILDETRIM",`(\\s*)${u[h.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",x("TILDE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAIN]}$`),x("TILDELOOSE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAINLOOSE]}$`),x("LONECARET","(?:\\^)"),x("CARETTRIM",`(\\s*)${u[h.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",x("CARET",`^${u[h.LONECARET]}${u[h.XRANGEPLAIN]}$`),x("CARETLOOSE",`^${u[h.LONECARET]}${u[h.XRANGEPLAINLOOSE]}$`),x("COMPARATORLOOSE",`^${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]})$|^$`),x("COMPARATOR",`^${u[h.GTLT]}\\s*(${u[h.FULLPLAIN]})$|^$`),x("COMPARATORTRIM",`(\\s*)${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]}|${u[h.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",x("HYPHENRANGE",`^\\s*(${u[h.XRANGEPLAIN]})\\s+-\\s+(${u[h.XRANGEPLAIN]})\\s*$`),x("HYPHENRANGELOOSE",`^\\s*(${u[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[h.XRANGEPLAINLOOSE]})\\s*$`),x("STAR","(<|>)?=?\\s*\\*"),x("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),x("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),o4=ht((e,t)=>{var r=Object.freeze({loose:!0}),n=Object.freeze({}),i=a(s=>s?typeof s!="object"?r:s:n,"uC");t.exports=i}),ET=ht((e,t)=>{var r=/^[0-9]+$/,n=a((s,o)=>{if(typeof s=="number"&&typeof o=="number")return s===o?0:s<o?-1:1;let l=r.test(s),u=r.test(o);return l&&u&&(s=+s,o=+o),s===o?0:l&&!u?-1:u&&!l?1:s<o?-1:1},"Kf"),i=a((s,o)=>n(o,s),"xC");t.exports={compareIdentifiers:n,rcompareIdentifiers:i}}),ai=ht((e,t)=>{var r=ym(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:i}=bm(),{safeRe:s,t:o}=Nh(),l=o4(),{compareIdentifiers:u}=ET();class c{static{a(this,"h8")}constructor(d,g){if(g=l(g),d instanceof c){if(d.loose===!!g.loose&&d.includePrerelease===!!g.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof d}".`);if(d.length>n)throw TypeError(`version is longer than ${n} characters`);r("SemVer",d,g),this.options=g,this.loose=!!g.loose,this.includePrerelease=!!g.includePrerelease;let m=d.trim().match(g.loose?s[o.LOOSE]:s[o.FULL]);if(!m)throw TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>i||this.major<0)throw TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(y=>{if(/^[0-9]+$/.test(y)){let x=+y;if(x>=0&&x<i)return x}return y}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(r("SemVer.compare",this.version,this.options,d),!(d instanceof c)){if(typeof d=="string"&&d===this.version)return 0;d=new c(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof c||(d=new c(d,this.options)),this.major<d.major?-1:this.major>d.major?1:this.minor<d.minor?-1:this.minor>d.minor?1:this.patch<d.patch?-1:this.patch>d.patch?1:0}comparePre(d){if(d instanceof c||(d=new c(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let g=0;do{let m=this.prerelease[g],y=d.prerelease[g];if(r("prerelease compare",g,m,y),m===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(m===void 0)return-1;if(m===y)continue;return u(m,y)}while(++g)}compareBuild(d){d instanceof c||(d=new c(d,this.options));let g=0;do{let m=this.build[g],y=d.build[g];if(r("build compare",g,m,y),m===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(m===void 0)return-1;if(m===y)continue;return u(m,y)}while(++g)}inc(d,g,m){if(d.startsWith("pre")){if(!g&&m===!1)throw Error("invalid increment argument: identifier is empty");if(g){let y=`-${g}`.match(this.options.loose?s[o.PRERELEASELOOSE]:s[o.PRERELEASE]);if(!y||y[1]!==g)throw Error(`invalid identifier: ${g}`)}}switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",g,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",g,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",g,m),this.inc("pre",g,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",g,m),this.inc("pre",g,m);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let y=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[y];else{let x=this.prerelease.length;for(;--x>=0;)typeof this.prerelease[x]=="number"&&(this.prerelease[x]++,x=-2);if(x===-1){if(g===this.prerelease.join(".")&&m===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(y)}}if(g){let x=[g,y];m===!1&&(x=[g]),u(this.prerelease[0],g)===0?isNaN(this.prerelease[1])&&(this.prerelease=x):this.prerelease=x}break}default:throw Error(`invalid increment argument: ${d}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=c}),qu=ht((e,t)=>{var r=ai(),n=a((i,s,o=!1)=>{if(i instanceof r)return i;try{return new r(i,s)}catch(l){if(!o)return null;throw l}},"cC");t.exports=n}),dV=ht((e,t)=>{var r=qu(),n=a((i,s)=>{let o=r(i,s);return o?o.version:null},"dC");t.exports=n}),hV=ht((e,t)=>{var r=qu(),n=a((i,s)=>{let o=r(i.trim().replace(/^[=v]+/,""),s);return o?o.version:null},"rC");t.exports=n}),fV=ht((e,t)=>{var r=ai(),n=a((i,s,o,l,u)=>{typeof o=="string"&&(u=l,l=o,o=void 0);try{return new r(i instanceof r?i.version:i,o).inc(s,l,u).version}catch{return null}},"oC");t.exports=n}),pV=ht((e,t)=>{var r=qu(),n=a((i,s)=>{let o=r(i,null,!0),l=r(s,null,!0),u=o.compare(l);if(u===0)return null;let c=u>0,h=c?o:l,d=c?l:o,g=!!h.prerelease.length;if(d.prerelease.length&&!g){if(!d.patch&&!d.minor)return"major";if(d.compareMain(h)===0)return d.minor&&!d.patch?"minor":"patch"}let m=g?"pre":"";return o.major!==l.major?m+"major":o.minor!==l.minor?m+"minor":o.patch!==l.patch?m+"patch":"prerelease"},"nC");t.exports=n}),mV=ht((e,t)=>{var r=ai(),n=a((i,s)=>new r(i,s).major,"tC");t.exports=n}),gV=ht((e,t)=>{var r=ai(),n=a((i,s)=>new r(i,s).minor,"UC");t.exports=n}),vV=ht((e,t)=>{var r=ai(),n=a((i,s)=>new r(i,s).patch,"aC");t.exports=n}),bV=ht((e,t)=>{var r=qu(),n=a((i,s)=>{let o=r(i,s);return o&&o.prerelease.length?o.prerelease:null},"eC");t.exports=n}),Ma=ht((e,t)=>{var r=ai(),n=a((i,s,o)=>new r(i,o).compare(new r(s,o)),"sC");t.exports=n}),yV=ht((e,t)=>{var r=Ma(),n=a((i,s,o)=>r(s,i,o),"qh");t.exports=n}),wV=ht((e,t)=>{var r=Ma(),n=a((i,s)=>r(i,s,!0),"_h");t.exports=n}),l4=ht((e,t)=>{var r=ai(),n=a((i,s,o)=>{let l=new r(i,o),u=new r(s,o);return l.compare(u)||l.compareBuild(u)},"Ph");t.exports=n}),_V=ht((e,t)=>{var r=l4(),n=a((i,s)=>i.sort((o,l)=>r(o,l,s)),"Yh");t.exports=n}),xV=ht((e,t)=>{var r=l4(),n=a((i,s)=>i.sort((o,l)=>r(l,o,s)),"vh");t.exports=n}),wm=ht((e,t)=>{var r=Ma(),n=a((i,s,o)=>r(i,s,o)>0,"Wh");t.exports=n}),u4=ht((e,t)=>{var r=Ma(),n=a((i,s,o)=>r(i,s,o)<0,"Jh");t.exports=n}),ST=ht((e,t)=>{var r=Ma(),n=a((i,s,o)=>r(i,s,o)===0,"wh");t.exports=n}),kT=ht((e,t)=>{var r=Ma(),n=a((i,s,o)=>r(i,s,o)!==0,"Zh");t.exports=n}),c4=ht((e,t)=>{var r=Ma(),n=a((i,s,o)=>r(i,s,o)>=0,"Ah");t.exports=n}),d4=ht((e,t)=>{var r=Ma(),n=a((i,s,o)=>r(i,s,o)<=0,"Gh");t.exports=n}),AT=ht((e,t)=>{var r=ST(),n=kT(),i=wm(),s=c4(),o=u4(),l=d4(),u=a((c,h,d,g)=>{switch(h){case"===":return typeof c=="object"&&(c=c.version),typeof d=="object"&&(d=d.version),c===d;case"!==":return typeof c=="object"&&(c=c.version),typeof d=="object"&&(d=d.version),c!==d;case"":case"=":case"==":return r(c,d,g);case"!=":return n(c,d,g);case">":return i(c,d,g);case">=":return s(c,d,g);case"<":return o(c,d,g);case"<=":return l(c,d,g);default:throw TypeError(`Invalid operator: ${h}`)}},"Eh");t.exports=u}),EV=ht((e,t)=>{var r=ai(),n=qu(),{safeRe:i,t:s}=Nh(),o=a((l,u)=>{if(l instanceof r)return l;if(typeof l=="number"&&(l=String(l)),typeof l!="string")return null;u=u||{};let c=null;if(!u.rtl)c=l.match(u.includePrerelease?i[s.COERCEFULL]:i[s.COERCE]);else{let x=u.includePrerelease?i[s.COERCERTLFULL]:i[s.COERCERTL],A;for(;(A=x.exec(l))&&(!c||c.index+c[0].length!==l.length);)(!c||A.index+A[0].length!==c.index+c[0].length)&&(c=A),x.lastIndex=A.index+A[1].length+A[2].length;x.lastIndex=-1}if(c===null)return null;let h=c[2],d=c[3]||"0",g=c[4]||"0",m=u.includePrerelease&&c[5]?`-${c[5]}`:"",y=u.includePrerelease&&c[6]?`+${c[6]}`:"";return n(`${h}.${d}.${g}${m}${y}`,u)},"Dh");t.exports=o}),SV=ht((e,t)=>{class r{static{a(this,"Uf")}constructor(){this.max=1e3,this.map=new Map}get(i){let s=this.map.get(i);if(s!==void 0)return this.map.delete(i),this.map.set(i,s),s}delete(i){return this.map.delete(i)}set(i,s){if(!this.delete(i)&&s!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(i,s)}return this}}t.exports=r}),Oa=ht((e,t)=>{var r=/\s+/g;class n{static{a(this,"fP")}constructor(T,N){if(N=o(N),T instanceof n)return T.loose===!!N.loose&&T.includePrerelease===!!N.includePrerelease?T:new n(T.raw,N);if(T instanceof l)return this.raw=T.value,this.set=[[T]],this.formatted=void 0,this;if(this.options=N,this.loose=!!N.loose,this.includePrerelease=!!N.includePrerelease,this.raw=T.trim().replace(r," "),this.set=this.raw.split("||").map(k=>this.parseRange(k.trim())).filter(k=>k.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let k=this.set[0];if(this.set=this.set.filter(p=>!C(p[0])),this.set.length===0)this.set=[k];else if(this.set.length>1){for(let p of this.set)if(p.length===1&&M(p[0])){this.set=[p];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let T=0;T<this.set.length;T++){T>0&&(this.formatted+="||");let N=this.set[T];for(let k=0;k<N.length;k++)k>0&&(this.formatted+=" "),this.formatted+=N[k].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(T){let N=((this.options.includePrerelease&&x)|(this.options.loose&&A))+":"+T,k=s.get(N);if(k)return k;let p=this.options.loose,E=p?h[d.HYPHENRANGELOOSE]:h[d.HYPHENRANGE];T=T.replace(E,v(this.options.includePrerelease)),u("hyphen replace",T),T=T.replace(h[d.COMPARATORTRIM],g),u("comparator trim",T),T=T.replace(h[d.TILDETRIM],m),u("tilde trim",T),T=T.replace(h[d.CARETTRIM],y),u("caret trim",T);let I=T.split(" ").map(G=>P(G,this.options)).join(" ").split(/\s+/).map(G=>w(G,this.options));p&&(I=I.filter(G=>(u("loose invalid filter",G,this.options),!!G.match(h[d.COMPARATORLOOSE])))),u("range list",I);let O=new Map,B=I.map(G=>new l(G,this.options));for(let G of B){if(C(G))return[G];O.set(G.value,G)}O.size>1&&O.has("")&&O.delete("");let H=[...O.values()];return s.set(N,H),H}intersects(T,N){if(!(T instanceof n))throw TypeError("a Range is required");return this.set.some(k=>R(k,N)&&T.set.some(p=>R(p,N)&&k.every(E=>p.every(I=>E.intersects(I,N)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new c(T,this.options)}catch{return!1}for(let N=0;N<this.set.length;N++)if(_(this.set[N],T,this.options))return!0;return!1}}t.exports=n;var i=SV(),s=new i,o=o4(),l=_m(),u=ym(),c=ai(),{safeRe:h,t:d,comparatorTrimReplace:g,tildeTrimReplace:m,caretTrimReplace:y}=Nh(),{FLAG_INCLUDE_PRERELEASE:x,FLAG_LOOSE:A}=bm(),C=a(S=>S.value==="<0.0.0-0","ef"),M=a(S=>S.value==="","dh"),R=a((S,T)=>{let N=!0,k=S.slice(),p=k.pop();for(;N&&k.length;)N=k.every(E=>p.intersects(E,T)),p=k.pop();return N},"sf"),P=a((S,T)=>(S=S.replace(h[d.BUILD],""),u("comp",S,T),S=Y(S,T),u("caret",S),S=z(S,T),u("tildes",S),S=F(S,T),u("xrange",S),S=f(S,T),u("stars",S),S),"lh"),L=a(S=>!S||S.toLowerCase()==="x"||S==="*","bq"),z=a((S,T)=>S.trim().split(/\s+/).map(N=>Z(N,T)).join(" "),"rh"),Z=a((S,T)=>{let N=T.loose?h[d.TILDELOOSE]:h[d.TILDE];return S.replace(N,(k,p,E,I,O)=>{u("tilde",S,k,p,E,I,O);let B;return L(p)?B="":L(E)?B=`>=${p}.0.0 <${+p+1}.0.0-0`:L(I)?B=`>=${p}.${E}.0 <${p}.${+E+1}.0-0`:O?(u("replaceTilde pr",O),B=`>=${p}.${E}.${I}-${O} <${p}.${+E+1}.0-0`):B=`>=${p}.${E}.${I} <${p}.${+E+1}.0-0`,u("tilde return",B),B})},"oh"),Y=a((S,T)=>S.trim().split(/\s+/).map(N=>ae(N,T)).join(" "),"nh"),ae=a((S,T)=>{u("caret",S,T);let N=T.loose?h[d.CARETLOOSE]:h[d.CARET],k=T.includePrerelease?"-0":"";return S.replace(N,(p,E,I,O,B)=>{u("caret",S,p,E,I,O,B);let H;return L(E)?H="":L(I)?H=`>=${E}.0.0${k} <${+E+1}.0.0-0`:L(O)?E==="0"?H=`>=${E}.${I}.0${k} <${E}.${+I+1}.0-0`:H=`>=${E}.${I}.0${k} <${+E+1}.0.0-0`:B?(u("replaceCaret pr",B),E==="0"?I==="0"?H=`>=${E}.${I}.${O}-${B} <${E}.${I}.${+O+1}-0`:H=`>=${E}.${I}.${O}-${B} <${E}.${+I+1}.0-0`:H=`>=${E}.${I}.${O}-${B} <${+E+1}.0.0-0`):(u("no pr"),E==="0"?I==="0"?H=`>=${E}.${I}.${O}${k} <${E}.${I}.${+O+1}-0`:H=`>=${E}.${I}.${O}${k} <${E}.${+I+1}.0-0`:H=`>=${E}.${I}.${O} <${+E+1}.0.0-0`),u("caret return",H),H})},"ih"),F=a((S,T)=>(u("replaceXRanges",S,T),S.split(/\s+/).map(N=>W(N,T)).join(" ")),"th"),W=a((S,T)=>{S=S.trim();let N=T.loose?h[d.XRANGELOOSE]:h[d.XRANGE];return S.replace(N,(k,p,E,I,O,B)=>{u("xRange",S,k,p,E,I,O,B);let H=L(E),G=H||L(I),J=G||L(O),ce=J;return p==="="&&ce&&(p=""),B=T.includePrerelease?"-0":"",H?p===">"||p==="<"?k="<0.0.0-0":k="*":p&&ce?(G&&(I=0),O=0,p===">"?(p=">=",G?(E=+E+1,I=0,O=0):(I=+I+1,O=0)):p==="<="&&(p="<",G?E=+E+1:I=+I+1),p==="<"&&(B="-0"),k=`${p+E}.${I}.${O}${B}`):G?k=`>=${E}.0.0${B} <${+E+1}.0.0-0`:J&&(k=`>=${E}.${I}.0${B} <${E}.${+I+1}.0-0`),u("xRange return",k),k})},"Bh"),f=a((S,T)=>(u("replaceStars",S,T),S.trim().replace(h[d.STAR],"")),"Uh"),w=a((S,T)=>(u("replaceGTE0",S,T),S.trim().replace(h[T.includePrerelease?d.GTE0PRE:d.GTE0],"")),"Fh"),v=a(S=>(T,N,k,p,E,I,O,B,H,G,J,ce)=>(L(k)?N="":L(p)?N=`>=${k}.0.0${S?"-0":""}`:L(E)?N=`>=${k}.${p}.0${S?"-0":""}`:I?N=`>=${N}`:N=`>=${N}${S?"-0":""}`,L(H)?B="":L(G)?B=`<${+H+1}.0.0-0`:L(J)?B=`<${H}.${+G+1}.0-0`:ce?B=`<=${H}.${G}.${J}-${ce}`:S?B=`<${H}.${G}.${+J+1}-0`:B=`<=${B}`,`${N} ${B}`.trim()),"ah"),_=a((S,T,N)=>{for(let k=0;k<S.length;k++)if(!S[k].test(T))return!1;if(T.prerelease.length&&!N.includePrerelease){for(let k=0;k<S.length;k++)if(u(S[k].semver),S[k].semver!==l.ANY&&S[k].semver.prerelease.length>0){let p=S[k].semver;if(p.major===T.major&&p.minor===T.minor&&p.patch===T.patch)return!0}return!1}return!0},"Qh")}),_m=ht((e,t)=>{var r=Symbol("SemVer ANY");class n{static{a(this,"n1")}static get ANY(){return r}constructor(g,m){if(m=i(m),g instanceof n){if(g.loose===!!m.loose)return g;g=g.value}g=g.trim().split(/\s+/).join(" "),u("comparator",g,m),this.options=m,this.loose=!!m.loose,this.parse(g),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(g){let m=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],y=g.match(m);if(!y)throw TypeError(`Invalid comparator: ${g}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new c(y[2],this.options.loose):this.semver=r}toString(){return this.value}test(g){if(u("Comparator.test",g,this.options.loose),this.semver===r||g===r)return!0;if(typeof g=="string")try{g=new c(g,this.options)}catch{return!1}return l(g,this.operator,this.semver,this.options)}intersects(g,m){if(!(g instanceof n))throw TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new h(g.value,m).test(this.value):g.operator===""?g.value===""?!0:new h(this.value,m).test(g.semver):(m=i(m),m.includePrerelease&&(this.value==="<0.0.0-0"||g.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||g.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&g.operator.startsWith(">")||this.operator.startsWith("<")&&g.operator.startsWith("<")||this.semver.version===g.semver.version&&this.operator.includes("=")&&g.operator.includes("=")||l(this.semver,"<",g.semver,m)&&this.operator.startsWith(">")&&g.operator.startsWith("<")||l(this.semver,">",g.semver,m)&&this.operator.startsWith("<")&&g.operator.startsWith(">")))}}t.exports=n;var i=o4(),{safeRe:s,t:o}=Nh(),l=AT(),u=ym(),c=ai(),h=Oa()}),xm=ht((e,t)=>{var r=Oa(),n=a((i,s,o)=>{try{s=new r(s,o)}catch{return!1}return s.test(i)},"sh");t.exports=n}),kV=ht((e,t)=>{var r=Oa(),n=a((i,s)=>new r(i,s).set.map(o=>o.map(l=>l.value).join(" ").trim().split(" ")),"qE");t.exports=n}),AV=ht((e,t)=>{var r=ai(),n=Oa(),i=a((s,o,l)=>{let u=null,c=null,h=null;try{h=new n(o,l)}catch{return null}return s.forEach(d=>{h.test(d)&&(!u||c.compare(d)===-1)&&(u=d,c=new r(u,l))}),u},"PE");t.exports=i}),TV=ht((e,t)=>{var r=ai(),n=Oa(),i=a((s,o,l)=>{let u=null,c=null,h=null;try{h=new n(o,l)}catch{return null}return s.forEach(d=>{h.test(d)&&(!u||c.compare(d)===1)&&(u=d,c=new r(u,l))}),u},"jE");t.exports=i}),NV=ht((e,t)=>{var r=ai(),n=Oa(),i=wm(),s=a((o,l)=>{o=new n(o,l);let u=new r("0.0.0");if(o.test(u)||(u=new r("0.0.0-0"),o.test(u)))return u;u=null;for(let c=0;c<o.set.length;++c){let h=o.set[c],d=null;h.forEach(g=>{let m=new r(g.semver.version);switch(g.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!d||i(m,d))&&(d=m);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${g.operator}`)}}),d&&(!u||i(u,d))&&(u=d)}return u&&o.test(u)?u:null},"zE");t.exports=s}),CV=ht((e,t)=>{var r=Oa(),n=a((i,s)=>{try{return new r(i,s).range||"*"}catch{return null}},"HE");t.exports=n}),h4=ht((e,t)=>{var r=ai(),n=_m(),{ANY:i}=n,s=Oa(),o=xm(),l=wm(),u=u4(),c=d4(),h=c4(),d=a((g,m,y,x)=>{g=new r(g,x),m=new s(m,x);let A,C,M,R,P;switch(y){case">":A=l,C=c,M=u,R=">",P=">=";break;case"<":A=u,C=h,M=l,R="<",P="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(g,m,x))return!1;for(let L=0;L<m.set.length;++L){let z=m.set[L],Z=null,Y=null;if(z.forEach(ae=>{ae.semver===i&&(ae=new n(">=0.0.0")),Z=Z||ae,Y=Y||ae,A(ae.semver,Z.semver,x)?Z=ae:M(ae.semver,Y.semver,x)&&(Y=ae)}),Z.operator===R||Z.operator===P||(!Y.operator||Y.operator===R)&&C(g,Y.semver))return!1;if(Y.operator===P&&M(g,Y.semver))return!1}return!0},"AE");t.exports=d}),IV=ht((e,t)=>{var r=h4(),n=a((i,s,o)=>r(i,s,">",o),"GE");t.exports=n}),MV=ht((e,t)=>{var r=h4(),n=a((i,s,o)=>r(i,s,"<",o),"SE");t.exports=n}),OV=ht((e,t)=>{var r=Oa(),n=a((i,s,o)=>(i=new r(i,o),s=new r(s,o),i.intersects(s,o)),"ME");t.exports=n}),RV=ht((e,t)=>{var r=xm(),n=Ma();t.exports=(i,s,o)=>{let l=[],u=null,c=null,h=i.sort((y,x)=>n(y,x,o));for(let y of h)r(y,s,o)?(c=y,!u&&(u=y)):(c&&l.push([u,c]),c=null,u=null);u&&l.push([u,null]);let d=[];for(let[y,x]of l)y===x?d.push(y):!x&&y===h[0]?d.push("*"):x?y===h[0]?d.push(`<=${x}`):d.push(`${y} - ${x}`):d.push(`>=${y}`);let g=d.join(" || "),m=typeof s.raw=="string"?s.raw:String(s);return g.length<m.length?g:s}}),PV=ht((e,t)=>{var r=Oa(),n=_m(),{ANY:i}=n,s=xm(),o=Ma(),l=a((m,y,x={})=>{if(m===y)return!0;m=new r(m,x),y=new r(y,x);let A=!1;e:for(let C of m.set){for(let M of y.set){let R=h(C,M,x);if(A=A||R!==null,R)continue e}if(A)return!1}return!0},"hE"),u=[new n(">=0.0.0-0")],c=[new n(">=0.0.0")],h=a((m,y,x)=>{if(m===y)return!0;if(m.length===1&&m[0].semver===i){if(y.length===1&&y[0].semver===i)return!0;x.includePrerelease?m=u:m=c}if(y.length===1&&y[0].semver===i){if(x.includePrerelease)return!0;y=c}let A=new Set,C,M;for(let F of m)F.operator===">"||F.operator===">="?C=d(C,F,x):F.operator==="<"||F.operator==="<="?M=g(M,F,x):A.add(F.semver);if(A.size>1)return null;let R;if(C&&M){if(R=o(C.semver,M.semver,x),R>0)return null;if(R===0&&(C.operator!==">="||M.operator!=="<="))return null}for(let F of A){if(C&&!s(F,String(C),x)||M&&!s(F,String(M),x))return null;for(let W of y)if(!s(F,String(W),x))return!1;return!0}let P,L,z,Z,Y=M&&!x.includePrerelease&&M.semver.prerelease.length?M.semver:!1,ae=C&&!x.includePrerelease&&C.semver.prerelease.length?C.semver:!1;Y&&Y.prerelease.length===1&&M.operator==="<"&&Y.prerelease[0]===0&&(Y=!1);for(let F of y){if(Z=Z||F.operator===">"||F.operator===">=",z=z||F.operator==="<"||F.operator==="<=",C){if(ae&&F.semver.prerelease&&F.semver.prerelease.length&&F.semver.major===ae.major&&F.semver.minor===ae.minor&&F.semver.patch===ae.patch&&(ae=!1),F.operator===">"||F.operator===">="){if(P=d(C,F,x),P===F&&P!==C)return!1}else if(C.operator===">="&&!s(C.semver,String(F),x))return!1}if(M){if(Y&&F.semver.prerelease&&F.semver.prerelease.length&&F.semver.major===Y.major&&F.semver.minor===Y.minor&&F.semver.patch===Y.patch&&(Y=!1),F.operator==="<"||F.operator==="<="){if(L=g(M,F,x),L===F&&L!==M)return!1}else if(M.operator==="<="&&!s(M.semver,String(F),x))return!1}if(!F.operator&&(M||C)&&R!==0)return!1}return!(C&&z&&!M&&R!==0||M&&Z&&!C&&R!==0||ae||Y)},"RE"),d=a((m,y,x)=>{if(!m)return y;let A=o(m.semver,y.semver,x);return A>0?m:A<0||y.operator===">"&&m.operator===">="?y:m},"yZ"),g=a((m,y,x)=>{if(!m)return y;let A=o(m.semver,y.semver,x);return A<0?m:A>0||y.operator==="<"&&m.operator==="<="?y:m},"uZ");t.exports=l}),LV=ht((e,t)=>{var r=Nh(),n=bm(),i=ai(),s=ET(),o=qu(),l=dV(),u=hV(),c=fV(),h=pV(),d=mV(),g=gV(),m=vV(),y=bV(),x=Ma(),A=yV(),C=wV(),M=l4(),R=_V(),P=xV(),L=wm(),z=u4(),Z=ST(),Y=kT(),ae=c4(),F=d4(),W=AT(),f=EV(),w=_m(),v=Oa(),_=xm(),S=kV(),T=AV(),N=TV(),k=NV(),p=CV(),E=h4(),I=IV(),O=MV(),B=OV(),H=RV(),G=PV();t.exports={parse:o,valid:l,clean:u,inc:c,diff:h,major:d,minor:g,patch:m,prerelease:y,compare:x,rcompare:A,compareLoose:C,compareBuild:M,sort:R,rsort:P,gt:L,lt:z,eq:Z,neq:Y,gte:ae,lte:F,cmp:W,coerce:f,Comparator:w,Range:v,satisfies:_,toComparators:S,maxSatisfying:T,minSatisfying:N,minVersion:k,validRange:p,outside:E,gtr:I,ltr:O,intersects:B,simplifyRange:H,subset:G,SemVer:i,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}}),DV=ht((e,t)=>{var r=a((s=0)=>o=>`\x1B[${38+s};5;${o}m`,"PX"),n=a((s=0)=>(o,l,u)=>`\x1B[${38+s};2;${o};${l};${u}m`,"OX");function i(){let s=new Map,o={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};o.color.gray=o.color.blackBright,o.bgColor.bgGray=o.bgColor.bgBlackBright,o.color.grey=o.color.blackBright,o.bgColor.bgGrey=o.bgColor.bgBlackBright;for(let[l,u]of Object.entries(o)){for(let[c,h]of Object.entries(u))o[c]={open:`\x1B[${h[0]}m`,close:`\x1B[${h[1]}m`},u[c]=o[c],s.set(h[0],h[1]);Object.defineProperty(o,l,{value:u,enumerable:!1})}return Object.defineProperty(o,"codes",{value:s,enumerable:!1}),o.color.close="\x1B[39m",o.bgColor.close="\x1B[49m",o.color.ansi256=r(),o.color.ansi16m=n(),o.bgColor.ansi256=r(10),o.bgColor.ansi16m=n(10),Object.defineProperties(o,{rgbToAnsi256:{value:a((l,u,c)=>l===u&&u===c?l<8?16:l>248?231:Math.round((l-8)/247*24)+232:16+36*Math.round(l/255*5)+6*Math.round(u/255*5)+Math.round(c/255*5),"value"),enumerable:!1},hexToRgb:{value:a(l=>{let u=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(l.toString(16));if(!u)return[0,0,0];let{colorString:c}=u.groups;c.length===3&&(c=c.split("").map(d=>d+d).join(""));let h=Number.parseInt(c,16);return[h>>16&255,h>>8&255,h&255]},"value"),enumerable:!1},hexToAnsi256:{value:a(l=>o.rgbToAnsi256(...o.hexToRgb(l)),"value"),enumerable:!1}}),o}a(i,"yR"),Object.defineProperty(t,"exports",{enumerable:!0,get:i})}),jV=ht(e=>{e.byteLength=u,e.toByteArray=h,e.fromByteArray=m;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,o=i.length;s<o;++s)t[s]=i[s],r[i.charCodeAt(s)]=s;var s,o;r[45]=62,r[95]=63;function l(y){var x=y.length;if(x%4>0)throw Error("Invalid string. Length must be a multiple of 4");var A=y.indexOf("=");A===-1&&(A=x);var C=A===x?0:4-A%4;return[A,C]}a(l,"dA");function u(y){var x=l(y),A=x[0],C=x[1];return(A+C)*3/4-C}a(u,"db");function c(y,x,A){return(x+A)*3/4-A}a(c,"lb");function h(y){var x,A=l(y),C=A[0],M=A[1],R=new n(c(y,C,M)),P=0,L=M>0?C-4:C,z;for(z=0;z<L;z+=4)x=r[y.charCodeAt(z)]<<18|r[y.charCodeAt(z+1)]<<12|r[y.charCodeAt(z+2)]<<6|r[y.charCodeAt(z+3)],R[P++]=x>>16&255,R[P++]=x>>8&255,R[P++]=x&255;return M===2&&(x=r[y.charCodeAt(z)]<<2|r[y.charCodeAt(z+1)]>>4,R[P++]=x&255),M===1&&(x=r[y.charCodeAt(z)]<<10|r[y.charCodeAt(z+1)]<<4|r[y.charCodeAt(z+2)]>>2,R[P++]=x>>8&255,R[P++]=x&255),R}a(h,"rb");function d(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}a(d,"ob");function g(y,x,A){for(var C,M=[],R=x;R<A;R+=3)C=(y[R]<<16&16711680)+(y[R+1]<<8&65280)+(y[R+2]&255),M.push(d(C));return M.join("")}a(g,"nb");function m(y){for(var x,A=y.length,C=A%3,M=[],R=16383,P=0,L=A-C;P<L;P+=R)M.push(g(y,P,P+R>L?L:P+R));return C===1?(x=y[A-1],M.push(t[x>>2]+t[x<<4&63]+"==")):C===2&&(x=(y[A-2]<<8)+y[A-1],M.push(t[x>>10]+t[x>>4&63]+t[x<<2&63]+"=")),M.join("")}a(m,"ib")}),xi=ht(e=>{e.__esModule=!0,e.extend=s,e.indexOf=c,e.escapeExpression=h,e.isEmpty=d,e.createFrame=g,e.blockParams=m,e.appendContextPath=y;var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,n=/[&<>"'`=]/;function i(x){return t[x]}a(i,"vy");function s(x){for(var A=1;A<arguments.length;A++)for(var C in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],C)&&(x[C]=arguments[A][C]);return x}a(s,"nA");var o=Object.prototype.toString;e.toString=o;var l=a(function(x){return typeof x=="function"},"Iz");l(/x/)&&(e.isFunction=l=a(function(x){return typeof x=="function"&&o.call(x)==="[object Function]"},"Iz")),e.isFunction=l;var u=Array.isArray||function(x){return x&&typeof x=="object"?o.call(x)==="[object Array]":!1};e.isArray=u;function c(x,A){for(var C=0,M=x.length;C<M;C++)if(x[C]===A)return C;return-1}a(c,"zy");function h(x){if(typeof x!="string"){if(x&&x.toHTML)return x.toHTML();if(x==null)return"";if(!x)return x+"";x=""+x}return n.test(x)?x.replace(r,i):x}a(h,"Wy");function d(x){return!x&&x!==0?!0:!!(u(x)&&x.length===0)}a(d,"Hy");function g(x){var A=s({},x);return A._parent=x,A}a(g,"Jy");function m(x,A){return x.path=A,x}a(m,"Ty");function y(x,A){return(x?x+".":"")+A}a(y,"wy")}),Ra=ht((e,t)=>{e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function n(i,s){var o=s&&s.loc,l=void 0,u=void 0,c=void 0,h=void 0;o&&(l=o.start.line,u=o.end.line,c=o.start.column,h=o.end.column,i+=" - "+l+":"+c);for(var d=Error.prototype.constructor.call(this,i),g=0;g<r.length;g++)this[r[g]]=d[r[g]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{o&&(this.lineNumber=l,this.endLineNumber=u,Object.defineProperty?(Object.defineProperty(this,"column",{value:c,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:h,enumerable:!0})):(this.column=c,this.endColumn=h))}catch{}}a(n,"gz"),n.prototype=Error(),e.default=n,t.exports=e.default}),BV=ht((e,t)=>{e.__esModule=!0;var r=xi();e.default=function(n){n.registerHelper("blockHelperMissing",function(i,s){var{inverse:o,fn:l}=s;if(i===!0)return l(this);if(i===!1||i==null)return o(this);if(r.isArray(i))return i.length>0?(s.ids&&(s.ids=[s.name]),n.helpers.each(i,s)):o(this);if(s.data&&s.ids){var u=r.createFrame(s.data);u.contextPath=r.appendContextPath(s.data.contextPath,s.name),s={data:u}}return l(i,s)})},t.exports=e.default}),zV=ht((e,t)=>{e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}a(r,"Ly");var n=xi(),i=Ra(),s=r(i);e.default=function(o){o.registerHelper("each",function(l,u){if(!u)throw new s.default("Must pass iterator to #each");var{fn:c,inverse:h}=u,d=0,g="",m=void 0,y=void 0;u.data&&u.ids&&(y=n.appendContextPath(u.data.contextPath,u.ids[0])+"."),n.isFunction(l)&&(l=l.call(this)),u.data&&(m=n.createFrame(u.data));function x(P,L,z){m&&(m.key=P,m.index=L,m.first=L===0,m.last=!!z,y&&(m.contextPath=y+P)),g=g+c(l[P],{data:m,blockParams:n.blockParams([l[P],P],[y+P,null])})}if(a(x,"T"),l&&typeof l=="object")if(n.isArray(l))for(var A=l.length;d<A;d++)d in l&&x(d,d,d===l.length-1);else if(typeof Symbol=="function"&&l[Symbol.iterator]){for(var C=[],M=l[Symbol.iterator](),R=M.next();!R.done;R=M.next())C.push(R.value);l=C;for(var A=l.length;d<A;d++)x(d,d,d===l.length-1)}else(function(){var P=void 0;Object.keys(l).forEach(function(L){P!==void 0&&x(P,d-1),P=L,d++}),P!==void 0&&x(P,d-1,!0)})();return d===0&&(g=h(this)),g})},t.exports=e.default}),FV=ht((e,t)=>{e.__esModule=!0;function r(s){return s&&s.__esModule?s:{default:s}}a(r,"xy");var n=Ra(),i=r(n);e.default=function(s){s.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default}),UV=ht((e,t)=>{e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}a(r,"ly");var n=xi(),i=Ra(),s=r(i);e.default=function(o){o.registerHelper("if",function(l,u){if(arguments.length!=2)throw new s.default("#if requires exactly one argument");return n.isFunction(l)&&(l=l.call(this)),!u.hash.includeZero&&!l||n.isEmpty(l)?u.inverse(this):u.fn(this)}),o.registerHelper("unless",function(l,u){if(arguments.length!=2)throw new s.default("#unless requires exactly one argument");return o.helpers.if.call(this,l,{fn:u.inverse,inverse:u.fn,hash:u.hash})})},t.exports=e.default}),HV=ht((e,t)=>{e.__esModule=!0,e.default=function(r){r.registerHelper("log",function(){for(var n=[void 0],i=arguments[arguments.length-1],s=0;s<arguments.length-1;s++)n.push(arguments[s]);var o=1;i.hash.level!=null?o=i.hash.level:i.data&&i.data.level!=null&&(o=i.data.level),n[0]=o,r.log.apply(r,n)})},t.exports=e.default}),GV=ht((e,t)=>{e.__esModule=!0,e.default=function(r){r.registerHelper("lookup",function(n,i,s){return n&&s.lookupProperty(n,i)})},t.exports=e.default}),VV=ht((e,t)=>{e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}a(r,"Fy");var n=xi(),i=Ra(),s=r(i);e.default=function(o){o.registerHelper("with",function(l,u){if(arguments.length!=2)throw new s.default("#with requires exactly one argument");n.isFunction(l)&&(l=l.call(this));var c=u.fn;if(n.isEmpty(l))return u.inverse(this);var h=u.data;return u.data&&u.ids&&(h=n.createFrame(u.data),h.contextPath=n.appendContextPath(u.data.contextPath,u.ids[0])),c(l,{data:h,blockParams:n.blockParams([l],[h&&h.contextPath])})})},t.exports=e.default}),TT=ht(e=>{e.__esModule=!0,e.registerDefaultHelpers=A,e.moveHelperToHooks=C;function t(M){return M&&M.__esModule?M:{default:M}}a(t,"h_");var r=BV(),n=t(r),i=zV(),s=t(i),o=FV(),l=t(o),u=UV(),c=t(u),h=HV(),d=t(h),g=GV(),m=t(g),y=VV(),x=t(y);function A(M){n.default(M),s.default(M),l.default(M),c.default(M),d.default(M),m.default(M),x.default(M)}a(A,"wu");function C(M,R,P){M.helpers[R]&&(M.hooks[R]=M.helpers[R],!P&&delete M.helpers[R])}a(C,"fu")}),YV=ht((e,t)=>{e.__esModule=!0;var r=xi();e.default=function(n){n.registerDecorator("inline",function(i,s,o,l){var u=i;return s.partials||(s.partials={},u=a(function(c,h){var d=o.partials;o.partials=r.extend({},d,s.partials);var g=i(c,h);return o.partials=d,g},"Y")),s.partials[l.args[0]]=l.fn,u})},t.exports=e.default}),ZV=ht(e=>{e.__esModule=!0,e.registerDefaultDecorators=i;function t(s){return s&&s.__esModule?s:{default:s}}a(t,"Mu");var r=YV(),n=t(r);function i(s){n.default(s)}a(i,"hu")}),NT=ht((e,t)=>{e.__esModule=!0;var r=xi(),n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:a(function(i){if(typeof i=="string"){var s=r.indexOf(n.methodMap,i.toLowerCase());s>=0?i=s:i=parseInt(i,10)}return i},"lookupLevel"),log:a(function(i){if(i=n.lookupLevel(i),typeof console<"u"&&n.lookupLevel(n.level)<=i){var s=n.methodMap[i];console[s]||(s="log");for(var o=arguments.length,l=Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];console[s].apply(console,l)}},"log")};e.default=n,t.exports=e.default}),$V=ht(e=>{e.__esModule=!0,e.createNewLookupObject=r;var t=xi();function r(){for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.extend.apply(void 0,[Object.create(null)].concat(i))}a(r,"yu")}),CT=ht(e=>{e.__esModule=!0,e.createProtoAccessControl=o,e.resultIsAllowed=l,e.resetLoggedProperties=h;function t(d){return d&&d.__esModule?d:{default:d}}a(t,"cu");var r=$V(),n=NT(),i=t(n),s=Object.create(null);function o(d){var g=Object.create(null);g.constructor=!1,g.__defineGetter__=!1,g.__defineSetter__=!1,g.__lookupGetter__=!1;var m=Object.create(null);return m.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(m,d.allowedProtoProperties),defaultValue:d.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(g,d.allowedProtoMethods),defaultValue:d.allowProtoMethodsByDefault}}}a(o,"lu");function l(d,g,m){return u(typeof d=="function"?g.methods:g.properties,m)}a(l,"ru");function u(d,g){return d.whitelist[g]!==void 0?d.whitelist[g]===!0:d.defaultValue!==void 0?d.defaultValue:(c(g),!1)}a(u,"Ck");function c(d){s[d]!==!0&&(s[d]=!0,i.default.log("error",'Handlebars: Access has been denied to resolve the property "'+d+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}a(c,"ou");function h(){Object.keys(s).forEach(function(d){delete s[d]})}a(h,"nu")}),f4=ht(e=>{e.__esModule=!0,e.HandlebarsEnvironment=x;function t(C){return C&&C.__esModule?C:{default:C}}a(t,"hk");var r=xi(),n=Ra(),i=t(n),s=TT(),o=ZV(),l=NT(),u=t(l),c=CT(),h="4.7.8";e.VERSION=h;var d=8;e.COMPILER_REVISION=d;var g=7;e.LAST_COMPATIBLE_COMPILER_REVISION=g;var m={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};e.REVISION_CHANGES=m;var y="[object Object]";function x(C,M,R){this.helpers=C||{},this.partials=M||{},this.decorators=R||{},s.registerDefaultHelpers(this),o.registerDefaultDecorators(this)}a(x,"mz"),x.prototype={constructor:x,logger:u.default,log:u.default.log,registerHelper:a(function(C,M){if(r.toString.call(C)===y){if(M)throw new i.default("Arg not supported with multiple helpers");r.extend(this.helpers,C)}else this.helpers[C]=M},"registerHelper"),unregisterHelper:a(function(C){delete this.helpers[C]},"unregisterHelper"),registerPartial:a(function(C,M){if(r.toString.call(C)===y)r.extend(this.partials,C);else{if(typeof M>"u")throw new i.default('Attempting to register a partial called "'+C+'" as undefined');this.partials[C]=M}},"registerPartial"),unregisterPartial:a(function(C){delete this.partials[C]},"unregisterPartial"),registerDecorator:a(function(C,M){if(r.toString.call(C)===y){if(M)throw new i.default("Arg not supported with multiple decorators");r.extend(this.decorators,C)}else this.decorators[C]=M},"registerDecorator"),unregisterDecorator:a(function(C){delete this.decorators[C]},"unregisterDecorator"),resetLoggedPropertyAccesses:a(function(){c.resetLoggedProperties()},"resetLoggedPropertyAccesses")};var A=u.default.log;e.log=A,e.createFrame=r.createFrame,e.logger=u.default}),XV=ht((e,t)=>{e.__esModule=!0;function r(n){this.string=n}a(r,"dz"),r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default}),JV=ht(e=>{e.__esModule=!0,e.wrapHelper=t;function t(r,n){if(typeof r!="function")return r;var i=a(function(){var s=arguments[arguments.length-1];return arguments[arguments.length-1]=n(s),r.apply(this,arguments)},"K");return i}a(t,"Ax")}),KV=ht(e=>{e.__esModule=!0,e.checkRevision=d,e.template=g,e.wrapProgram=m,e.resolvePartial=y,e.invokePartial=x,e.noop=A;function t(L){return L&&L.__esModule?L:{default:L}}a(t,"Sx");function r(L){if(L&&L.__esModule)return L;var z={};if(L!=null)for(var Z in L)Object.prototype.hasOwnProperty.call(L,Z)&&(z[Z]=L[Z]);return z.default=L,z}a(r,"Mx");var n=xi(),i=r(n),s=Ra(),o=t(s),l=f4(),u=TT(),c=JV(),h=CT();function d(L){var z=L&&L[0]||1,Z=l.COMPILER_REVISION;if(!(z>=l.LAST_COMPATIBLE_COMPILER_REVISION&&z<=l.COMPILER_REVISION))if(z<l.LAST_COMPATIBLE_COMPILER_REVISION){var Y=l.REVISION_CHANGES[Z],ae=l.REVISION_CHANGES[z];throw new o.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+Y+") or downgrade your runtime to an older version ("+ae+").")}else throw new o.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+L[1]+").")}a(d,"Ex");function g(L,z){if(!z)throw new o.default("No environment passed to template");if(!L||!L.main)throw new o.default("Unknown template object: "+typeof L);L.main.decorator=L.main_d,z.VM.checkRevision(L.compiler);var Z=L.compiler&&L.compiler[0]===7;function Y(W,f,w){w.hash&&(f=i.extend({},f,w.hash),w.ids&&(w.ids[0]=!0)),W=z.VM.resolvePartial.call(this,W,f,w);var v=i.extend({},w,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),_=z.VM.invokePartial.call(this,W,f,v);if(_==null&&z.compile&&(w.partials[w.name]=z.compile(W,L.compilerOptions,z),_=w.partials[w.name](f,v)),_!=null){if(w.indent){for(var S=_.split(`
`),T=0,N=S.length;T<N&&!(!S[T]&&T+1===N);T++)S[T]=w.indent+S[T];_=S.join(`
`)}return _}else throw new o.default("The partial "+w.name+" could not be compiled when running in runtime-only mode")}a(Y,"P");var ae={strict:a(function(W,f,w){if(!W||!(f in W))throw new o.default('"'+f+'" not defined in '+W,{loc:w});return ae.lookupProperty(W,f)},"strict"),lookupProperty:a(function(W,f){var w=W[f];if(w==null||Object.prototype.hasOwnProperty.call(W,f)||h.resultIsAllowed(w,ae.protoAccessControl,f))return w},"lookupProperty"),lookup:a(function(W,f){for(var w=W.length,v=0;v<w;v++){var _=W[v]&&ae.lookupProperty(W[v],f);if(_!=null)return W[v][f]}},"lookup"),lambda:a(function(W,f){return typeof W=="function"?W.call(f):W},"lambda"),escapeExpression:i.escapeExpression,invokePartial:Y,fn:a(function(W){var f=L[W];return f.decorator=L[W+"_d"],f},"fn"),programs:[],program:a(function(W,f,w,v,_){var S=this.programs[W],T=this.fn(W);return f||_||v||w?S=m(this,W,T,f,w,v,_):S||(S=this.programs[W]=m(this,W,T)),S},"program"),data:a(function(W,f){for(;W&&f--;)W=W._parent;return W},"data"),mergeIfNeeded:a(function(W,f){var w=W||f;return W&&f&&W!==f&&(w=i.extend({},f,W)),w},"mergeIfNeeded"),nullContext:Object.seal({}),noop:z.VM.noop,compilerInfo:L.compiler};function F(W){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],w=f.data;F._setup(f),!f.partial&&L.useData&&(w=C(W,w));var v=void 0,_=L.useBlockParams?[]:void 0;L.useDepths&&(f.depths?v=W!=f.depths[0]?[W].concat(f.depths):f.depths:v=[W]);function S(T){return""+L.main(ae,T,ae.helpers,ae.partials,w,_,v)}return a(S,"f"),S=M(L.main,S,ae,f.depths||[],w,_),S(W,f)}return a(F,"Y"),F.isTop=!0,F._setup=function(W){if(W.partial)ae.protoAccessControl=W.protoAccessControl,ae.helpers=W.helpers,ae.partials=W.partials,ae.decorators=W.decorators,ae.hooks=W.hooks;else{var f=i.extend({},z.helpers,W.helpers);R(f,ae),ae.helpers=f,L.usePartial&&(ae.partials=ae.mergeIfNeeded(W.partials,z.partials)),(L.usePartial||L.useDecorators)&&(ae.decorators=i.extend({},z.decorators,W.decorators)),ae.hooks={},ae.protoAccessControl=h.createProtoAccessControl(W);var w=W.allowCallsToHelperMissing||Z;u.moveHelperToHooks(ae,"helperMissing",w),u.moveHelperToHooks(ae,"blockHelperMissing",w)}},F._child=function(W,f,w,v){if(L.useBlockParams&&!w)throw new o.default("must pass block params");if(L.useDepths&&!v)throw new o.default("must pass parent depths");return m(ae,W,L[W],f,0,w,v)},F}a(g,"Rx");function m(L,z,Z,Y,ae,F,W){function f(w){var v=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],_=W;return W&&w!=W[0]&&!(w===L.nullContext&&W[0]===null)&&(_=[w].concat(W)),Z(L,w,L.helpers,L.partials,v.data||Y,F&&[v.blockParams].concat(F),_)}return a(f,"z"),f=M(Z,f,L,W,Y,F),f.program=z,f.depth=W?W.length:0,f.blockParams=ae||0,f}a(m,"M5");function y(L,z,Z){return L?!L.call&&!Z.name&&(Z.name=L,L=Z.partials[L]):Z.name==="@partial-block"?L=Z.data["partial-block"]:L=Z.partials[Z.name],L}a(y,"Ix");function x(L,z,Z){var Y=Z.data&&Z.data["partial-block"];Z.partial=!0,Z.ids&&(Z.data.contextPath=Z.ids[0]||Z.data.contextPath);var ae=void 0;if(Z.fn&&Z.fn!==A&&(function(){Z.data=l.createFrame(Z.data);var F=Z.fn;ae=Z.data["partial-block"]=function(W){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return f.data=l.createFrame(f.data),f.data["partial-block"]=Y,F(W,f)},F.partials&&(Z.partials=i.extend({},Z.partials,F.partials))})(),L===void 0&&ae&&(L=ae),L===void 0)throw new o.default("The partial "+Z.name+" could not be found");if(L instanceof Function)return L(z,Z)}a(x,"Dx");function A(){return""}a(A,"bk");function C(L,z){return(!z||!("root"in z))&&(z=z?l.createFrame(z):{},z.root=L),z}a(C,"Lx");function M(L,z,Z,Y,ae,F){if(L.decorator){var W={};z=L.decorator(z,W,Z,Y&&Y[0],ae,F,Y),i.extend(z,W)}return z}a(M,"yk");function R(L,z){Object.keys(L).forEach(function(Z){var Y=L[Z];L[Z]=P(Y,z)})}a(R,"gx");function P(L,z){var Z=z.lookupProperty;return c.wrapHelper(L,function(Y){return i.extend({lookupProperty:Z},Y)})}a(P,"bx")}),IT=ht((e,t)=>{e.__esModule=!0,e.default=function(r){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var n=globalThis.Handlebars;r.noConflict=function(){return globalThis.Handlebars===r&&(globalThis.Handlebars=n),r}},t.exports=e.default}),WV=ht((e,t)=>{e.__esModule=!0;function r(M){return M&&M.__esModule?M:{default:M}}a(r,"oz");function n(M){if(M&&M.__esModule)return M;var R={};if(M!=null)for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(R[P]=M[P]);return R.default=M,R}a(n,"nz");var i=f4(),s=n(i),o=XV(),l=r(o),u=Ra(),c=r(u),h=xi(),d=n(h),g=KV(),m=n(g),y=IT(),x=r(y);function A(){var M=new s.HandlebarsEnvironment;return d.extend(M,s),M.SafeString=l.default,M.Exception=c.default,M.Utils=d,M.escapeExpression=d.escapeExpression,M.VM=m,M.template=function(R){return m.template(R,M)},M}a(A,"dk");var C=A();C.create=A,x.default(C),C.default=C,e.default=C,t.exports=e.default}),MT=ht((e,t)=>{e.__esModule=!0;var r={helpers:{helperExpression:a(function(n){return n.type==="SubExpression"||(n.type==="MustacheStatement"||n.type==="BlockStatement")&&!!(n.params&&n.params.length||n.hash)},"helperExpression"),scopedId:a(function(n){return/^\.|this\b/.test(n.original)},"scopedId"),simpleId:a(function(n){return n.parts.length===1&&!r.helpers.scopedId(n)&&!n.depth},"simpleId")}};e.default=r,t.exports=e.default}),QV=ht((e,t)=>{e.__esModule=!0;var r=(function(){var n={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:a(function(o,l,u,c,h,d,g){var m=d.length-1;switch(h){case 1:return d[m-1];case 2:this.$=c.prepareProgram(d[m]);break;case 3:this.$=d[m];break;case 4:this.$=d[m];break;case 5:this.$=d[m];break;case 6:this.$=d[m];break;case 7:this.$=d[m];break;case 8:this.$=d[m];break;case 9:this.$={type:"CommentStatement",value:c.stripComment(d[m]),strip:c.stripFlags(d[m],d[m]),loc:c.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:d[m],value:d[m],loc:c.locInfo(this._$)};break;case 11:this.$=c.prepareRawBlock(d[m-2],d[m-1],d[m],this._$);break;case 12:this.$={path:d[m-3],params:d[m-2],hash:d[m-1]};break;case 13:this.$=c.prepareBlock(d[m-3],d[m-2],d[m-1],d[m],!1,this._$);break;case 14:this.$=c.prepareBlock(d[m-3],d[m-2],d[m-1],d[m],!0,this._$);break;case 15:this.$={open:d[m-5],path:d[m-4],params:d[m-3],hash:d[m-2],blockParams:d[m-1],strip:c.stripFlags(d[m-5],d[m])};break;case 16:this.$={path:d[m-4],params:d[m-3],hash:d[m-2],blockParams:d[m-1],strip:c.stripFlags(d[m-5],d[m])};break;case 17:this.$={path:d[m-4],params:d[m-3],hash:d[m-2],blockParams:d[m-1],strip:c.stripFlags(d[m-5],d[m])};break;case 18:this.$={strip:c.stripFlags(d[m-1],d[m-1]),program:d[m]};break;case 19:var y=c.prepareBlock(d[m-2],d[m-1],d[m],d[m],!1,this._$),x=c.prepareProgram([y],d[m-1].loc);x.chained=!0,this.$={strip:d[m-2].strip,program:x,chain:!0};break;case 20:this.$=d[m];break;case 21:this.$={path:d[m-1],strip:c.stripFlags(d[m-2],d[m])};break;case 22:this.$=c.prepareMustache(d[m-3],d[m-2],d[m-1],d[m-4],c.stripFlags(d[m-4],d[m]),this._$);break;case 23:this.$=c.prepareMustache(d[m-3],d[m-2],d[m-1],d[m-4],c.stripFlags(d[m-4],d[m]),this._$);break;case 24:this.$={type:"PartialStatement",name:d[m-3],params:d[m-2],hash:d[m-1],indent:"",strip:c.stripFlags(d[m-4],d[m]),loc:c.locInfo(this._$)};break;case 25:this.$=c.preparePartialBlock(d[m-2],d[m-1],d[m],this._$);break;case 26:this.$={path:d[m-3],params:d[m-2],hash:d[m-1],strip:c.stripFlags(d[m-4],d[m])};break;case 27:this.$=d[m];break;case 28:this.$=d[m];break;case 29:this.$={type:"SubExpression",path:d[m-3],params:d[m-2],hash:d[m-1],loc:c.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:d[m],loc:c.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:c.id(d[m-2]),value:d[m],loc:c.locInfo(this._$)};break;case 32:this.$=c.id(d[m-1]);break;case 33:this.$=d[m];break;case 34:this.$=d[m];break;case 35:this.$={type:"StringLiteral",value:d[m],original:d[m],loc:c.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(d[m]),original:Number(d[m]),loc:c.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:d[m]==="true",original:d[m]==="true",loc:c.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:c.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:c.locInfo(this._$)};break;case 40:this.$=d[m];break;case 41:this.$=d[m];break;case 42:this.$=c.preparePath(!0,d[m],this._$);break;case 43:this.$=c.preparePath(!1,d[m],this._$);break;case 44:d[m-2].push({part:c.id(d[m]),original:d[m],separator:d[m-1]}),this.$=d[m-2];break;case 45:this.$=[{part:c.id(d[m]),original:d[m]}];break;case 46:this.$=[];break;case 47:d[m-1].push(d[m]);break;case 48:this.$=[];break;case 49:d[m-1].push(d[m]);break;case 50:this.$=[];break;case 51:d[m-1].push(d[m]);break;case 58:this.$=[];break;case 59:d[m-1].push(d[m]);break;case 64:this.$=[];break;case 65:d[m-1].push(d[m]);break;case 70:this.$=[];break;case 71:d[m-1].push(d[m]);break;case 78:this.$=[];break;case 79:d[m-1].push(d[m]);break;case 82:this.$=[];break;case 83:d[m-1].push(d[m]);break;case 86:this.$=[];break;case 87:d[m-1].push(d[m]);break;case 90:this.$=[];break;case 91:d[m-1].push(d[m]);break;case 94:this.$=[];break;case 95:d[m-1].push(d[m]);break;case 98:this.$=[d[m]];break;case 99:d[m-1].push(d[m]);break;case 100:this.$=[d[m]];break;case 101:d[m-1].push(d[m]);break}},"performAction"),table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:a(function(o,l){throw Error(o)},"parseError"),parse:a(function(o){var l=this,u=[0],c=[null],h=[],d=this.table,g="",m=0,y=0,x=0;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var A=this.lexer.yylloc;h.push(A);var C=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function M(){var w=l.lexer.lex()||1;return typeof w!="number"&&(w=l.symbols_[w]||w),w}a(M,"g");for(var R,P,L,z,Z={},Y,ae,F,W;;){if(P=u[u.length-1],this.defaultActions[P]?L=this.defaultActions[P]:((R===null||typeof R>"u")&&(R=M()),L=d[P]&&d[P][R]),typeof L>"u"||!L.length||!L[0]){var f="";{W=[];for(Y in d[P])this.terminals_[Y]&&Y>2&&W.push("'"+this.terminals_[Y]+"'");this.lexer.showPosition?f="Parse error on line "+(m+1)+`:
`+this.lexer.showPosition()+`
Expecting `+W.join(", ")+", got '"+(this.terminals_[R]||R)+"'":f="Parse error on line "+(m+1)+": Unexpected "+(R==1?"end of input":"'"+(this.terminals_[R]||R)+"'"),this.parseError(f,{text:this.lexer.match,token:this.terminals_[R]||R,line:this.lexer.yylineno,loc:A,expected:W})}}if(L[0]instanceof Array&&L.length>1)throw Error("Parse Error: multiple actions possible at state: "+P+", token: "+R);switch(L[0]){case 1:u.push(R),c.push(this.lexer.yytext),h.push(this.lexer.yylloc),u.push(L[1]),R=null,y=this.lexer.yyleng,g=this.lexer.yytext,m=this.lexer.yylineno,A=this.lexer.yylloc,x>0;break;case 2:if(ae=this.productions_[L[1]][1],Z.$=c[c.length-ae],Z._$={first_line:h[h.length-(ae||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(ae||1)].first_column,last_column:h[h.length-1].last_column},C&&(Z._$.range=[h[h.length-(ae||1)].range[0],h[h.length-1].range[1]]),z=this.performAction.call(Z,g,y,m,this.yy,L[1],c,h),typeof z<"u")return z;ae&&(u=u.slice(0,-1*ae*2),c=c.slice(0,-1*ae),h=h.slice(0,-1*ae)),u.push(this.productions_[L[1]][0]),c.push(Z.$),h.push(Z._$),F=d[u[u.length-2]][u[u.length-1]],u.push(F);break;case 3:return!0}}return!0},"parse")},i=(function(){var o={EOF:1,parseError:a(function(l,u){if(this.yy.parser)this.yy.parser.parseError(l,u);else throw Error(l)},"parseError"),setInput:a(function(l){return this._input=l,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:a(function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var u=l.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},"input"),unput:a(function(l){var u=l.length,c=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u-1),this.offset-=u;var h=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===h.length?this.yylloc.first_column:0)+h[h.length-c.length].length-c[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-u]),this},"unput"),more:a(function(){return this._more=!0,this},"more"),less:a(function(l){this.unput(this.match.slice(l))},"less"),pastInput:a(function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:a(function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:a(function(){var l=this.pastInput(),u=Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+u+"^"},"showPosition"),next:a(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,u,c,h,d;this._more||(this.yytext="",this.match="");for(var g=this._currentRules(),m=0;m<g.length&&(c=this._input.match(this.rules[g[m]]),!(c&&(!u||c[0].length>u[0].length)&&(u=c,h=m,!this.options.flex)));m++);return u?(d=u[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],l=this.performAction.call(this,this.yy,this,g[h],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),l||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:a(function(){var l=this.next();return typeof l<"u"?l:this.lex()},"lex"),begin:a(function(l){this.conditionStack.push(l)},"begin"),popState:a(function(){return this.conditionStack.pop()},"popState"),_currentRules:a(function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},"_currentRules"),topState:a(function(){return this.conditionStack[this.conditionStack.length-2]},"topState"),pushState:a(function(l){this.begin(l)},"pushState")};return o.options={},o.performAction=function(l,u,c,h){function d(g,m){return u.yytext=u.yytext.substring(g,u.yyleng-m+g)}switch(a(d,"T"),c){case 0:if(u.yytext.slice(-2)==="\\\\"?(d(0,1),this.begin("mu")):u.yytext.slice(-1)==="\\"?(d(0,1),this.begin("emu")):this.begin("mu"),u.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(d(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(u.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return u.yytext=d(1,2).replace(/\\"/g,'"'),80;case 32:return u.yytext=d(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return u.yytext=u.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},o.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],o.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},o})();n.lexer=i;function s(){this.yy={}}return a(s,"K"),s.prototype=n,n.Parser=s,new s})();e.default=r,t.exports=e.default}),p4=ht((e,t)=>{e.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}a(r,"Yp");var n=Ra(),i=r(n);function s(){this.parents=[]}a(s,"N5"),s.prototype={constructor:s,mutating:!1,acceptKey:a(function(c,h){var d=this.accept(c[h]);if(this.mutating){if(d&&!s.prototype[d.type])throw new i.default('Unexpected node type "'+d.type+'" found when accepting '+h+" on "+c.type);c[h]=d}},"acceptKey"),acceptRequired:a(function(c,h){if(this.acceptKey(c,h),!c[h])throw new i.default(c.type+" requires "+h)},"acceptRequired"),acceptArray:a(function(c){for(var h=0,d=c.length;h<d;h++)this.acceptKey(c,h),!c[h]&&(c.splice(h,1),h--,d--)},"acceptArray"),accept:a(function(c){if(c){if(!this[c.type])throw new i.default("Unknown type: "+c.type,c);this.current&&this.parents.unshift(this.current),this.current=c;var h=this[c.type](c);if(this.current=this.parents.shift(),!this.mutating||h)return h;if(h!==!1)return c}},"accept"),Program:a(function(c){this.acceptArray(c.body)},"Program"),MustacheStatement:o,Decorator:o,BlockStatement:l,DecoratorBlock:l,PartialStatement:u,PartialBlockStatement:a(function(c){u.call(this,c),this.acceptKey(c,"program")},"PartialBlockStatement"),ContentStatement:a(function(){},"ContentStatement"),CommentStatement:a(function(){},"CommentStatement"),SubExpression:o,PathExpression:a(function(){},"PathExpression"),StringLiteral:a(function(){},"StringLiteral"),NumberLiteral:a(function(){},"NumberLiteral"),BooleanLiteral:a(function(){},"BooleanLiteral"),UndefinedLiteral:a(function(){},"UndefinedLiteral"),NullLiteral:a(function(){},"NullLiteral"),Hash:a(function(c){this.acceptArray(c.pairs)},"Hash"),HashPair:a(function(c){this.acceptRequired(c,"value")},"HashPair")};function o(c){this.acceptRequired(c,"path"),this.acceptArray(c.params),this.acceptKey(c,"hash")}a(o,"C5");function l(c){o.call(this,c),this.acceptKey(c,"program"),this.acceptKey(c,"inverse")}a(l,"ak");function u(c){this.acceptRequired(c,"name"),this.acceptArray(c.params),this.acceptKey(c,"hash")}a(u,"Qk"),e.default=s,t.exports=e.default}),qV=ht((e,t)=>{e.__esModule=!0;function r(h){return h&&h.__esModule?h:{default:h}}a(r,"Wp");var n=p4(),i=r(n);function s(){var h=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=h}a(s,"Q8"),s.prototype=new i.default,s.prototype.Program=function(h){var d=!this.options.ignoreStandalone,g=!this.isRootSeen;this.isRootSeen=!0;for(var m=h.body,y=0,x=m.length;y<x;y++){var A=m[y],C=this.accept(A);if(C){var M=o(m,y,g),R=l(m,y,g),P=C.openStandalone&&M,L=C.closeStandalone&&R,z=C.inlineStandalone&&M&&R;C.close&&u(m,y,!0),C.open&&c(m,y,!0),d&&z&&(u(m,y),c(m,y)&&A.type==="PartialStatement"&&(A.indent=/([ \t]+$)/.exec(m[y-1].original)[1])),d&&P&&(u((A.program||A.inverse).body),c(m,y)),d&&L&&(u(m,y),c((A.inverse||A.program).body))}}return h},s.prototype.BlockStatement=s.prototype.DecoratorBlock=s.prototype.PartialBlockStatement=function(h){this.accept(h.program),this.accept(h.inverse);var d=h.program||h.inverse,g=h.program&&h.inverse,m=g,y=g;if(g&&g.chained)for(m=g.body[0].program;y.chained;)y=y.body[y.body.length-1].program;var x={open:h.openStrip.open,close:h.closeStrip.close,openStandalone:l(d.body),closeStandalone:o((m||d).body)};if(h.openStrip.close&&u(d.body,null,!0),g){var A=h.inverseStrip;A.open&&c(d.body,null,!0),A.close&&u(m.body,null,!0),h.closeStrip.open&&c(y.body,null,!0),!this.options.ignoreStandalone&&o(d.body)&&l(m.body)&&(c(d.body),u(m.body))}else h.closeStrip.open&&c(d.body,null,!0);return x},s.prototype.Decorator=s.prototype.MustacheStatement=function(h){return h.strip},s.prototype.PartialStatement=s.prototype.CommentStatement=function(h){var d=h.strip||{};return{inlineStandalone:!0,open:d.open,close:d.close}};function o(h,d,g){d===void 0&&(d=h.length);var m=h[d-1],y=h[d-2];if(!m)return g;if(m.type==="ContentStatement")return(y||!g?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(m.original)}a(o,"Bz");function l(h,d,g){d===void 0&&(d=-1);var m=h[d+1],y=h[d+2];if(!m)return g;if(m.type==="ContentStatement")return(y||!g?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(m.original)}a(l,"Uz");function u(h,d,g){var m=h[d==null?0:d+1];if(!(!m||m.type!=="ContentStatement"||!g&&m.rightStripped)){var y=m.value;m.value=m.value.replace(g?/^\s+/:/^[ \t]*\r?\n?/,""),m.rightStripped=m.value!==y}}a(u,"R_");function c(h,d,g){var m=h[d==null?h.length-1:d-1];if(!(!m||m.type!=="ContentStatement"||!g&&m.leftStripped)){var y=m.value;return m.value=m.value.replace(g?/\s+$/:/[ \t]+$/,""),m.leftStripped=m.value!==y,m.leftStripped}}a(c,"eK"),e.default=s,t.exports=e.default}),eY=ht(e=>{e.__esModule=!0,e.SourceLocation=s,e.id=o,e.stripFlags=l,e.stripComment=u,e.preparePath=c,e.prepareMustache=h,e.prepareRawBlock=d,e.prepareBlock=g,e.prepareProgram=m,e.preparePartialBlock=y;function t(x){return x&&x.__esModule?x:{default:x}}a(t,"fp");var r=Ra(),n=t(r);function i(x,A){if(A=A.path?A.path.original:A,x.path.original!==A){var C={loc:x.path.loc};throw new n.default(x.path.original+" doesn't match "+A,C)}}a(i,"az");function s(x,A){this.source=x,this.start={line:A.first_line,column:A.first_column},this.end={line:A.last_line,column:A.last_column}}a(s,"Xp");function o(x){return/^\[.*\]$/.test(x)?x.substring(1,x.length-1):x}a(o,"Ap");function l(x,A){return{open:x.charAt(2)==="~",close:A.charAt(A.length-3)==="~"}}a(l,"kp");function u(x){return x.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}a(u,"Gp");function c(x,A,C){C=this.locInfo(C);for(var M=x?"@":"",R=[],P=0,L=0,z=A.length;L<z;L++){var Z=A[L].part,Y=A[L].original!==Z;if(M+=(A[L].separator||"")+Z,!Y&&(Z===".."||Z==="."||Z==="this")){if(R.length>0)throw new n.default("Invalid path: "+M,{loc:C});Z===".."&&P++}else R.push(Z)}return{type:"PathExpression",data:x,depth:P,parts:R,original:M,loc:C}}a(c,"Vp");function h(x,A,C,M,R,P){var L=M.charAt(3)||M.charAt(2),z=L!=="{"&&L!=="&",Z=/\*/.test(M);return{type:Z?"Decorator":"MustacheStatement",path:x,params:A,hash:C,escaped:z,strip:R,loc:this.locInfo(P)}}a(h,"Sp");function d(x,A,C,M){i(x,C),M=this.locInfo(M);var R={type:"Program",body:A,strip:{},loc:M};return{type:"BlockStatement",path:x.path,params:x.params,hash:x.hash,program:R,openStrip:{},inverseStrip:{},closeStrip:{},loc:M}}a(d,"Mp");function g(x,A,C,M,R,P){M&&M.path&&i(x,M);var L=/\*/.test(x.open);A.blockParams=x.blockParams;var z=void 0,Z=void 0;if(C){if(L)throw new n.default("Unexpected inverse block on decorator",C);C.chain&&(C.program.body[0].closeStrip=M.strip),Z=C.strip,z=C.program}return R&&(R=z,z=A,A=R),{type:L?"DecoratorBlock":"BlockStatement",path:x.path,params:x.params,hash:x.hash,program:A,inverse:z,openStrip:x.strip,inverseStrip:Z,closeStrip:M&&M.strip,loc:this.locInfo(P)}}a(g,"Np");function m(x,A){if(!A&&x.length){var C=x[0].loc,M=x[x.length-1].loc;C&&M&&(A={source:C.source,start:{line:C.start.line,column:C.start.column},end:{line:M.end.line,column:M.end.column}})}return{type:"Program",body:x,strip:{},loc:A}}a(m,"Cp");function y(x,A,C,M){return i(x,C),{type:"PartialBlockStatement",name:x.path,params:x.params,hash:x.hash,program:A,openStrip:x.strip,closeStrip:C&&C.strip,loc:this.locInfo(M)}}a(y,"hp")}),tY=ht(e=>{e.__esModule=!0,e.parseWithoutProcessing=d,e.parse=g;function t(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(y[x]=m[x]);return y.default=m,y}a(t,"mp");function r(m){return m&&m.__esModule?m:{default:m}}a(r,"PG");var n=QV(),i=r(n),s=qV(),o=r(s),l=eY(),u=t(l),c=xi();e.parser=i.default;var h={};c.extend(h,u);function d(m,y){if(m.type==="Program")return m;i.default.yy=h,h.locInfo=function(A){return new h.SourceLocation(y&&y.srcName,A)};var x=i.default.parse(m);return x}a(d,"OG");function g(m,y){var x=d(m,y),A=new o.default(y);return A.accept(x)}a(g,"tp")}),rY=ht(e=>{e.__esModule=!0,e.Compiler=u,e.precompile=c,e.compile=h;function t(m){return m&&m.__esModule?m:{default:m}}a(t,"vG");var r=Ra(),n=t(r),i=xi(),s=MT(),o=t(s),l=[].slice;function u(){}a(u,"ez"),u.prototype={compiler:u,equals:a(function(m){var y=this.opcodes.length;if(m.opcodes.length!==y)return!1;for(var x=0;x<y;x++){var A=this.opcodes[x],C=m.opcodes[x];if(A.opcode!==C.opcode||!d(A.args,C.args))return!1}y=this.children.length;for(var x=0;x<y;x++)if(!this.children[x].equals(m.children[x]))return!1;return!0},"equals"),guid:0,compile:a(function(m,y){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=y,this.stringParams=y.stringParams,this.trackIds=y.trackIds,y.blockParams=y.blockParams||[],y.knownHelpers=i.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},y.knownHelpers),this.accept(m)},"compile"),compileProgram:a(function(m){var y=new this.compiler,x=y.compile(m,this.options),A=this.guid++;return this.usePartial=this.usePartial||x.usePartial,this.children[A]=x,this.useDepths=this.useDepths||x.useDepths,A},"compileProgram"),accept:a(function(m){if(!this[m.type])throw new n.default("Unknown type: "+m.type,m);this.sourceNode.unshift(m);var y=this[m.type](m);return this.sourceNode.shift(),y},"accept"),Program:a(function(m){this.options.blockParams.unshift(m.blockParams);for(var y=m.body,x=y.length,A=0;A<x;A++)this.accept(y[A]);return this.options.blockParams.shift(),this.isSimple=x===1,this.blockParams=m.blockParams?m.blockParams.length:0,this},"Program"),BlockStatement:a(function(m){g(m);var{program:y,inverse:x}=m;y=y&&this.compileProgram(y),x=x&&this.compileProgram(x);var A=this.classifySexpr(m);A==="helper"?this.helperSexpr(m,y,x):A==="simple"?(this.simpleSexpr(m),this.opcode("pushProgram",y),this.opcode("pushProgram",x),this.opcode("emptyHash"),this.opcode("blockValue",m.path.original)):(this.ambiguousSexpr(m,y,x),this.opcode("pushProgram",y),this.opcode("pushProgram",x),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},"BlockStatement"),DecoratorBlock:a(function(m){var y=m.program&&this.compileProgram(m.program),x=this.setupFullMustacheParams(m,y,void 0),A=m.path;this.useDecorators=!0,this.opcode("registerDecorator",x.length,A.original)},"DecoratorBlock"),PartialStatement:a(function(m){this.usePartial=!0;var y=m.program;y&&(y=this.compileProgram(m.program));var x=m.params;if(x.length>1)throw new n.default("Unsupported number of partial arguments: "+x.length,m);x.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):x.push({type:"PathExpression",parts:[],depth:0}));var A=m.name.original,C=m.name.type==="SubExpression";C&&this.accept(m.name),this.setupFullMustacheParams(m,y,void 0,!0);var M=m.indent||"";this.options.preventIndent&&M&&(this.opcode("appendContent",M),M=""),this.opcode("invokePartial",C,A,M),this.opcode("append")},"PartialStatement"),PartialBlockStatement:a(function(m){this.PartialStatement(m)},"PartialBlockStatement"),MustacheStatement:a(function(m){this.SubExpression(m),m.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},"MustacheStatement"),Decorator:a(function(m){this.DecoratorBlock(m)},"Decorator"),ContentStatement:a(function(m){m.value&&this.opcode("appendContent",m.value)},"ContentStatement"),CommentStatement:a(function(){},"CommentStatement"),SubExpression:a(function(m){g(m);var y=this.classifySexpr(m);y==="simple"?this.simpleSexpr(m):y==="helper"?this.helperSexpr(m):this.ambiguousSexpr(m)},"SubExpression"),ambiguousSexpr:a(function(m,y,x){var A=m.path,C=A.parts[0],M=y!=null||x!=null;this.opcode("getContext",A.depth),this.opcode("pushProgram",y),this.opcode("pushProgram",x),A.strict=!0,this.accept(A),this.opcode("invokeAmbiguous",C,M)},"ambiguousSexpr"),simpleSexpr:a(function(m){var y=m.path;y.strict=!0,this.accept(y),this.opcode("resolvePossibleLambda")},"simpleSexpr"),helperSexpr:a(function(m,y,x){var A=this.setupFullMustacheParams(m,y,x),C=m.path,M=C.parts[0];if(this.options.knownHelpers[M])this.opcode("invokeKnownHelper",A.length,M);else{if(this.options.knownHelpersOnly)throw new n.default("You specified knownHelpersOnly, but used the unknown helper "+M,m);C.strict=!0,C.falsy=!0,this.accept(C),this.opcode("invokeHelper",A.length,C.original,o.default.helpers.simpleId(C))}},"helperSexpr"),PathExpression:a(function(m){this.addDepth(m.depth),this.opcode("getContext",m.depth);var y=m.parts[0],x=o.default.helpers.scopedId(m),A=!m.depth&&!x&&this.blockParamIndex(y);A?this.opcode("lookupBlockParam",A,m.parts):y?m.data?(this.options.data=!0,this.opcode("lookupData",m.depth,m.parts,m.strict)):this.opcode("lookupOnContext",m.parts,m.falsy,m.strict,x):this.opcode("pushContext")},"PathExpression"),StringLiteral:a(function(m){this.opcode("pushString",m.value)},"StringLiteral"),NumberLiteral:a(function(m){this.opcode("pushLiteral",m.value)},"NumberLiteral"),BooleanLiteral:a(function(m){this.opcode("pushLiteral",m.value)},"BooleanLiteral"),UndefinedLiteral:a(function(){this.opcode("pushLiteral","undefined")},"UndefinedLiteral"),NullLiteral:a(function(){this.opcode("pushLiteral","null")},"NullLiteral"),Hash:a(function(m){var y=m.pairs,x=0,A=y.length;for(this.opcode("pushHash");x<A;x++)this.pushParam(y[x].value);for(;x--;)this.opcode("assignToHash",y[x].key);this.opcode("popHash")},"Hash"),opcode:a(function(m){this.opcodes.push({opcode:m,args:l.call(arguments,1),loc:this.sourceNode[0].loc})},"opcode"),addDepth:a(function(m){m&&(this.useDepths=!0)},"addDepth"),classifySexpr:a(function(m){var y=o.default.helpers.simpleId(m.path),x=y&&!!this.blockParamIndex(m.path.parts[0]),A=!x&&o.default.helpers.helperExpression(m),C=!x&&(A||y);if(C&&!A){var M=m.path.parts[0],R=this.options;R.knownHelpers[M]?A=!0:R.knownHelpersOnly&&(C=!1)}return A?"helper":C?"ambiguous":"simple"},"classifySexpr"),pushParams:a(function(m){for(var y=0,x=m.length;y<x;y++)this.pushParam(m[y])},"pushParams"),pushParam:a(function(m){var y=m.value!=null?m.value:m.original||"";if(this.stringParams)y.replace&&(y=y.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),m.depth&&this.addDepth(m.depth),this.opcode("getContext",m.depth||0),this.opcode("pushStringParam",y,m.type),m.type==="SubExpression"&&this.accept(m);else{if(this.trackIds){var x=void 0;if(m.parts&&!o.default.helpers.scopedId(m)&&!m.depth&&(x=this.blockParamIndex(m.parts[0])),x){var A=m.parts.slice(1).join(".");this.opcode("pushId","BlockParam",x,A)}else y=m.original||y,y.replace&&(y=y.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",m.type,y)}this.accept(m)}},"pushParam"),setupFullMustacheParams:a(function(m,y,x,A){var C=m.params;return this.pushParams(C),this.opcode("pushProgram",y),this.opcode("pushProgram",x),m.hash?this.accept(m.hash):this.opcode("emptyHash",A),C},"setupFullMustacheParams"),blockParamIndex:a(function(m){for(var y=0,x=this.options.blockParams.length;y<x;y++){var A=this.options.blockParams[y],C=A&&i.indexOf(A,m);if(A&&C>=0)return[y,C]}},"blockParamIndex")};function c(m,y,x){if(m==null||typeof m!="string"&&m.type!=="Program")throw new n.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+m);y=y||{},!("data"in y)&&(y.data=!0),y.compat&&(y.useDepths=!0);var A=x.parse(m,y),C=new x.Compiler().compile(A,y);return new x.JavaScriptCompiler().compile(C,y)}a(c,"qc");function h(m,y,x){if(y===void 0&&(y={}),m==null||typeof m!="string"&&m.type!=="Program")throw new n.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+m);y=i.extend({},y),!("data"in y)&&(y.data=!0),y.compat&&(y.useDepths=!0);var A=void 0;function C(){var R=x.parse(m,y),P=new x.Compiler().compile(R,y),L=new x.JavaScriptCompiler().compile(P,y,void 0,!0);return x.template(L)}a(C,"_");function M(R,P){return A||(A=C()),A.call(this,R,P)}return a(M,"Y"),M._setup=function(R){return A||(A=C()),A._setup(R)},M._child=function(R,P,L,z){return A||(A=C()),A._child(R,P,L,z)},M}a(h,"Kc");function d(m,y){if(m===y)return!0;if(i.isArray(m)&&i.isArray(y)&&m.length===y.length){for(var x=0;x<m.length;x++)if(!d(m[x],y[x]))return!1;return!0}}a(d,"zG");function g(m){if(!m.path.parts){var y=m.path;m.path={type:"PathExpression",data:!1,depth:0,parts:[y.original+""],original:y.original+"",loc:y.loc}}}a(g,"jG")}),nY=ht(e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(r){if(0<=r&&r<t.length)return t[r];throw TypeError("Must be between 0 and 63: "+r)},e.decode=function(r){var n=65,i=90,s=97,o=122,l=48,u=57,c=43,h=47,d=26,g=52;return n<=r&&r<=i?r-n:s<=r&&r<=o?r-s+d:l<=r&&r<=u?r-l+g:r==c?62:r==h?63:-1}}),OT=ht(e=>{var t=nY(),r=5,n=1<<r,i=n-1,s=n;function o(u){return u<0?(-u<<1)+1:(u<<1)+0}a(o,"Hc");function l(u){var c=(u&1)===1,h=u>>1;return c?-h:h}a(l,"Jc"),e.encode=function(u){var c="",h,d=o(u);do h=d&i,d>>>=r,d>0&&(h|=s),c+=t.encode(h);while(d>0);return c},e.decode=function(u,c,h){var d=u.length,g=0,m=0,y,x;do{if(c>=d)throw Error("Expected more digits in base 64 VLQ value.");if(x=t.decode(u.charCodeAt(c++)),x===-1)throw Error("Invalid base64 digit: "+u.charAt(c-1));y=!!(x&s),x&=i,g=g+(x<<m),m+=r}while(y);h.value=l(g),h.rest=c}}),Ch=ht(e=>{function t(P,L,z){if(L in P)return P[L];if(arguments.length===3)return z;throw Error('"'+L+'" is a required argument.')}a(t,"Zc"),e.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(P){var L=P.match(r);return L?{scheme:L[1],auth:L[2],host:L[3],port:L[4],path:L[5]}:null}a(i,"D7"),e.urlParse=i;function s(P){var L="";return P.scheme&&(L+=P.scheme+":"),L+="//",P.auth&&(L+=P.auth+"@"),P.host&&(L+=P.host),P.port&&(L+=":"+P.port),P.path&&(L+=P.path),L}a(s,"h4"),e.urlGenerate=s;function o(P){var L=P,z=i(P);if(z){if(!z.path)return P;L=z.path}for(var Z=e.isAbsolute(L),Y=L.split(/\/+/),ae,F=0,W=Y.length-1;W>=0;W--)ae=Y[W],ae==="."?Y.splice(W,1):ae===".."?F++:F>0&&(ae===""?(Y.splice(W+1,F),F=0):(Y.splice(W,2),F--));return L=Y.join("/"),L===""&&(L=Z?"/":"."),z?(z.path=L,s(z)):L}a(o,"qW"),e.normalize=o;function l(P,L){P===""&&(P="."),L===""&&(L=".");var z=i(L),Z=i(P);if(Z&&(P=Z.path||"/"),z&&!z.scheme)return Z&&(z.scheme=Z.scheme),s(z);if(z||L.match(n))return L;if(Z&&!Z.host&&!Z.path)return Z.host=L,s(Z);var Y=L.charAt(0)==="/"?L:o(P.replace(/\/+$/,"")+"/"+L);return Z?(Z.path=Y,s(Z)):Y}a(l,"AG"),e.join=l,e.isAbsolute=function(P){return P.charAt(0)==="/"||r.test(P)};function u(P,L){P===""&&(P="."),P=P.replace(/\/$/,"");for(var z=0;L.indexOf(P+"/")!==0;){var Z=P.lastIndexOf("/");if(Z<0||(P=P.slice(0,Z),P.match(/^([^\/]+:\/)?\/*$/)))return L;++z}return Array(z+1).join("../")+L.substr(P.length+1)}a(u,"Ac"),e.relative=u;var c=(function(){var P=Object.create(null);return!("__proto__"in P)})();function h(P){return P}a(h,"GG");function d(P){return m(P)?"$"+P:P}a(d,"kc"),e.toSetString=c?h:d;function g(P){return m(P)?P.slice(1):P}a(g,"Gc"),e.fromSetString=c?h:g;function m(P){if(!P)return!1;var L=P.length;if(L<9||P.charCodeAt(L-1)!==95||P.charCodeAt(L-2)!==95||P.charCodeAt(L-3)!==111||P.charCodeAt(L-4)!==116||P.charCodeAt(L-5)!==111||P.charCodeAt(L-6)!==114||P.charCodeAt(L-7)!==112||P.charCodeAt(L-8)!==95||P.charCodeAt(L-9)!==95)return!1;for(var z=L-10;z>=0;z--)if(P.charCodeAt(z)!==36)return!1;return!0}a(m,"VG");function y(P,L,z){var Z=A(P.source,L.source);return Z!==0||(Z=P.originalLine-L.originalLine,Z!==0)||(Z=P.originalColumn-L.originalColumn,Z!==0||z)||(Z=P.generatedColumn-L.generatedColumn,Z!==0)||(Z=P.generatedLine-L.generatedLine,Z!==0)?Z:A(P.name,L.name)}a(y,"Vc"),e.compareByOriginalPositions=y;function x(P,L,z){var Z=P.generatedLine-L.generatedLine;return Z!==0||(Z=P.generatedColumn-L.generatedColumn,Z!==0||z)||(Z=A(P.source,L.source),Z!==0)||(Z=P.originalLine-L.originalLine,Z!==0)||(Z=P.originalColumn-L.originalColumn,Z!==0)?Z:A(P.name,L.name)}a(x,"Sc"),e.compareByGeneratedPositionsDeflated=x;function A(P,L){return P===L?0:P===null?1:L===null?-1:P>L?1:-1}a(A,"E4");function C(P,L){var z=P.generatedLine-L.generatedLine;return z!==0||(z=P.generatedColumn-L.generatedColumn,z!==0)||(z=A(P.source,L.source),z!==0)||(z=P.originalLine-L.originalLine,z!==0)||(z=P.originalColumn-L.originalColumn,z!==0)?z:A(P.name,L.name)}a(C,"Mc"),e.compareByGeneratedPositionsInflated=C;function M(P){return JSON.parse(P.replace(/^\)]}'[^\n]*\n/,""))}a(M,"Nc"),e.parseSourceMapInput=M;function R(P,L,z){if(L=L||"",P&&(P[P.length-1]!=="/"&&L[0]!=="/"&&(P+="/"),L=P+L),z){var Z=i(z);if(!Z)throw Error("sourceMapURL could not be parsed");if(Z.path){var Y=Z.path.lastIndexOf("/");Y>=0&&(Z.path=Z.path.substring(0,Y+1))}L=l(s(Z),L)}return o(L)}a(R,"Cc"),e.computeSourceURL=R}),RT=ht(e=>{var t=Ch(),r=Object.prototype.hasOwnProperty,n=typeof Map<"u";function i(){this._array=[],this._set=n?new Map:Object.create(null)}a(i,"GK"),i.fromArray=function(s,o){for(var l=new i,u=0,c=s.length;u<c;u++)l.add(s[u],o);return l},i.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(s,o){var l=n?s:t.toSetString(s),u=n?this.has(s):r.call(this._set,l),c=this._array.length;(!u||o)&&this._array.push(s),u||(n?this._set.set(s,c):this._set[l]=c)},i.prototype.has=function(s){if(n)return this._set.has(s);var o=t.toSetString(s);return r.call(this._set,o)},i.prototype.indexOf=function(s){if(n){var o=this._set.get(s);if(o>=0)return o}else{var l=t.toSetString(s);if(r.call(this._set,l))return this._set[l]}throw Error('"'+s+'" is not in the set.')},i.prototype.at=function(s){if(s>=0&&s<this._array.length)return this._array[s];throw Error("No element indexed by "+s)},i.prototype.toArray=function(){return this._array.slice()},e.ArraySet=i}),iY=ht(e=>{var t=Ch();function r(i,s){var o=i.generatedLine,l=s.generatedLine,u=i.generatedColumn,c=s.generatedColumn;return l>o||l==o&&c>=u||t.compareByGeneratedPositionsInflated(i,s)<=0}a(r,"oc");function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}a(n,"R5"),n.prototype.unsortedForEach=function(i,s){this._array.forEach(i,s)},n.prototype.add=function(i){r(this._last,i)?(this._last=i,this._array.push(i)):(this._sorted=!1,this._array.push(i))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},e.MappingList=n}),PT=ht(e=>{var t=OT(),r=Ch(),n=RT().ArraySet,i=iY().MappingList;function s(o){o||(o={}),this._file=r.getArg(o,"file",null),this._sourceRoot=r.getArg(o,"sourceRoot",null),this._skipValidation=r.getArg(o,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new i,this._sourcesContents=null}a(s,"V8"),s.prototype._version=3,s.fromSourceMap=function(o){var l=o.sourceRoot,u=new s({file:o.file,sourceRoot:l});return o.eachMapping(function(c){var h={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(h.source=c.source,l!=null&&(h.source=r.relative(l,h.source)),h.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(h.name=c.name)),u.addMapping(h)}),o.sources.forEach(function(c){var h=c;l!==null&&(h=r.relative(l,c)),u._sources.has(h)||u._sources.add(h);var d=o.sourceContentFor(c);d!=null&&u.setSourceContent(c,d)}),u},s.prototype.addMapping=function(o){var l=r.getArg(o,"generated"),u=r.getArg(o,"original",null),c=r.getArg(o,"source",null),h=r.getArg(o,"name",null);this._skipValidation||this._validateMapping(l,u,c,h),c!=null&&(c=String(c),!this._sources.has(c)&&this._sources.add(c)),h!=null&&(h=String(h),!this._names.has(h)&&this._names.add(h)),this._mappings.add({generatedLine:l.line,generatedColumn:l.column,originalLine:u!=null&&u.line,originalColumn:u!=null&&u.column,source:c,name:h})},s.prototype.setSourceContent=function(o,l){var u=o;this._sourceRoot!=null&&(u=r.relative(this._sourceRoot,u)),l!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(u)]=l):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(u)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(o,l,u){var c=l;if(l==null){if(o.file==null)throw Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=o.file}var h=this._sourceRoot;h!=null&&(c=r.relative(h,c));var d=new n,g=new n;this._mappings.unsortedForEach(function(m){if(m.source===c&&m.originalLine!=null){var y=o.originalPositionFor({line:m.originalLine,column:m.originalColumn});y.source!=null&&(m.source=y.source,u!=null&&(m.source=r.join(u,m.source)),h!=null&&(m.source=r.relative(h,m.source)),m.originalLine=y.line,m.originalColumn=y.column,y.name!=null&&(m.name=y.name))}var x=m.source;x!=null&&!d.has(x)&&d.add(x);var A=m.name;A!=null&&!g.has(A)&&g.add(A)},this),this._sources=d,this._names=g,o.sources.forEach(function(m){var y=o.sourceContentFor(m);y!=null&&(u!=null&&(m=r.join(u,m)),h!=null&&(m=r.relative(h,m)),this.setSourceContent(m,y))},this)},s.prototype._validateMapping=function(o,l,u,c){if(l&&typeof l.line!="number"&&typeof l.column!="number")throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(o&&"line"in o&&"column"in o&&o.line>0&&o.column>=0&&!l&&!u&&!c)){if(o&&"line"in o&&"column"in o&&l&&"line"in l&&"column"in l&&o.line>0&&o.column>=0&&l.line>0&&l.column>=0&&u)return;throw Error("Invalid mapping: "+JSON.stringify({generated:o,source:u,original:l,name:c}))}},s.prototype._serializeMappings=function(){for(var o=0,l=1,u=0,c=0,h=0,d=0,g="",m,y,x,A,C=this._mappings.toArray(),M=0,R=C.length;M<R;M++){if(y=C[M],m="",y.generatedLine!==l)for(o=0;y.generatedLine!==l;)m+=";",l++;else if(M>0){if(!r.compareByGeneratedPositionsInflated(y,C[M-1]))continue;m+=","}m+=t.encode(y.generatedColumn-o),o=y.generatedColumn,y.source!=null&&(A=this._sources.indexOf(y.source),m+=t.encode(A-d),d=A,m+=t.encode(y.originalLine-1-c),c=y.originalLine-1,m+=t.encode(y.originalColumn-u),u=y.originalColumn,y.name!=null&&(x=this._names.indexOf(y.name),m+=t.encode(x-h),h=x)),g+=m}return g},s.prototype._generateSourcesContent=function(o,l){return o.map(function(u){if(!this._sourcesContents)return null;l!=null&&(u=r.relative(l,u));var c=r.toSetString(u);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},s.prototype.toJSON=function(){var o={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(o.file=this._file),this._sourceRoot!=null&&(o.sourceRoot=this._sourceRoot),this._sourcesContents&&(o.sourcesContent=this._generateSourcesContent(o.sources,o.sourceRoot)),o},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},e.SourceMapGenerator=s}),aY=ht(e=>{e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(r,n,i,s,o,l){var u=Math.floor((n-r)/2)+r,c=o(i,s[u],!0);return c===0?u:c>0?n-u>1?t(u,n,i,s,o,l):l==e.LEAST_UPPER_BOUND?n<s.length?n:-1:u:u-r>1?t(r,u,i,s,o,l):l==e.LEAST_UPPER_BOUND?u:r<0?-1:r}a(t,"YW"),e.search=function(r,n,i,s){if(n.length===0)return-1;var o=t(-1,n.length,r,n,i,s||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&i(n[o],n[o-1],!0)===0;)--o;return o}}),sY=ht(e=>{function t(i,s,o){var l=i[s];i[s]=i[o],i[o]=l}a(t,"vW");function r(i,s){return Math.round(i+Math.random()*(s-i))}a(r,"Qc");function n(i,s,o,l){if(o<l){var u=r(o,l),c=o-1;t(i,u,l);for(var h=i[l],d=o;d<l;d++)s(i[d],h)<=0&&(c+=1,t(i,c,d));t(i,c+1,d);var g=c+1;n(i,s,o,g-1),n(i,s,g+1,l)}}a(n,"zW"),e.quickSort=function(i,s){n(i,s,0,i.length-1)}}),oY=ht(e=>{var t=Ch(),r=aY(),n=RT().ArraySet,i=OT(),s=sY().quickSort;function o(h,d){var g=h;return typeof h=="string"&&(g=t.parseSourceMapInput(h)),g.sections!=null?new c(g,d):new l(g,d)}a(o,"L6"),o.fromSourceMap=function(h,d){return l.fromSourceMap(h,d)},o.prototype._version=3,o.prototype.__generatedMappings=null,Object.defineProperty(o.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:a(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")}),o.prototype.__originalMappings=null,Object.defineProperty(o.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:a(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")}),o.prototype._charIsMappingSeparator=function(h,d){var g=h.charAt(d);return g===";"||g===","},o.prototype._parseMappings=function(h,d){throw Error("Subclasses must implement _parseMappings")},o.GENERATED_ORDER=1,o.ORIGINAL_ORDER=2,o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2,o.prototype.eachMapping=function(h,d,g){var m=d||null,y=g||o.GENERATED_ORDER,x;switch(y){case o.GENERATED_ORDER:x=this._generatedMappings;break;case o.ORIGINAL_ORDER:x=this._originalMappings;break;default:throw Error("Unknown order of iteration.")}var A=this.sourceRoot;x.map(function(C){var M=C.source===null?null:this._sources.at(C.source);return M=t.computeSourceURL(A,M,this._sourceMapURL),{source:M,generatedLine:C.generatedLine,generatedColumn:C.generatedColumn,originalLine:C.originalLine,originalColumn:C.originalColumn,name:C.name===null?null:this._names.at(C.name)}},this).forEach(h,m)},o.prototype.allGeneratedPositionsFor=function(h){var d=t.getArg(h,"line"),g={source:t.getArg(h,"source"),originalLine:d,originalColumn:t.getArg(h,"column",0)};if(g.source=this._findSourceIndex(g.source),g.source<0)return[];var m=[],y=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(y>=0){var x=this._originalMappings[y];if(h.column===void 0)for(var A=x.originalLine;x&&x.originalLine===A;)m.push({line:t.getArg(x,"generatedLine",null),column:t.getArg(x,"generatedColumn",null),lastColumn:t.getArg(x,"lastGeneratedColumn",null)}),x=this._originalMappings[++y];else for(var C=x.originalColumn;x&&x.originalLine===d&&x.originalColumn==C;)m.push({line:t.getArg(x,"generatedLine",null),column:t.getArg(x,"generatedColumn",null),lastColumn:t.getArg(x,"lastGeneratedColumn",null)}),x=this._originalMappings[++y]}return m},e.SourceMapConsumer=o;function l(h,d){var g=h;typeof h=="string"&&(g=t.parseSourceMapInput(h));var m=t.getArg(g,"version"),y=t.getArg(g,"sources"),x=t.getArg(g,"names",[]),A=t.getArg(g,"sourceRoot",null),C=t.getArg(g,"sourcesContent",null),M=t.getArg(g,"mappings"),R=t.getArg(g,"file",null);if(m!=this._version)throw Error("Unsupported version: "+m);A&&(A=t.normalize(A)),y=y.map(String).map(t.normalize).map(function(P){return A&&t.isAbsolute(A)&&t.isAbsolute(P)?t.relative(A,P):P}),this._names=n.fromArray(x.map(String),!0),this._sources=n.fromArray(y,!0),this._absoluteSources=this._sources.toArray().map(function(P){return t.computeSourceURL(A,P,d)}),this.sourceRoot=A,this.sourcesContent=C,this._mappings=M,this._sourceMapURL=d,this.file=R}a(l,"Vq"),l.prototype=Object.create(o.prototype),l.prototype.consumer=o,l.prototype._findSourceIndex=function(h){var d=h;if(this.sourceRoot!=null&&(d=t.relative(this.sourceRoot,d)),this._sources.has(d))return this._sources.indexOf(d);var g;for(g=0;g<this._absoluteSources.length;++g)if(this._absoluteSources[g]==h)return g;return-1},l.fromSourceMap=function(h,d){var g=Object.create(l.prototype),m=g._names=n.fromArray(h._names.toArray(),!0),y=g._sources=n.fromArray(h._sources.toArray(),!0);g.sourceRoot=h._sourceRoot,g.sourcesContent=h._generateSourcesContent(g._sources.toArray(),g.sourceRoot),g.file=h._file,g._sourceMapURL=d,g._absoluteSources=g._sources.toArray().map(function(z){return t.computeSourceURL(g.sourceRoot,z,d)});for(var x=h._mappings.toArray().slice(),A=g.__generatedMappings=[],C=g.__originalMappings=[],M=0,R=x.length;M<R;M++){var P=x[M],L=new u;L.generatedLine=P.generatedLine,L.generatedColumn=P.generatedColumn,P.source&&(L.source=y.indexOf(P.source),L.originalLine=P.originalLine,L.originalColumn=P.originalColumn,P.name&&(L.name=m.indexOf(P.name)),C.push(L)),A.push(L)}return s(g.__originalMappings,t.compareByOriginalPositions),g},l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:a(function(){return this._absoluteSources.slice()},"get")});function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}a(u,"EG"),l.prototype._parseMappings=function(h,d){for(var g=1,m=0,y=0,x=0,A=0,C=0,M=h.length,R=0,P={},L={},z=[],Z=[],Y,ae,F,W,f;R<M;)if(h.charAt(R)===";")g++,R++,m=0;else if(h.charAt(R)===",")R++;else{for(Y=new u,Y.generatedLine=g,W=R;W<M&&!this._charIsMappingSeparator(h,W);W++);if(ae=h.slice(R,W),F=P[ae],F)R+=ae.length;else{for(F=[];R<W;)i.decode(h,R,L),f=L.value,R=L.rest,F.push(f);if(F.length===2)throw Error("Found a source, but no line and column");if(F.length===3)throw Error("Found a source and line, but no column");P[ae]=F}Y.generatedColumn=m+F[0],m=Y.generatedColumn,F.length>1&&(Y.source=A+F[1],A+=F[1],Y.originalLine=y+F[2],y=Y.originalLine,Y.originalLine+=1,Y.originalColumn=x+F[3],x=Y.originalColumn,F.length>4&&(Y.name=C+F[4],C+=F[4])),Z.push(Y),typeof Y.originalLine=="number"&&z.push(Y)}s(Z,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=Z,s(z,t.compareByOriginalPositions),this.__originalMappings=z},l.prototype._findMapping=function(h,d,g,m,y,x){if(h[g]<=0)throw TypeError("Line must be greater than or equal to 1, got "+h[g]);if(h[m]<0)throw TypeError("Column must be greater than or equal to 0, got "+h[m]);return r.search(h,d,y,x)},l.prototype.computeColumnSpans=function(){for(var h=0;h<this._generatedMappings.length;++h){var d=this._generatedMappings[h];if(h+1<this._generatedMappings.length){var g=this._generatedMappings[h+1];if(d.generatedLine===g.generatedLine){d.lastGeneratedColumn=g.generatedColumn-1;continue}}d.lastGeneratedColumn=1/0}},l.prototype.originalPositionFor=function(h){var d={generatedLine:t.getArg(h,"line"),generatedColumn:t.getArg(h,"column")},g=this._findMapping(d,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(h,"bias",o.GREATEST_LOWER_BOUND));if(g>=0){var m=this._generatedMappings[g];if(m.generatedLine===d.generatedLine){var y=t.getArg(m,"source",null);y!==null&&(y=this._sources.at(y),y=t.computeSourceURL(this.sourceRoot,y,this._sourceMapURL));var x=t.getArg(m,"name",null);return x!==null&&(x=this._names.at(x)),{source:y,line:t.getArg(m,"originalLine",null),column:t.getArg(m,"originalColumn",null),name:x}}}return{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(h){return h==null}):!1},l.prototype.sourceContentFor=function(h,d){if(!this.sourcesContent)return null;var g=this._findSourceIndex(h);if(g>=0)return this.sourcesContent[g];var m=h;this.sourceRoot!=null&&(m=t.relative(this.sourceRoot,m));var y;if(this.sourceRoot!=null&&(y=t.urlParse(this.sourceRoot))){var x=m.replace(/^file:\/\//,"");if(y.scheme=="file"&&this._sources.has(x))return this.sourcesContent[this._sources.indexOf(x)];if((!y.path||y.path=="/")&&this._sources.has("/"+m))return this.sourcesContent[this._sources.indexOf("/"+m)]}if(d)return null;throw Error('"'+m+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(h){var d=t.getArg(h,"source");if(d=this._findSourceIndex(d),d<0)return{line:null,column:null,lastColumn:null};var g={source:d,originalLine:t.getArg(h,"line"),originalColumn:t.getArg(h,"column")},m=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(h,"bias",o.GREATEST_LOWER_BOUND));if(m>=0){var y=this._originalMappings[m];if(y.source===g.source)return{line:t.getArg(y,"generatedLine",null),column:t.getArg(y,"generatedColumn",null),lastColumn:t.getArg(y,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},e.BasicSourceMapConsumer=l;function c(h,d){var g=h;typeof h=="string"&&(g=t.parseSourceMapInput(h));var m=t.getArg(g,"version"),y=t.getArg(g,"sections");if(m!=this._version)throw Error("Unsupported version: "+m);this._sources=new n,this._names=new n;var x={line:-1,column:0};this._sections=y.map(function(A){if(A.url)throw Error("Support for url field in sections not implemented.");var C=t.getArg(A,"offset"),M=t.getArg(C,"line"),R=t.getArg(C,"column");if(M<x.line||M===x.line&&R<x.column)throw Error("Section offsets must be ordered and non-overlapping.");return x=C,{generatedOffset:{generatedLine:M+1,generatedColumn:R+1},consumer:new o(t.getArg(A,"map"),d)}})}a(c,"x8"),c.prototype=Object.create(o.prototype),c.prototype.constructor=o,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:a(function(){for(var h=[],d=0;d<this._sections.length;d++)for(var g=0;g<this._sections[d].consumer.sources.length;g++)h.push(this._sections[d].consumer.sources[g]);return h},"get")}),c.prototype.originalPositionFor=function(h){var d={generatedLine:t.getArg(h,"line"),generatedColumn:t.getArg(h,"column")},g=r.search(d,this._sections,function(y,x){var A=y.generatedLine-x.generatedOffset.generatedLine;return A||y.generatedColumn-x.generatedOffset.generatedColumn}),m=this._sections[g];return m?m.consumer.originalPositionFor({line:d.generatedLine-(m.generatedOffset.generatedLine-1),column:d.generatedColumn-(m.generatedOffset.generatedLine===d.generatedLine?m.generatedOffset.generatedColumn-1:0),bias:h.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(h){return h.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(h,d){for(var g=0;g<this._sections.length;g++){var m=this._sections[g],y=m.consumer.sourceContentFor(h,!0);if(y)return y}if(d)return null;throw Error('"'+h+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(h){for(var d=0;d<this._sections.length;d++){var g=this._sections[d];if(g.consumer._findSourceIndex(t.getArg(h,"source"))!==-1){var m=g.consumer.generatedPositionFor(h);if(m){var y={line:m.line+(g.generatedOffset.generatedLine-1),column:m.column+(g.generatedOffset.generatedLine===m.line?g.generatedOffset.generatedColumn-1:0)};return y}}}return{line:null,column:null}},c.prototype._parseMappings=function(h,d){this.__generatedMappings=[],this.__originalMappings=[];for(var g=0;g<this._sections.length;g++)for(var m=this._sections[g],y=m.consumer._generatedMappings,x=0;x<y.length;x++){var A=y[x],C=m.consumer._sources.at(A.source);C=t.computeSourceURL(m.consumer.sourceRoot,C,this._sourceMapURL),this._sources.add(C),C=this._sources.indexOf(C);var M=null;A.name&&(M=m.consumer._names.at(A.name),this._names.add(M),M=this._names.indexOf(M));var R={source:C,generatedLine:A.generatedLine+(m.generatedOffset.generatedLine-1),generatedColumn:A.generatedColumn+(m.generatedOffset.generatedLine===A.generatedLine?m.generatedOffset.generatedColumn-1:0),originalLine:A.originalLine,originalColumn:A.originalColumn,name:M};this.__generatedMappings.push(R),typeof R.originalLine=="number"&&this.__originalMappings.push(R)}s(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),s(this.__originalMappings,t.compareByOriginalPositions)},e.IndexedSourceMapConsumer=c}),lY=ht(e=>{var t=PT().SourceMapGenerator,r=Ch(),n=/(\r?\n)/,i=10,s="$$$isSourceNode$$$";function o(l,u,c,h,d){this.children=[],this.sourceContents={},this.line=l??null,this.column=u??null,this.source=c??null,this.name=d??null,this[s]=!0,h!=null&&this.add(h)}a(o,"v8"),o.fromStringWithSourceMap=function(l,u,c){var h=new o,d=l.split(n),g=0,m=a(function(){var M=P(),R=P()||"";return M+R;function P(){return g<d.length?d[g++]:void 0}},"z"),y=1,x=0,A=null;return u.eachMapping(function(M){if(A!==null)if(y<M.generatedLine)C(A,m()),y++,x=0;else{var R=d[g]||"",P=R.substr(0,M.generatedColumn-x);d[g]=R.substr(M.generatedColumn-x),x=M.generatedColumn,C(A,P),A=M;return}for(;y<M.generatedLine;)h.add(m()),y++;if(x<M.generatedColumn){var R=d[g]||"";h.add(R.substr(0,M.generatedColumn)),d[g]=R.substr(M.generatedColumn),x=M.generatedColumn}A=M},this),g<d.length&&(A&&C(A,m()),h.add(d.splice(g).join(""))),u.sources.forEach(function(M){var R=u.sourceContentFor(M);R!=null&&(c!=null&&(M=r.join(c,M)),h.setSourceContent(M,R))}),h;function C(M,R){if(M===null||M.source===void 0)h.add(R);else{var P=c?r.join(c,M.source):M.source;h.add(new o(M.originalLine,M.originalColumn,P,R,M.name))}}a(C,"f")},o.prototype.add=function(l){if(Array.isArray(l))l.forEach(function(u){this.add(u)},this);else if(l[s]||typeof l=="string")l&&this.children.push(l);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},o.prototype.prepend=function(l){if(Array.isArray(l))for(var u=l.length-1;u>=0;u--)this.prepend(l[u]);else if(l[s]||typeof l=="string")this.children.unshift(l);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},o.prototype.walk=function(l){for(var u,c=0,h=this.children.length;c<h;c++)u=this.children[c],u[s]?u.walk(l):u!==""&&l(u,{source:this.source,line:this.line,column:this.column,name:this.name})},o.prototype.join=function(l){var u,c,h=this.children.length;if(h>0){for(u=[],c=0;c<h-1;c++)u.push(this.children[c]),u.push(l);u.push(this.children[c]),this.children=u}return this},o.prototype.replaceRight=function(l,u){var c=this.children[this.children.length-1];return c[s]?c.replaceRight(l,u):typeof c=="string"?this.children[this.children.length-1]=c.replace(l,u):this.children.push("".replace(l,u)),this},o.prototype.setSourceContent=function(l,u){this.sourceContents[r.toSetString(l)]=u},o.prototype.walkSourceContents=function(l){for(var u=0,c=this.children.length;u<c;u++)this.children[u][s]&&this.children[u].walkSourceContents(l);for(var h=Object.keys(this.sourceContents),u=0,c=h.length;u<c;u++)l(r.fromSetString(h[u]),this.sourceContents[h[u]])},o.prototype.toString=function(){var l="";return this.walk(function(u){l+=u}),l},o.prototype.toStringWithSourceMap=function(l){var u={code:"",line:1,column:0},c=new t(l),h=!1,d=null,g=null,m=null,y=null;return this.walk(function(x,A){u.code+=x,A.source!==null&&A.line!==null&&A.column!==null?((d!==A.source||g!==A.line||m!==A.column||y!==A.name)&&c.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:u.line,column:u.column},name:A.name}),d=A.source,g=A.line,m=A.column,y=A.name,h=!0):h&&(c.addMapping({generated:{line:u.line,column:u.column}}),d=null,h=!1);for(var C=0,M=x.length;C<M;C++)x.charCodeAt(C)===i?(u.line++,u.column=0,C+1===M?(d=null,h=!1):h&&c.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:u.line,column:u.column},name:A.name})):u.column++}),this.walkSourceContents(function(x,A){c.setSourceContent(x,A)}),{code:u.code,map:c}},e.SourceNode=o}),uY=ht(e=>{e.SourceMapGenerator=PT().SourceMapGenerator,e.SourceMapConsumer=oY().SourceMapConsumer,e.SourceNode=lY().SourceNode}),cY=ht((e,t)=>{e.__esModule=!0;var r=xi(),n=void 0;try{(typeof define!="function"||!define.amd)&&(i=uY(),n=i.SourceNode)}catch{}var i;n||(n=a(function(l,u,c,h){this.src="",h&&this.add(h)},"D_"),n.prototype={add:a(function(l){r.isArray(l)&&(l=l.join("")),this.src+=l},"add"),prepend:a(function(l){r.isArray(l)&&(l=l.join("")),this.src=l+this.src},"prepend"),toStringWithSourceMap:a(function(){return{code:this.toString()}},"toStringWithSourceMap"),toString:a(function(){return this.src},"toString")});function s(l,u,c){if(r.isArray(l)){for(var h=[],d=0,g=l.length;d<g;d++)h.push(u.wrap(l[d],c));return h}else if(typeof l=="boolean"||typeof l=="number")return l+"";return l}a(s,"HW");function o(l){this.srcFile=l,this.source=[]}a(o,"LG"),o.prototype={isEmpty:a(function(){return!this.source.length},"isEmpty"),prepend:a(function(l,u){this.source.unshift(this.wrap(l,u))},"prepend"),push:a(function(l,u){this.source.push(this.wrap(l,u))},"push"),merge:a(function(){var l=this.empty();return this.each(function(u){l.add(["  ",u,`
`])}),l},"merge"),each:a(function(l){for(var u=0,c=this.source.length;u<c;u++)l(this.source[u])},"each"),empty:a(function(){var l=this.currentLocation||{start:{}};return new n(l.start.line,l.start.column,this.srcFile)},"empty"),wrap:a(function(l){var u=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return l instanceof n?l:(l=s(l,this,u),new n(u.start.line,u.start.column,this.srcFile,l))},"wrap"),functionCall:a(function(l,u,c){return c=this.generateList(c),this.wrap([l,u?"."+u+"(":"(",c,")"])},"functionCall"),quotedString:a(function(l){return'"'+(l+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},"quotedString"),objectLiteral:a(function(l){var u=this,c=[];Object.keys(l).forEach(function(d){var g=s(l[d],u);g!=="undefined"&&c.push([u.quotedString(d),":",g])});var h=this.generateList(c);return h.prepend("{"),h.add("}"),h},"objectLiteral"),generateList:a(function(l){for(var u=this.empty(),c=0,h=l.length;c<h;c++)c&&u.add(","),u.add(s(l[c],this));return u},"generateList"),generateArray:a(function(l){var u=this.generateList(l);return u.prepend("["),u.add("]"),u},"generateArray")},e.default=o,t.exports=e.default}),dY=ht((e,t)=>{e.__esModule=!0;function r(g){return g&&g.__esModule?g:{default:g}}a(r,"pG");var n=f4(),i=Ra(),s=r(i),o=xi(),l=cY(),u=r(l);function c(g){this.value=g}a(c,"L4");function h(){}a(h,"g4"),h.prototype={nameLookup:a(function(g,m){return this.internalNameLookup(g,m)},"nameLookup"),depthedLookup:a(function(g){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(g),")"]},"depthedLookup"),compilerInfo:a(function(){var g=n.COMPILER_REVISION,m=n.REVISION_CHANGES[g];return[g,m]},"compilerInfo"),appendToBuffer:a(function(g,m,y){return o.isArray(g)||(g=[g]),g=this.source.wrap(g,m),this.environment.isSimple?["return ",g,";"]:y?["buffer += ",g,";"]:(g.appendToBuffer=!0,g)},"appendToBuffer"),initializeBuffer:a(function(){return this.quotedString("")},"initializeBuffer"),internalNameLookup:a(function(g,m){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",g,",",JSON.stringify(m),")"]},"internalNameLookup"),lookupPropertyFunctionIsUsed:!1,compile:a(function(g,m,y,x){this.environment=g,this.options=m,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!x,this.name=this.environment.name,this.isChild=!!y,this.context=y||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(g,m),this.useDepths=this.useDepths||g.useDepths||g.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||g.useBlockParams;var A=g.opcodes,C=void 0,M=void 0,R=void 0,P=void 0;for(R=0,P=A.length;R<P;R++)C=A[R],this.source.currentLocation=C.loc,M=M||C.loc,this[C.opcode].apply(this,C.args);if(this.source.currentLocation=M,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),x?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var L=this.createFunctionContext(x);if(this.isChild)return L;var z={compiler:this.compilerInfo(),main:L};this.decorators&&(z.main_d=this.decorators,z.useDecorators=!0);var Z=this.context,Y=Z.programs,ae=Z.decorators;for(R=0,P=Y.length;R<P;R++)Y[R]&&(z[R]=Y[R],ae[R]&&(z[R+"_d"]=ae[R],z.useDecorators=!0));return this.environment.usePartial&&(z.usePartial=!0),this.options.data&&(z.useData=!0),this.useDepths&&(z.useDepths=!0),this.useBlockParams&&(z.useBlockParams=!0),this.options.compat&&(z.compat=!0),x?z.compilerOptions=this.options:(z.compiler=JSON.stringify(z.compiler),this.source.currentLocation={start:{line:1,column:0}},z=this.objectLiteral(z),m.srcName?(z=z.toStringWithSourceMap({file:m.destName}),z.map=z.map&&z.map.toString()):z=z.toString()),z},"compile"),preamble:a(function(){this.lastContext=0,this.source=new u.default(this.options.srcName),this.decorators=new u.default(this.options.srcName)},"preamble"),createFunctionContext:a(function(g){var m=this,y="",x=this.stackVars.concat(this.registers.list);x.length>0&&(y+=", "+x.join(", "));var A=0;Object.keys(this.aliases).forEach(function(R){var P=m.aliases[R];P.children&&P.referenceCount>1&&(y+=", alias"+ ++A+"="+R,P.children[0]="alias"+A)}),this.lookupPropertyFunctionIsUsed&&(y+=", "+this.lookupPropertyFunctionVarDeclaration());var C=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&C.push("blockParams"),this.useDepths&&C.push("depths");var M=this.mergeSource(y);return g?(C.push(M),Function.apply(this,C)):this.source.wrap(["function(",C.join(","),`) {
  `,M,"}"])},"createFunctionContext"),mergeSource:a(function(g){var m=this.environment.isSimple,y=!this.forceBuffer,x=void 0,A=void 0,C=void 0,M=void 0;return this.source.each(function(R){R.appendToBuffer?(C?R.prepend("  + "):C=R,M=R):(C&&(A?C.prepend("buffer += "):x=!0,M.add(";"),C=M=void 0),A=!0,!m&&(y=!1))}),y?C?(C.prepend("return "),M.add(";")):A||this.source.push('return "";'):(g+=", buffer = "+(x?"":this.initializeBuffer()),C?(C.prepend("return buffer + "),M.add(";")):this.source.push("return buffer;")),g&&this.source.prepend("var "+g.substring(2)+(x?"":`;
`)),this.source.merge()},"mergeSource"),lookupPropertyFunctionVarDeclaration:a(function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},"lookupPropertyFunctionVarDeclaration"),blockValue:a(function(g){var m=this.aliasable("container.hooks.blockHelperMissing"),y=[this.contextName(0)];this.setupHelperArgs(g,0,y);var x=this.popStack();y.splice(1,0,x),this.push(this.source.functionCall(m,"call",y))},"blockValue"),ambiguousBlockValue:a(function(){var g=this.aliasable("container.hooks.blockHelperMissing"),m=[this.contextName(0)];this.setupHelperArgs("",0,m,!0),this.flushInline();var y=this.topStack();m.splice(1,0,y),this.pushSource(["if (!",this.lastHelper,") { ",y," = ",this.source.functionCall(g,"call",m),"}"])},"ambiguousBlockValue"),appendContent:a(function(g){this.pendingContent?g=this.pendingContent+g:this.pendingLocation=this.source.currentLocation,this.pendingContent=g},"appendContent"),append:a(function(){if(this.isInline())this.replaceStack(function(m){return[" != null ? ",m,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var g=this.popStack();this.pushSource(["if (",g," != null) { ",this.appendToBuffer(g,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},"append"),appendEscaped:a(function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},"appendEscaped"),getContext:a(function(g){this.lastContext=g},"getContext"),pushContext:a(function(){this.pushStackLiteral(this.contextName(this.lastContext))},"pushContext"),lookupOnContext:a(function(g,m,y,x){var A=0;!x&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(g[A++])):this.pushContext(),this.resolvePath("context",g,A,m,y)},"lookupOnContext"),lookupBlockParam:a(function(g,m){this.useBlockParams=!0,this.push(["blockParams[",g[0],"][",g[1],"]"]),this.resolvePath("context",m,1)},"lookupBlockParam"),lookupData:a(function(g,m,y){g?this.pushStackLiteral("container.data(data, "+g+")"):this.pushStackLiteral("data"),this.resolvePath("data",m,0,!0,y)},"lookupData"),resolvePath:a(function(g,m,y,x,A){var C=this;if(this.options.strict||this.options.assumeObjects){this.push(d(this.options.strict&&A,this,m,y,g));return}for(var M=m.length;y<M;y++)this.replaceStack(function(R){var P=C.nameLookup(R,m[y],g);return x?[" && ",P]:[" != null ? ",P," : ",R]})},"resolvePath"),resolvePossibleLambda:a(function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},"resolvePossibleLambda"),pushStringParam:a(function(g,m){this.pushContext(),this.pushString(m),m!=="SubExpression"&&(typeof g=="string"?this.pushString(g):this.pushStackLiteral(g))},"pushStringParam"),emptyHash:a(function(g){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(g?"undefined":"{}")},"emptyHash"),pushHash:a(function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},"pushHash"),popHash:a(function(){var g=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(g.ids)),this.stringParams&&(this.push(this.objectLiteral(g.contexts)),this.push(this.objectLiteral(g.types))),this.push(this.objectLiteral(g.values))},"popHash"),pushString:a(function(g){this.pushStackLiteral(this.quotedString(g))},"pushString"),pushLiteral:a(function(g){this.pushStackLiteral(g)},"pushLiteral"),pushProgram:a(function(g){g!=null?this.pushStackLiteral(this.programExpression(g)):this.pushStackLiteral(null)},"pushProgram"),registerDecorator:a(function(g,m){var y=this.nameLookup("decorators",m,"decorator"),x=this.setupHelperArgs(m,g);this.decorators.push(["fn = ",this.decorators.functionCall(y,"",["fn","props","container",x])," || fn;"])},"registerDecorator"),invokeHelper:a(function(g,m,y){var x=this.popStack(),A=this.setupHelper(g,m),C=[];y&&C.push(A.name),C.push(x),!this.options.strict&&C.push(this.aliasable("container.hooks.helperMissing"));var M=["(",this.itemsSeparatedBy(C,"||"),")"],R=this.source.functionCall(M,"call",A.callParams);this.push(R)},"invokeHelper"),itemsSeparatedBy:a(function(g,m){var y=[];y.push(g[0]);for(var x=1;x<g.length;x++)y.push(m,g[x]);return y},"itemsSeparatedBy"),invokeKnownHelper:a(function(g,m){var y=this.setupHelper(g,m);this.push(this.source.functionCall(y.name,"call",y.callParams))},"invokeKnownHelper"),invokeAmbiguous:a(function(g,m){this.useRegister("helper");var y=this.popStack();this.emptyHash();var x=this.setupHelper(0,g,m),A=this.lastHelper=this.nameLookup("helpers",g,"helper"),C=["(","(helper = ",A," || ",y,")"];this.options.strict||(C[0]="(helper = ",C.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",C,x.paramsInit?["),(",x.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",x.callParams)," : helper))"])},"invokeAmbiguous"),invokePartial:a(function(g,m,y){var x=[],A=this.setupParams(m,1,x);g&&(m=this.popStack(),delete A.name),y&&(A.indent=JSON.stringify(y)),A.helpers="helpers",A.partials="partials",A.decorators="container.decorators",g?x.unshift(m):x.unshift(this.nameLookup("partials",m,"partial")),this.options.compat&&(A.depths="depths"),A=this.objectLiteral(A),x.push(A),this.push(this.source.functionCall("container.invokePartial","",x))},"invokePartial"),assignToHash:a(function(g){var m=this.popStack(),y=void 0,x=void 0,A=void 0;this.trackIds&&(A=this.popStack()),this.stringParams&&(x=this.popStack(),y=this.popStack());var C=this.hash;y&&(C.contexts[g]=y),x&&(C.types[g]=x),A&&(C.ids[g]=A),C.values[g]=m},"assignToHash"),pushId:a(function(g,m,y){g==="BlockParam"?this.pushStackLiteral("blockParams["+m[0]+"].path["+m[1]+"]"+(y?" + "+JSON.stringify("."+y):"")):g==="PathExpression"?this.pushString(m):g==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},"pushId"),compiler:h,compileChildren:a(function(g,m){for(var y=g.children,x=void 0,A=void 0,C=0,M=y.length;C<M;C++){x=y[C],A=new this.compiler;var R=this.matchExistingProgram(x);if(R==null){this.context.programs.push("");var P=this.context.programs.length;x.index=P,x.name="program"+P,this.context.programs[P]=A.compile(x,m,this.context,!this.precompile),this.context.decorators[P]=A.decorators,this.context.environments[P]=x,this.useDepths=this.useDepths||A.useDepths,this.useBlockParams=this.useBlockParams||A.useBlockParams,x.useDepths=this.useDepths,x.useBlockParams=this.useBlockParams}else x.index=R.index,x.name="program"+R.index,this.useDepths=this.useDepths||R.useDepths,this.useBlockParams=this.useBlockParams||R.useBlockParams}},"compileChildren"),matchExistingProgram:a(function(g){for(var m=0,y=this.context.environments.length;m<y;m++){var x=this.context.environments[m];if(x&&x.equals(g))return x}},"matchExistingProgram"),programExpression:a(function(g){var m=this.environment.children[g],y=[m.index,"data",m.blockParams];return(this.useBlockParams||this.useDepths)&&y.push("blockParams"),this.useDepths&&y.push("depths"),"container.program("+y.join(", ")+")"},"programExpression"),useRegister:a(function(g){this.registers[g]||(this.registers[g]=!0,this.registers.list.push(g))},"useRegister"),push:a(function(g){return g instanceof c||(g=this.source.wrap(g)),this.inlineStack.push(g),g},"push"),pushStackLiteral:a(function(g){this.push(new c(g))},"pushStackLiteral"),pushSource:a(function(g){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),g&&this.source.push(g)},"pushSource"),replaceStack:a(function(g){var m=["("],y=void 0,x=void 0,A=void 0;if(!this.isInline())throw new s.default("replaceStack on non-inline");var C=this.popStack(!0);if(C instanceof c)y=[C.value],m=["(",y],A=!0;else{x=!0;var M=this.incrStack();m=["((",this.push(M)," = ",C,")"],y=this.topStack()}var R=g.call(this,y);A||this.popStack(),x&&this.stackSlot--,this.push(m.concat(R,")"))},"replaceStack"),incrStack:a(function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},"incrStack"),topStackName:a(function(){return"stack"+this.stackSlot},"topStackName"),flushInline:a(function(){var g=this.inlineStack;this.inlineStack=[];for(var m=0,y=g.length;m<y;m++){var x=g[m];if(x instanceof c)this.compileStack.push(x);else{var A=this.incrStack();this.pushSource([A," = ",x,";"]),this.compileStack.push(A)}}},"flushInline"),isInline:a(function(){return this.inlineStack.length},"isInline"),popStack:a(function(g){var m=this.isInline(),y=(m?this.inlineStack:this.compileStack).pop();if(!g&&y instanceof c)return y.value;if(!m){if(!this.stackSlot)throw new s.default("Invalid stack pop");this.stackSlot--}return y},"popStack"),topStack:a(function(){var g=this.isInline()?this.inlineStack:this.compileStack,m=g[g.length-1];return m instanceof c?m.value:m},"topStack"),contextName:a(function(g){return this.useDepths&&g?"depths["+g+"]":"depth"+g},"contextName"),quotedString:a(function(g){return this.source.quotedString(g)},"quotedString"),objectLiteral:a(function(g){return this.source.objectLiteral(g)},"objectLiteral"),aliasable:a(function(g){var m=this.aliases[g];return m?(m.referenceCount++,m):(m=this.aliases[g]=this.source.wrap(g),m.aliasable=!0,m.referenceCount=1,m)},"aliasable"),setupHelper:a(function(g,m,y){var x=[],A=this.setupHelperArgs(m,g,x,y),C=this.nameLookup("helpers",m,"helper"),M=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:x,paramsInit:A,name:C,callParams:[M].concat(x)}},"setupHelper"),setupParams:a(function(g,m,y){var x={},A=[],C=[],M=[],R=!y,P=void 0;R&&(y=[]),x.name=this.quotedString(g),x.hash=this.popStack(),this.trackIds&&(x.hashIds=this.popStack()),this.stringParams&&(x.hashTypes=this.popStack(),x.hashContexts=this.popStack());var L=this.popStack(),z=this.popStack();(z||L)&&(x.fn=z||"container.noop",x.inverse=L||"container.noop");for(var Z=m;Z--;)P=this.popStack(),y[Z]=P,this.trackIds&&(M[Z]=this.popStack()),this.stringParams&&(C[Z]=this.popStack(),A[Z]=this.popStack());return R&&(x.args=this.source.generateArray(y)),this.trackIds&&(x.ids=this.source.generateArray(M)),this.stringParams&&(x.types=this.source.generateArray(C),x.contexts=this.source.generateArray(A)),this.options.data&&(x.data="data"),this.useBlockParams&&(x.blockParams="blockParams"),x},"setupParams"),setupHelperArgs:a(function(g,m,y,x){var A=this.setupParams(g,m,y);return A.loc=JSON.stringify(this.source.currentLocation),A=this.objectLiteral(A),x?(this.useRegister("options"),y.push("options"),["options=",A]):y?(y.push(A),""):A},"setupHelperArgs")},(function(){for(var g="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),m=h.RESERVED_WORDS={},y=0,x=g.length;y<x;y++)m[g[y]]=!0})(),h.isValidJavaScriptVariableName=function(g){return!h.RESERVED_WORDS[g]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(g)};function d(g,m,y,x,A){var C=m.popStack(),M=y.length;for(g&&M--;x<M;x++)C=m.nameLookup(C,y[x],A);return g?[m.aliasable("container.strict"),"(",C,", ",m.quotedString(y[x]),", ",JSON.stringify(m.source.currentLocation)," )"]:C}a(d,"km"),e.default=h,t.exports=e.default}),hY=ht((e,t)=>{e.__esModule=!0;function r(M){return M&&M.__esModule?M:{default:M}}a(r,"b7");var n=WV(),i=r(n),s=MT(),o=r(s),l=tY(),u=rY(),c=dY(),h=r(c),d=p4(),g=r(d),m=IT(),y=r(m),x=i.default.create;function A(){var M=x();return M.compile=function(R,P){return u.compile(R,P,M)},M.precompile=function(R,P){return u.precompile(R,P,M)},M.AST=o.default,M.Compiler=u.Compiler,M.JavaScriptCompiler=h.default,M.Parser=l.parser,M.parse=l.parse,M.parseWithoutProcessing=l.parseWithoutProcessing,M}a(A,"lG");var C=A();C.create=A,y.default(C),C.Visitor=g.default,C.default=C,e.default=C,t.exports=e.default}),fY=ht(e=>{e.__esModule=!0,e.print=i,e.PrintVisitor=s;function t(o){return o&&o.__esModule?o:{default:o}}a(t,"um");var r=p4(),n=t(r);function i(o){return new s().accept(o)}a(i,"cm");function s(){this.padding=0}a(s,"d6"),s.prototype=new n.default,s.prototype.pad=function(o){for(var l="",u=0,c=this.padding;u<c;u++)l+="  ";return l+=o+`
`,l},s.prototype.Program=function(o){var l="",u=o.body,c=void 0,h=void 0;if(o.blockParams){var d="BLOCK PARAMS: [";for(c=0,h=o.blockParams.length;c<h;c++)d+=" "+o.blockParams[c];d+=" ]",l+=this.pad(d)}for(c=0,h=u.length;c<h;c++)l+=this.accept(u[c]);return this.padding--,l},s.prototype.MustacheStatement=function(o){return this.pad("{{ "+this.SubExpression(o)+" }}")},s.prototype.Decorator=function(o){return this.pad("{{ DIRECTIVE "+this.SubExpression(o)+" }}")},s.prototype.BlockStatement=s.prototype.DecoratorBlock=function(o){var l="";return l+=this.pad((o.type==="DecoratorBlock"?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,l+=this.pad(this.SubExpression(o)),o.program&&(l+=this.pad("PROGRAM:"),this.padding++,l+=this.accept(o.program),this.padding--),o.inverse&&(o.program&&this.padding++,l+=this.pad("{{^}}"),this.padding++,l+=this.accept(o.inverse),this.padding--,o.program&&this.padding--),this.padding--,l},s.prototype.PartialStatement=function(o){var l="PARTIAL:"+o.name.original;return o.params[0]&&(l+=" "+this.accept(o.params[0])),o.hash&&(l+=" "+this.accept(o.hash)),this.pad("{{> "+l+" }}")},s.prototype.PartialBlockStatement=function(o){var l="PARTIAL BLOCK:"+o.name.original;return o.params[0]&&(l+=" "+this.accept(o.params[0])),o.hash&&(l+=" "+this.accept(o.hash)),l+=" "+this.pad("PROGRAM:"),this.padding++,l+=this.accept(o.program),this.padding--,this.pad("{{> "+l+" }}")},s.prototype.ContentStatement=function(o){return this.pad("CONTENT[ '"+o.value+"' ]")},s.prototype.CommentStatement=function(o){return this.pad("{{! '"+o.value+"' }}")},s.prototype.SubExpression=function(o){for(var l=o.params,u=[],c=void 0,h=0,d=l.length;h<d;h++)u.push(this.accept(l[h]));return l="["+u.join(", ")+"]",c=o.hash?" "+this.accept(o.hash):"",this.accept(o.path)+" "+l+c},s.prototype.PathExpression=function(o){var l=o.parts.join("/");return(o.data?"@":"")+"PATH:"+l},s.prototype.StringLiteral=function(o){return'"'+o.value+'"'},s.prototype.NumberLiteral=function(o){return"NUMBER{"+o.value+"}"},s.prototype.BooleanLiteral=function(o){return"BOOLEAN{"+o.value+"}"},s.prototype.UndefinedLiteral=function(){return"UNDEFINED"},s.prototype.NullLiteral=function(){return"NULL"},s.prototype.Hash=function(o){for(var l=o.pairs,u=[],c=0,h=l.length;c<h;c++)u.push(this.accept(l[c]));return"HASH{"+u.join(", ")+"}"},s.prototype.HashPair=function(o){return o.key+"="+this.accept(o.value)}}),pY=ht((e,t)=>{var r=hY().default,n=fY();r.PrintVisitor=n.PrintVisitor,r.print=n.print,t.exports=r;function i(s,o){var l=a((()=>({})),"K"),u=l.readFileSync(o,"utf8");s.exports=r.compile(u)}a(i,"tG"),f0.extensions&&(f0.extensions[".handlebars"]=i,f0.extensions[".hbs"]=i)}),mY={};_i(mY,{sep:a(()=>AY,"sep"),resolve:a(()=>Vy,"resolve"),relative:a(()=>yY,"relative"),posix:a(()=>NY,"posix"),parse:a(()=>kY,"parse"),normalize:a(()=>DT,"normalize"),join:a(()=>bY,"join"),isAbsolute:a(()=>vY,"isAbsolute"),format:a(()=>SY,"format"),extname:a(()=>EY,"extname"),dirname:a(()=>_Y,"dirname"),delimiter:a(()=>TY,"delimiter"),default:a(()=>CY,"default"),basename:a(()=>xY,"basename"),_makeLong:a(()=>wY,"_makeLong")});function ss(e){if(typeof e!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(e))}a(ss,"e8");function LT(e,t){for(var r="",n=0,i=-1,s=0,o,l=0;l<=e.length;++l){if(l<e.length)o=e.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=l,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=l,s=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(i+1,l):r=e.slice(i+1,l),n=l-i-1;i=l,s=0}else o===46&&s!==-1?++s:s=-1}return r}a(LT,"rV");function gY(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}a(gY,"zl");function Vy(){for(var e="",t=!1,r,n=arguments.length-1;n>=-1&&!t;n--){var i;n>=0?i=arguments[n]:(r===void 0&&(r=process.cwd()),i=r),ss(i),i.length!==0&&(e=i+"/"+e,t=i.charCodeAt(0)===47)}return e=LT(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."}a(Vy,"U5");function DT(e){if(ss(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=LT(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e}a(DT,"HH");function vY(e){return ss(e),e.length>0&&e.charCodeAt(0)===47}a(vY,"oV");function bY(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];ss(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":DT(e)}a(bY,"nV");function yY(e,t){if(ss(e),ss(t),e===t||(e=Vy(e),t=Vy(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var n=e.length,i=n-r,s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var o=t.length,l=o-s,u=i<l?i:l,c=-1,h=0;h<=u;++h){if(h===u){if(l>u){if(t.charCodeAt(s+h)===47)return t.slice(s+h+1);if(h===0)return t.slice(s+h)}else i>u&&(e.charCodeAt(r+h)===47?c=h:h===0&&(c=0));break}var d=e.charCodeAt(r+h),g=t.charCodeAt(s+h);if(d!==g)break;d===47&&(c=h)}var m="";for(h=r+c+1;h<=n;++h)(h===n||e.charCodeAt(h)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+t.slice(s+c):(s+=c,t.charCodeAt(s)===47&&++s,t.slice(s))}a(yY,"iV");function wY(e){return e}a(wY,"tV");function _Y(e){if(ss(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,n=-1,i=!0,s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===47){if(!i){n=s;break}}else i=!1;return n===-1?r?"/":".":r&&n===1?"//":e.slice(0,n)}a(_Y,"BV");function xY(e,t){if(t!==void 0&&typeof t!="string")throw TypeError('"ext" argument must be a string');ss(e);var r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){var u=e.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),o>=0&&(u===t.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}else{for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)}}a(xY,"UV");function EY(e){ss(e);for(var t=-1,r=0,n=-1,i=!0,s=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(l===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),l===46?t===-1?t=o:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)}a(EY,"FV");function SY(e){if(e===null||typeof e!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return gY("/",e)}a(SY,"aV");function kY(e){ss(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),n=r===47,i;n?(t.root="/",i=1):i=0;for(var s=-1,o=0,l=-1,u=!0,c=e.length-1,h=0;c>=i;--c){if(r=e.charCodeAt(c),r===47){if(!u){o=c+1;break}continue}l===-1&&(u=!1,l=c+1),r===46?s===-1?s=c:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||l===-1||h===0||h===1&&s===l-1&&s===o+1?l!==-1&&(o===0&&n?t.base=t.name=e.slice(1,l):t.base=t.name=e.slice(o,l)):(o===0&&n?(t.name=e.slice(1,s),t.base=e.slice(1,l)):(t.name=e.slice(o,s),t.base=e.slice(o,l)),t.ext=e.slice(s,l)),o>0?t.dir=e.slice(0,o-1):n&&(t.dir="/"),t}a(kY,"QV");var AY="/",TY=":",NY,CY,jT={};_i(jT,{uptime:a(()=>RY,"uptime"),type:a(()=>jY,"type"),totalmem:a(()=>LY,"totalmem"),tmpdir:a(()=>FT,"tmpdir"),tmpDir:a(()=>UT,"tmpDir"),release:a(()=>BY,"release"),platform:a(()=>FY,"platform"),networkInterfaces:a(()=>zT,"networkInterfaces"),loadavg:a(()=>OY,"loadavg"),hostname:a(()=>MY,"hostname"),homedir:a(()=>HY,"homedir"),getNetworkInterfaces:a(()=>BT,"getNetworkInterfaces"),freemem:a(()=>PY,"freemem"),endianness:a(()=>IY,"endianness"),cpus:a(()=>DY,"cpus"),arch:a(()=>zY,"arch"),EOL:a(()=>UY,"EOL")});var IY=a(function(){return"LE"},"Hl"),MY=a(function(){return typeof location<"u"?location.hostname:""},"Jl"),OY=a(function(){return[]},"Tl"),RY=a(function(){return 0},"wl"),PY=a(function(){return Number.MAX_VALUE},"fl"),LY=a(function(){return Number.MAX_VALUE},"Zl"),DY=a(function(){return[]},"Xl"),jY=a(function(){return"Browser"},"Al"),BY=a(function(){return typeof navigator<"u"?navigator.appVersion:""},"kl"),BT=a(function(){return{}},"qS"),zT,zY=a(function(){return"javascript"},"Vl"),FY=a(function(){return"browser"},"Sl"),FT=a(function(){return"/tmp"},"KS"),UT,UY=`
`,HY=a(function(){return"/"},"Cl"),GY=Th(()=>{zT=BT,UT=FT}),Mn={};_i(Mn,{transcode:a(()=>uN,"transcode"),resolveObjectURL:a(()=>oN,"resolveObjectURL"),kStringMaxLength:a(()=>WT,"kStringMaxLength"),kMaxLength:a(()=>Bd,"kMaxLength"),isUtf8:a(()=>lN,"isUtf8"),isAscii:a(()=>gZ,"isAscii"),default:a(()=>cN,"default"),constants:a(()=>rN,"constants"),btoa:a(()=>QT,"btoa"),atob:a(()=>qT,"atob"),INSPECT_MAX_BYTES:a(()=>KT,"INSPECT_MAX_BYTES"),File:a(()=>eN,"File"),Buffer:a(()=>ot,"Buffer"),Blob:a(()=>tN,"Blob")});function VY(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}a(VY,"hl");function YY(e,t){return(e+t)*3/4-t}a(YY,"El");function ZY(e){var t,r=VY(e),n=r[0],i=r[1],s=new Uint8Array(YY(n,i)),o=0,l=i>0?n-4:n,u;for(u=0;u<l;u+=4)t=Ii[e.charCodeAt(u)]<<18|Ii[e.charCodeAt(u+1)]<<12|Ii[e.charCodeAt(u+2)]<<6|Ii[e.charCodeAt(u+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=Ii[e.charCodeAt(u)]<<2|Ii[e.charCodeAt(u+1)]>>4,s[o++]=t&255),i===1&&(t=Ii[e.charCodeAt(u)]<<10|Ii[e.charCodeAt(u+1)]<<4|Ii[e.charCodeAt(u+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}a(ZY,"Rl");function $Y(e){return wa[e>>18&63]+wa[e>>12&63]+wa[e>>6&63]+wa[e&63]}a($Y,"Il");function XY(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push($Y(n));return i.join("")}a(XY,"Dl");function P_(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,l=r-n;o<l;o+=s)i.push(XY(e,o,o+s>l?l:o+s));return n===1?(t=e[r-1],i.push(wa[t>>2]+wa[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(wa[t>>10]+wa[t>>4&63]+wa[t<<2&63]+"=")),i.join("")}a(P_,"PS");function lf(e,t,r,n,i){var s,o,l=i*8-n-1,u=(1<<l)-1,c=u>>1,h=-7,d=r?i-1:0,g=r?-1:1,m=e[t+d];for(d+=g,s=m&(1<<-h)-1,m>>=-h,h+=l;h>0;s=s*256+e[t+d],d+=g,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;h>0;o=o*256+e[t+d],d+=g,h-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(m?-1:1)*o*Math.pow(2,s-n)}a(lf,"F5");function HT(e,t,r,n,i,s){var o,l,u,c=s*8-i-1,h=(1<<c)-1,d=h>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:s-1,y=n?1:-1,x=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+d>=1?t+=g/u:t+=g*Math.pow(2,1-d),t*u>=2&&(o++,u/=2),o+d>=h?(l=0,o=h):o+d>=1?(l=(t*u-1)*Math.pow(2,i),o=o+d):(l=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+m]=l&255,m+=y,l/=256,i-=8);for(o=o<<i|l,c+=i;c>0;e[r+m]=o&255,m+=y,o/=256,c-=8);e[r+m-y]|=x*128}a(HT,"zS");function Us(e){if(e>Bd)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,ot.prototype),t}a(Us,"SK");function Zg(e,t,r){return class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}a(Zg,"VH");function ot(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw TypeError('The "string" argument must be of type string. Received type number');return Yy(e)}return GT(e,t,r)}a(ot,"w$");function GT(e,t,r){if(typeof e=="string")return KY(e,t);if(ArrayBuffer.isView(e))return WY(e);if(e==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Ka(e,ArrayBuffer)||e&&Ka(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ka(e,SharedArrayBuffer)||e&&Ka(e.buffer,SharedArrayBuffer)))return $y(e,t,r);if(typeof e=="number")throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return ot.from(n,t,r);let i=QY(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return ot.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}a(GT,"JS");function VT(e){if(typeof e!="number")throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}a(VT,"TS");function JY(e,t,r){return VT(e),e<=0?Us(e):t!==void 0?typeof r=="string"?Us(e).fill(t,r):Us(e).fill(t):Us(e)}a(JY,"cl");function Yy(e){return VT(e),Us(e<0?0:m4(e)|0)}a(Yy,"SH");function KY(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!ot.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=YT(e,t)|0,n=Us(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}a(KY,"ml");function Zy(e){let t=e.length<0?0:m4(e.length)|0,r=Us(t);for(let n=0;n<t;n+=1)r[n]=e[n]&255;return r}a(Zy,"AH");function WY(e){if(Ka(e,Uint8Array)){let t=new Uint8Array(e);return $y(t.buffer,t.byteOffset,t.byteLength)}return Zy(e)}a(WY,"dl");function $y(e,t,r){if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,ot.prototype),n}a($y,"kH");function QY(e){if(ot.isBuffer(e)){let t=m4(e.length)|0,r=Us(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||Number.isNaN(e.length)?Us(0):Zy(e);if(e.type==="Buffer"&&Array.isArray(e.data))return Zy(e.data)}a(QY,"ll");function m4(e){if(e>=Bd)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Bd.toString(16)+" bytes");return e|0}a(m4,"MH");function YT(e,t){if(ot.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Ka(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Xy(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return JT(e).length;default:if(i)return n?-1:Xy(e).length;t=(""+t).toLowerCase(),i=!0}}a(YT,"wS");function qY(e,t,r){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return uZ(this,t,r);case"utf8":case"utf-8":return ZT(this,t,r);case"ascii":return oZ(this,t,r);case"latin1":case"binary":return lZ(this,t,r);case"base64":return aZ(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cZ(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}a(qY,"rl");function $o(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}a($o,"g_");function L_(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Number.isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=ot.from(t,n)),ot.isBuffer(t))return t.length===0?-1:D_(e,t,r,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):D_(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}a(L_,"fS");function D_(e,t,r,n,i){let s=1,o=e.length,l=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,o/=2,l/=2,r/=2}function u(h,d){return s===1?h[d]:h.readUInt16BE(d*s)}a(u,"J");let c;if(i){let h=-1;for(c=r;c<o;c++)if(u(e,c)===u(t,h===-1?0:c-h)){if(h===-1&&(h=c),c-h+1===l)return h*s}else h!==-1&&(c-=c-h),h=-1}else for(r+l>o&&(r=o-l),c=r;c>=0;c--){let h=!0;for(let d=0;d<l;d++)if(u(e,c+d)!==u(t,d)){h=!1;break}if(h)return c}return-1}a(D_,"YS");function eZ(e,t,r,n){r=Number(r)||0;let i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let s=t.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let l=parseInt(t.substr(o*2,2),16);if(Number.isNaN(l))return o;e[r+o]=l}return o}a(eZ,"ol");function tZ(e,t,r,n){return Em(Xy(t,e.length-r),e,r,n)}a(tZ,"nl");function rZ(e,t,r,n){return Em(fZ(t),e,r,n)}a(rZ,"il");function nZ(e,t,r,n){return Em(JT(t),e,r,n)}a(nZ,"tl");function iZ(e,t,r,n){return Em(pZ(t,e.length-r),e,r,n)}a(iZ,"Bl");function aZ(e,t,r){return t===0&&r===e.length?P_(e):P_(e.slice(t,r))}a(aZ,"Ul");function ZT(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let s=e[i],o=null,l=s>239?4:s>223?3:s>191?2:1;if(i+l<=r){let u,c,h,d;switch(l){case 1:s<128&&(o=s);break;case 2:u=e[i+1],(u&192)===128&&(d=(s&31)<<6|u&63,d>127&&(o=d));break;case 3:u=e[i+1],c=e[i+2],(u&192)===128&&(c&192)===128&&(d=(s&15)<<12|(u&63)<<6|c&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:u=e[i+1],c=e[i+2],h=e[i+3],(u&192)===128&&(c&192)===128&&(h&192)===128&&(d=(s&15)<<18|(u&63)<<12|(c&63)<<6|h&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,l=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=l}return sZ(n)}a(ZT,"ZS");function sZ(e){let t=e.length;if(t<=G_)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=G_));return r}a(sZ,"Fl");function oZ(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}a(oZ,"al");function lZ(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}a(lZ,"Ql");function uZ(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=sN[e[s]];return i}a(uZ,"el");function cZ(e,t,r){let n=e.slice(t,r),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}a(cZ,"sl");function Nn(e,t,r){if(e%1!==0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}a(Nn,"Tq");function li(e,t,r,n,i,s){if(!ot.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}a(li,"sq");function j_(e,t,r,n,i){XT(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s=s>>8,e[r++]=s,s=s>>8,e[r++]=s,s=s>>8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,r}a(j_,"XS");function B_(e,t,r,n,i){XT(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s=s>>8,e[r+6]=s,s=s>>8,e[r+5]=s,s=s>>8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o=o>>8,e[r+2]=o,o=o>>8,e[r+1]=o,o=o>>8,e[r]=o,r+8}a(B_,"AS");function $T(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}a($T,"kS");function z_(e,t,r,n,i){return t=+t,r=r>>>0,!i&&$T(e,t,r,4),HT(e,t,r,n,23,4),r+4}a(z_,"GS");function F_(e,t,r,n,i){return t=+t,r=r>>>0,!i&&$T(e,t,r,8),HT(e,t,r,n,52,8),r+8}a(F_,"VS");function U_(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}a(U_,"vS");function dZ(e,t,r){wu(t,"offset"),(e[t]===void 0||e[t+r]===void 0)&&ed(t,e.length-(r+1))}a(dZ,"$r");function XT(e,t,r,n,i,s){if(e>r||e<t){let o=typeof t=="bigint"?"n":"",l;throw t===0||t===BigInt(0)?l=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:l=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`,new B0("value",l,e)}dZ(n,i,s)}a(XT,"SS$1");function wu(e,t){if(typeof e!="number")throw new iN(t,"number",e)}a(wu,"x4");function ed(e,t,r){throw Math.floor(e)!==e?(wu(e,r),new B0("offset","an integer",e)):t<0?new nN:new B0("offset",`>= 0 and <= ${t}`,e)}a(ed,"l7");function hZ(e){if(e=e.split("=")[0],e=e.trim().replace(aN,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}a(hZ,"Kr");function Xy(e,t){t=t||1/0;let r,n=e.length,i=null,s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw Error("Invalid code point")}return s}a(Xy,"GH");function fZ(e){let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}a(fZ,"_r");function pZ(e,t){let r,n,i,s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}a(pZ,"Pr");function JT(e){return ZY(hZ(e))}a(JT,"MS");function Em(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}a(Em,"a5");function Ka(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}a(Ka,"$K");function uo(e){return typeof BigInt>"u"?mZ:e}a(uo,"sK");function mZ(){throw Error("BigInt not supported")}a(mZ,"Yr");function $g(e){return()=>{throw Error(e+" is not implemented for node:buffer browser polyfill")}}a($g,"NH");var wa,Ii,Xg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xo,H_,Jg,KT=50,Bd=2147483647,WT=536870888,QT,qT,eN,tN,rN,nN,iN,B0,G_=4096,aN,sN,oN,lN,gZ=a(e=>{for(let t of e)if(t.charCodeAt(0)>127)return!1;return!0},"zr"),uN,cN,Bn=Th(()=>{for(wa=[],Ii=[],Xo=0,H_=Xg.length;Xo<H_;++Xo)wa[Xo]=Xg[Xo],Ii[Xg.charCodeAt(Xo)]=Xo;Ii[45]=62,Ii[95]=63,Jg=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,QT=globalThis.btoa,qT=globalThis.atob,eN=globalThis.File,tN=globalThis.Blob,rN={MAX_LENGTH:Bd,MAX_STRING_LENGTH:WT},nN=Zg("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),iN=Zg("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),B0=Zg("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=U_(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=U_(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError),Object.defineProperty(ot.prototype,"parent",{enumerable:!0,get:a(function(){if(ot.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(ot.prototype,"offset",{enumerable:!0,get:a(function(){if(ot.isBuffer(this))return this.byteOffset},"get")}),ot.poolSize=8192,ot.from=function(e,t,r){return GT(e,t,r)},Object.setPrototypeOf(ot.prototype,Uint8Array.prototype),Object.setPrototypeOf(ot,Uint8Array),ot.alloc=function(e,t,r){return JY(e,t,r)},ot.allocUnsafe=function(e){return Yy(e)},ot.allocUnsafeSlow=function(e){return Yy(e)},ot.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ot.prototype},ot.compare=function(e,t){if(Ka(e,Uint8Array)&&(e=ot.from(e,e.offset,e.byteLength)),Ka(t,Uint8Array)&&(t=ot.from(t,t.offset,t.byteLength)),!ot.isBuffer(e)||!ot.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},ot.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ot.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ot.alloc(0);let r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=ot.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let s=e[r];if(Ka(s,Uint8Array))i+s.length>n.length?(ot.isBuffer(s)||(s=ot.from(s)),s.copy(n,i)):Uint8Array.prototype.set.call(n,s,i);else if(ot.isBuffer(s))s.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=s.length}return n},ot.byteLength=YT,ot.prototype._isBuffer=!0,ot.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)$o(this,t,t+1);return this},ot.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)$o(this,t,t+3),$o(this,t+1,t+2);return this},ot.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)$o(this,t,t+7),$o(this,t+1,t+6),$o(this,t+2,t+5),$o(this,t+3,t+4);return this},ot.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?ZT(this,0,e):qY.apply(this,arguments)},ot.prototype.toLocaleString=ot.prototype.toString,ot.prototype.equals=function(e){if(!ot.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e?!0:ot.compare(this,e)===0},ot.prototype.inspect=function(){let e="",t=KT;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Jg&&(ot.prototype[Jg]=ot.prototype.inspect),ot.prototype.compare=function(e,t,r,n,i){if(Ka(e,Uint8Array)&&(e=ot.from(e,e.offset,e.byteLength)),!ot.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,o=r-t,l=Math.min(s,o),u=this.slice(n,i),c=e.slice(t,r);for(let h=0;h<l;++h)if(u[h]!==c[h]){s=u[h],o=c[h];break}return s<o?-1:o<s?1:0},ot.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},ot.prototype.indexOf=function(e,t,r){return L_(this,e,t,r,!0)},ot.prototype.lastIndexOf=function(e,t,r){return L_(this,e,t,r,!1)},ot.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(r)?(r=r>>>0,n===void 0&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return eZ(this,e,t,r);case"utf8":case"utf-8":return tZ(this,e,t,r);case"ascii":case"latin1":case"binary":return rZ(this,e,t,r);case"base64":return nZ(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return iZ(this,e,t,r);default:if(s)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},ot.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},ot.prototype.slice=function(e,t){let r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,ot.prototype),n},ot.prototype.readUintLE=ot.prototype.readUIntLE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&Nn(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},ot.prototype.readUintBE=ot.prototype.readUIntBE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&Nn(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},ot.prototype.readUint8=ot.prototype.readUInt8=function(e,t){return e=e>>>0,!t&&Nn(e,1,this.length),this[e]},ot.prototype.readUint16LE=ot.prototype.readUInt16LE=function(e,t){return e=e>>>0,!t&&Nn(e,2,this.length),this[e]|this[e+1]<<8},ot.prototype.readUint16BE=ot.prototype.readUInt16BE=function(e,t){return e=e>>>0,!t&&Nn(e,2,this.length),this[e]<<8|this[e+1]},ot.prototype.readUint32LE=ot.prototype.readUInt32LE=function(e,t){return e=e>>>0,!t&&Nn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},ot.prototype.readUint32BE=ot.prototype.readUInt32BE=function(e,t){return e=e>>>0,!t&&Nn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},ot.prototype.readBigUInt64LE=uo(function(e){e=e>>>0,wu(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&ed(e,this.length-8);let n=t+this[++e]*256+this[++e]*65536+this[++e]*16777216,i=this[++e]+this[++e]*256+this[++e]*65536+r*16777216;return BigInt(n)+(BigInt(i)<<BigInt(32))}),ot.prototype.readBigUInt64BE=uo(function(e){e=e>>>0,wu(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&ed(e,this.length-8);let n=t*16777216+this[++e]*65536+this[++e]*256+this[++e],i=this[++e]*16777216+this[++e]*65536+this[++e]*256+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),ot.prototype.readIntLE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&Nn(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},ot.prototype.readIntBE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&Nn(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},ot.prototype.readInt8=function(e,t){return e=e>>>0,!t&&Nn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},ot.prototype.readInt16LE=function(e,t){e=e>>>0,!t&&Nn(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r},ot.prototype.readInt16BE=function(e,t){e=e>>>0,!t&&Nn(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r},ot.prototype.readInt32LE=function(e,t){return e=e>>>0,!t&&Nn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},ot.prototype.readInt32BE=function(e,t){return e=e>>>0,!t&&Nn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},ot.prototype.readBigInt64LE=uo(function(e){e=e>>>0,wu(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&ed(e,this.length-8);let n=this[e+4]+this[e+5]*256+this[e+6]*65536+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*256+this[++e]*65536+this[++e]*16777216)}),ot.prototype.readBigInt64BE=uo(function(e){e=e>>>0,wu(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&ed(e,this.length-8);let n=(t<<24)+this[++e]*65536+this[++e]*256+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*16777216+this[++e]*65536+this[++e]*256+r)}),ot.prototype.readFloatLE=function(e,t){return e=e>>>0,!t&&Nn(e,4,this.length),lf(this,e,!0,23,4)},ot.prototype.readFloatBE=function(e,t){return e=e>>>0,!t&&Nn(e,4,this.length),lf(this,e,!1,23,4)},ot.prototype.readDoubleLE=function(e,t){return e=e>>>0,!t&&Nn(e,8,this.length),lf(this,e,!0,52,8)},ot.prototype.readDoubleBE=function(e,t){return e=e>>>0,!t&&Nn(e,8,this.length),lf(this,e,!1,52,8)},ot.prototype.writeUintLE=ot.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t=t>>>0,r=r>>>0,!n){let o=Math.pow(2,8*r)-1;li(this,e,t,r,o,0)}let i=1,s=0;for(this[t]=e&255;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},ot.prototype.writeUintBE=ot.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t=t>>>0,r=r>>>0,!n){let o=Math.pow(2,8*r)-1;li(this,e,t,r,o,0)}let i=r-1,s=1;for(this[t+i]=e&255;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},ot.prototype.writeUint8=ot.prototype.writeUInt8=function(e,t,r){return e=+e,t=t>>>0,!r&&li(this,e,t,1,255,0),this[t]=e&255,t+1},ot.prototype.writeUint16LE=ot.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t>>>0,!r&&li(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},ot.prototype.writeUint16BE=ot.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t>>>0,!r&&li(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},ot.prototype.writeUint32LE=ot.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t>>>0,!r&&li(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},ot.prototype.writeUint32BE=ot.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t>>>0,!r&&li(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},ot.prototype.writeBigUInt64LE=uo(function(e,t=0){return j_(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),ot.prototype.writeBigUInt64BE=uo(function(e,t=0){return B_(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),ot.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=t>>>0,!n){let l=Math.pow(2,8*r-1);li(this,e,t,r,l-1,-l)}let i=0,s=1,o=0;for(this[t]=e&255;++i<r&&(s*=256);)e<0&&o===0&&this[t+i-1]!==0&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},ot.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=t>>>0,!n){let l=Math.pow(2,8*r-1);li(this,e,t,r,l-1,-l)}let i=r-1,s=1,o=0;for(this[t+i]=e&255;--i>=0&&(s*=256);)e<0&&o===0&&this[t+i+1]!==0&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},ot.prototype.writeInt8=function(e,t,r){return e=+e,t=t>>>0,!r&&li(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},ot.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t>>>0,!r&&li(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},ot.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t>>>0,!r&&li(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},ot.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t>>>0,!r&&li(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},ot.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t>>>0,!r&&li(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},ot.prototype.writeBigInt64LE=uo(function(e,t=0){return j_(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ot.prototype.writeBigInt64BE=uo(function(e,t=0){return B_(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ot.prototype.writeFloatLE=function(e,t,r){return z_(this,e,t,!0,r)},ot.prototype.writeFloatBE=function(e,t,r){return z_(this,e,t,!1,r)},ot.prototype.writeDoubleLE=function(e,t,r){return F_(this,e,t,!0,r)},ot.prototype.writeDoubleBE=function(e,t,r){return F_(this,e,t,!1,r)},ot.prototype.copy=function(e,t,r,n){if(!ot.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},ot.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw TypeError("encoding must be a string");if(typeof n=="string"&&!ot.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(e.length===1){let s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,!e&&(e=0);let i;if(typeof e=="number")for(i=t;i<r;++i)this[i]=e;else{let s=ot.isBuffer(e)?e:ot.from(e,n),o=s.length;if(o===0)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this},aN=/[^+/0-9A-Za-z-_]/g,sN=(function(){let e=Array(256);for(let t=0;t<16;++t){let r=t*16;for(let n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n]}return e})(),oN=$g("resolveObjectURL"),lN=$g("isUtf8"),uN=$g("transcode"),cN=ot}),dN={};_i(dN,{types:a(()=>CZ,"types"),promisify:a(()=>Qy,"promisify"),log:a(()=>pN,"log"),isUndefined:a(()=>Nu,"isUndefined"),isSymbol:a(()=>kZ,"isSymbol"),isString:a(()=>km,"isString"),isRegExp:a(()=>p0,"isRegExp"),isPrimitive:a(()=>AZ,"isPrimitive"),isObject:a(()=>ec,"isObject"),isNumber:a(()=>fN,"isNumber"),isNullOrUndefined:a(()=>SZ,"isNullOrUndefined"),isNull:a(()=>Sm,"isNull"),isFunction:a(()=>g0,"isFunction"),isError:a(()=>m0,"isError"),isDate:a(()=>Ky,"isDate"),isBuffer:a(()=>TZ,"isBuffer"),isBoolean:a(()=>v4,"isBoolean"),isArray:a(()=>hN,"isArray"),inspect:a(()=>ko,"inspect"),inherits:a(()=>mN,"inherits"),format:a(()=>g4,"format"),deprecate:a(()=>vZ,"deprecate"),default:a(()=>_N,"default"),debuglog:a(()=>yN,"debuglog"),callbackifyOnRejected:a(()=>y4,"callbackifyOnRejected"),callbackify:a(()=>vN,"callbackify"),_extend:a(()=>Wy,"_extend"),TextEncoder:a(()=>qy,"TextEncoder"),TextDecoder:a(()=>e1,"TextDecoder")});function g4(e,...t){if(!km(e)){for(var r=[e],n=0;n<t.length;n++)r.push(ko(t[n]));return r.join(" ")}for(var n=0,i=t.length,s=String(e).replace(bN,function(l){if(l==="%%")return"%";if(n>=i)return l;switch(l){case"%s":return String(t[n++]);case"%d":return Number(t[n++]);case"%j":try{return JSON.stringify(t[n++])}catch{return"[Circular]"}default:return l}}),o=t[n];n<i;o=t[++n])Sm(o)||!ec(o)?s+=" "+o:s+=" "+ko(o);return s}a(g4,"IH");function vZ(e,t){if(typeof process>"u"||process?.noDeprecation===!0)return e;var r=!1;function n(...i){if(!r){if(process.throwDeprecation)throw Error(t);process.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,...i)}return a(n,"P"),n}a(vZ,"Tr");function bZ(e,t){var r=ko.styles[t];return r?"\x1B["+ko.colors[r][0]+"m"+e+"\x1B["+ko.colors[r][1]+"m":e}a(bZ,"fr");function yZ(e,t){return e}a(yZ,"Zr");function wZ(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}a(wZ,"Xr");function z0(e,t,r){if(e.customInspect&&t&&g0(t.inspect)&&t.inspect!==ko&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return km(n)||(n=z0(e,n,r)),n}var i=_Z(e,t);if(i)return i;var s=Object.keys(t),o=wZ(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),m0(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Kg(t);if(s.length===0){if(g0(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(p0(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Ky(t))return e.stylize(Date.prototype.toString.call(t),"date");if(m0(t))return Kg(t)}var u="",c=!1,h=["{","}"];if(hN(t)&&(c=!0,h=["[","]"]),g0(t)){var d=t.name?": "+t.name:"";u=" [Function"+d+"]"}if(p0(t)&&(u=" "+RegExp.prototype.toString.call(t)),Ky(t)&&(u=" "+Date.prototype.toUTCString.call(t)),m0(t)&&(u=" "+Kg(t)),s.length===0&&(!c||t.length==0))return h[0]+u+h[1];if(r<0)return p0(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var g;return c?g=xZ(e,t,r,o,s):g=s.map(function(m){return Jy(e,t,r,o,m,c)}),e.seen.pop(),EZ(g,u,h)}a(z0,"$O");function _Z(e,t){if(Nu(t))return e.stylize("undefined","undefined");if(km(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(fN(t))return e.stylize(""+t,"number");if(v4(t))return e.stylize(""+t,"boolean");if(Sm(t))return e.stylize("null","null")}a(_Z,"Ar");function Kg(e){return"["+Error.prototype.toString.call(e)+"]"}a(Kg,"CH");function xZ(e,t,r,n,i){for(var s=[],o=0,l=t.length;o<l;++o)gN(t,String(o))?s.push(Jy(e,t,r,n,String(o),!0)):s.push("");return i.forEach(function(u){u.match(/^\d+$/)||s.push(Jy(e,t,r,n,u,!0))}),s}a(xZ,"kr");function Jy(e,t,r,n,i,s){var o,l,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?u.set?l=e.stylize("[Getter/Setter]","special"):l=e.stylize("[Getter]","special"):u.set&&(l=e.stylize("[Setter]","special")),gN(n,i)||(o="["+i+"]"),l||(e.seen.indexOf(u.value)<0?(Sm(r)?l=z0(e,u.value,null):l=z0(e,u.value,r-1),l.indexOf(`
`)>-1&&(s?l=l.split(`
`).map(function(c){return"  "+c}).join(`
`).slice(2):l=`
`+l.split(`
`).map(function(c){return"   "+c}).join(`
`))):l=e.stylize("[Circular]","special")),Nu(o)){if(s&&i.match(/^\d+$/))return l;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+l}a(Jy,"EH");function EZ(e,t,r){var n=e.reduce(function(i,s){return s.indexOf(`
`)>=0,i+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}a(EZ,"Gr");function hN(e){return Array.isArray(e)}a(hN,"NS$1");function v4(e){return typeof e=="boolean"}a(v4,"DH");function Sm(e){return e===null}a(Sm,"qO");function SZ(e){return e==null}a(SZ,"Sr");function fN(e){return typeof e=="number"}a(fN,"CS");function km(e){return typeof e=="string"}a(km,"KO");function kZ(e){return typeof e=="symbol"}a(kZ,"Mr");function Nu(e){return e===void 0}a(Nu,"p4");function p0(e){return ec(e)&&b4(e)==="[object RegExp]"}a(p0,"Q5");function ec(e){return typeof e=="object"&&e!==null}a(ec,"c4");function Ky(e){return ec(e)&&b4(e)==="[object Date]"}a(Ky,"RH");function m0(e){return ec(e)&&(b4(e)==="[object Error]"||e instanceof Error)}a(m0,"e5");function g0(e){return typeof e=="function"}a(g0,"s5");function AZ(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}a(AZ,"Nr");function TZ(e){return e instanceof Buffer}a(TZ,"Cr");function b4(e){return Object.prototype.toString.call(e)}a(b4,"LH");function Wg(e){return e<10?"0"+e.toString(10):e.toString(10)}a(Wg,"hH");function NZ(){var e=new Date,t=[Wg(e.getHours()),Wg(e.getMinutes()),Wg(e.getSeconds())].join(":");return[e.getDate(),wN[e.getMonth()],t].join(" ")}a(NZ,"Er");function pN(...e){console.log("%s - %s",NZ(),g4.apply(null,e))}a(pN,"hS");function mN(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}a(mN,"ES");function Wy(e,t){if(!t||!ec(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}a(Wy,"gH");function gN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}a(gN,"RS");function y4(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}a(y4,"bH");function vN(e){if(typeof e!="function")throw TypeError('The "original" argument must be of type Function');function t(...r){var n=r.pop();if(typeof n!="function")throw TypeError("The last argument must be of type Function");var i=this,s=a(function(...o){return n.apply(i,...o)},"Y");e.apply(this,r).then(function(o){process.nextTick(s.bind(null,null,o))},function(o){process.nextTick(y4.bind(null,o,s))})}return a(t,"q"),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),t}a(vN,"DS");var bN,yN,ko,CZ=a(()=>{},"Vr"),wN,Qy,qy,e1,_N,IZ=Th(()=>{bN=/%[sdj%]/g,yN=((e={},t={},r)=>((r=typeof process<"u"&&!1)&&(r=r.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),t=new RegExp("^"+r+"$","i"),n=>(n=n.toUpperCase(),!e[n]&&(t.test(n)?e[n]=function(...i){console.error("%s: %s",n,pid,g4.apply(null,...i))}:e[n]=function(){}),e[n])))(),ko=(e=>(e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.custom=Symbol.for("nodejs.util.inspect.custom"),e))(function(e,t,...r){var n={seen:[],stylize:yZ};return r.length>=1&&(n.depth=r[0]),r.length>=2&&(n.colors=r[1]),v4(t)?n.showHidden=t:t&&Wy(n,t),Nu(n.showHidden)&&(n.showHidden=!1),Nu(n.depth)&&(n.depth=2),Nu(n.colors)&&(n.colors=!1),n.colors&&(n.stylize=bZ),z0(n,e,n.depth)}),wN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Qy=(e=>(e.custom=Symbol.for("nodejs.util.promisify.custom"),e))(function(e){if(typeof e!="function")throw TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&e[kCustomPromisifiedSymbol]){var t=e[kCustomPromisifiedSymbol];if(typeof t!="function")throw TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,kCustomPromisifiedSymbol,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(...r){var n,i,s=new Promise(function(o,l){n=o,i=l});r.push(function(o,l){o?i(o):n(l)});try{e.apply(this,r)}catch(o){i(o)}return s}return a(t,"q"),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),kCustomPromisifiedSymbol&&Object.defineProperty(t,kCustomPromisifiedSymbol,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,Object.getOwnPropertyDescriptors(e))}),{TextEncoder:qy,TextDecoder:e1}=globalThis,_N={TextEncoder:qy,TextDecoder:e1,promisify:Qy,log:pN,inherits:mN,_extend:Wy,callbackifyOnRejected:y4,callbackify:vN}}),td={};_i(td,{setMaxListeners:a(()=>kN,"setMaxListeners"),once:a(()=>EN,"once"),listenerCount:a(()=>AN,"listenerCount"),init:a(()=>Rs,"init"),getMaxListeners:a(()=>NN,"getMaxListeners"),getEventListeners:a(()=>SN,"getEventListeners"),default:a(()=>IN,"default"),captureRejectionSymbol:a(()=>i1,"captureRejectionSymbol"),addAbortListener:a(()=>CN,"addAbortListener"),EventEmitter:a(()=>Rs,"EventEmitter")});function xN(e,t){var{_events:r}=e;if(t[0]??=Error("Unhandled error."),!r)throw t[0];var n=r[r1];if(n)for(var i of a1.call(n))i.apply(e,t);var s=r.error;if(!s)throw t[0];for(var i of a1.call(s))i.apply(e,t);return!0}a(xN,"dS");function MZ(e,t,r,n){t.then(void 0,function(i){queueMicrotask(()=>OZ(e,i,r,n))})}a(MZ,"Lr");function OZ(e,t,r,n){if(typeof e[n1]=="function")e[n1](t,r,...n);else try{e[_o]=!1,e.emit("error",t)}finally{e[_o]=!0}}a(OZ,"gr");function V_(e,t,r){r.warned=!0;let n=Error(`Possible EventEmitter memory leak detected. ${r.length} ${String(t)} listeners added to [${e.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=r.length,console.warn(n)}a(V_,"lS");function Y_(e,t,...r){this.removeListener(e,t),t.apply(this,r)}a(Y_,"rS");function EN(e,t,r){var n=r?.signal;if(TN(n,"options.signal"),n?.aborted)throw new s1(void 0,{cause:n?.reason});let{resolve:i,reject:s,promise:o}=$newPromiseCapability(Promise),l=a(h=>{e.removeListener(t,u),n!=null&&uf(n,"abort",c),s(h)},"z"),u=a((...h)=>{typeof e.removeListener=="function"&&e.removeListener("error",l),n!=null&&uf(n,"abort",c),i(h)},"J");Z_(e,t,u,{once:!0}),t!=="error"&&typeof e.once=="function"&&e.once("error",l);function c(){uf(e,t,u),uf(e,"error",l),s(new s1(void 0,{cause:n?.reason}))}return a(c,"T"),n!=null&&Z_(n,"abort",c,{once:!0}),o}a(EN,"oS");function SN(e,t){return e.listeners(t)}a(SN,"nS");function kN(e,...t){t1(e,"setMaxListeners",0);var r;if(t&&(r=t.length))for(let n=0;n<r;n++)t[n].setMaxListeners(e);else ll=e}a(kN,"iS");function AN(e,t){return e.listenerCount(t)}a(AN,"tS");function uf(e,t,r,n){typeof e.removeListener=="function"?e.removeListener(t,r):e.removeEventListener(t,r,n)}a(uf,"_O");function Z_(e,t,r,n){typeof e.on=="function"?n.once?e.once(t,r):e.on(t,r):e.addEventListener(t,r,n)}a(Z_,"pS");function ju(e,t,r){let n=TypeError(`The "${e}" argument must be of type ${t}. Received ${r}`);return n.code="ERR_INVALID_ARG_TYPE",n}a(ju,"m4");function RZ(e,t,r){let n=RangeError(`The "${e}" argument is out of range. It must be ${t}. Received ${r}`);return n.code="ERR_OUT_OF_RANGE",n}a(RZ,"ur");function TN(e,t){if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw ju(t,"AbortSignal",e)}a(TN,"BS");function t1(e,t,r,n){if(typeof e!="number")throw ju(t,"number",e);if(e<r||n!=null||Number.isNaN(e))throw RZ(t,`${`>= ${r}`}`,e)}a(t1,"xH");function wc(e){if(typeof e!="function")throw TypeError("The listener must be a function")}a(wc,"r7");function PZ(e,t){if(typeof e!="boolean")throw ju(t,"boolean",e)}a(PZ,"xr");function NN(e){return e?._maxListeners??ll}a(NN,"US");function CN(e,t){if(e===void 0)throw ju("signal","AbortSignal",e);if(TN(e,"signal"),typeof t!="function")throw ju("listener","function",t);let r;return e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0}),r=a(()=>{e.removeEventListener("abort",t)},"K")),{__proto__:null,[Symbol.dispose](){r?.()}}}a(CN,"FS");var cf,_o,r1,$_,X_,n1,i1,a1,ll=10,Rs=a(function(e){(this._events===void 0||this._events===this.__proto__._events)&&(this._events={__proto__:null},this._eventsCount=0),this._maxListeners??=void 0,(this[_o]=e?.captureRejections?!!e?.captureRejections:Lr[_o])&&(this.emit=DZ)},"$_"),Lr,LZ=a(function(e,...t){if(e==="error")return xN(this,t);var{_events:r}=this;if(r===void 0)return!1;var n=r[e];if(n===void 0)return!1;let i=n.length>1?n.slice():n;for(let s=0,{length:o}=i;s<o;s++){let l=i[s];switch(t.length){case 0:l.call(this);break;case 1:l.call(this,t[0]);break;case 2:l.call(this,t[0],t[1]);break;case 3:l.call(this,t[0],t[1],t[2]);break;default:l.apply(this,t);break}}return!0},"br$1"),DZ=a(function(e,...t){if(e==="error")return xN(this,t);var{_events:r}=this;if(r===void 0)return!1;var n=r[e];if(n===void 0)return!1;let i=n.length>1?n.slice():n;for(let s=0,{length:o}=i;s<o;s++){let l=i[s],u;switch(t.length){case 0:u=l.call(this);break;case 1:u=l.call(this,t[0]);break;case 2:u=l.call(this,t[0],t[1]);break;case 3:u=l.call(this,t[0],t[1],t[2]);break;default:u=l.apply(this,t);break}u!==void 0&&typeof u?.then=="function"&&u.then===Promise.prototype.then&&MZ(this,u,e,t)}return!0},"yr"),s1,IN,df=Th(()=>{cf=Symbol.for,_o=Symbol("kCapture"),r1=cf("events.errorMonitor"),$_=Symbol("events.maxEventTargetListeners"),X_=Symbol("events.maxEventTargetListenersWarned"),n1=cf("nodejs.rejection"),i1=cf("nodejs.rejection"),a1=Array.prototype.slice,Lr=Rs.prototype={},Lr._events=void 0,Lr._eventsCount=0,Lr._maxListeners=void 0,Lr.setMaxListeners=function(e){return t1(e,"setMaxListeners",0),this._maxListeners=e,this},Lr.constructor=Rs,Lr.getMaxListeners=function(){return this?._maxListeners??ll},Lr.emit=LZ,Lr.addListener=function(e,t){wc(t);var r=this._events;r?r.newListener&&this.emit("newListener",e,t.listener??t):(r=this._events={__proto__:null},this._eventsCount=0);var n=r[e];if(!n)r[e]=[t],this._eventsCount++;else{n.push(t);var i=this._maxListeners??ll;i>0&&n.length>i&&!n.warned&&V_(this,e,n)}return this},Lr.on=Lr.addListener,Lr.prependListener=function(e,t){wc(t);var r=this._events;r?r.newListener&&this.emit("newListener",e,t.listener??t):(r=this._events={__proto__:null},this._eventsCount=0);var n=r[e];if(!n)r[e]=[t],this._eventsCount++;else{n.unshift(t);var i=this._maxListeners??ll;i>0&&n.length>i&&!n.warned&&V_(this,e,n)}return this},Lr.once=function(e,t){wc(t);let r=Y_.bind(this,e,t);return r.listener=t,this.addListener(e,r),this},Lr.prependOnceListener=function(e,t){wc(t);let r=Y_.bind(this,e,t);return r.listener=t,this.prependListener(e,r),this},Lr.removeListener=function(e,t){wc(t);var{_events:r}=this;if(!r)return this;var n=r[e];if(!n)return this;var i=n.length;let s=-1;for(let o=i-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=o;break}return s<0?this:(s===0?n.shift():n.splice(s,1),n.length===0&&(delete r[e],this._eventsCount--),this)},Lr.off=Lr.removeListener,Lr.removeAllListeners=function(e){var{_events:t}=this;return e&&t?t[e]&&(delete t[e],this._eventsCount--):this._events={__proto__:null},this},Lr.listeners=function(e){var{_events:t}=this;if(!t)return[];var r=t[e];return r?r.map(n=>n.listener??n):[]},Lr.rawListeners=function(e){var{_events:t}=this;if(!t)return[];var r=t[e];return r?r.slice():[]},Lr.listenerCount=function(e){var{_events:t}=this;return t?t[e]?.length??0:0},Lr.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},Lr[_o]=!1,s1=class extends Error{static{a(this,"yH")}constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw ju("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}},Object.defineProperties(Rs,{captureRejections:{get(){return Lr[_o]},set(e){PZ(e,"EventEmitter.captureRejections"),Lr[_o]=e},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:a(()=>ll,"get"),set:a(e=>{t1(e,"defaultMaxListeners",0),ll=e},"set")},kMaxEventTargetListeners:{value:$_,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:X_,enumerable:!1,configurable:!1,writable:!1}}),Object.assign(Rs,{once:EN,getEventListeners:SN,getMaxListeners:NN,setMaxListeners:kN,EventEmitter:Rs,usingDomains:!1,captureRejectionSymbol:i1,errorMonitor:r1,addAbortListener:CN,init:Rs,listenerCount:AN}),IN=Rs}),MN=ht((e,t)=>{var r=a((T,N)=>()=>(N||T((N={exports:{}}).exports,N),N.exports),"V6"),n=r((T,N)=>{class k extends Error{static{a(this,"K")}constructor(E){if(!Array.isArray(E))throw TypeError(`Expected input to be an Array, got ${typeof E}`);let I="";for(let O=0;O<E.length;O++)I+=`    ${E[O].stack}
`;super(I),this.name="AggregateError",this.errors=E}}N.exports={AggregateError:k,ArrayIsArray(p){return Array.isArray(p)},ArrayPrototypeIncludes(p,E){return p.includes(E)},ArrayPrototypeIndexOf(p,E){return p.indexOf(E)},ArrayPrototypeJoin(p,E){return p.join(E)},ArrayPrototypeMap(p,E){return p.map(E)},ArrayPrototypePop(p,E){return p.pop(E)},ArrayPrototypePush(p,E){return p.push(E)},ArrayPrototypeSlice(p,E,I){return p.slice(E,I)},Error,FunctionPrototypeCall(p,E,...I){return p.call(E,...I)},FunctionPrototypeSymbolHasInstance(p,E){return Function.prototype[Symbol.hasInstance].call(p,E)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(p,E){return Object.defineProperties(p,E)},ObjectDefineProperty(p,E,I){return Object.defineProperty(p,E,I)},ObjectGetOwnPropertyDescriptor(p,E){return Object.getOwnPropertyDescriptor(p,E)},ObjectKeys(p){return Object.keys(p)},ObjectSetPrototypeOf(p,E){return Object.setPrototypeOf(p,E)},Promise,PromisePrototypeCatch(p,E){return p.catch(E)},PromisePrototypeThen(p,E,I){return p.then(E,I)},PromiseReject(p){return Promise.reject(p)},PromiseResolve(p){return Promise.resolve(p)},ReflectApply:Reflect.apply,RegExpPrototypeTest(p,E){return p.test(E)},SafeSet:Set,String,StringPrototypeSlice(p,E,I){return p.slice(E,I)},StringPrototypeToLowerCase(p){return p.toLowerCase()},StringPrototypeToUpperCase(p){return p.toUpperCase()},StringPrototypeTrim(p){return p.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(p,E,I){return p.set(E,I)},Boolean,Uint8Array}}),i=r((T,N)=>{N.exports={format(k,...p){return k.replace(/%([sdifj])/g,function(...[E,I]){let O=p.shift();return I==="f"?O.toFixed(6):I==="j"?JSON.stringify(O):I==="s"&&typeof O=="object"?`${O.constructor!==Object?O.constructor.name:""} {}`.trim():O.toString()})},inspect(k){switch(typeof k){case"string":if(k.includes("'"))if(k.includes('"')){if(!k.includes("`")&&!k.includes("${"))return`\`${k}\``}else return`"${k}"`;return`'${k}'`;case"number":return isNaN(k)?"NaN":Object.is(k,-0)?String(k):k;case"bigint":return`${String(k)}n`;case"boolean":case"undefined":return String(k);case"object":return"{}"}}}}),s=r((T,N)=>{var{format:k,inspect:p}=i(),{AggregateError:E}=n(),I=globalThis.AggregateError||E,O=Symbol("kIsNodeError"),B=["string","function","number","object","Function","Object","boolean","bigint","symbol"],H=/^([A-Z][a-z0-9]*)+$/,G={};function J(Me,X){if(!Me)throw new G.ERR_INTERNAL_ASSERTION(X)}a(J,"X");function ce(Me){let X="",oe=Me.length,ee=Me[0]==="-"?1:0;for(;oe>=ee+4;oe-=3)X=`_${Me.slice(oe-3,oe)}${X}`;return`${Me.slice(0,oe)}${X}`}a(ce,"f");function ne(Me,X,oe){if(typeof X=="function")return J(X.length<=oe.length,`Code: ${Me}; The provided arguments length (${oe.length}) does not match the required ones (${X.length}).`),X(...oe);let ee=(X.match(/%[dfijoOs]/g)||[]).length;return J(ee===oe.length,`Code: ${Me}; The provided arguments length (${oe.length}) does not match the required ones (${ee}).`),oe.length===0?X:k(X,...oe)}a(ne,"V");function se(Me,X,oe){oe||(oe=Error);class ee extends oe{static{a(this,"b")}constructor(...fe){super(ne(Me,X,fe))}toString(){return`${this.name} [${Me}]: ${this.message}`}}Object.defineProperties(ee.prototype,{name:{value:oe.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Me}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ee.prototype.code=Me,ee.prototype[O]=!0,G[Me]=ee}a(se,"M");function Ye(Me){let X="__node_internal_"+Me.name;return Object.defineProperty(Me,"name",{value:X}),Me}a(Ye,"N");function Te(Me,X){if(Me&&X&&Me!==X){if(Array.isArray(X.errors))return X.errors.push(Me),X;let oe=new I([X,Me],X.message);return oe.code=X.code,oe}return Me||X}a(Te,"E");class ye extends Error{static{a(this,"h")}constructor(X="The operation was aborted",oe=void 0){if(oe!==void 0&&typeof oe!="object")throw new G.ERR_INVALID_ARG_TYPE("options","Object",oe);super(X,oe),this.code="ABORT_ERR",this.name="AbortError"}}se("ERR_ASSERTION","%s",Error),se("ERR_INVALID_ARG_TYPE",(Me,X,oe)=>{J(typeof Me=="string","'name' must be a string"),!Array.isArray(X)&&(X=[X]);let ee="The ";Me.endsWith(" argument")?ee+=`${Me} `:ee+=`"${Me}" ${Me.includes(".")?"property":"argument"} `,ee+="must be ";let te=[],fe=[],xe=[];for(let de of X)J(typeof de=="string","All expected entries have to be of type string"),B.includes(de)?te.push(de.toLowerCase()):H.test(de)?fe.push(de):(J(de!=="object",'The value "object" should be written as "Object"'),xe.push(de));if(fe.length>0){let de=te.indexOf("object");de!==-1&&(te.splice(te,de,1),fe.push("Object"))}if(te.length>0){switch(te.length){case 1:ee+=`of type ${te[0]}`;break;case 2:ee+=`one of type ${te[0]} or ${te[1]}`;break;default:{let de=te.pop();ee+=`one of type ${te.join(", ")}, or ${de}`}}(fe.length>0||xe.length>0)&&(ee+=" or ")}if(fe.length>0){switch(fe.length){case 1:ee+=`an instance of ${fe[0]}`;break;case 2:ee+=`an instance of ${fe[0]} or ${fe[1]}`;break;default:{let de=fe.pop();ee+=`an instance of ${fe.join(", ")}, or ${de}`}}xe.length>0&&(ee+=" or ")}switch(xe.length){case 0:break;case 1:xe[0].toLowerCase()!==xe[0]&&(ee+="an "),ee+=`${xe[0]}`;break;case 2:ee+=`one of ${xe[0]} or ${xe[1]}`;break;default:{let de=xe.pop();ee+=`one of ${xe.join(", ")}, or ${de}`}}if(oe==null)ee+=`. Received ${oe}`;else if(typeof oe=="function"&&oe.name)ee+=`. Received function ${oe.name}`;else if(typeof oe=="object"){var Re;if((Re=oe.constructor)!==null&&Re!==void 0&&Re.name)ee+=`. Received an instance of ${oe.constructor.name}`;else{let de=p(oe,{depth:-1});ee+=`. Received ${de}`}}else{let de=p(oe,{colors:!1});de.length>25&&(de=`${de.slice(0,25)}...`),ee+=`. Received type ${typeof oe} (${de})`}return ee},TypeError),se("ERR_INVALID_ARG_VALUE",(Me,X,oe="is invalid")=>{let ee=p(X);return ee.length>128&&(ee=ee.slice(0,128)+"..."),`The ${Me.includes(".")?"property":"argument"} '${Me}' ${oe}. Received ${ee}`},TypeError),se("ERR_INVALID_RETURN_VALUE",(Me,X,oe)=>{var ee;let te=oe!=null&&(ee=oe.constructor)!==null&&ee!==void 0&&ee.name?`instance of ${oe.constructor.name}`:`type ${typeof oe}`;return`Expected ${Me} to be returned from the "${X}" function but got ${te}.`},TypeError),se("ERR_MISSING_ARGS",(...Me)=>{J(Me.length>0,"At least one arg needs to be specified");let X,oe=Me.length;switch(Me=(Array.isArray(Me)?Me:[Me]).map(ee=>`"${ee}"`).join(" or "),oe){case 1:X+=`The ${Me[0]} argument`;break;case 2:X+=`The ${Me[0]} and ${Me[1]} arguments`;break;default:{let ee=Me.pop();X+=`The ${Me.join(", ")}, and ${ee} arguments`}break}return`${X} must be specified`},TypeError),se("ERR_OUT_OF_RANGE",(Me,X,oe)=>{J(X,'Missing "range" argument');let ee;if(Number.isInteger(oe)&&Math.abs(oe)>4294967296)ee=ce(String(oe));else if(typeof oe=="bigint"){ee=String(oe);let te=BigInt(2)**BigInt(32);(oe>te||oe<-te)&&(ee=ce(ee)),ee+="n"}else ee=p(oe);return`The value of "${Me}" is out of range. It must be ${X}. Received ${ee}`},RangeError),se("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),se("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),se("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),se("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),se("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),se("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),se("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),se("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),se("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),se("ERR_STREAM_WRITE_AFTER_END","write after end",Error),se("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),N.exports={AbortError:ye,aggregateTwoErrors:Ye(Te),hideStackFrames:Ye,codes:G}}),o=r((T,N)=>{Object.defineProperty(T,"__esModule",{value:!0});var k=new WeakMap,p=new WeakMap;function E($){let q=k.get($);return console.assert(q!=null,"'this' is expected an Event object, but got",$),q}a(E,"_");function I($){if($.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",$.passiveListener);return}$.event.cancelable&&($.canceled=!0,typeof $.event.preventDefault=="function"&&$.event.preventDefault())}a(I,"Y");function O($,q){k.set(this,{eventTarget:$,event:q,eventPhase:2,currentTarget:$,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:q.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let K=Object.keys(q);for(let le=0;le<K.length;++le){let ue=K[le];ue in this||Object.defineProperty(this,ue,B(ue))}}a(O,"O"),O.prototype={get type(){return E(this).event.type},get target(){return E(this).eventTarget},get currentTarget(){return E(this).currentTarget},composedPath(){let $=E(this).currentTarget;return $==null?[]:[$]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return E(this).eventPhase},stopPropagation(){let $=E(this);$.stopped=!0,typeof $.event.stopPropagation=="function"&&$.event.stopPropagation()},stopImmediatePropagation(){let $=E(this);$.stopped=!0,$.immediateStopped=!0,typeof $.event.stopImmediatePropagation=="function"&&$.event.stopImmediatePropagation()},get bubbles(){return!!E(this).event.bubbles},get cancelable(){return!!E(this).event.cancelable},preventDefault(){I(E(this))},get defaultPrevented(){return E(this).canceled},get composed(){return!!E(this).event.composed},get timeStamp(){return E(this).timeStamp},get srcElement(){return E(this).eventTarget},get cancelBubble(){return E(this).stopped},set cancelBubble($){if(!$)return;let q=E(this);q.stopped=!0,typeof q.event.cancelBubble=="boolean"&&(q.event.cancelBubble=!0)},get returnValue(){return!E(this).canceled},set returnValue($){$||I(E(this))},initEvent(){}},Object.defineProperty(O.prototype,"constructor",{value:O,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(O.prototype,window.Event.prototype),p.set(window.Event.prototype,O));function B($){return{get(){return E(this).event[$]},set(q){E(this).event[$]=q},configurable:!0,enumerable:!0}}a(B,"z");function H($){return{value(){let q=E(this).event;return q[$].apply(q,arguments)},configurable:!0,enumerable:!0}}a(H,"J");function G($,q){let K=Object.keys(q);if(K.length===0)return $;function le(ue,ie){$.call(this,ue,ie)}a(le,"H"),le.prototype=Object.create($.prototype,{constructor:{value:le,configurable:!0,writable:!0}});for(let ue=0;ue<K.length;++ue){let ie=K[ue];if(!(ie in $.prototype)){let et=typeof Object.getOwnPropertyDescriptor(q,ie).value=="function";Object.defineProperty(le.prototype,ie,et?H(ie):B(ie))}}return le}a(G,"T");function J($){if($==null||$===Object.prototype)return O;let q=p.get($);return q==null&&(q=G(J(Object.getPrototypeOf($)),$),p.set($,q)),q}a(J,"X");function ce($,q){return new(J(Object.getPrototypeOf(q)))($,q)}a(ce,"f");function ne($){return E($).immediateStopped}a(ne,"V");function se($,q){E($).eventPhase=q}a(se,"M");function Ye($,q){E($).currentTarget=q}a(Ye,"N");function Te($,q){E($).passiveListener=q}a(Te,"E");var ye=new WeakMap,Me=1,X=2,oe=3;function ee($){return $!==null&&typeof $=="object"}a(ee,"b");function te($){let q=ye.get($);if(q==null)throw TypeError("'this' is expected an EventTarget object, but got another value.");return q}a(te,"y");function fe($){return{get(){let q=te(this).get($);for(;q!=null;){if(q.listenerType===oe)return q.listener;q=q.next}return null},set(q){typeof q!="function"&&!ee(q)&&(q=null);let K=te(this),le=null,ue=K.get($);for(;ue!=null;)ue.listenerType===oe?le!==null?le.next=ue.next:ue.next!==null?K.set($,ue.next):K.delete($):le=ue,ue=ue.next;if(q!==null){let ie={listener:q,listenerType:oe,passive:!1,once:!1,next:null};le===null?K.set($,ie):le.next=ie}},configurable:!0,enumerable:!0}}a(fe,"p");function xe($,q){Object.defineProperty($,`on${q}`,fe(q))}a(xe,"n");function Re($){function q(){de.call(this)}a(q,"U"),q.prototype=Object.create(de.prototype,{constructor:{value:q,configurable:!0,writable:!0}});for(let K=0;K<$.length;++K)xe(q.prototype,$[K]);return q}a(Re,"s");function de(){if(this instanceof de){ye.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return Re(arguments[0]);if(arguments.length>0){let $=Array(arguments.length);for(let q=0;q<arguments.length;++q)$[q]=arguments[q];return Re($)}throw TypeError("Cannot call a class as a function")}a(de,"q$"),de.prototype={addEventListener($,q,K){if(q==null)return;if(typeof q!="function"&&!ee(q))throw TypeError("'listener' should be a function or an object.");let le=te(this),ue=ee(K),ie=(ue?K.capture:K)?Me:X,et={listener:q,listenerType:ie,passive:ue&&!!K.passive,once:ue&&!!K.once,next:null},Pe=le.get($);if(Pe===void 0){le.set($,et);return}let Ke=null;for(;Pe!=null;){if(Pe.listener===q&&Pe.listenerType===ie)return;Ke=Pe,Pe=Pe.next}Ke.next=et},removeEventListener($,q,K){if(q==null)return;let le=te(this),ue=(ee(K)?K.capture:K)?Me:X,ie=null,et=le.get($);for(;et!=null;){if(et.listener===q&&et.listenerType===ue){ie!==null?ie.next=et.next:et.next!==null?le.set($,et.next):le.delete($);return}ie=et,et=et.next}},dispatchEvent($){if($==null||typeof $.type!="string")throw TypeError('"event.type" should be a string.');let q=te(this),K=$.type,le=q.get(K);if(le==null)return!0;let ue=ce(this,$),ie=null;for(;le!=null;){if(le.once?ie!==null?ie.next=le.next:le.next!==null?q.set(K,le.next):q.delete(K):ie=le,Te(ue,le.passive?le.listener:null),typeof le.listener=="function")try{le.listener.call(this,ue)}catch(et){typeof console<"u"&&typeof console.error=="function"&&console.error(et)}else le.listenerType!==oe&&typeof le.listener.handleEvent=="function"&&le.listener.handleEvent(ue);if(ne(ue))break;le=le.next}return Te(ue,null),se(ue,0),Ye(ue,null),!ue.defaultPrevented}},Object.defineProperty(de.prototype,"constructor",{value:de,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(de.prototype,window.EventTarget.prototype),T.defineEventAttribute=xe,T.EventTarget=de,T.default=de,N.exports=de,N.exports.EventTarget=N.exports.default=de,N.exports.defineEventAttribute=xe}),l=r((T,N)=>{Object.defineProperty(T,"__esModule",{value:!0});var k=o();class p extends k.EventTarget{static{a(this,"P")}constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let ce=O.get(this);if(typeof ce!="boolean")throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return ce}}k.defineEventAttribute(p.prototype,"abort");function E(){let J=Object.create(p.prototype);return k.EventTarget.call(J),O.set(J,!1),J}a(E,"_");function I(J){O.get(J)===!1&&(O.set(J,!0),J.dispatchEvent({type:"abort"}))}a(I,"Y");var O=new WeakMap;Object.defineProperties(p.prototype,{aborted:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(p.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class B{static{a(this,"z")}constructor(){H.set(this,E())}get signal(){return G(this)}abort(){I(G(this))}}var H=new WeakMap;function G(J){let ce=H.get(J);if(ce==null)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${J===null?"null":typeof J}`);return ce}a(G,"T"),Object.defineProperties(B.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(B.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),T.AbortController=B,T.AbortSignal=p,T.default=B,N.exports=B,N.exports.AbortController=N.exports.default=B,N.exports.AbortSignal=p}),u=r((T,N)=>{var k=(Bn(),hr(Mn)),{format:p,inspect:E}=i(),{codes:{ERR_INVALID_ARG_TYPE:I}}=s(),{kResistStopPropagation:O,AggregateError:B,SymbolDispose:H}=n(),G=globalThis.AbortSignal||l().AbortSignal,J=globalThis.AbortController||l().AbortController,ce=Object.getPrototypeOf(async function(){}).constructor,ne=globalThis.Blob||k.Blob,se=typeof ne<"u"?function(ye){return ye instanceof ne}:function(ye){return!1},Ye=a((ye,Me)=>{if(ye!==void 0&&(ye===null||typeof ye!="object"||!("aborted"in ye)))throw new I(Me,"AbortSignal",ye)},"N"),Te=a((ye,Me)=>{if(typeof ye!="function")throw new I(Me,"Function",ye)},"E");N.exports={AggregateError:B,kEmptyObject:Object.freeze({}),once(ye){let Me=!1;return function(...X){Me||(Me=!0,ye.apply(this,X))}},createDeferredPromise:a(function(){let ye,Me;return{promise:new Promise((X,oe)=>{ye=X,Me=oe}),resolve:ye,reject:Me}},"createDeferredPromise"),promisify(ye){return new Promise((Me,X)=>{ye((oe,...ee)=>oe?X(oe):Me(...ee))})},debuglog(){return function(){}},format:p,inspect:E,types:{isAsyncFunction(ye){return ye instanceof ce},isArrayBufferView(ye){return ArrayBuffer.isView(ye)}},isBlob:se,deprecate(ye,Me){return ye},addAbortListener:(df(),hr(td)).addAbortListener||function(ye,Me){if(ye===void 0)throw new I("signal","AbortSignal",ye);Ye(ye,"signal"),Te(Me,"listener");let X;return ye.aborted?queueMicrotask(()=>Me()):(ye.addEventListener("abort",Me,{__proto__:null,once:!0,[O]:!0}),X=a(()=>{ye.removeEventListener("abort",Me)},"D")),{__proto__:null,[H](){var oe;(oe=X)===null||oe===void 0||oe()}}},AbortSignalAny:G.any||function(ye){if(ye.length===1)return ye[0];let Me=new J,X=a(()=>Me.abort(),"D");return ye.forEach(oe=>{Ye(oe,"signals"),oe.addEventListener("abort",X,{once:!0})}),Me.signal.addEventListener("abort",()=>{ye.forEach(oe=>oe.removeEventListener("abort",X))},{once:!0}),Me.signal}},N.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),c=r((T,N)=>{var{ArrayIsArray:k,ArrayPrototypeIncludes:p,ArrayPrototypeJoin:E,ArrayPrototypeMap:I,NumberIsInteger:O,NumberIsNaN:B,NumberMAX_SAFE_INTEGER:H,NumberMIN_SAFE_INTEGER:G,NumberParseInt:J,ObjectPrototypeHasOwnProperty:ce,RegExpPrototypeExec:ne,String:se,StringPrototypeToUpperCase:Ye,StringPrototypeTrim:Te}=n(),{hideStackFrames:ye,codes:{ERR_SOCKET_BAD_PORT:Me,ERR_INVALID_ARG_TYPE:X,ERR_INVALID_ARG_VALUE:oe,ERR_OUT_OF_RANGE:ee,ERR_UNKNOWN_SIGNAL:te}}=s(),{normalizeEncoding:fe}=u(),{isAsyncFunction:xe,isArrayBufferView:Re}=u().types,de={};function $(me){return me===(me|0)}a($,"c");function q(me){return me===me>>>0}a(q,"U");var K=/^[0-7]+$/,le="must be a 32-bit unsigned integer or an octal string";function ue(me,je,lt){if(typeof me>"u"&&(me=lt),typeof me=="string"){if(ne(K,me)===null)throw new oe(je,me,le);me=J(me,8)}return Pe(me,je),me}a(ue,"Z");var ie=ye((me,je,lt=G,Ne=H)=>{if(typeof me!="number")throw new X(je,"number",me);if(!O(me))throw new ee(je,"an integer",me);if(me<lt||me>Ne)throw new ee(je,`>= ${lt} && <= ${Ne}`,me)}),et=ye((me,je,lt=-2147483648,Ne=2147483647)=>{if(typeof me!="number")throw new X(je,"number",me);if(!O(me))throw new ee(je,"an integer",me);if(me<lt||me>Ne)throw new ee(je,`>= ${lt} && <= ${Ne}`,me)}),Pe=ye((me,je,lt=!1)=>{if(typeof me!="number")throw new X(je,"number",me);if(!O(me))throw new ee(je,"an integer",me);let Ne=lt?1:0,ut=4294967295;if(me<Ne||me>ut)throw new ee(je,`>= ${Ne} && <= ${ut}`,me)});function Ke(me,je){if(typeof me!="string")throw new X(je,"string",me)}a(Ke,"S");function Ct(me,je,lt=void 0,Ne){if(typeof me!="number")throw new X(je,"number",me);if(lt!=null&&me<lt||Ne!=null&&me>Ne||(lt!=null||Ne!=null)&&B(me))throw new ee(je,`${lt!=null?`>= ${lt}`:""}${lt!=null&&Ne!=null?" && ":""}${Ne!=null?`<= ${Ne}`:""}`,me)}a(Ct,"A");var Ce=ye((me,je,lt)=>{if(!p(lt,me)){let Ne="must be one of: "+E(I(lt,ut=>typeof ut=="string"?`'${ut}'`:se(ut)),", ");throw new oe(je,me,Ne)}});function Qe(me,je){if(typeof me!="boolean")throw new X(je,"boolean",me)}a(Qe,"k");function _e(me,je,lt){return me==null||!ce(me,je)?lt:me[je]}a(_e,"R");var Ie=ye((me,je,lt=null)=>{let Ne=_e(lt,"allowArray",!1),ut=_e(lt,"allowFunction",!1);if(!_e(lt,"nullable",!1)&&me===null||!Ne&&k(me)||typeof me!="object"&&(!ut||typeof me!="function"))throw new X(je,"Object",me)}),Ge=ye((me,je)=>{if(me!=null&&typeof me!="object"&&typeof me!="function")throw new X(je,"a dictionary",me)}),Je=ye((me,je,lt=0)=>{if(!k(me))throw new X(je,"Array",me);if(me.length<lt){let Ne=`must be longer than ${lt}`;throw new oe(je,me,Ne)}});function Fe(me,je){Je(me,je);for(let lt=0;lt<me.length;lt++)Ke(me[lt],`${je}[${lt}]`)}a(Fe,"l");function rt(me,je){Je(me,je);for(let lt=0;lt<me.length;lt++)Qe(me[lt],`${je}[${lt}]`)}a(rt,"a");function Rt(me,je){Je(me,je);for(let lt=0;lt<me.length;lt++){let Ne=me[lt],ut=`${je}[${lt}]`;if(Ne==null)throw new X(ut,"AbortSignal",Ne);nt(Ne,ut)}}a(Rt,"f$");function We(me,je="signal"){if(Ke(me,je),de[me]===void 0)throw de[Ye(me)]!==void 0?new te(me+" (signals must use all capital letters)"):new te(me)}a(We,"$$");var Oe=ye((me,je="buffer")=>{if(!Re(me))throw new X(je,["Buffer","TypedArray","DataView"],me)});function tt(me,je){let lt=fe(je),Ne=me.length;if(lt==="hex"&&Ne%2!==0)throw new oe("encoding",je,`is invalid for data of length ${Ne}`)}a(tt,"H$");function Be(me,je="Port",lt=!0){if(typeof me!="number"&&typeof me!="string"||typeof me=="string"&&Te(me).length===0||+me!==+me>>>0||me>65535||me===0&&!lt)throw new Me(je,me,lt);return me|0}a(Be,"Q");var nt=ye((me,je)=>{if(me!==void 0&&(me===null||typeof me!="object"||!("aborted"in me)))throw new X(je,"AbortSignal",me)}),Tt=ye((me,je)=>{if(typeof me!="function")throw new X(je,"Function",me)}),pe=ye((me,je)=>{if(typeof me!="function"||xe(me))throw new X(je,"Function",me)}),we=ye((me,je)=>{if(me!==void 0)throw new X(je,"undefined",me)});function $e(me,je,lt){if(!p(lt,me))throw new X(je,`('${E(lt,"|")}')`,me)}a($e,"J$");var De=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ze(me,je){if(typeof me>"u"||!ne(De,me))throw new oe(je,me,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}a(ze,"_$");function ct(me){if(typeof me=="string")return ze(me,"hints"),me;if(k(me)){let je=me.length,lt="";if(je===0)return lt;for(let Ne=0;Ne<je;Ne++){let ut=me[Ne];ze(ut,"hints"),lt+=ut,Ne!==je-1&&(lt+=", ")}return lt}throw new oe("hints",me,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}a(ct,"Y$"),N.exports={isInt32:$,isUint32:q,parseFileMode:ue,validateArray:Je,validateStringArray:Fe,validateBooleanArray:rt,validateAbortSignalArray:Rt,validateBoolean:Qe,validateBuffer:Oe,validateDictionary:Ge,validateEncoding:tt,validateFunction:Tt,validateInt32:et,validateInteger:ie,validateNumber:Ct,validateObject:Ie,validateOneOf:Ce,validatePlainFunction:pe,validatePort:Be,validateSignalName:We,validateString:Ke,validateUint32:Pe,validateUndefined:we,validateUnion:$e,validateAbortSignal:nt,validateLinkHeaderValue:ct}}),h=r((T,N)=>{N.exports=globalThis.process}),d=r((T,N)=>{var{SymbolAsyncIterator:k,SymbolIterator:p,SymbolFor:E}=n(),I=E("nodejs.stream.destroyed"),O=E("nodejs.stream.errored"),B=E("nodejs.stream.readable"),H=E("nodejs.stream.writable"),G=E("nodejs.stream.disturbed"),J=E("nodejs.webstream.isClosedPromise"),ce=E("nodejs.webstream.controllerErrorFunction");function ne(_e,Ie=!1){var Ge;return!!(_e&&typeof _e.pipe=="function"&&typeof _e.on=="function"&&(!Ie||typeof _e.pause=="function"&&typeof _e.resume=="function")&&(!_e._writableState||((Ge=_e._readableState)===null||Ge===void 0?void 0:Ge.readable)!==!1)&&(!_e._writableState||_e._readableState))}a(ne,"V");function se(_e){var Ie;return!!(_e&&typeof _e.write=="function"&&typeof _e.on=="function"&&(!_e._readableState||((Ie=_e._writableState)===null||Ie===void 0?void 0:Ie.writable)!==!1))}a(se,"M");function Ye(_e){return!!(_e&&typeof _e.pipe=="function"&&_e._readableState&&typeof _e.on=="function"&&typeof _e.write=="function")}a(Ye,"N");function Te(_e){return _e&&(_e._readableState||_e._writableState||typeof _e.write=="function"&&typeof _e.on=="function"||typeof _e.pipe=="function"&&typeof _e.on=="function")}a(Te,"E");function ye(_e){return!!(_e&&!Te(_e)&&typeof _e.pipeThrough=="function"&&typeof _e.getReader=="function"&&typeof _e.cancel=="function")}a(ye,"h");function Me(_e){return!!(_e&&!Te(_e)&&typeof _e.getWriter=="function"&&typeof _e.abort=="function")}a(Me,"I");function X(_e){return!!(_e&&!Te(_e)&&typeof _e.readable=="object"&&typeof _e.writable=="object")}a(X,"D");function oe(_e){return ye(_e)||Me(_e)||X(_e)}a(oe,"g");function ee(_e,Ie){return _e==null?!1:Ie===!0?typeof _e[k]=="function":Ie===!1?typeof _e[p]=="function":typeof _e[k]=="function"||typeof _e[p]=="function"}a(ee,"b");function te(_e){if(!Te(_e))return null;let{_writableState:Ie,_readableState:Ge}=_e,Je=Ie||Ge;return!!(_e.destroyed||_e[I]||Je!=null&&Je.destroyed)}a(te,"y");function fe(_e){if(!se(_e))return null;if(_e.writableEnded===!0)return!0;let Ie=_e._writableState;return Ie!=null&&Ie.errored?!1:typeof Ie?.ended!="boolean"?null:Ie.ended}a(fe,"p");function xe(_e,Ie){if(!se(_e))return null;if(_e.writableFinished===!0)return!0;let Ge=_e._writableState;return Ge!=null&&Ge.errored?!1:typeof Ge?.finished!="boolean"?null:!!(Ge.finished||Ie===!1&&Ge.ended===!0&&Ge.length===0)}a(xe,"n");function Re(_e){if(!ne(_e))return null;if(_e.readableEnded===!0)return!0;let Ie=_e._readableState;return!Ie||Ie.errored?!1:typeof Ie?.ended!="boolean"?null:Ie.ended}a(Re,"s");function de(_e,Ie){if(!ne(_e))return null;let Ge=_e._readableState;return Ge!=null&&Ge.errored?!1:typeof Ge?.endEmitted!="boolean"?null:!!(Ge.endEmitted||Ie===!1&&Ge.ended===!0&&Ge.length===0)}a(de,"q$");function $(_e){return _e&&_e[B]!=null?_e[B]:typeof _e?.readable!="boolean"?null:te(_e)?!1:ne(_e)&&_e.readable&&!de(_e)}a($,"c");function q(_e){return _e&&_e[H]!=null?_e[H]:typeof _e?.writable!="boolean"?null:te(_e)?!1:se(_e)&&_e.writable&&!fe(_e)}a(q,"U");function K(_e,Ie){return Te(_e)?te(_e)?!0:!(Ie?.readable!==!1&&$(_e)||Ie?.writable!==!1&&q(_e)):null}a(K,"j");function le(_e){var Ie,Ge;return Te(_e)?_e.writableErrored?_e.writableErrored:(Ie=(Ge=_e._writableState)===null||Ge===void 0?void 0:Ge.errored)!==null&&Ie!==void 0?Ie:null:null}a(le,"H");function ue(_e){var Ie,Ge;return Te(_e)?_e.readableErrored?_e.readableErrored:(Ie=(Ge=_e._readableState)===null||Ge===void 0?void 0:Ge.errored)!==null&&Ie!==void 0?Ie:null:null}a(ue,"Z");function ie(_e){if(!Te(_e))return null;if(typeof _e.closed=="boolean")return _e.closed;let{_writableState:Ie,_readableState:Ge}=_e;return typeof Ie?.closed=="boolean"||typeof Ge?.closed=="boolean"?Ie?.closed||Ge?.closed:typeof _e._closed=="boolean"&&et(_e)?_e._closed:null}a(ie,"W");function et(_e){return typeof _e._closed=="boolean"&&typeof _e._defaultKeepAlive=="boolean"&&typeof _e._removedConnection=="boolean"&&typeof _e._removedContLen=="boolean"}a(et,"w");function Pe(_e){return typeof _e._sent100=="boolean"&&et(_e)}a(Pe,"G");function Ke(_e){var Ie;return typeof _e._consuming=="boolean"&&typeof _e._dumped=="boolean"&&((Ie=_e.req)===null||Ie===void 0?void 0:Ie.upgradeOrConnect)===void 0}a(Ke,"S");function Ct(_e){if(!Te(_e))return null;let{_writableState:Ie,_readableState:Ge}=_e,Je=Ie||Ge;return!Je&&Pe(_e)||!!(Je&&Je.autoDestroy&&Je.emitClose&&Je.closed===!1)}a(Ct,"A");function Ce(_e){var Ie;return!!(_e&&((Ie=_e[G])!==null&&Ie!==void 0?Ie:_e.readableDidRead||_e.readableAborted))}a(Ce,"v");function Qe(_e){var Ie,Ge,Je,Fe,rt,Rt,We,Oe,tt,Be;return!!(_e&&((Ie=(Ge=(Je=(Fe=(rt=(Rt=_e[O])!==null&&Rt!==void 0?Rt:_e.readableErrored)!==null&&rt!==void 0?rt:_e.writableErrored)!==null&&Fe!==void 0?Fe:(We=_e._readableState)===null||We===void 0?void 0:We.errorEmitted)!==null&&Je!==void 0?Je:(Oe=_e._writableState)===null||Oe===void 0?void 0:Oe.errorEmitted)!==null&&Ge!==void 0?Ge:(tt=_e._readableState)===null||tt===void 0?void 0:tt.errored)!==null&&Ie!==void 0?Ie:!((Be=_e._writableState)===null||Be===void 0)&&Be.errored))}a(Qe,"k"),N.exports={isDestroyed:te,kIsDestroyed:I,isDisturbed:Ce,kIsDisturbed:G,isErrored:Qe,kIsErrored:O,isReadable:$,kIsReadable:B,kIsClosedPromise:J,kControllerErrorFunction:ce,kIsWritable:H,isClosed:ie,isDuplexNodeStream:Ye,isFinished:K,isIterable:ee,isReadableNodeStream:ne,isReadableStream:ye,isReadableEnded:Re,isReadableFinished:de,isReadableErrored:ue,isNodeStream:Te,isWebStream:oe,isWritable:q,isWritableNodeStream:se,isWritableStream:Me,isWritableEnded:fe,isWritableFinished:xe,isWritableErrored:le,isServerRequest:Ke,isServerResponse:Pe,willEmitClose:Ct,isTransformStream:X}}),g=r((T,N)=>{var k=h(),{AbortError:p,codes:E}=s(),{ERR_INVALID_ARG_TYPE:I,ERR_STREAM_PREMATURE_CLOSE:O}=E,{kEmptyObject:B,once:H}=u(),{validateAbortSignal:G,validateFunction:J,validateObject:ce,validateBoolean:ne}=c(),{Promise:se,PromisePrototypeThen:Ye,SymbolDispose:Te}=n(),{isClosed:ye,isReadable:Me,isReadableNodeStream:X,isReadableStream:oe,isReadableFinished:ee,isReadableErrored:te,isWritable:fe,isWritableNodeStream:xe,isWritableStream:Re,isWritableFinished:de,isWritableErrored:$,isNodeStream:q,willEmitClose:K,kIsClosedPromise:le}=d(),ue;function ie(Ce){return Ce.setHeader&&typeof Ce.abort=="function"}a(ie,"W");var et=a(()=>{},"w");function Pe(Ce,Qe,_e){var Ie,Ge;if(arguments.length===2?(_e=Qe,Qe=B):Qe==null?Qe=B:ce(Qe,"options"),J(_e,"callback"),G(Qe.signal,"options.signal"),_e=H(_e),oe(Ce)||Re(Ce))return Ke(Ce,Qe,_e);if(!q(Ce))throw new I("stream",["ReadableStream","WritableStream","Stream"],Ce);let Je=(Ie=Qe.readable)!==null&&Ie!==void 0?Ie:X(Ce),Fe=(Ge=Qe.writable)!==null&&Ge!==void 0?Ge:xe(Ce),rt=Ce._writableState,Rt=Ce._readableState,We=a(()=>{Ce.writable||Be()},"$$"),Oe=K(Ce)&&X(Ce)===Je&&xe(Ce)===Fe,tt=de(Ce,!1),Be=a(()=>{tt=!0,Ce.destroyed&&(Oe=!1),!(Oe&&(!Ce.readable||Je))&&(!Je||nt)&&_e.call(Ce)},"Q"),nt=ee(Ce,!1),Tt=a(()=>{nt=!0,Ce.destroyed&&(Oe=!1),!(Oe&&(!Ce.writable||Fe))&&(!Fe||tt)&&_e.call(Ce)},"B$"),pe=a(me=>{_e.call(Ce,me)},"m"),we=ye(Ce),$e=a(()=>{we=!0;let me=$(Ce)||te(Ce);if(me&&typeof me!="boolean")return _e.call(Ce,me);if(Je&&!nt&&X(Ce,!0)&&!ee(Ce,!1))return _e.call(Ce,new O);if(Fe&&!tt&&!de(Ce,!1))return _e.call(Ce,new O);_e.call(Ce)},"J$"),De=a(()=>{we=!0;let me=$(Ce)||te(Ce);if(me&&typeof me!="boolean")return _e.call(Ce,me);_e.call(Ce)},"e"),ze=a(()=>{Ce.req.on("finish",Be)},"_$");ie(Ce)?(Ce.on("complete",Be),!Oe&&Ce.on("abort",$e),Ce.req?ze():Ce.on("request",ze)):Fe&&!rt&&(Ce.on("end",We),Ce.on("close",We)),!Oe&&typeof Ce.aborted=="boolean"&&Ce.on("aborted",$e),Ce.on("end",Tt),Ce.on("finish",Be),Qe.error!==!1&&Ce.on("error",pe),Ce.on("close",$e),we?k.nextTick($e):rt!=null&&rt.errorEmitted||Rt!=null&&Rt.errorEmitted?Oe||k.nextTick(De):(!Je&&(!Oe||Me(Ce))&&(tt||fe(Ce)===!1)||!Fe&&(!Oe||fe(Ce))&&(nt||Me(Ce)===!1)||Rt&&Ce.req&&Ce.aborted)&&k.nextTick(De);let ct=a(()=>{_e=et,Ce.removeListener("aborted",$e),Ce.removeListener("complete",Be),Ce.removeListener("abort",$e),Ce.removeListener("request",ze),Ce.req&&Ce.req.removeListener("finish",Be),Ce.removeListener("end",We),Ce.removeListener("close",We),Ce.removeListener("finish",Be),Ce.removeListener("end",Tt),Ce.removeListener("error",pe),Ce.removeListener("close",$e)},"Y$");if(Qe.signal&&!we){let me=a(()=>{let je=_e;ct(),je.call(Ce,new p(void 0,{cause:Qe.signal.reason}))},"d");if(Qe.signal.aborted)k.nextTick(me);else{ue=ue||u().addAbortListener;let je=ue(Qe.signal,me),lt=_e;_e=H((...Ne)=>{je[Te](),lt.apply(Ce,Ne)})}}return ct}a(Pe,"G");function Ke(Ce,Qe,_e){let Ie=!1,Ge=et;if(Qe.signal)if(Ge=a(()=>{Ie=!0,_e.call(Ce,new p(void 0,{cause:Qe.signal.reason}))},"L"),Qe.signal.aborted)k.nextTick(Ge);else{ue=ue||u().addAbortListener;let Fe=ue(Qe.signal,Ge),rt=_e;_e=H((...Rt)=>{Fe[Te](),rt.apply(Ce,Rt)})}let Je=a((...Fe)=>{Ie||k.nextTick(()=>_e.apply(Ce,Fe))},"x");return Ye(Ce[le].promise,Je,Je),et}a(Ke,"S");function Ct(Ce,Qe){var _e;let Ie=!1;return Qe===null&&(Qe=B),(_e=Qe)!==null&&_e!==void 0&&_e.cleanup&&(ne(Qe.cleanup,"cleanup"),Ie=Qe.cleanup),new se((Ge,Je)=>{let Fe=Pe(Ce,Qe,rt=>{Ie&&Fe(),rt?Je(rt):Ge()})})}a(Ct,"A"),N.exports=Pe,N.exports.finished=Ct}),m=r((T,N)=>{var k=h(),{aggregateTwoErrors:p,codes:{ERR_MULTIPLE_CALLBACK:E},AbortError:I}=s(),{Symbol:O}=n(),{kIsDestroyed:B,isDestroyed:H,isFinished:G,isServerRequest:J}=d(),ce=O("kDestroy"),ne=O("kConstruct");function se(K,le,ue){K&&(K.stack,le&&!le.errored&&(le.errored=K),ue&&!ue.errored&&(ue.errored=K))}a(se,"M");function Ye(K,le){let ue=this._readableState,ie=this._writableState,et=ie||ue;return ie!=null&&ie.destroyed||ue!=null&&ue.destroyed?(typeof le=="function"&&le(),this):(se(K,ie,ue),ie&&(ie.destroyed=!0),ue&&(ue.destroyed=!0),et.constructed?Te(this,K,le):this.once(ce,function(Pe){Te(this,p(Pe,K),le)}),this)}a(Ye,"N");function Te(K,le,ue){let ie=!1;function et(Pe){if(ie)return;ie=!0;let{_readableState:Ke,_writableState:Ct}=K;se(Pe,Ct,Ke),Ct&&(Ct.closed=!0),Ke&&(Ke.closed=!0),typeof ue=="function"&&ue(Pe),Pe?k.nextTick(ye,K,Pe):k.nextTick(Me,K)}a(et,"w");try{K._destroy(le||null,et)}catch(Pe){et(Pe)}}a(Te,"E");function ye(K,le){X(K,le),Me(K)}a(ye,"h");function Me(K){let{_readableState:le,_writableState:ue}=K;ue&&(ue.closeEmitted=!0),le&&(le.closeEmitted=!0),(ue!=null&&ue.emitClose||le!=null&&le.emitClose)&&K.emit("close")}a(Me,"I");function X(K,le){let{_readableState:ue,_writableState:ie}=K;ie!=null&&ie.errorEmitted||ue!=null&&ue.errorEmitted||(ie&&(ie.errorEmitted=!0),ue&&(ue.errorEmitted=!0),K.emit("error",le))}a(X,"D");function oe(){let K=this._readableState,le=this._writableState;K&&(K.constructed=!0,K.closed=!1,K.closeEmitted=!1,K.destroyed=!1,K.errored=null,K.errorEmitted=!1,K.reading=!1,K.ended=K.readable===!1,K.endEmitted=K.readable===!1),le&&(le.constructed=!0,le.destroyed=!1,le.closed=!1,le.closeEmitted=!1,le.errored=null,le.errorEmitted=!1,le.finalCalled=!1,le.prefinished=!1,le.ended=le.writable===!1,le.ending=le.writable===!1,le.finished=le.writable===!1)}a(oe,"g");function ee(K,le,ue){let{_readableState:ie,_writableState:et}=K;if(et!=null&&et.destroyed||ie!=null&&ie.destroyed)return this;ie!=null&&ie.autoDestroy||et!=null&&et.autoDestroy?K.destroy(le):le&&(le.stack,et&&!et.errored&&(et.errored=le),ie&&!ie.errored&&(ie.errored=le),ue?k.nextTick(X,K,le):X(K,le))}a(ee,"b");function te(K,le){if(typeof K._construct!="function")return;let{_readableState:ue,_writableState:ie}=K;ue&&(ue.constructed=!1),ie&&(ie.constructed=!1),K.once(ne,le),!(K.listenerCount(ne)>1)&&k.nextTick(fe,K)}a(te,"y");function fe(K){let le=!1;function ue(ie){if(le){ee(K,ie??new E);return}le=!0;let{_readableState:et,_writableState:Pe}=K,Ke=Pe||et;et&&(et.constructed=!0),Pe&&(Pe.constructed=!0),Ke.destroyed?K.emit(ce,ie):ie?ee(K,ie,!0):k.nextTick(xe,K)}a(ue,"Z");try{K._construct(ie=>{k.nextTick(ue,ie)})}catch(ie){k.nextTick(ue,ie)}}a(fe,"p");function xe(K){K.emit(ne)}a(xe,"n");function Re(K){return K?.setHeader&&typeof K.abort=="function"}a(Re,"s");function de(K){K.emit("close")}a(de,"q$");function $(K,le){K.emit("error",le),k.nextTick(de,K)}a($,"c");function q(K,le){!K||H(K)||(!le&&!G(K)&&(le=new I),J(K)?(K.socket=null,K.destroy(le)):Re(K)?K.abort():Re(K.req)?K.req.abort():typeof K.destroy=="function"?K.destroy(le):typeof K.close=="function"?K.close():le?k.nextTick($,K,le):k.nextTick(de,K),K.destroyed||(K[B]=!0))}a(q,"U"),N.exports={construct:te,destroyer:q,destroy:Ye,undestroy:oe,errorOrDestroy:ee}}),y=r((T,N)=>{var{ArrayIsArray:k,ObjectSetPrototypeOf:p}=n(),{EventEmitter:E}=(df(),hr(td));function I(B){E.call(this,B)}a(I,"Y"),p(I.prototype,E.prototype),p(I,E),I.prototype.pipe=function(B,H){let G=this;function J(Me){B.writable&&B.write(Me)===!1&&G.pause&&G.pause()}a(J,"X"),G.on("data",J);function ce(){G.readable&&G.resume&&G.resume()}a(ce,"f"),B.on("drain",ce),!B._isStdio&&(!H||H.end!==!1)&&(G.on("end",se),G.on("close",Ye));let ne=!1;function se(){ne||(ne=!0,B.end())}a(se,"M");function Ye(){ne||(ne=!0,typeof B.destroy=="function"&&B.destroy())}a(Ye,"N");function Te(Me){ye(),E.listenerCount(this,"error")===0&&this.emit("error",Me)}a(Te,"E"),O(G,"error",Te),O(B,"error",Te);function ye(){G.removeListener("data",J),B.removeListener("drain",ce),G.removeListener("end",se),G.removeListener("close",Ye),G.removeListener("error",Te),B.removeListener("error",Te),G.removeListener("end",ye),G.removeListener("close",ye),B.removeListener("close",ye)}return a(ye,"h"),G.on("end",ye),G.on("close",ye),B.on("close",ye),B.emit("pipe",G),B};function O(B,H,G){if(typeof B.prependListener=="function")return B.prependListener(H,G);!B._events||!B._events[H]?B.on(H,G):k(B._events[H])?B._events[H].unshift(G):B._events[H]=[G,B._events[H]]}a(O,"O"),N.exports={Stream:I,prependListener:O}}),x=r((T,N)=>{var{SymbolDispose:k}=n(),{AbortError:p,codes:E}=s(),{isNodeStream:I,isWebStream:O,kControllerErrorFunction:B}=d(),H=g(),{ERR_INVALID_ARG_TYPE:G}=E,J,ce=a((ne,se)=>{if(typeof ne!="object"||!("aborted"in ne))throw new G(se,"AbortSignal",ne)},"f");N.exports.addAbortSignal=function(ne,se){if(ce(ne,"signal"),!I(se)&&!O(se))throw new G("stream",["ReadableStream","WritableStream","Stream"],se);return N.exports.addAbortSignalNoValidate(ne,se)},N.exports.addAbortSignalNoValidate=function(ne,se){if(typeof ne!="object"||!("aborted"in ne))return se;let Ye=I(se)?()=>{se.destroy(new p(void 0,{cause:ne.reason}))}:()=>{se[B](new p(void 0,{cause:ne.reason}))};if(ne.aborted)Ye();else{J=J||u().addAbortListener;let Te=J(ne,Ye);H(se,Te[k])}return se}}),A=r((T,N)=>{var{StringPrototypeSlice:k,SymbolIterator:p,TypedArrayPrototypeSet:E,Uint8Array:I}=n(),{Buffer:O}=(Bn(),hr(Mn)),{inspect:B}=u();N.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(H){let G={data:H,next:null};this.length>0?this.tail.next=G:this.head=G,this.tail=G,++this.length}unshift(H){let G={data:H,next:this.head};this.length===0&&(this.tail=G),this.head=G,++this.length}shift(){if(this.length===0)return;let H=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,H}clear(){this.head=this.tail=null,this.length=0}join(H){if(this.length===0)return"";let G=this.head,J=""+G.data;for(;(G=G.next)!==null;)J+=H+G.data;return J}concat(H){if(this.length===0)return O.alloc(0);let G=O.allocUnsafe(H>>>0),J=this.head,ce=0;for(;J;)E(G,J.data,ce),ce+=J.data.length,J=J.next;return G}consume(H,G){let J=this.head.data;if(H<J.length){let ce=J.slice(0,H);return this.head.data=J.slice(H),ce}return H===J.length?this.shift():G?this._getString(H):this._getBuffer(H)}first(){return this.head.data}*[p](){for(let H=this.head;H;H=H.next)yield H.data}_getString(H){let G="",J=this.head,ce=0;do{let ne=J.data;if(H>ne.length)G+=ne,H-=ne.length;else{H===ne.length?(G+=ne,++ce,J.next?this.head=J.next:this.head=this.tail=null):(G+=k(ne,0,H),this.head=J,J.data=k(ne,H));break}++ce}while((J=J.next)!==null);return this.length-=ce,G}_getBuffer(H){let G=O.allocUnsafe(H),J=H,ce=this.head,ne=0;do{let se=ce.data;if(H>se.length)E(G,se,J-H),H-=se.length;else{H===se.length?(E(G,se,J-H),++ne,ce.next?this.head=ce.next:this.head=this.tail=null):(E(G,new I(se.buffer,se.byteOffset,H),J-H),this.head=ce,ce.data=se.slice(H));break}++ne}while((ce=ce.next)!==null);return this.length-=ne,G}[Symbol.for("nodejs.util.inspect.custom")](H,G){return B(this,{...G,depth:0,customInspect:!1})}}}),C=r((T,N)=>{var{MathFloor:k,NumberIsInteger:p}=n(),{validateInteger:E}=c(),{ERR_INVALID_ARG_VALUE:I}=s().codes,O=16384,B=16;function H(ne,se,Ye){return ne.highWaterMark!=null?ne.highWaterMark:se?ne[Ye]:null}a(H,"J");function G(ne){return ne?B:O}a(G,"T");function J(ne,se){E(se,"value",0),ne?B=se:O=se}a(J,"X");function ce(ne,se,Ye,Te){let ye=H(se,Te,Ye);if(ye!=null){if(!p(ye)||ye<0){let Me=Te?`options.${Ye}`:"options.highWaterMark";throw new I(Me,ye)}return k(ye)}return G(ne.objectMode)}a(ce,"f"),N.exports={getHighWaterMark:ce,getDefaultHighWaterMark:G,setDefaultHighWaterMark:J}}),M=r((T,N)=>{var k=(Bn(),hr(Mn)),p=k.Buffer;function E(O,B){for(var H in O)B[H]=O[H]}a(E,"_"),p.from&&p.alloc&&p.allocUnsafe&&p.allocUnsafeSlow?N.exports=k:(E(k,T),T.Buffer=I);function I(O,B,H){return p(O,B,H)}a(I,"Y"),I.prototype=Object.create(p.prototype),E(p,I),I.from=function(O,B,H){if(typeof O=="number")throw TypeError("Argument must not be a number");return p(O,B,H)},I.alloc=function(O,B,H){if(typeof O!="number")throw TypeError("Argument must be a number");var G=p(O);return B!==void 0?typeof H=="string"?G.fill(B,H):G.fill(B):G.fill(0),G},I.allocUnsafe=function(O){if(typeof O!="number")throw TypeError("Argument must be a number");return p(O)},I.allocUnsafeSlow=function(O){if(typeof O!="number")throw TypeError("Argument must be a number");return k.SlowBuffer(O)}}),R=r(T=>{var N=M().Buffer,k=N.isEncoding||function(X){switch(X=""+X,X&&X.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function p(X){if(!X)return"utf8";for(var oe;;)switch(X){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return X;default:if(oe)return;X=(""+X).toLowerCase(),oe=!0}}a(p,"P");function E(X){var oe=p(X);if(typeof oe!="string"&&(N.isEncoding===k||!k(X)))throw Error("Unknown encoding: "+X);return oe||X}a(E,"_"),T.StringDecoder=I;function I(X){this.encoding=E(X);var oe;switch(this.encoding){case"utf16le":this.text=ne,this.end=se,oe=4;break;case"utf8":this.fillLast=G,oe=4;break;case"base64":this.text=Ye,this.end=Te,oe=3;break;default:this.write=ye,this.end=Me;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=N.allocUnsafe(oe)}a(I,"Y"),I.prototype.write=function(X){if(X.length===0)return"";var oe,ee;if(this.lastNeed){if(oe=this.fillLast(X),oe===void 0)return"";ee=this.lastNeed,this.lastNeed=0}else ee=0;return ee<X.length?oe?oe+this.text(X,ee):this.text(X,ee):oe||""},I.prototype.end=ce,I.prototype.text=J,I.prototype.fillLast=function(X){if(this.lastNeed<=X.length)return X.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);X.copy(this.lastChar,this.lastTotal-this.lastNeed,0,X.length),this.lastNeed-=X.length};function O(X){return X<=127?0:X>>5===6?2:X>>4===14?3:X>>3===30?4:X>>6===2?-1:-2}a(O,"O");function B(X,oe,ee){var te=oe.length-1;if(te<ee)return 0;var fe=O(oe[te]);return fe>=0?(fe>0&&(X.lastNeed=fe-1),fe):--te<ee||fe===-2?0:(fe=O(oe[te]),fe>=0?(fe>0&&(X.lastNeed=fe-2),fe):--te<ee||fe===-2?0:(fe=O(oe[te]),fe>=0?(fe>0&&(fe===2?fe=0:X.lastNeed=fe-3),fe):0))}a(B,"z");function H(X,oe,ee){if((oe[0]&192)!==128)return X.lastNeed=0,"";if(X.lastNeed>1&&oe.length>1){if((oe[1]&192)!==128)return X.lastNeed=1,"";if(X.lastNeed>2&&oe.length>2&&(oe[2]&192)!==128)return X.lastNeed=2,""}}a(H,"J");function G(X){var oe=this.lastTotal-this.lastNeed,ee=H(this,X);if(ee!==void 0)return ee;if(this.lastNeed<=X.length)return X.copy(this.lastChar,oe,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);X.copy(this.lastChar,oe,0,X.length),this.lastNeed-=X.length}a(G,"T");function J(X,oe){var ee=B(this,X,oe);if(!this.lastNeed)return X.toString("utf8",oe);this.lastTotal=ee;var te=X.length-(ee-this.lastNeed);return X.copy(this.lastChar,0,te),X.toString("utf8",oe,te)}a(J,"X");function ce(X){var oe=X&&X.length?this.write(X):"";return this.lastNeed?oe+"":oe}a(ce,"f");function ne(X,oe){if((X.length-oe)%2===0){var ee=X.toString("utf16le",oe);if(ee){var te=ee.charCodeAt(ee.length-1);if(te>=55296&&te<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=X[X.length-2],this.lastChar[1]=X[X.length-1],ee.slice(0,-1)}return ee}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=X[X.length-1],X.toString("utf16le",oe,X.length-1)}a(ne,"V");function se(X){var oe=X&&X.length?this.write(X):"";if(this.lastNeed){var ee=this.lastTotal-this.lastNeed;return oe+this.lastChar.toString("utf16le",0,ee)}return oe}a(se,"M");function Ye(X,oe){var ee=(X.length-oe)%3;return ee===0?X.toString("base64",oe):(this.lastNeed=3-ee,this.lastTotal=3,ee===1?this.lastChar[0]=X[X.length-1]:(this.lastChar[0]=X[X.length-2],this.lastChar[1]=X[X.length-1]),X.toString("base64",oe,X.length-ee))}a(Ye,"N");function Te(X){var oe=X&&X.length?this.write(X):"";return this.lastNeed?oe+this.lastChar.toString("base64",0,3-this.lastNeed):oe}a(Te,"E");function ye(X){return X.toString(this.encoding)}a(ye,"h");function Me(X){return X&&X.length?this.write(X):""}a(Me,"I")}),P=r((T,N)=>{var k=h(),{PromisePrototypeThen:p,SymbolAsyncIterator:E,SymbolIterator:I}=n(),{Buffer:O}=(Bn(),hr(Mn)),{ERR_INVALID_ARG_TYPE:B,ERR_STREAM_NULL_VALUES:H}=s().codes;function G(J,ce,ne){let se;if(typeof ce=="string"||ce instanceof O)return new J({objectMode:!0,...ne,read(){this.push(ce),this.push(null)}});let Ye;if(ce&&ce[E])Ye=!0,se=ce[E]();else if(ce&&ce[I])Ye=!1,se=ce[I]();else throw new B("iterable",["Iterable"],ce);let Te=new J({objectMode:!0,highWaterMark:1,...ne}),ye=!1;Te._read=function(){ye||(ye=!0,X())},Te._destroy=function(oe,ee){p(Me(oe),()=>k.nextTick(ee,oe),te=>k.nextTick(ee,te||oe))};async function Me(oe){let ee=oe!=null,te=typeof se.throw=="function";if(ee&&te){let{value:fe,done:xe}=await se.throw(oe);if(await fe,xe)return}if(typeof se.return=="function"){let{value:fe}=await se.return();await fe}}a(Me,"I");async function X(){for(;;){try{let{value:oe,done:ee}=Ye?await se.next():se.next();if(ee)Te.push(null);else{let te=oe&&typeof oe.then=="function"?await oe:oe;if(te===null)throw ye=!1,new H;if(Te.push(te))continue;ye=!1}}catch(oe){Te.destroy(oe)}break}}return a(X,"D"),Te}a(G,"T"),N.exports=G}),L=r((T,N)=>{var k=h(),{ArrayPrototypeIndexOf:p,NumberIsInteger:E,NumberIsNaN:I,NumberParseInt:O,ObjectDefineProperties:B,ObjectKeys:H,ObjectSetPrototypeOf:G,Promise:J,SafeSet:ce,SymbolAsyncDispose:ne,SymbolAsyncIterator:se,Symbol:Ye}=n();N.exports=Ne,Ne.ReadableState=lt;var{EventEmitter:Te}=(df(),hr(td)),{Stream:ye,prependListener:Me}=y(),{Buffer:X}=(Bn(),hr(Mn)),{addAbortSignal:oe}=x(),ee=g(),te=u().debuglog("stream",ve=>{te=ve}),fe=A(),xe=m(),{getHighWaterMark:Re,getDefaultHighWaterMark:de}=C(),{aggregateTwoErrors:$,codes:{ERR_INVALID_ARG_TYPE:q,ERR_METHOD_NOT_IMPLEMENTED:K,ERR_OUT_OF_RANGE:le,ERR_STREAM_PUSH_AFTER_EOF:ue,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ie},AbortError:et}=s(),{validateObject:Pe}=c(),Ke=Ye("kPaused"),{StringDecoder:Ct}=R(),Ce=P();G(Ne.prototype,ye.prototype),G(Ne,ye);var Qe=a(()=>{},"k"),{errorOrDestroy:_e}=xe,Ie=1,Ge=2,Je=4,Fe=8,rt=16,Rt=32,We=64,Oe=128,tt=256,Be=512,nt=1024,Tt=2048,pe=4096,we=8192,$e=16384,De=32768,ze=65536,ct=131072,me=262144;function je(ve){return{enumerable:!1,get(){return(this.state&ve)!==0},set(Se){Se?this.state|=ve:this.state&=~ve}}}a(je,"o"),B(lt.prototype,{objectMode:je(Ie),ended:je(Ge),endEmitted:je(Je),reading:je(Fe),constructed:je(rt),sync:je(Rt),needReadable:je(We),emittedReadable:je(Oe),readableListening:je(tt),resumeScheduled:je(Be),errorEmitted:je(nt),emitClose:je(Tt),autoDestroy:je(pe),destroyed:je(we),closed:je($e),closeEmitted:je(De),multiAwaitDrain:je(ze),readingMore:je(ct),dataEmitted:je(me)});function lt(ve,Se,xt){typeof xt!="boolean"&&(xt=Se instanceof Y()),this.state=Tt|pe|rt|Rt,ve&&ve.objectMode&&(this.state|=Ie),xt&&ve&&ve.readableObjectMode&&(this.state|=Ie),this.highWaterMark=ve?Re(this,ve,"readableHighWaterMark",xt):de(!1),this.buffer=new fe,this.length=0,this.pipes=[],this.flowing=null,this[Ke]=null,ve&&ve.emitClose===!1&&(this.state&=~Tt),ve&&ve.autoDestroy===!1&&(this.state&=~pe),this.errored=null,this.defaultEncoding=ve&&ve.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ve&&ve.encoding&&(this.decoder=new Ct(ve.encoding),this.encoding=ve.encoding)}a(lt,"W$");function Ne(ve){if(!(this instanceof Ne))return new Ne(ve);let Se=this instanceof Y();this._readableState=new lt(ve,this,Se),ve&&(typeof ve.read=="function"&&(this._read=ve.read),typeof ve.destroy=="function"&&(this._destroy=ve.destroy),typeof ve.construct=="function"&&(this._construct=ve.construct),ve.signal&&!Se&&oe(ve.signal,this)),ye.call(this,ve),xe.construct(this,()=>{this._readableState.needReadable&&Yt(this,this._readableState)})}a(Ne,"B"),Ne.prototype.destroy=xe.destroy,Ne.prototype._undestroy=xe.undestroy,Ne.prototype._destroy=function(ve,Se){Se(ve)},Ne.prototype[Te.captureRejectionSymbol]=function(ve){this.destroy(ve)},Ne.prototype[ne]=function(){let ve;return this.destroyed||(ve=this.readableEnded?null:new et,this.destroy(ve)),new J((Se,xt)=>ee(this,Ot=>Ot&&Ot!==ve?xt(Ot):Se(null)))},Ne.prototype.push=function(ve,Se){return ut(this,ve,Se,!1)},Ne.prototype.unshift=function(ve,Se){return ut(this,ve,Se,!0)};function ut(ve,Se,xt,Ot){te("readableAddChunk",Se);let Ft=ve._readableState,Hn;if((Ft.state&Ie)===0&&(typeof Se=="string"?(xt=xt||Ft.defaultEncoding,Ft.encoding!==xt&&(Ot&&Ft.encoding?Se=X.from(Se,xt).toString(Ft.encoding):(Se=X.from(Se,xt),xt=""))):Se instanceof X?xt="":ye._isUint8Array(Se)?(Se=ye._uint8ArrayToBuffer(Se),xt=""):Se!=null&&(Hn=new q("chunk",["string","Buffer","Uint8Array"],Se))),Hn)_e(ve,Hn);else if(Se===null)Ft.state&=~Fe,at(ve,Ft);else if((Ft.state&Ie)!==0||Se&&Se.length>0)if(Ot)if((Ft.state&Je)!==0)_e(ve,new ie);else{if(Ft.destroyed||Ft.errored)return!1;Ut(ve,Ft,Se,!0)}else if(Ft.ended)_e(ve,new ue);else{if(Ft.destroyed||Ft.errored)return!1;Ft.state&=~Fe,Ft.decoder&&!xt?(Se=Ft.decoder.write(Se),Ft.objectMode||Se.length!==0?Ut(ve,Ft,Se,!1):Yt(ve,Ft)):Ut(ve,Ft,Se,!1)}else Ot||(Ft.state&=~Fe,Yt(ve,Ft));return!Ft.ended&&(Ft.length<Ft.highWaterMark||Ft.length===0)}a(ut,"F");function Ut(ve,Se,xt,Ot){Se.flowing&&Se.length===0&&!Se.sync&&ve.listenerCount("data")>0?((Se.state&ze)!==0?Se.awaitDrainWriters.clear():Se.awaitDrainWriters=null,Se.dataEmitted=!0,ve.emit("data",xt)):(Se.length+=Se.objectMode?1:xt.length,Ot?Se.buffer.unshift(xt):Se.buffer.push(xt),(Se.state&We)!==0&&Dt(ve)),Yt(ve,Se)}a(Ut,"X$"),Ne.prototype.isPaused=function(){let ve=this._readableState;return ve[Ke]===!0||ve.flowing===!1},Ne.prototype.setEncoding=function(ve){let Se=new Ct(ve);this._readableState.decoder=Se,this._readableState.encoding=this._readableState.decoder.encoding;let xt=this._readableState.buffer,Ot="";for(let Ft of xt)Ot+=Se.write(Ft);return xt.clear(),Ot!==""&&xt.push(Ot),this._readableState.length=Ot.length,this};var st=1073741824;function mt(ve){if(ve>st)throw new le("size","<= 1GiB",ve);return ve--,ve|=ve>>>1,ve|=ve>>>2,ve|=ve>>>4,ve|=ve>>>8,ve|=ve>>>16,ve++,ve}a(mt,"j$");function Ze(ve,Se){return ve<=0||Se.length===0&&Se.ended?0:(Se.state&Ie)!==0?1:I(ve)?Se.flowing&&Se.length?Se.buffer.first().length:Se.length:ve<=Se.length?ve:Se.ended?Se.length:0}a(Ze,"X6"),Ne.prototype.read=function(ve){te("read",ve),ve===void 0?ve=NaN:E(ve)||(ve=O(ve,10));let Se=this._readableState,xt=ve;if(ve>Se.highWaterMark&&(Se.highWaterMark=mt(ve)),ve!==0&&(Se.state&=~Oe),ve===0&&Se.needReadable&&((Se.highWaterMark!==0?Se.length>=Se.highWaterMark:Se.length>0)||Se.ended))return te("read: emitReadable",Se.length,Se.ended),Se.length===0&&Se.ended?Ur(this):Dt(this),null;if(ve=Ze(ve,Se),ve===0&&Se.ended)return Se.length===0&&Ur(this),null;let Ot=(Se.state&We)!==0;if(te("need readable",Ot),(Se.length===0||Se.length-ve<Se.highWaterMark)&&(Ot=!0,te("length less than watermark",Ot)),Se.ended||Se.reading||Se.destroyed||Se.errored||!Se.constructed)Ot=!1,te("reading, ended or constructing",Ot);else if(Ot){te("do read"),Se.state|=Fe|Rt,Se.length===0&&(Se.state|=We);try{this._read(Se.highWaterMark)}catch(Hn){_e(this,Hn)}Se.state&=~Rt,!Se.reading&&(ve=Ze(xt,Se))}let Ft;return ve>0?Ft=Cr(ve,Se):Ft=null,Ft===null?(Se.needReadable=Se.length<=Se.highWaterMark,ve=0):(Se.length-=ve,Se.multiAwaitDrain?Se.awaitDrainWriters.clear():Se.awaitDrainWriters=null),Se.length===0&&(Se.ended||(Se.needReadable=!0),xt!==ve&&Se.ended&&Ur(this)),Ft!==null&&!Se.errorEmitted&&!Se.closeEmitted&&(Se.dataEmitted=!0,this.emit("data",Ft)),Ft};function at(ve,Se){if(te("onEofChunk"),!Se.ended){if(Se.decoder){let xt=Se.decoder.end();xt&&xt.length&&(Se.buffer.push(xt),Se.length+=Se.objectMode?1:xt.length)}Se.ended=!0,Se.sync?Dt(ve):(Se.needReadable=!1,Se.emittedReadable=!0,rr(ve))}}a(at,"Z$");function Dt(ve){let Se=ve._readableState;te("emitReadable",Se.needReadable,Se.emittedReadable),Se.needReadable=!1,!Se.emittedReadable&&(te("emitReadable",Se.flowing),Se.emittedReadable=!0,k.nextTick(rr,ve))}a(Dt,"A$");function rr(ve){let Se=ve._readableState;te("emitReadable_",Se.destroyed,Se.length,Se.ended),!Se.destroyed&&!Se.errored&&(Se.length||Se.ended)&&(ve.emit("readable"),Se.emittedReadable=!1),Se.needReadable=!Se.flowing&&!Se.ended&&Se.length<=Se.highWaterMark,Nr(ve)}a(rr,"l6");function Yt(ve,Se){!Se.readingMore&&Se.constructed&&(Se.readingMore=!0,k.nextTick(yr,ve,Se))}a(Yt,"S$");function yr(ve,Se){for(;!Se.reading&&!Se.ended&&(Se.length<Se.highWaterMark||Se.flowing&&Se.length===0);){let xt=Se.length;if(te("maybeReadMore read 0"),ve.read(0),xt===Se.length)break}Se.readingMore=!1}a(yr,"V$"),Ne.prototype._read=function(ve){throw new K("_read()")},Ne.prototype.pipe=function(ve,Se){let xt=this,Ot=this._readableState;Ot.pipes.length===1&&(Ot.multiAwaitDrain||(Ot.multiAwaitDrain=!0,Ot.awaitDrainWriters=new ce(Ot.awaitDrainWriters?[Ot.awaitDrainWriters]:[]))),Ot.pipes.push(ve),te("pipe count=%d opts=%j",Ot.pipes.length,Se);let Ft=(!Se||Se.end!==!1)&&ve!==k.stdout&&ve!==k.stderr?Vi:vc;Ot.endEmitted?k.nextTick(Ft):xt.once("end",Ft),ve.on("unpipe",Hn);function Hn(Yo,vs){te("onunpipe"),Yo===xt&&vs&&vs.hasUnpiped===!1&&(vs.hasUnpiped=!0,DF())}a(Hn,"k$");function Vi(){te("onend"),ve.end()}a(Vi,"G$");let Vo,c_=!1;function DF(){te("cleanup"),ve.removeListener("close",Dg),ve.removeListener("finish",jg),Vo&&ve.removeListener("drain",Vo),ve.removeListener("error",Lg),ve.removeListener("unpipe",Hn),xt.removeListener("end",Vi),xt.removeListener("end",vc),xt.removeListener("data",h_),c_=!0,Vo&&Ot.awaitDrainWriters&&(!ve._writableState||ve._writableState.needDrain)&&Vo()}a(DF,"u$");function d_(){c_||(Ot.pipes.length===1&&Ot.pipes[0]===ve?(te("false write response, pause",0),Ot.awaitDrainWriters=ve,Ot.multiAwaitDrain=!1):Ot.pipes.length>1&&Ot.pipes.includes(ve)&&(te("false write response, pause",Ot.awaitDrainWriters.size),Ot.awaitDrainWriters.add(ve)),xt.pause()),Vo||(Vo=Pr(xt,ve),ve.on("drain",Vo))}a(d_,"Xq"),xt.on("data",h_);function h_(Yo){te("ondata");let vs=ve.write(Yo);te("dest.write",vs),vs===!1&&d_()}a(h_,"I$");function Lg(Yo){if(te("onerror",Yo),vc(),ve.removeListener("error",Lg),ve.listenerCount("error")===0){let vs=ve._writableState||ve._readableState;vs&&!vs.errorEmitted?_e(ve,Yo):ve.emit("error",Yo)}}a(Lg,"M$"),Me(ve,"error",Lg);function Dg(){ve.removeListener("finish",jg),vc()}a(Dg,"p6"),ve.once("close",Dg);function jg(){te("onfinish"),ve.removeListener("close",Dg),vc()}a(jg,"H6"),ve.once("finish",jg);function vc(){te("unpipe"),xt.unpipe(ve)}return a(vc,"v6"),ve.emit("pipe",xt),ve.writableNeedDrain===!0?d_():Ot.flowing||(te("pipe resume"),xt.resume()),ve};function Pr(ve,Se){return function(){let xt=ve._readableState;xt.awaitDrainWriters===Se?(te("pipeOnDrain",1),xt.awaitDrainWriters=null):xt.multiAwaitDrain&&(te("pipeOnDrain",xt.awaitDrainWriters.size),xt.awaitDrainWriters.delete(Se)),(!xt.awaitDrainWriters||xt.awaitDrainWriters.size===0)&&ve.listenerCount("data")&&ve.resume()}}a(Pr,"Mq"),Ne.prototype.unpipe=function(ve){let Se=this._readableState,xt={hasUnpiped:!1};if(Se.pipes.length===0)return this;if(!ve){let Ft=Se.pipes;Se.pipes=[],this.pause();for(let Hn=0;Hn<Ft.length;Hn++)Ft[Hn].emit("unpipe",this,{hasUnpiped:!1});return this}let Ot=p(Se.pipes,ve);return Ot===-1?this:(Se.pipes.splice(Ot,1),Se.pipes.length===0&&this.pause(),ve.emit("unpipe",this,xt),this)},Ne.prototype.on=function(ve,Se){let xt=ye.prototype.on.call(this,ve,Se),Ot=this._readableState;return ve==="data"?(Ot.readableListening=this.listenerCount("readable")>0,Ot.flowing!==!1&&this.resume()):ve==="readable"&&!Ot.endEmitted&&!Ot.readableListening&&(Ot.readableListening=Ot.needReadable=!0,Ot.flowing=!1,Ot.emittedReadable=!1,te("on readable",Ot.length,Ot.reading),Ot.length?Dt(this):Ot.reading||k.nextTick(pr,this)),xt},Ne.prototype.addListener=Ne.prototype.on,Ne.prototype.removeListener=function(ve,Se){let xt=ye.prototype.removeListener.call(this,ve,Se);return ve==="readable"&&k.nextTick(wr,this),xt},Ne.prototype.off=Ne.prototype.removeListener,Ne.prototype.removeAllListeners=function(ve){let Se=ye.prototype.removeAllListeners.apply(this,arguments);return(ve==="readable"||ve===void 0)&&k.nextTick(wr,this),Se};function wr(ve){let Se=ve._readableState;Se.readableListening=ve.listenerCount("readable")>0,Se.resumeScheduled&&Se[Ke]===!1?Se.flowing=!0:ve.listenerCount("data")>0?ve.resume():Se.readableListening||(Se.flowing=null)}a(wr,"N$");function pr(ve){te("readable nexttick read 0"),ve.read(0)}a(pr,"D$"),Ne.prototype.resume=function(){let ve=this._readableState;return ve.flowing||(te("resume"),ve.flowing=!ve.readableListening,Gr(this,ve)),ve[Ke]=!1,this};function Gr(ve,Se){Se.resumeScheduled||(Se.resumeScheduled=!0,k.nextTick(Zr,ve,Se))}a(Gr,"Nq");function Zr(ve,Se){te("resume",Se.reading),!Se.reading&&ve.read(0),Se.resumeScheduled=!1,ve.emit("resume"),Nr(ve),Se.flowing&&!Se.reading&&ve.read(0)}a(Zr,"L$"),Ne.prototype.pause=function(){return te("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(te("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Ke]=!0,this};function Nr(ve){let Se=ve._readableState;for(te("flow",Se.flowing);Se.flowing&&ve.read()!==null;);}a(Nr,"C$"),Ne.prototype.wrap=function(ve){let Se=!1;ve.on("data",Ot=>{!this.push(Ot)&&ve.pause&&(Se=!0,ve.pause())}),ve.on("end",()=>{this.push(null)}),ve.on("error",Ot=>{_e(this,Ot)}),ve.on("close",()=>{this.destroy()}),ve.on("destroy",()=>{this.destroy()}),this._read=()=>{Se&&ve.resume&&(Se=!1,ve.resume())};let xt=H(ve);for(let Ot=1;Ot<xt.length;Ot++){let Ft=xt[Ot];this[Ft]===void 0&&typeof ve[Ft]=="function"&&(this[Ft]=ve[Ft].bind(ve))}return this},Ne.prototype[se]=function(){return Fr(this)},Ne.prototype.iterator=function(ve){return ve!==void 0&&Pe(ve,"options"),Fr(this,ve)};function Fr(ve,Se){typeof ve.read!="function"&&(ve=Ne.wrap(ve,{objectMode:!0}));let xt=Sr(ve,Se);return xt.stream=ve,xt}a(Fr,"Zq");async function*Sr(ve,Se){let xt=Qe;function Ot(Vi){this===ve?(xt(),xt=Qe):xt=Vi}a(Ot,"P$"),ve.on("readable",Ot);let Ft,Hn=ee(ve,{writable:!1},Vi=>{Ft=Vi?$(Ft,Vi):null,xt(),xt=Qe});try{for(;;){let Vi=ve.destroyed?null:ve.read();if(Vi!==null)yield Vi;else{if(Ft)throw Ft;if(Ft===null)return;await new J(Ot)}}}catch(Vi){throw Ft=$(Ft,Vi),Ft}finally{(Ft||Se?.destroyOnReturn!==!1)&&(Ft===void 0||ve._readableState.autoDestroy)?xe.destroyer(ve,null):(ve.off("readable",Ot),Hn())}}a(Sr,"g$"),B(Ne.prototype,{readable:{__proto__:null,get(){let ve=this._readableState;return!!ve&&ve.readable!==!1&&!ve.destroyed&&!ve.errorEmitted&&!ve.endEmitted},set(ve){this._readableState&&(this._readableState.readable=!!ve)}},readableDidRead:{__proto__:null,enumerable:!1,get:a(function(){return this._readableState.dataEmitted},"get")},readableAborted:{__proto__:null,enumerable:!1,get:a(function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)},"get")},readableHighWaterMark:{__proto__:null,enumerable:!1,get:a(function(){return this._readableState.highWaterMark},"get")},readableBuffer:{__proto__:null,enumerable:!1,get:a(function(){return this._readableState&&this._readableState.buffer},"get")},readableFlowing:{__proto__:null,enumerable:!1,get:a(function(){return this._readableState.flowing},"get"),set:a(function(ve){this._readableState&&(this._readableState.flowing=ve)},"set")},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ve){this._readableState&&(this._readableState.destroyed=ve)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),B(lt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Ke]!==!1},set(ve){this[Ke]=!!ve}}}),Ne._fromList=Cr;function Cr(ve,Se){if(Se.length===0)return null;let xt;return Se.objectMode?xt=Se.buffer.shift():!ve||ve>=Se.length?(Se.decoder?xt=Se.buffer.join(""):Se.buffer.length===1?xt=Se.buffer.first():xt=Se.buffer.concat(Se.length),Se.buffer.clear()):xt=Se.buffer.consume(ve,Se.decoder),xt}a(Cr,"h$");function Ur(ve){let Se=ve._readableState;te("endReadable",Se.endEmitted),!Se.endEmitted&&(Se.ended=!0,k.nextTick($r,Se,ve))}a(Ur,"zq");function $r(ve,Se){if(te("endReadableNT",ve.endEmitted,ve.length),!ve.errored&&!ve.closeEmitted&&!ve.endEmitted&&ve.length===0){if(ve.endEmitted=!0,Se.emit("end"),Se.writable&&Se.allowHalfOpen===!1)k.nextTick(Xr,Se);else if(ve.autoDestroy){let xt=Se._writableState;(!xt||xt.autoDestroy&&(xt.finished||xt.writable===!1))&&Se.destroy()}}}a($r,"b$");function Xr(ve){ve.writable&&!ve.writableEnded&&!ve.destroyed&&ve.end()}a(Xr,"y$"),Ne.from=function(ve,Se){return Ce(Ne,ve,Se)};var Jr;function ru(){return Jr===void 0&&(Jr={}),Jr}a(ru,"E$"),Ne.fromWeb=function(ve,Se){return ru().newStreamReadableFromReadableStream(ve,Se)},Ne.toWeb=function(ve,Se){return ru().newReadableStreamFromStreamReadable(ve,Se)},Ne.wrap=function(ve,Se){var xt,Ot;return new Ne({objectMode:(xt=(Ot=ve.readableObjectMode)!==null&&Ot!==void 0?Ot:ve.objectMode)!==null&&xt!==void 0?xt:!0,...Se,destroy(Ft,Hn){xe.destroyer(ve,Ft),Hn(Ft)}}).wrap(ve)}}),z=r((T,N)=>{var k=h(),{ArrayPrototypeSlice:p,Error:E,FunctionPrototypeSymbolHasInstance:I,ObjectDefineProperty:O,ObjectDefineProperties:B,ObjectSetPrototypeOf:H,StringPrototypeToLowerCase:G,Symbol:J,SymbolHasInstance:ce}=n();N.exports=Pe,Pe.WritableState=ie;var{EventEmitter:ne}=(df(),hr(td)),se=y().Stream,{Buffer:Ye}=(Bn(),hr(Mn)),Te=m(),{addAbortSignal:ye}=x(),{getHighWaterMark:Me,getDefaultHighWaterMark:X}=C(),{ERR_INVALID_ARG_TYPE:oe,ERR_METHOD_NOT_IMPLEMENTED:ee,ERR_MULTIPLE_CALLBACK:te,ERR_STREAM_CANNOT_PIPE:fe,ERR_STREAM_DESTROYED:xe,ERR_STREAM_ALREADY_FINISHED:Re,ERR_STREAM_NULL_VALUES:de,ERR_STREAM_WRITE_AFTER_END:$,ERR_UNKNOWN_ENCODING:q}=s().codes,{errorOrDestroy:K}=Te;H(Pe.prototype,se.prototype),H(Pe,se);function le(){}a(le,"H");var ue=J("kOnFinished");function ie(pe,we,$e){typeof $e!="boolean"&&($e=we instanceof Y()),this.objectMode=!!(pe&&pe.objectMode),$e&&(this.objectMode=this.objectMode||!!(pe&&pe.writableObjectMode)),this.highWaterMark=pe?Me(this,pe,"writableHighWaterMark",$e):X(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let De=!!(pe&&pe.decodeStrings===!1);this.decodeStrings=!De,this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=_e.bind(void 0,we),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,et(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pe||pe.emitClose!==!1,this.autoDestroy=!pe||pe.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ue]=[]}a(ie,"W");function et(pe){pe.buffered=[],pe.bufferedIndex=0,pe.allBuffers=!0,pe.allNoop=!0}a(et,"w"),ie.prototype.getBuffer=function(){return p(this.buffered,this.bufferedIndex)},O(ie.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Pe(pe){let we=this instanceof Y();if(!we&&!I(Pe,this))return new Pe(pe);this._writableState=new ie(pe,this,we),pe&&(typeof pe.write=="function"&&(this._write=pe.write),typeof pe.writev=="function"&&(this._writev=pe.writev),typeof pe.destroy=="function"&&(this._destroy=pe.destroy),typeof pe.final=="function"&&(this._final=pe.final),typeof pe.construct=="function"&&(this._construct=pe.construct),pe.signal&&ye(pe.signal,this)),se.call(this,pe),Te.construct(this,()=>{let $e=this._writableState;$e.writing||Fe(this,$e),Oe(this,$e)})}a(Pe,"G"),O(Pe,ce,{__proto__:null,value:a(function(pe){return I(this,pe)?!0:this!==Pe?!1:pe&&pe._writableState instanceof ie},"value")}),Pe.prototype.pipe=function(){K(this,new fe)};function Ke(pe,we,$e,De){let ze=pe._writableState;if(typeof $e=="function")De=$e,$e=ze.defaultEncoding;else{if(!$e)$e=ze.defaultEncoding;else if($e!=="buffer"&&!Ye.isEncoding($e))throw new q($e);typeof De!="function"&&(De=le)}if(we===null)throw new de;if(!ze.objectMode)if(typeof we=="string")ze.decodeStrings!==!1&&(we=Ye.from(we,$e),$e="buffer");else if(we instanceof Ye)$e="buffer";else if(se._isUint8Array(we))we=se._uint8ArrayToBuffer(we),$e="buffer";else throw new oe("chunk",["string","Buffer","Uint8Array"],we);let ct;return ze.ending?ct=new $:ze.destroyed&&(ct=new xe("write")),ct?(k.nextTick(De,ct),K(pe,ct,!0),ct):(ze.pendingcb++,Ct(pe,ze,we,$e,De))}a(Ke,"S"),Pe.prototype.write=function(pe,we,$e){return Ke(this,pe,we,$e)===!0},Pe.prototype.cork=function(){this._writableState.corked++},Pe.prototype.uncork=function(){let pe=this._writableState;pe.corked&&(pe.corked--,!pe.writing&&Fe(this,pe))},Pe.prototype.setDefaultEncoding=function(pe){if(typeof pe=="string"&&(pe=G(pe)),!Ye.isEncoding(pe))throw new q(pe);return this._writableState.defaultEncoding=pe,this};function Ct(pe,we,$e,De,ze){let ct=we.objectMode?1:$e.length;we.length+=ct;let me=we.length<we.highWaterMark;return me||(we.needDrain=!0),we.writing||we.corked||we.errored||!we.constructed?(we.buffered.push({chunk:$e,encoding:De,callback:ze}),we.allBuffers&&De!=="buffer"&&(we.allBuffers=!1),we.allNoop&&ze!==le&&(we.allNoop=!1)):(we.writelen=ct,we.writecb=ze,we.writing=!0,we.sync=!0,pe._write($e,De,we.onwrite),we.sync=!1),me&&!we.errored&&!we.destroyed}a(Ct,"A");function Ce(pe,we,$e,De,ze,ct,me){we.writelen=De,we.writecb=me,we.writing=!0,we.sync=!0,we.destroyed?we.onwrite(new xe("write")):$e?pe._writev(ze,we.onwrite):pe._write(ze,ct,we.onwrite),we.sync=!1}a(Ce,"v");function Qe(pe,we,$e,De){--we.pendingcb,De($e),Je(we),K(pe,$e)}a(Qe,"k");function _e(pe,we){let $e=pe._writableState,De=$e.sync,ze=$e.writecb;if(typeof ze!="function"){K(pe,new te);return}$e.writing=!1,$e.writecb=null,$e.length-=$e.writelen,$e.writelen=0,we?(we.stack,!$e.errored&&($e.errored=we),pe._readableState&&!pe._readableState.errored&&(pe._readableState.errored=we),De?k.nextTick(Qe,pe,$e,we,ze):Qe(pe,$e,we,ze)):($e.buffered.length>$e.bufferedIndex&&Fe(pe,$e),De?$e.afterWriteTickInfo!==null&&$e.afterWriteTickInfo.cb===ze?$e.afterWriteTickInfo.count++:($e.afterWriteTickInfo={count:1,cb:ze,stream:pe,state:$e},k.nextTick(Ie,$e.afterWriteTickInfo)):Ge(pe,$e,1,ze))}a(_e,"R");function Ie({stream:pe,state:we,count:$e,cb:De}){return we.afterWriteTickInfo=null,Ge(pe,we,$e,De)}a(Ie,"C");function Ge(pe,we,$e,De){for(!we.ending&&!pe.destroyed&&we.length===0&&we.needDrain&&(we.needDrain=!1,pe.emit("drain"));$e-- >0;)we.pendingcb--,De();we.destroyed&&Je(we),Oe(pe,we)}a(Ge,"L");function Je(pe){if(pe.writing)return;for(let ze=pe.bufferedIndex;ze<pe.buffered.length;++ze){var we;let{chunk:ct,callback:me}=pe.buffered[ze],je=pe.objectMode?1:ct.length;pe.length-=je,me((we=pe.errored)!==null&&we!==void 0?we:new xe("write"))}let $e=pe[ue].splice(0);for(let ze=0;ze<$e.length;ze++){var De;$e[ze]((De=pe.errored)!==null&&De!==void 0?De:new xe("end"))}et(pe)}a(Je,"x");function Fe(pe,we){if(we.corked||we.bufferProcessing||we.destroyed||!we.constructed)return;let{buffered:$e,bufferedIndex:De,objectMode:ze}=we,ct=$e.length-De;if(!ct)return;let me=De;if(we.bufferProcessing=!0,ct>1&&pe._writev){we.pendingcb-=ct-1;let je=we.allNoop?le:Ne=>{for(let ut=me;ut<$e.length;++ut)$e[ut].callback(Ne)},lt=we.allNoop&&me===0?$e:p($e,me);lt.allBuffers=we.allBuffers,Ce(pe,we,!0,we.length,lt,"",je),et(we)}else{do{let{chunk:je,encoding:lt,callback:Ne}=$e[me];$e[me++]=null;let ut=ze?1:je.length;Ce(pe,we,!1,ut,je,lt,Ne)}while(me<$e.length&&!we.writing);me===$e.length?et(we):me>256?($e.splice(0,me),we.bufferedIndex=0):we.bufferedIndex=me}we.bufferProcessing=!1}a(Fe,"l"),Pe.prototype._write=function(pe,we,$e){if(this._writev)this._writev([{chunk:pe,encoding:we}],$e);else throw new ee("_write()")},Pe.prototype._writev=null,Pe.prototype.end=function(pe,we,$e){let De=this._writableState;typeof pe=="function"?($e=pe,pe=null,we=null):typeof we=="function"&&($e=we,we=null);let ze;if(pe!=null){let ct=Ke(this,pe,we);ct instanceof E&&(ze=ct)}return De.corked&&(De.corked=1,this.uncork()),ze||(!De.errored&&!De.ending?(De.ending=!0,Oe(this,De,!0),De.ended=!0):De.finished?ze=new Re("end"):De.destroyed&&(ze=new xe("end"))),typeof $e=="function"&&(ze||De.finished?k.nextTick($e,ze):De[ue].push($e)),this};function rt(pe){return pe.ending&&!pe.destroyed&&pe.constructed&&pe.length===0&&!pe.errored&&pe.buffered.length===0&&!pe.finished&&!pe.writing&&!pe.errorEmitted&&!pe.closeEmitted}a(rt,"a");function Rt(pe,we){let $e=!1;function De(ze){if($e){K(pe,ze??te());return}if($e=!0,we.pendingcb--,ze){let ct=we[ue].splice(0);for(let me=0;me<ct.length;me++)ct[me](ze);K(pe,ze,we.sync)}else rt(we)&&(we.prefinished=!0,pe.emit("prefinish"),we.pendingcb++,k.nextTick(tt,pe,we))}a(De,"e"),we.sync=!0,we.pendingcb++;try{pe._final(De)}catch(ze){De(ze)}we.sync=!1}a(Rt,"f$");function We(pe,we){!we.prefinished&&!we.finalCalled&&(typeof pe._final=="function"&&!we.destroyed?(we.finalCalled=!0,Rt(pe,we)):(we.prefinished=!0,pe.emit("prefinish")))}a(We,"$$");function Oe(pe,we,$e){rt(we)&&(We(pe,we),we.pendingcb===0&&($e?(we.pendingcb++,k.nextTick((De,ze)=>{rt(ze)?tt(De,ze):ze.pendingcb--},pe,we)):rt(we)&&(we.pendingcb++,tt(pe,we))))}a(Oe,"t");function tt(pe,we){we.pendingcb--,we.finished=!0;let $e=we[ue].splice(0);for(let De=0;De<$e.length;De++)$e[De]();if(pe.emit("finish"),we.autoDestroy){let De=pe._readableState;(!De||De.autoDestroy&&(De.endEmitted||De.readable===!1))&&pe.destroy()}}a(tt,"H$"),B(Pe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(pe){this._writableState&&(this._writableState.destroyed=pe)}},writable:{__proto__:null,get(){let pe=this._writableState;return!!pe&&pe.writable!==!1&&!pe.destroyed&&!pe.errored&&!pe.ending&&!pe.ended},set(pe){this._writableState&&(this._writableState.writable=!!pe)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let pe=this._writableState;return pe?!pe.destroyed&&!pe.ending&&pe.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:a(function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)},"get")}});var Be=Te.destroy;Pe.prototype.destroy=function(pe,we){let $e=this._writableState;return!$e.destroyed&&($e.bufferedIndex<$e.buffered.length||$e[ue].length)&&k.nextTick(Je,$e),Be.call(this,pe,we),this},Pe.prototype._undestroy=Te.undestroy,Pe.prototype._destroy=function(pe,we){we(pe)},Pe.prototype[ne.captureRejectionSymbol]=function(pe){this.destroy(pe)};var nt;function Tt(){return nt===void 0&&(nt={}),nt}a(Tt,"B$"),Pe.fromWeb=function(pe,we){return Tt().newStreamWritableFromWritableStream(pe,we)},Pe.toWeb=function(pe){return Tt().newWritableStreamFromStreamWritable(pe)}}),Z=r((T,N)=>{var k=h(),p=(Bn(),hr(Mn)),{isReadable:E,isWritable:I,isIterable:O,isNodeStream:B,isReadableNodeStream:H,isWritableNodeStream:G,isDuplexNodeStream:J,isReadableStream:ce,isWritableStream:ne}=d(),se=g(),{AbortError:Ye,codes:{ERR_INVALID_ARG_TYPE:Te,ERR_INVALID_RETURN_VALUE:ye}}=s(),{destroyer:Me}=m(),X=Y(),oe=L(),ee=z(),{createDeferredPromise:te}=u(),fe=P(),xe=globalThis.Blob||p.Blob,Re=typeof xe<"u"?function(ue){return ue instanceof xe}:function(ue){return!1},de=globalThis.AbortController||l().AbortController,{FunctionPrototypeCall:$}=n();class q extends X{static{a(this,"U")}constructor(ie){super(ie),ie?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),ie?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}N.exports=a(function ue(ie,et){if(J(ie))return ie;if(H(ie))return le({readable:ie});if(G(ie))return le({writable:ie});if(B(ie))return le({writable:!1,readable:!1});if(ce(ie))return le({readable:oe.fromWeb(ie)});if(ne(ie))return le({writable:ee.fromWeb(ie)});if(typeof ie=="function"){let{value:Ke,write:Ct,final:Ce,destroy:Qe}=K(ie);if(O(Ke))return fe(q,Ke,{objectMode:!0,write:Ct,final:Ce,destroy:Qe});let _e=Ke?.then;if(typeof _e=="function"){let Ie,Ge=$(_e,Ke,Je=>{if(Je!=null)throw new ye("nully","body",Je)},Je=>{Me(Ie,Je)});return Ie=new q({objectMode:!0,readable:!1,write:Ct,final(Je){Ce(async()=>{try{await Ge,k.nextTick(Je,null)}catch(Fe){k.nextTick(Je,Fe)}})},destroy:Qe})}throw new ye("Iterable, AsyncIterable or AsyncFunction",et,Ke)}if(Re(ie))return ue(ie.arrayBuffer());if(O(ie))return fe(q,ie,{objectMode:!0,writable:!1});if(ce(ie?.readable)&&ne(ie?.writable))return q.fromWeb(ie);if(typeof ie?.writable=="object"||typeof ie?.readable=="object"){let Ke=ie!=null&&ie.readable?H(ie?.readable)?ie?.readable:ue(ie.readable):void 0,Ct=ie!=null&&ie.writable?G(ie?.writable)?ie?.writable:ue(ie.writable):void 0;return le({readable:Ke,writable:Ct})}let Pe=ie?.then;if(typeof Pe=="function"){let Ke;return $(Pe,ie,Ct=>{Ct!=null&&Ke.push(Ct),Ke.push(null)},Ct=>{Me(Ke,Ct)}),Ke=new q({objectMode:!0,writable:!1,read(){}})}throw new Te(et,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],ie)},"Z");function K(ue){let{promise:ie,resolve:et}=te(),Pe=new de,Ke=Pe.signal;return{value:ue((async function*(){for(;;){let Ct=ie;ie=null;let{chunk:Ce,done:Qe,cb:_e}=await Ct;if(k.nextTick(_e),Qe)return;if(Ke.aborted)throw new Ye(void 0,{cause:Ke.reason});({promise:ie,resolve:et}=te()),yield Ce}})(),{signal:Ke}),write(Ct,Ce,Qe){let _e=et;et=null,_e({chunk:Ct,done:!1,cb:Qe})},final(Ct){let Ce=et;et=null,Ce({done:!0,cb:Ct})},destroy(Ct,Ce){Pe.abort(),Ce(Ct)}}}a(K,"j");function le(ue){let ie=ue.readable&&typeof ue.readable.read!="function"?oe.wrap(ue.readable):ue.readable,et=ue.writable,Pe=!!E(ie),Ke=!!I(et),Ct,Ce,Qe,_e,Ie;function Ge(Je){let Fe=_e;_e=null,Fe?Fe(Je):Je&&Ie.destroy(Je)}return a(Ge,"L"),Ie=new q({readableObjectMode:!!(ie!=null&&ie.readableObjectMode),writableObjectMode:!!(et!=null&&et.writableObjectMode),readable:Pe,writable:Ke}),Ke&&(se(et,Je=>{Ke=!1,Je&&Me(ie,Je),Ge(Je)}),Ie._write=function(Je,Fe,rt){et.write(Je,Fe)?rt():Ct=rt},Ie._final=function(Je){et.end(),Ce=Je},et.on("drain",function(){if(Ct){let Je=Ct;Ct=null,Je()}}),et.on("finish",function(){if(Ce){let Je=Ce;Ce=null,Je()}})),Pe&&(se(ie,Je=>{Pe=!1,Je&&Me(ie,Je),Ge(Je)}),ie.on("readable",function(){if(Qe){let Je=Qe;Qe=null,Je()}}),ie.on("end",function(){Ie.push(null)}),Ie._read=function(){for(;;){let Je=ie.read();if(Je===null){Qe=Ie._read;return}if(!Ie.push(Je))return}}),Ie._destroy=function(Je,Fe){!Je&&_e!==null&&(Je=new Ye),Qe=null,Ct=null,Ce=null,_e===null?Fe(Je):(_e=Fe,Me(et,Je),Me(ie,Je))},Ie}a(le,"H")}),Y=r((T,N)=>{var{ObjectDefineProperties:k,ObjectGetOwnPropertyDescriptor:p,ObjectKeys:E,ObjectSetPrototypeOf:I}=n();N.exports=H;var O=L(),B=z();I(H.prototype,O.prototype),I(H,O);{let ne=E(B.prototype);for(let se=0;se<ne.length;se++){let Ye=ne[se];H.prototype[Ye]||(H.prototype[Ye]=B.prototype[Ye])}}function H(ne){if(!(this instanceof H))return new H(ne);O.call(this,ne),B.call(this,ne),ne?(this.allowHalfOpen=ne.allowHalfOpen!==!1,ne.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),ne.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}a(H,"J"),k(H.prototype,{writable:{__proto__:null,...p(B.prototype,"writable")},writableHighWaterMark:{__proto__:null,...p(B.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...p(B.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...p(B.prototype,"writableBuffer")},writableLength:{__proto__:null,...p(B.prototype,"writableLength")},writableFinished:{__proto__:null,...p(B.prototype,"writableFinished")},writableCorked:{__proto__:null,...p(B.prototype,"writableCorked")},writableEnded:{__proto__:null,...p(B.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...p(B.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(ne){this._readableState&&this._writableState&&(this._readableState.destroyed=ne,this._writableState.destroyed=ne)}}});var G;function J(){return G===void 0&&(G={}),G}a(J,"X"),H.fromWeb=function(ne,se){return J().newStreamDuplexFromReadableWritablePair(ne,se)},H.toWeb=function(ne){return J().newReadableWritablePairFromDuplex(ne)};var ce;H.from=function(ne){return ce||(ce=Z()),ce(ne,"body")}}),ae=r((T,N)=>{var{ObjectSetPrototypeOf:k,Symbol:p}=n();N.exports=H;var{ERR_METHOD_NOT_IMPLEMENTED:E}=s().codes,I=Y(),{getHighWaterMark:O}=C();k(H.prototype,I.prototype),k(H,I);var B=p("kCallback");function H(ce){if(!(this instanceof H))return new H(ce);let ne=ce?O(this,ce,"readableHighWaterMark",!0):null;ne===0&&(ce={...ce,highWaterMark:null,readableHighWaterMark:ne,writableHighWaterMark:ce.writableHighWaterMark||0}),I.call(this,ce),this._readableState.sync=!1,this[B]=null,ce&&(typeof ce.transform=="function"&&(this._transform=ce.transform),typeof ce.flush=="function"&&(this._flush=ce.flush)),this.on("prefinish",J)}a(H,"J");function G(ce){typeof this._flush=="function"&&!this.destroyed?this._flush((ne,se)=>{if(ne){ce?ce(ne):this.destroy(ne);return}se!=null&&this.push(se),this.push(null),ce&&ce()}):(this.push(null),ce&&ce())}a(G,"T");function J(){this._final!==G&&G.call(this)}a(J,"X"),H.prototype._final=G,H.prototype._transform=function(ce,ne,se){throw new E("_transform()")},H.prototype._write=function(ce,ne,se){let Ye=this._readableState,Te=this._writableState,ye=Ye.length;this._transform(ce,ne,(Me,X)=>{if(Me){se(Me);return}X!=null&&this.push(X),Te.ended||ye===Ye.length||Ye.length<Ye.highWaterMark?se():this[B]=se})},H.prototype._read=function(){if(this[B]){let ce=this[B];this[B]=null,ce()}}}),F=r((T,N)=>{var{ObjectSetPrototypeOf:k}=n();N.exports=E;var p=ae();k(E.prototype,p.prototype),k(E,p);function E(I){if(!(this instanceof E))return new E(I);p.call(this,I)}a(E,"_"),E.prototype._transform=function(I,O,B){B(null,I)}}),W=r((T,N)=>{var k=h(),{ArrayIsArray:p,Promise:E,SymbolAsyncIterator:I,SymbolDispose:O}=n(),B=g(),{once:H}=u(),G=m(),J=Y(),{aggregateTwoErrors:ce,codes:{ERR_INVALID_ARG_TYPE:ne,ERR_INVALID_RETURN_VALUE:se,ERR_MISSING_ARGS:Ye,ERR_STREAM_DESTROYED:Te,ERR_STREAM_PREMATURE_CLOSE:ye},AbortError:Me}=s(),{validateFunction:X,validateAbortSignal:oe}=c(),{isIterable:ee,isReadable:te,isReadableNodeStream:fe,isNodeStream:xe,isTransformStream:Re,isWebStream:de,isReadableStream:$,isReadableFinished:q}=d(),K=globalThis.AbortController||l().AbortController,le,ue,ie;function et(Je,Fe,rt){let Rt=!1;Je.on("close",()=>{Rt=!0});let We=B(Je,{readable:Fe,writable:rt},Oe=>{Rt=!Oe});return{destroy:a(Oe=>{Rt||(Rt=!0,G.destroyer(Je,Oe||new Te("pipe")))},"destroy"),cleanup:We}}a(et,"w");function Pe(Je){return X(Je[Je.length-1],"streams[stream.length - 1]"),Je.pop()}a(Pe,"G");function Ke(Je){if(ee(Je))return Je;if(fe(Je))return Ct(Je);throw new ne("val",["Readable","Iterable","AsyncIterable"],Je)}a(Ke,"S");async function*Ct(Je){ue||(ue=L()),yield*ue.prototype[I].call(Je)}a(Ct,"A");async function Ce(Je,Fe,rt,{end:Rt}){let We,Oe=null,tt=a(Tt=>{if(Tt&&(We=Tt),Oe){let pe=Oe;Oe=null,pe()}},"H$"),Be=a(()=>new E((Tt,pe)=>{We?pe(We):Oe=a(()=>{We?pe(We):Tt()},"t")}),"Q");Fe.on("drain",tt);let nt=B(Fe,{readable:!1},tt);try{Fe.writableNeedDrain&&await Be();for await(let Tt of Je)Fe.write(Tt)||await Be();Rt&&(Fe.end(),await Be()),rt()}catch(Tt){rt(We!==Tt?ce(We,Tt):Tt)}finally{nt(),Fe.off("drain",tt)}}a(Ce,"v");async function Qe(Je,Fe,rt,{end:Rt}){Re(Fe)&&(Fe=Fe.writable);let We=Fe.getWriter();try{for await(let Oe of Je)await We.ready,We.write(Oe).catch(()=>{});await We.ready,Rt&&await We.close(),rt()}catch(Oe){try{await We.abort(Oe),rt(Oe)}catch(tt){rt(tt)}}}a(Qe,"k");function _e(...Je){return Ie(Je,H(Pe(Je)))}a(_e,"R");function Ie(Je,Fe,rt){if(Je.length===1&&p(Je[0])&&(Je=Je[0]),Je.length<2)throw new Ye("streams");let Rt=new K,We=Rt.signal,Oe=rt?.signal,tt=[];oe(Oe,"options.signal");function Be(){ze(new Me)}a(Be,"Q"),ie=ie||u().addAbortListener;let nt;Oe&&(nt=ie(Oe,Be));let Tt,pe,we=[],$e=0;function De(lt){ze(lt,--$e===0)}a(De,"e");function ze(lt,Ne){var ut;if(lt&&(!Tt||Tt.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Tt=lt),!(!Tt&&!Ne)){for(;we.length;)we.shift()(Tt);(ut=nt)===null||ut===void 0||ut[O](),Rt.abort(),Ne&&(Tt||tt.forEach(Ut=>Ut()),k.nextTick(Fe,Tt,pe))}}a(ze,"_$");let ct;for(let lt=0;lt<Je.length;lt++){let Ne=Je[lt],ut=lt<Je.length-1,Ut=lt>0,st=ut||rt?.end!==!1,mt=lt===Je.length-1;if(xe(Ne)){let Ze=a(function(at){at&&at.name!=="AbortError"&&at.code!=="ERR_STREAM_PREMATURE_CLOSE"&&De(at)},"Z$");if(st){let{destroy:at,cleanup:Dt}=et(Ne,ut,Ut);we.push(at),te(Ne)&&mt&&tt.push(Dt)}Ne.on("error",Ze),te(Ne)&&mt&&tt.push(()=>{Ne.removeListener("error",Ze)})}if(lt===0)if(typeof Ne=="function"){if(ct=Ne({signal:We}),!ee(ct))throw new se("Iterable, AsyncIterable or Stream","source",ct)}else ee(Ne)||fe(Ne)||Re(Ne)?ct=Ne:ct=J.from(Ne);else if(typeof Ne=="function"){if(Re(ct)){var me;ct=Ke((me=ct)===null||me===void 0?void 0:me.readable)}else ct=Ke(ct);if(ct=Ne(ct,{signal:We}),ut){if(!ee(ct,!0))throw new se("AsyncIterable",`transform[${lt-1}]`,ct)}else{var je;le||(le=F());let Ze=new le({objectMode:!0}),at=(je=ct)===null||je===void 0?void 0:je.then;if(typeof at=="function")$e++,at.call(ct,Yt=>{pe=Yt,Yt!=null&&Ze.write(Yt),st&&Ze.end(),k.nextTick(De)},Yt=>{Ze.destroy(Yt),k.nextTick(De,Yt)});else if(ee(ct,!0))$e++,Ce(ct,Ze,De,{end:st});else if($(ct)||Re(ct)){let Yt=ct.readable||ct;$e++,Ce(Yt,Ze,De,{end:st})}else throw new se("AsyncIterable or Promise","destination",ct);ct=Ze;let{destroy:Dt,cleanup:rr}=et(ct,!1,!0);we.push(Dt),mt&&tt.push(rr)}}else if(xe(Ne)){if(fe(ct)){$e+=2;let Ze=Ge(ct,Ne,De,{end:st});te(Ne)&&mt&&tt.push(Ze)}else if(Re(ct)||$(ct)){let Ze=ct.readable||ct;$e++,Ce(Ze,Ne,De,{end:st})}else if(ee(ct))$e++,Ce(ct,Ne,De,{end:st});else throw new ne("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ct);ct=Ne}else if(de(Ne)){if(fe(ct))$e++,Qe(Ke(ct),Ne,De,{end:st});else if($(ct)||ee(ct))$e++,Qe(ct,Ne,De,{end:st});else if(Re(ct))$e++,Qe(ct.readable,Ne,De,{end:st});else throw new ne("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ct);ct=Ne}else ct=J.from(Ne)}return(We!=null&&We.aborted||Oe!=null&&Oe.aborted)&&k.nextTick(Be),ct}a(Ie,"C");function Ge(Je,Fe,rt,{end:Rt}){let We=!1;if(Fe.on("close",()=>{We||rt(new ye)}),Je.pipe(Fe,{end:!1}),Rt){let Oe=a(function(){We=!0,Fe.end()},"H$");q(Je)?k.nextTick(Oe):Je.once("end",Oe)}else rt();return B(Je,{readable:!0,writable:!1},Oe=>{let tt=Je._readableState;Oe&&Oe.code==="ERR_STREAM_PREMATURE_CLOSE"&&tt&&tt.ended&&!tt.errored&&!tt.errorEmitted?Je.once("end",rt).once("error",rt):rt(Oe)}),B(Fe,{readable:!1,writable:!0},rt)}a(Ge,"L"),N.exports={pipelineImpl:Ie,pipeline:_e}}),f=r((T,N)=>{var{pipeline:k}=W(),p=Y(),{destroyer:E}=m(),{isNodeStream:I,isReadable:O,isWritable:B,isWebStream:H,isTransformStream:G,isWritableStream:J,isReadableStream:ce}=d(),{AbortError:ne,codes:{ERR_INVALID_ARG_VALUE:se,ERR_MISSING_ARGS:Ye}}=s(),Te=g();N.exports=function(...ye){if(ye.length===0)throw new Ye("streams");if(ye.length===1)return p.from(ye[0]);let Me=[...ye];if(typeof ye[0]=="function"&&(ye[0]=p.from(ye[0])),typeof ye[ye.length-1]=="function"){let K=ye.length-1;ye[K]=p.from(ye[K])}for(let K=0;K<ye.length;++K)if(!(!I(ye[K])&&!H(ye[K]))){if(K<ye.length-1&&!(O(ye[K])||ce(ye[K])||G(ye[K])))throw new se(`streams[${K}]`,Me[K],"must be readable");if(K>0&&!(B(ye[K])||J(ye[K])||G(ye[K])))throw new se(`streams[${K}]`,Me[K],"must be writable")}let X,oe,ee,te,fe;function xe(K){let le=te;te=null,le?le(K):K?fe.destroy(K):!q&&!$&&fe.destroy()}a(xe,"n");let Re=ye[0],de=k(ye,xe),$=!!(B(Re)||J(Re)||G(Re)),q=!!(O(de)||ce(de)||G(de));if(fe=new p({writableObjectMode:!!(Re!=null&&Re.writableObjectMode),readableObjectMode:!!(de!=null&&de.readableObjectMode),writable:$,readable:q}),$){if(I(Re))fe._write=function(le,ue,ie){Re.write(le,ue)?ie():X=ie},fe._final=function(le){Re.end(),oe=le},Re.on("drain",function(){if(X){let le=X;X=null,le()}});else if(H(Re)){let le=(G(Re)?Re.writable:Re).getWriter();fe._write=async function(ue,ie,et){try{await le.ready,le.write(ue).catch(()=>{}),et()}catch(Pe){et(Pe)}},fe._final=async function(ue){try{await le.ready,le.close().catch(()=>{}),oe=ue}catch(ie){ue(ie)}}}let K=G(de)?de.readable:de;Te(K,()=>{if(oe){let le=oe;oe=null,le()}})}if(q){if(I(de))de.on("readable",function(){if(ee){let K=ee;ee=null,K()}}),de.on("end",function(){fe.push(null)}),fe._read=function(){for(;;){let K=de.read();if(K===null){ee=fe._read;return}if(!fe.push(K))return}};else if(H(de)){let K=(G(de)?de.readable:de).getReader();fe._read=async function(){for(;;)try{let{value:le,done:ue}=await K.read();if(!fe.push(le))return;if(ue){fe.push(null);return}}catch{return}}}}return fe._destroy=function(K,le){!K&&te!==null&&(K=new ne),ee=null,X=null,oe=null,te===null?le(K):(te=le,I(de)&&E(de,K))},fe}}),w=r((T,N)=>{var k=globalThis.AbortController||l().AbortController,{codes:{ERR_INVALID_ARG_VALUE:p,ERR_INVALID_ARG_TYPE:E,ERR_MISSING_ARGS:I,ERR_OUT_OF_RANGE:O},AbortError:B}=s(),{validateAbortSignal:H,validateInteger:G,validateObject:J}=c(),ce=n().Symbol("kWeak"),ne=n().Symbol("kResistStopPropagation"),{finished:se}=g(),Ye=f(),{addAbortSignalNoValidate:Te}=x(),{isWritable:ye,isNodeStream:Me}=d(),{deprecate:X}=u(),{ArrayPrototypePush:oe,Boolean:ee,MathFloor:te,Number:fe,NumberIsNaN:xe,Promise:Re,PromiseReject:de,PromiseResolve:$,PromisePrototypeThen:q,Symbol:K}=n(),le=K("kEmpty"),ue=K("kEof");function ie(Oe,tt){if(tt!=null&&J(tt,"options"),tt?.signal!=null&&H(tt.signal,"options.signal"),Me(Oe)&&!ye(Oe))throw new p("stream",Oe,"must be writable");let Be=Ye(this,Oe);return tt!=null&&tt.signal&&Te(tt.signal,Be),Be}a(ie,"W");function et(Oe,tt){if(typeof Oe!="function")throw new E("fn",["Function","AsyncFunction"],Oe);tt!=null&&J(tt,"options"),tt?.signal!=null&&H(tt.signal,"options.signal");let Be=1;tt?.concurrency!=null&&(Be=te(tt.concurrency));let nt=Be-1;return tt?.highWaterMark!=null&&(nt=te(tt.highWaterMark)),G(Be,"options.concurrency",1),G(nt,"options.highWaterMark",0),nt+=Be,async function*(){let Tt=u().AbortSignalAny([tt?.signal].filter(ee)),pe=this,we=[],$e={signal:Tt},De,ze,ct=!1,me=0;function je(){ct=!0,lt()}a(je,"o");function lt(){me-=1,Ne()}a(lt,"W$");function Ne(){ze&&!ct&&me<Be&&we.length<nt&&(ze(),ze=null)}a(Ne,"B");async function ut(){try{for await(let Ut of pe){if(ct)return;if(Tt.aborted)throw new B;try{if(Ut=Oe(Ut,$e),Ut===le)continue;Ut=$(Ut)}catch(st){Ut=de(st)}me+=1,q(Ut,lt,je),we.push(Ut),De&&(De(),De=null),!ct&&(we.length>=nt||me>=Be)&&await new Re(st=>{ze=st})}we.push(ue)}catch(Ut){let st=de(Ut);q(st,lt,je),we.push(st)}finally{ct=!0,De&&(De(),De=null)}}a(ut,"F"),ut();try{for(;;){for(;we.length>0;){let Ut=await we[0];if(Ut===ue)return;if(Tt.aborted)throw new B;Ut!==le&&(yield Ut),we.shift(),Ne()}await new Re(Ut=>{De=Ut})}}finally{ct=!0,ze&&(ze(),ze=null)}}.call(this)}a(et,"w");function Pe(Oe=void 0){return Oe!=null&&J(Oe,"options"),Oe?.signal!=null&&H(Oe.signal,"options.signal"),async function*(){let tt=0;for await(let nt of this){var Be;if(Oe!=null&&(Be=Oe.signal)!==null&&Be!==void 0&&Be.aborted)throw new B({cause:Oe.signal.reason});yield[tt++,nt]}}.call(this)}a(Pe,"G");async function Ke(Oe,tt=void 0){for await(let Be of _e.call(this,Oe,tt))return!0;return!1}a(Ke,"S");async function Ct(Oe,tt=void 0){if(typeof Oe!="function")throw new E("fn",["Function","AsyncFunction"],Oe);return!await Ke.call(this,async(...Be)=>!await Oe(...Be),tt)}a(Ct,"A");async function Ce(Oe,tt){for await(let Be of _e.call(this,Oe,tt))return Be}a(Ce,"v");async function Qe(Oe,tt){if(typeof Oe!="function")throw new E("fn",["Function","AsyncFunction"],Oe);async function Be(nt,Tt){return await Oe(nt,Tt),le}a(Be,"Q");for await(let nt of et.call(this,Be,tt));}a(Qe,"k");function _e(Oe,tt){if(typeof Oe!="function")throw new E("fn",["Function","AsyncFunction"],Oe);async function Be(nt,Tt){return await Oe(nt,Tt)?nt:le}return a(Be,"Q"),et.call(this,Be,tt)}a(_e,"R");class Ie extends I{static{a(this,"C")}constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Ge(Oe,tt,Be){var nt;if(typeof Oe!="function")throw new E("reducer",["Function","AsyncFunction"],Oe);Be!=null&&J(Be,"options"),Be?.signal!=null&&H(Be.signal,"options.signal");let Tt=arguments.length>1;if(Be!=null&&(nt=Be.signal)!==null&&nt!==void 0&&nt.aborted){let ze=new B(void 0,{cause:Be.signal.reason});throw this.once("error",()=>{}),await se(this.destroy(ze)),ze}let pe=new k,we=pe.signal;if(Be!=null&&Be.signal){let ze={once:!0,[ce]:this,[ne]:!0};Be.signal.addEventListener("abort",()=>pe.abort(),ze)}let $e=!1;try{for await(let ze of this){var De;if($e=!0,Be!=null&&(De=Be.signal)!==null&&De!==void 0&&De.aborted)throw new B;Tt?tt=await Oe(tt,ze,{signal:we}):(tt=ze,Tt=!0)}if(!$e&&!Tt)throw new Ie}finally{pe.abort()}return tt}a(Ge,"L");async function Je(Oe){Oe!=null&&J(Oe,"options"),Oe?.signal!=null&&H(Oe.signal,"options.signal");let tt=[];for await(let nt of this){var Be;if(Oe!=null&&(Be=Oe.signal)!==null&&Be!==void 0&&Be.aborted)throw new B(void 0,{cause:Oe.signal.reason});oe(tt,nt)}return tt}a(Je,"x");function Fe(Oe,tt){let Be=et.call(this,Oe,tt);return async function*(){for await(let nt of Be)yield*nt}.call(this)}a(Fe,"l");function rt(Oe){if(Oe=fe(Oe),xe(Oe))return 0;if(Oe<0)throw new O("number",">= 0",Oe);return Oe}a(rt,"a");function Rt(Oe,tt=void 0){return tt!=null&&J(tt,"options"),tt?.signal!=null&&H(tt.signal,"options.signal"),Oe=rt(Oe),async function*(){var Be;if(tt!=null&&(Be=tt.signal)!==null&&Be!==void 0&&Be.aborted)throw new B;for await(let Tt of this){var nt;if(tt!=null&&(nt=tt.signal)!==null&&nt!==void 0&&nt.aborted)throw new B;Oe--<=0&&(yield Tt)}}.call(this)}a(Rt,"f$");function We(Oe,tt=void 0){return tt!=null&&J(tt,"options"),tt?.signal!=null&&H(tt.signal,"options.signal"),Oe=rt(Oe),async function*(){var Be;if(tt!=null&&(Be=tt.signal)!==null&&Be!==void 0&&Be.aborted)throw new B;for await(let Tt of this){var nt;if(tt!=null&&(nt=tt.signal)!==null&&nt!==void 0&&nt.aborted)throw new B;if(Oe-- >0&&(yield Tt),Oe<=0)return}}.call(this)}a(We,"$$"),N.exports.streamReturningOperators={asIndexedPairs:X(Pe,"readable.asIndexedPairs will be removed in a future version."),drop:Rt,filter:_e,flatMap:Fe,map:et,take:We,compose:ie},N.exports.promiseReturningOperators={every:Ct,forEach:Qe,reduce:Ge,toArray:Je,some:Ke,find:Ce}}),v=r((T,N)=>{var{ArrayPrototypePop:k,Promise:p}=n(),{isIterable:E,isNodeStream:I,isWebStream:O}=d(),{pipelineImpl:B}=W(),{finished:H}=g();_();function G(...J){return new p((ce,ne)=>{let se,Ye,Te=J[J.length-1];if(Te&&typeof Te=="object"&&!I(Te)&&!E(Te)&&!O(Te)){let ye=k(J);se=ye.signal,Ye=ye.end}B(J,(ye,Me)=>{ye?ne(ye):ce(Me)},{signal:se,end:Ye})})}a(G,"T"),N.exports={finished:H,pipeline:G}}),_=r((T,N)=>{var{Buffer:k}=(Bn(),hr(Mn)),{ObjectDefineProperty:p,ObjectKeys:E,ReflectApply:I}=n(),{promisify:{custom:O}}=u(),{streamReturningOperators:B,promiseReturningOperators:H}=w(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:G}}=s(),J=f(),{setDefaultHighWaterMark:ce,getDefaultHighWaterMark:ne}=C(),{pipeline:se}=W(),{destroyer:Ye}=m(),Te=g(),ye=v(),Me=d(),X=N.exports=y().Stream;X.isDestroyed=Me.isDestroyed,X.isDisturbed=Me.isDisturbed,X.isErrored=Me.isErrored,X.isReadable=Me.isReadable,X.isWritable=Me.isWritable,X.Readable=L();for(let ee of E(B)){let te=a(function(...xe){if(new.target)throw G();return X.Readable.from(I(fe,this,xe))},"y"),fe=B[ee];p(te,"name",{__proto__:null,value:fe.name}),p(te,"length",{__proto__:null,value:fe.length}),p(X.Readable.prototype,ee,{__proto__:null,value:te,enumerable:!1,configurable:!0,writable:!0})}for(let ee of E(H)){let te=a(function(...xe){if(new.target)throw G();return I(fe,this,xe)},"y"),fe=H[ee];p(te,"name",{__proto__:null,value:fe.name}),p(te,"length",{__proto__:null,value:fe.length}),p(X.Readable.prototype,ee,{__proto__:null,value:te,enumerable:!1,configurable:!0,writable:!0})}X.Writable=z(),X.Duplex=Y(),X.Transform=ae(),X.PassThrough=F(),X.pipeline=se;var{addAbortSignal:oe}=x();X.addAbortSignal=oe,X.finished=Te,X.destroy=Ye,X.compose=J,X.setDefaultHighWaterMark=ce,X.getDefaultHighWaterMark=ne,p(X,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return ye}}),p(se,O,{__proto__:null,enumerable:!0,get(){return ye.pipeline}}),p(Te,O,{__proto__:null,enumerable:!0,get(){return ye.finished}}),X.Stream=X,X._isUint8Array=function(ee){return ee instanceof Uint8Array},X._uint8ArrayToBuffer=function(ee){return k.from(ee.buffer,ee.byteOffset,ee.byteLength)}}),S=r((T,N)=>{MN();{let k=_(),p=v(),E=k.Readable.destroy;N.exports=k.Readable,N.exports._uint8ArrayToBuffer=k._uint8ArrayToBuffer,N.exports._isUint8Array=k._isUint8Array,N.exports.isDisturbed=k.isDisturbed,N.exports.isErrored=k.isErrored,N.exports.isReadable=k.isReadable,N.exports.Readable=k.Readable,N.exports.Writable=k.Writable,N.exports.Duplex=k.Duplex,N.exports.Transform=k.Transform,N.exports.PassThrough=k.PassThrough,N.exports.addAbortSignal=k.addAbortSignal,N.exports.finished=k.finished,N.exports.destroy=k.destroy,N.exports.destroy=E,N.exports.pipeline=k.pipeline,N.exports.compose=k.compose,Object.defineProperty(k,"promises",{configurable:!0,enumerable:!0,get(){return p}}),N.exports.Stream=k.Stream}N.exports.default=N.exports});t.exports=S()}),hi={};_i(hi,{webcrypto:a(()=>xC,"webcrypto"),rng:a(()=>BN,"rng"),randomUUID:a(()=>UZ,"randomUUID"),randomFillSync:a(()=>bC,"randomFillSync"),randomFill:a(()=>vC,"randomFill"),randomBytes:a(()=>zN,"randomBytes"),publicEncrypt:a(()=>fC,"publicEncrypt"),publicDecrypt:a(()=>mC,"publicDecrypt"),pseudoRandomBytes:a(()=>jN,"pseudoRandomBytes"),prng:a(()=>DN,"prng"),privateEncrypt:a(()=>pC,"privateEncrypt"),privateDecrypt:a(()=>gC,"privateDecrypt"),pbkdf2Sync:a(()=>ZN,"pbkdf2Sync"),pbkdf2:a(()=>YN,"pbkdf2"),listCiphers:a(()=>rC,"listCiphers"),getRandomValues:a(()=>FZ,"getRandomValues"),getHashes:a(()=>VN,"getHashes"),getDiffieHellman:a(()=>aC,"getDiffieHellman"),getCurves:a(()=>jZ,"getCurves"),getCiphers:a(()=>tC,"getCiphers"),default:a(()=>EC,"default"),createVerify:a(()=>cC,"createVerify"),createSign:a(()=>lC,"createSign"),createHmac:a(()=>GN,"createHmac"),createHash:a(()=>UN,"createHash"),createECDH:a(()=>hC,"createECDH"),createDiffieHellmanGroup:a(()=>iC,"createDiffieHellmanGroup"),createDiffieHellman:a(()=>sC,"createDiffieHellman"),createDecipheriv:a(()=>eC,"createDecipheriv"),createDecipher:a(()=>QN,"createDecipher"),createCredentials:a(()=>yC,"createCredentials"),createCipheriv:a(()=>KN,"createCipheriv"),createCipher:a(()=>XN,"createCipher"),constants:a(()=>wC,"constants"),Verify:a(()=>dC,"Verify"),Sign:a(()=>uC,"Sign"),Hmac:a(()=>HN,"Hmac"),Hash:a(()=>FN,"Hash"),DiffieHellmanGroup:a(()=>nC,"DiffieHellmanGroup"),DiffieHellman:a(()=>oC,"DiffieHellman"),Decipheriv:a(()=>qN,"Decipheriv"),Decipher:a(()=>WN,"Decipher"),DEFAULT_ENCODING:a(()=>zZ,"DEFAULT_ENCODING"),Cipheriv:a(()=>JN,"Cipheriv"),Cipher:a(()=>$N,"Cipher")});function jZ(){return _C}a(jZ,"pn");var ON,RN,o1,PN,LN,BZ=a((e,t,r)=>{r=e!=null?ON(RN(e)):{};let n=t||!e||!e.__esModule?o1(r,"default",{value:e,enumerable:!0}):r;for(let i of PN(e))LN.call(n,i)||o1(n,i,{get:a(()=>e[i],"get"),enumerable:!0});return n},"Fr"),Et=a((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"r$"),_c,xc,Qg,J_,hf,ff,Jn,pf,qg,K_,ev,W_,Q_,q_,ex,Ba,ys,tv,Si,rv,Ec,tx,ui,rx,nx,ix,nv,oa,au,iv,ax,av,sx,sv,ox,lx,ux,cx,mf,dx,gf,hx,fx,px,mx,gx,vx,bx,yx,wx,_x,xx,Ex,Sx,kx,ov,Ax,su,Tx,lv,uv,Nx,Cx,cv,Ix,Mx,ou,Ox,Rx,Px,Lx,Dx,jx,dv,Bx,hv,fv,pv,vf,mv,zx,gv,Fx,Ux,bf,Hx,Gx,Vx,Yx,sr,DN,jN,BN,zN,FN,UN,HN,GN,VN,YN,ZN,$N,XN,JN,KN,WN,QN,qN,eC,tC,rC,nC,iC,aC,sC,oC,lC,uC,cC,dC,hC,fC,pC,mC,gC,vC,bC,yC,wC,zZ="buffer",FZ=a(e=>crypto.getRandomValues(e),"yn"),UZ=a(()=>crypto.randomUUID(),"un"),_C,xC,EC,Ti=Th(()=>{ON=Object.create,{getPrototypeOf:RN,defineProperty:o1,getOwnPropertyNames:PN}=Object,LN=Object.prototype.hasOwnProperty,_c=Et((e,t)=>{t.exports=(Ti(),hr(hi)).randomBytes}),xc=Et((e,t)=>{t.exports=(Ti(),hr(hi)).createHash}),Qg=Et((e,t)=>{t.exports=(Ti(),hr(hi)).createHmac}),J_=Et((e,t)=>{t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),hf=Et((e,t)=>{var r=Math.pow(2,30)-1;t.exports=function(n,i){if(typeof n!="number")throw TypeError("Iterations not a number");if(n<0)throw TypeError("Bad iterations");if(typeof i!="number")throw TypeError("Key length not a number");if(i<0||i>r||i!==i)throw TypeError("Bad key length")}}),ff=Et((e,t)=>{var r;globalThis.process&&globalThis.process.browser?r="utf-8":globalThis.process&&globalThis.process.version?(n=parseInt(process.version.split(".")[0].slice(1),10),r=n>=6?"utf-8":"binary"):r="utf-8";var n;t.exports=r}),Jn=Et((e,t)=>{var r=(Bn(),hr(Mn)),n=r.Buffer;function i(o,l){for(var u in o)l[u]=o[u]}a(i,"_"),n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,l,u){return n(o,l,u)}a(s,"Y"),s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,l,u){if(typeof o=="number")throw TypeError("Argument must not be a number");return n(o,l,u)},s.alloc=function(o,l,u){if(typeof o!="number")throw TypeError("Argument must be a number");var c=n(o);return l!==void 0?typeof u=="string"?c.fill(l,u):c.fill(l):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw TypeError("Argument must be a number");return r.SlowBuffer(o)}}),pf=Et((e,t)=>{var r=Jn().Buffer;t.exports=function(n,i,s){if(r.isBuffer(n))return n;if(typeof n=="string")return r.from(n,i);if(ArrayBuffer.isView(n))return r.from(n.buffer);throw TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}}),qg=Et((e,t)=>{var r={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20},n=Qg(),i=Jn().Buffer,s=hf(),o=ff(),l=pf();function u(c,h,d,g,m){s(d,g),c=l(c,o,"Password"),h=l(h,o,"Salt"),m=m||"sha1";var y=i.allocUnsafe(g),x=i.allocUnsafe(h.length+4);h.copy(x,0,0,h.length);for(var A=0,C=r[m],M=Math.ceil(g/C),R=1;R<=M;R++){x.writeUInt32BE(R,h.length);for(var P=n(m,c).update(x).digest(),L=P,z=1;z<d;z++){L=n(m,c).update(L).digest();for(var Z=0;Z<C;Z++)P[Z]^=L[Z]}P.copy(y,A),A+=C}return y}a(u,"J"),t.exports=u}),K_=Et((e,t)=>{var r=Jn().Buffer,n=hf(),i=ff(),s=qg(),o=pf(),l,u=globalThis.crypto&&globalThis.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function d(A){if(globalThis.process&&!globalThis.process.browser||!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(h[A]!==void 0)return h[A];l=l||r.alloc(8);var C=y(l,l,10,128,A).then(function(){return!0}).catch(function(){return!1});return h[A]=C,C}a(d,"f");var g;function m(){return g||(globalThis.process&&globalThis.process.nextTick?g=globalThis.process.nextTick:globalThis.queueMicrotask?g=globalThis.queueMicrotask:globalThis.setImmediate?g=globalThis.setImmediate:g=globalThis.setTimeout,g)}a(m,"M");function y(A,C,M,R,P){return u.importKey("raw",A,{name:"PBKDF2"},!1,["deriveBits"]).then(function(L){return u.deriveBits({name:"PBKDF2",salt:C,iterations:M,hash:{name:P}},L,R<<3)}).then(function(L){return r.from(L)})}a(y,"N");function x(A,C){A.then(function(M){m()(function(){C(null,M)})},function(M){m()(function(){C(M)})})}a(x,"E"),t.exports=function(A,C,M,R,P,L){typeof P=="function"&&(L=P,P=void 0),P=P||"sha1";var z=c[P.toLowerCase()];if(!z||typeof globalThis.Promise!="function"){m()(function(){var Z;try{Z=s(A,C,M,R,P)}catch(Y){return L(Y)}L(null,Z)});return}if(n(M,R),A=o(A,i,"Password"),C=o(C,i,"Salt"),typeof L!="function")throw Error("No callback provided to pbkdf2");x(d(z).then(function(Z){return Z?y(A,C,M,R,z):s(A,C,M,R,P)}),L)}}),ev=Et(e=>{var t=(Ti(),hr(hi)),r=hf(),n=ff(),i=pf();function s(l,u,c,h,d,g){if(r(c,h),l=i(l,n,"Password"),u=i(u,n,"Salt"),typeof d=="function"&&(g=d,d="sha1"),typeof g!="function")throw Error("No callback provided to pbkdf2");return t.pbkdf2(l,u,c,h,d,g)}a(s,"Y");function o(l,u,c,h,d){return r(c,h),l=i(l,n,"Password"),u=i(u,n,"Salt"),d=d||"sha1",t.pbkdf2Sync(l,u,c,h,d)}a(o,"O"),!t.pbkdf2Sync||t.pbkdf2Sync.toString().indexOf("keylen, digest")===-1?(e.pbkdf2Sync=qg(),e.pbkdf2=K_()):(e.pbkdf2Sync=o,e.pbkdf2=s)}),W_=Et(e=>{var t=(Ti(),hr(hi));e.createCipher=e.Cipher=t.createCipher,e.createCipheriv=e.Cipheriv=t.createCipheriv,e.createDecipher=e.Decipher=t.createDecipher,e.createDecipheriv=e.Decipheriv=t.createDecipheriv,e.listCiphers=e.getCiphers=t.getCiphers}),Q_=Et(e=>{var t=(Ti(),hr(hi));e.DiffieHellmanGroup=t.DiffieHellmanGroup,e.createDiffieHellmanGroup=t.createDiffieHellmanGroup,e.getDiffieHellman=t.getDiffieHellman,e.createDiffieHellman=t.createDiffieHellman,e.DiffieHellman=t.DiffieHellman}),q_=Et(e=>{var t=(Ti(),hr(hi));e.createSign=t.createSign,e.Sign=t.Sign,e.createVerify=t.createVerify,e.Verify=t.Verify}),ex=Et((e,t)=>{t.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),Ba=Et((e,t)=>{(function(r,n){function i(f,w){if(!f)throw Error(w||"Assertion failed")}a(i,"_");function s(f,w){f.super_=w;var v=a(function(){},"Z");v.prototype=w.prototype,f.prototype=new v,f.prototype.constructor=f}a(s,"Y");function o(f,w,v){if(o.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((w==="le"||w==="be")&&(v=w,w=10),this._init(f||0,w||10,v||"be"))}a(o,"O"),typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(Bn(),hr(Mn)).Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,w){return f.cmp(w)>0?f:w},o.min=function(f,w){return f.cmp(w)<0?f:w},o.prototype._init=function(f,w,v){if(typeof f=="number")return this._initNumber(f,w,v);if(typeof f=="object")return this._initArray(f,w,v);w==="hex"&&(w=16),i(w===(w|0)&&w>=2&&w<=36),f=f.toString().replace(/\s+/g,"");var _=0;f[0]==="-"&&(_++,this.negative=1),_<f.length&&(w===16?this._parseHex(f,_,v):(this._parseBase(f,w,_),v==="le"&&this._initArray(this.toArray(),w,v)))},o.prototype._initNumber=function(f,w,v){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(i(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),w,v)},o.prototype._initArray=function(f,w,v){if(i(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,T,N=0;if(v==="be")for(_=f.length-1,S=0;_>=0;_-=3)T=f[_]|f[_-1]<<8|f[_-2]<<16,this.words[S]|=T<<N&67108863,this.words[S+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);else if(v==="le")for(_=0,S=0;_<f.length;_+=3)T=f[_]|f[_+1]<<8|f[_+2]<<16,this.words[S]|=T<<N&67108863,this.words[S+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);return this.strip()};function u(f,w){var v=f.charCodeAt(w);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}a(u,"J");function c(f,w,v){var _=u(f,v);return v-1>=w&&(_|=u(f,v-1)<<4),_}a(c,"T"),o.prototype._parseHex=function(f,w,v){this.length=Math.ceil((f.length-w)/6),this.words=Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S=0,T=0,N;if(v==="be")for(_=f.length-1;_>=w;_-=2)N=c(f,w,_)<<S,this.words[T]|=N&67108863,S>=18?(S-=18,T+=1,this.words[T]|=N>>>26):S+=8;else{var k=f.length-w;for(_=k%2===0?w+1:w;_<f.length;_+=2)N=c(f,w,_)<<S,this.words[T]|=N&67108863,S>=18?(S-=18,T+=1,this.words[T]|=N>>>26):S+=8}this.strip()};function h(f,w,v,_){for(var S=0,T=Math.min(f.length,v),N=w;N<T;N++){var k=f.charCodeAt(N)-48;S*=_,k>=49?S+=k-49+10:k>=17?S+=k-17+10:S+=k}return S}a(h,"X"),o.prototype._parseBase=function(f,w,v){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=w)_++;_--,S=S/w|0;for(var T=f.length-v,N=T%_,k=Math.min(T,T-N)+v,p=0,E=v;E<k;E+=_)p=h(f,E,E+_,w),this.imuln(S),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var I=1;for(p=h(f,E,f.length,w),E=0;E<N;E++)I*=w;this.imuln(I),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},o.prototype.copy=function(f){f.words=Array(this.length);for(var w=0;w<this.length;w++)f.words[w]=this.words[w];f.length=this.length,f.negative=this.negative,f.red=this.red},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,w){f=f||10,w=w|0||1;var v;if(f===16||f==="hex"){v="";for(var _=0,S=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<_|S)&16777215).toString(16);S=N>>>24-_&16777215,_+=2,_>=26&&(_-=26,T--),S!==0||T!==this.length-1?v=d[6-k.length]+k+v:v=k+v}for(S!==0&&(v=S.toString(16)+v);v.length%w!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(f===(f|0)&&f>=2&&f<=36){var p=g[f],E=m[f];v="";var I=this.clone();for(I.negative=0;!I.isZero();){var O=I.modn(E).toString(f);I=I.idivn(E),I.isZero()?v=O+v:v=d[p-O.length]+O+v}for(this.isZero()&&(v="0"+v);v.length%w!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(f,w){return i(typeof l<"u"),this.toArrayLike(l,f,w)},o.prototype.toArray=function(f,w){return this.toArrayLike(Array,f,w)},o.prototype.toArrayLike=function(f,w,v){var _=this.byteLength(),S=v||Math.max(1,_);i(_<=S,"byte array longer than desired length"),i(S>0,"Requested array length <= 0"),this.strip();var T=w==="le",N=new f(S),k,p,E=this.clone();if(T){for(p=0;!E.isZero();p++)k=E.andln(255),E.iushrn(8),N[p]=k;for(;p<S;p++)N[p]=0}else{for(p=0;p<S-_;p++)N[p]=0;for(p=0;!E.isZero();p++)k=E.andln(255),E.iushrn(8),N[S-p-1]=k}return N},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var w=f,v=0;return w>=4096&&(v+=13,w>>>=13),w>=64&&(v+=7,w>>>=7),w>=8&&(v+=4,w>>>=4),w>=2&&(v+=2,w>>>=2),v+w},o.prototype._zeroBits=function(f){if(f===0)return 26;var w=f,v=0;return(w&8191)===0&&(v+=13,w>>>=13),(w&127)===0&&(v+=7,w>>>=7),(w&15)===0&&(v+=4,w>>>=4),(w&3)===0&&(v+=2,w>>>=2),(w&1)===0&&v++,v},o.prototype.bitLength=function(){var f=this.words[this.length-1],w=this._countBits(f);return(this.length-1)*26+w};function y(f){for(var w=Array(f.bitLength()),v=0;v<w.length;v++){var _=v/26|0,S=v%26;w[v]=(f.words[_]&1<<S)>>>S}return w}a(y,"N"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,w=0;w<this.length;w++){var v=this._zeroBits(this.words[w]);if(f+=v,v!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]|f.words[w];return this.strip()},o.prototype.ior=function(f){return i((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var w;this.length>f.length?w=f:w=this;for(var v=0;v<w.length;v++)this.words[v]=this.words[v]&f.words[v];return this.length=w.length,this.strip()},o.prototype.iand=function(f){return i((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var w,v;this.length>f.length?(w=this,v=f):(w=f,v=this);for(var _=0;_<v.length;_++)this.words[_]=w.words[_]^v.words[_];if(this!==w)for(;_<w.length;_++)this.words[_]=w.words[_];return this.length=w.length,this.strip()},o.prototype.ixor=function(f){return i((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){i(typeof f=="number"&&f>=0);var w=Math.ceil(f/26)|0,v=f%26;this._expand(w),v>0&&w--;for(var _=0;_<w;_++)this.words[_]=~this.words[_]&67108863;return v>0&&(this.words[_]=~this.words[_]&67108863>>26-v),this.strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,w){i(typeof f=="number"&&f>=0);var v=f/26|0,_=f%26;return this._expand(v+1),w?this.words[v]=this.words[v]|1<<_:this.words[v]=this.words[v]&~(1<<_),this.strip()},o.prototype.iadd=function(f){var w;if(this.negative!==0&&f.negative===0)return this.negative=0,w=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,w=this.isub(f),f.negative=1,w._normSign();var v,_;this.length>f.length?(v=this,_=f):(v=f,_=this);for(var S=0,T=0;T<_.length;T++)w=(v.words[T]|0)+(_.words[T]|0)+S,this.words[T]=w&67108863,S=w>>>26;for(;S!==0&&T<v.length;T++)w=(v.words[T]|0)+S,this.words[T]=w&67108863,S=w>>>26;if(this.length=v.length,S!==0)this.words[this.length]=S,this.length++;else if(v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this},o.prototype.add=function(f){var w;return f.negative!==0&&this.negative===0?(f.negative=0,w=this.sub(f),f.negative^=1,w):f.negative===0&&this.negative!==0?(this.negative=0,w=f.sub(this),this.negative=1,w):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var w=this.iadd(f);return f.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var v=this.cmp(f);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,S;v>0?(_=this,S=f):(_=f,S=this);for(var T=0,N=0;N<S.length;N++)w=(_.words[N]|0)-(S.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;for(;T!==0&&N<_.length;N++)w=(_.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;if(T===0&&N<_.length&&_!==this)for(;N<_.length;N++)this.words[N]=_.words[N];return this.length=Math.max(this.length,N),_!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function x(f,w,v){v.negative=w.negative^f.negative;var _=f.length+w.length|0;v.length=_,_=_-1|0;var S=f.words[0]|0,T=w.words[0]|0,N=S*T,k=N&67108863,p=N/67108864|0;v.words[0]=k;for(var E=1;E<_;E++){for(var I=p>>>26,O=p&67108863,B=Math.min(E,w.length-1),H=Math.max(0,E-f.length+1);H<=B;H++){var G=E-H|0;S=f.words[G]|0,T=w.words[H]|0,N=S*T+O,I+=N/67108864|0,O=N&67108863}v.words[E]=O|0,p=I|0}return p!==0?v.words[E]=p|0:v.length--,v.strip()}a(x,"E");var A=a(function(f,w,v){var _=f.words,S=w.words,T=v.words,N=0,k,p,E,I=_[0]|0,O=I&8191,B=I>>>13,H=_[1]|0,G=H&8191,J=H>>>13,ce=_[2]|0,ne=ce&8191,se=ce>>>13,Ye=_[3]|0,Te=Ye&8191,ye=Ye>>>13,Me=_[4]|0,X=Me&8191,oe=Me>>>13,ee=_[5]|0,te=ee&8191,fe=ee>>>13,xe=_[6]|0,Re=xe&8191,de=xe>>>13,$=_[7]|0,q=$&8191,K=$>>>13,le=_[8]|0,ue=le&8191,ie=le>>>13,et=_[9]|0,Pe=et&8191,Ke=et>>>13,Ct=S[0]|0,Ce=Ct&8191,Qe=Ct>>>13,_e=S[1]|0,Ie=_e&8191,Ge=_e>>>13,Je=S[2]|0,Fe=Je&8191,rt=Je>>>13,Rt=S[3]|0,We=Rt&8191,Oe=Rt>>>13,tt=S[4]|0,Be=tt&8191,nt=tt>>>13,Tt=S[5]|0,pe=Tt&8191,we=Tt>>>13,$e=S[6]|0,De=$e&8191,ze=$e>>>13,ct=S[7]|0,me=ct&8191,je=ct>>>13,lt=S[8]|0,Ne=lt&8191,ut=lt>>>13,Ut=S[9]|0,st=Ut&8191,mt=Ut>>>13;v.negative=f.negative^w.negative,v.length=19,k=Math.imul(O,Ce),p=Math.imul(O,Qe),p=p+Math.imul(B,Ce)|0,E=Math.imul(B,Qe);var Ze=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,k=Math.imul(G,Ce),p=Math.imul(G,Qe),p=p+Math.imul(J,Ce)|0,E=Math.imul(J,Qe),k=k+Math.imul(O,Ie)|0,p=p+Math.imul(O,Ge)|0,p=p+Math.imul(B,Ie)|0,E=E+Math.imul(B,Ge)|0;var at=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(at>>>26)|0,at&=67108863,k=Math.imul(ne,Ce),p=Math.imul(ne,Qe),p=p+Math.imul(se,Ce)|0,E=Math.imul(se,Qe),k=k+Math.imul(G,Ie)|0,p=p+Math.imul(G,Ge)|0,p=p+Math.imul(J,Ie)|0,E=E+Math.imul(J,Ge)|0,k=k+Math.imul(O,Fe)|0,p=p+Math.imul(O,rt)|0,p=p+Math.imul(B,Fe)|0,E=E+Math.imul(B,rt)|0;var Dt=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,k=Math.imul(Te,Ce),p=Math.imul(Te,Qe),p=p+Math.imul(ye,Ce)|0,E=Math.imul(ye,Qe),k=k+Math.imul(ne,Ie)|0,p=p+Math.imul(ne,Ge)|0,p=p+Math.imul(se,Ie)|0,E=E+Math.imul(se,Ge)|0,k=k+Math.imul(G,Fe)|0,p=p+Math.imul(G,rt)|0,p=p+Math.imul(J,Fe)|0,E=E+Math.imul(J,rt)|0,k=k+Math.imul(O,We)|0,p=p+Math.imul(O,Oe)|0,p=p+Math.imul(B,We)|0,E=E+Math.imul(B,Oe)|0;var rr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(rr>>>26)|0,rr&=67108863,k=Math.imul(X,Ce),p=Math.imul(X,Qe),p=p+Math.imul(oe,Ce)|0,E=Math.imul(oe,Qe),k=k+Math.imul(Te,Ie)|0,p=p+Math.imul(Te,Ge)|0,p=p+Math.imul(ye,Ie)|0,E=E+Math.imul(ye,Ge)|0,k=k+Math.imul(ne,Fe)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(se,Fe)|0,E=E+Math.imul(se,rt)|0,k=k+Math.imul(G,We)|0,p=p+Math.imul(G,Oe)|0,p=p+Math.imul(J,We)|0,E=E+Math.imul(J,Oe)|0,k=k+Math.imul(O,Be)|0,p=p+Math.imul(O,nt)|0,p=p+Math.imul(B,Be)|0,E=E+Math.imul(B,nt)|0;var Yt=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,k=Math.imul(te,Ce),p=Math.imul(te,Qe),p=p+Math.imul(fe,Ce)|0,E=Math.imul(fe,Qe),k=k+Math.imul(X,Ie)|0,p=p+Math.imul(X,Ge)|0,p=p+Math.imul(oe,Ie)|0,E=E+Math.imul(oe,Ge)|0,k=k+Math.imul(Te,Fe)|0,p=p+Math.imul(Te,rt)|0,p=p+Math.imul(ye,Fe)|0,E=E+Math.imul(ye,rt)|0,k=k+Math.imul(ne,We)|0,p=p+Math.imul(ne,Oe)|0,p=p+Math.imul(se,We)|0,E=E+Math.imul(se,Oe)|0,k=k+Math.imul(G,Be)|0,p=p+Math.imul(G,nt)|0,p=p+Math.imul(J,Be)|0,E=E+Math.imul(J,nt)|0,k=k+Math.imul(O,pe)|0,p=p+Math.imul(O,we)|0,p=p+Math.imul(B,pe)|0,E=E+Math.imul(B,we)|0;var yr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(yr>>>26)|0,yr&=67108863,k=Math.imul(Re,Ce),p=Math.imul(Re,Qe),p=p+Math.imul(de,Ce)|0,E=Math.imul(de,Qe),k=k+Math.imul(te,Ie)|0,p=p+Math.imul(te,Ge)|0,p=p+Math.imul(fe,Ie)|0,E=E+Math.imul(fe,Ge)|0,k=k+Math.imul(X,Fe)|0,p=p+Math.imul(X,rt)|0,p=p+Math.imul(oe,Fe)|0,E=E+Math.imul(oe,rt)|0,k=k+Math.imul(Te,We)|0,p=p+Math.imul(Te,Oe)|0,p=p+Math.imul(ye,We)|0,E=E+Math.imul(ye,Oe)|0,k=k+Math.imul(ne,Be)|0,p=p+Math.imul(ne,nt)|0,p=p+Math.imul(se,Be)|0,E=E+Math.imul(se,nt)|0,k=k+Math.imul(G,pe)|0,p=p+Math.imul(G,we)|0,p=p+Math.imul(J,pe)|0,E=E+Math.imul(J,we)|0,k=k+Math.imul(O,De)|0,p=p+Math.imul(O,ze)|0,p=p+Math.imul(B,De)|0,E=E+Math.imul(B,ze)|0;var Pr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,k=Math.imul(q,Ce),p=Math.imul(q,Qe),p=p+Math.imul(K,Ce)|0,E=Math.imul(K,Qe),k=k+Math.imul(Re,Ie)|0,p=p+Math.imul(Re,Ge)|0,p=p+Math.imul(de,Ie)|0,E=E+Math.imul(de,Ge)|0,k=k+Math.imul(te,Fe)|0,p=p+Math.imul(te,rt)|0,p=p+Math.imul(fe,Fe)|0,E=E+Math.imul(fe,rt)|0,k=k+Math.imul(X,We)|0,p=p+Math.imul(X,Oe)|0,p=p+Math.imul(oe,We)|0,E=E+Math.imul(oe,Oe)|0,k=k+Math.imul(Te,Be)|0,p=p+Math.imul(Te,nt)|0,p=p+Math.imul(ye,Be)|0,E=E+Math.imul(ye,nt)|0,k=k+Math.imul(ne,pe)|0,p=p+Math.imul(ne,we)|0,p=p+Math.imul(se,pe)|0,E=E+Math.imul(se,we)|0,k=k+Math.imul(G,De)|0,p=p+Math.imul(G,ze)|0,p=p+Math.imul(J,De)|0,E=E+Math.imul(J,ze)|0,k=k+Math.imul(O,me)|0,p=p+Math.imul(O,je)|0,p=p+Math.imul(B,me)|0,E=E+Math.imul(B,je)|0;var wr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(wr>>>26)|0,wr&=67108863,k=Math.imul(ue,Ce),p=Math.imul(ue,Qe),p=p+Math.imul(ie,Ce)|0,E=Math.imul(ie,Qe),k=k+Math.imul(q,Ie)|0,p=p+Math.imul(q,Ge)|0,p=p+Math.imul(K,Ie)|0,E=E+Math.imul(K,Ge)|0,k=k+Math.imul(Re,Fe)|0,p=p+Math.imul(Re,rt)|0,p=p+Math.imul(de,Fe)|0,E=E+Math.imul(de,rt)|0,k=k+Math.imul(te,We)|0,p=p+Math.imul(te,Oe)|0,p=p+Math.imul(fe,We)|0,E=E+Math.imul(fe,Oe)|0,k=k+Math.imul(X,Be)|0,p=p+Math.imul(X,nt)|0,p=p+Math.imul(oe,Be)|0,E=E+Math.imul(oe,nt)|0,k=k+Math.imul(Te,pe)|0,p=p+Math.imul(Te,we)|0,p=p+Math.imul(ye,pe)|0,E=E+Math.imul(ye,we)|0,k=k+Math.imul(ne,De)|0,p=p+Math.imul(ne,ze)|0,p=p+Math.imul(se,De)|0,E=E+Math.imul(se,ze)|0,k=k+Math.imul(G,me)|0,p=p+Math.imul(G,je)|0,p=p+Math.imul(J,me)|0,E=E+Math.imul(J,je)|0,k=k+Math.imul(O,Ne)|0,p=p+Math.imul(O,ut)|0,p=p+Math.imul(B,Ne)|0,E=E+Math.imul(B,ut)|0;var pr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(pr>>>26)|0,pr&=67108863,k=Math.imul(Pe,Ce),p=Math.imul(Pe,Qe),p=p+Math.imul(Ke,Ce)|0,E=Math.imul(Ke,Qe),k=k+Math.imul(ue,Ie)|0,p=p+Math.imul(ue,Ge)|0,p=p+Math.imul(ie,Ie)|0,E=E+Math.imul(ie,Ge)|0,k=k+Math.imul(q,Fe)|0,p=p+Math.imul(q,rt)|0,p=p+Math.imul(K,Fe)|0,E=E+Math.imul(K,rt)|0,k=k+Math.imul(Re,We)|0,p=p+Math.imul(Re,Oe)|0,p=p+Math.imul(de,We)|0,E=E+Math.imul(de,Oe)|0,k=k+Math.imul(te,Be)|0,p=p+Math.imul(te,nt)|0,p=p+Math.imul(fe,Be)|0,E=E+Math.imul(fe,nt)|0,k=k+Math.imul(X,pe)|0,p=p+Math.imul(X,we)|0,p=p+Math.imul(oe,pe)|0,E=E+Math.imul(oe,we)|0,k=k+Math.imul(Te,De)|0,p=p+Math.imul(Te,ze)|0,p=p+Math.imul(ye,De)|0,E=E+Math.imul(ye,ze)|0,k=k+Math.imul(ne,me)|0,p=p+Math.imul(ne,je)|0,p=p+Math.imul(se,me)|0,E=E+Math.imul(se,je)|0,k=k+Math.imul(G,Ne)|0,p=p+Math.imul(G,ut)|0,p=p+Math.imul(J,Ne)|0,E=E+Math.imul(J,ut)|0,k=k+Math.imul(O,st)|0,p=p+Math.imul(O,mt)|0,p=p+Math.imul(B,st)|0,E=E+Math.imul(B,mt)|0;var Gr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,k=Math.imul(Pe,Ie),p=Math.imul(Pe,Ge),p=p+Math.imul(Ke,Ie)|0,E=Math.imul(Ke,Ge),k=k+Math.imul(ue,Fe)|0,p=p+Math.imul(ue,rt)|0,p=p+Math.imul(ie,Fe)|0,E=E+Math.imul(ie,rt)|0,k=k+Math.imul(q,We)|0,p=p+Math.imul(q,Oe)|0,p=p+Math.imul(K,We)|0,E=E+Math.imul(K,Oe)|0,k=k+Math.imul(Re,Be)|0,p=p+Math.imul(Re,nt)|0,p=p+Math.imul(de,Be)|0,E=E+Math.imul(de,nt)|0,k=k+Math.imul(te,pe)|0,p=p+Math.imul(te,we)|0,p=p+Math.imul(fe,pe)|0,E=E+Math.imul(fe,we)|0,k=k+Math.imul(X,De)|0,p=p+Math.imul(X,ze)|0,p=p+Math.imul(oe,De)|0,E=E+Math.imul(oe,ze)|0,k=k+Math.imul(Te,me)|0,p=p+Math.imul(Te,je)|0,p=p+Math.imul(ye,me)|0,E=E+Math.imul(ye,je)|0,k=k+Math.imul(ne,Ne)|0,p=p+Math.imul(ne,ut)|0,p=p+Math.imul(se,Ne)|0,E=E+Math.imul(se,ut)|0,k=k+Math.imul(G,st)|0,p=p+Math.imul(G,mt)|0,p=p+Math.imul(J,st)|0,E=E+Math.imul(J,mt)|0;var Zr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,k=Math.imul(Pe,Fe),p=Math.imul(Pe,rt),p=p+Math.imul(Ke,Fe)|0,E=Math.imul(Ke,rt),k=k+Math.imul(ue,We)|0,p=p+Math.imul(ue,Oe)|0,p=p+Math.imul(ie,We)|0,E=E+Math.imul(ie,Oe)|0,k=k+Math.imul(q,Be)|0,p=p+Math.imul(q,nt)|0,p=p+Math.imul(K,Be)|0,E=E+Math.imul(K,nt)|0,k=k+Math.imul(Re,pe)|0,p=p+Math.imul(Re,we)|0,p=p+Math.imul(de,pe)|0,E=E+Math.imul(de,we)|0,k=k+Math.imul(te,De)|0,p=p+Math.imul(te,ze)|0,p=p+Math.imul(fe,De)|0,E=E+Math.imul(fe,ze)|0,k=k+Math.imul(X,me)|0,p=p+Math.imul(X,je)|0,p=p+Math.imul(oe,me)|0,E=E+Math.imul(oe,je)|0,k=k+Math.imul(Te,Ne)|0,p=p+Math.imul(Te,ut)|0,p=p+Math.imul(ye,Ne)|0,E=E+Math.imul(ye,ut)|0,k=k+Math.imul(ne,st)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(se,st)|0,E=E+Math.imul(se,mt)|0;var Nr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,k=Math.imul(Pe,We),p=Math.imul(Pe,Oe),p=p+Math.imul(Ke,We)|0,E=Math.imul(Ke,Oe),k=k+Math.imul(ue,Be)|0,p=p+Math.imul(ue,nt)|0,p=p+Math.imul(ie,Be)|0,E=E+Math.imul(ie,nt)|0,k=k+Math.imul(q,pe)|0,p=p+Math.imul(q,we)|0,p=p+Math.imul(K,pe)|0,E=E+Math.imul(K,we)|0,k=k+Math.imul(Re,De)|0,p=p+Math.imul(Re,ze)|0,p=p+Math.imul(de,De)|0,E=E+Math.imul(de,ze)|0,k=k+Math.imul(te,me)|0,p=p+Math.imul(te,je)|0,p=p+Math.imul(fe,me)|0,E=E+Math.imul(fe,je)|0,k=k+Math.imul(X,Ne)|0,p=p+Math.imul(X,ut)|0,p=p+Math.imul(oe,Ne)|0,E=E+Math.imul(oe,ut)|0,k=k+Math.imul(Te,st)|0,p=p+Math.imul(Te,mt)|0,p=p+Math.imul(ye,st)|0,E=E+Math.imul(ye,mt)|0;var Fr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,k=Math.imul(Pe,Be),p=Math.imul(Pe,nt),p=p+Math.imul(Ke,Be)|0,E=Math.imul(Ke,nt),k=k+Math.imul(ue,pe)|0,p=p+Math.imul(ue,we)|0,p=p+Math.imul(ie,pe)|0,E=E+Math.imul(ie,we)|0,k=k+Math.imul(q,De)|0,p=p+Math.imul(q,ze)|0,p=p+Math.imul(K,De)|0,E=E+Math.imul(K,ze)|0,k=k+Math.imul(Re,me)|0,p=p+Math.imul(Re,je)|0,p=p+Math.imul(de,me)|0,E=E+Math.imul(de,je)|0,k=k+Math.imul(te,Ne)|0,p=p+Math.imul(te,ut)|0,p=p+Math.imul(fe,Ne)|0,E=E+Math.imul(fe,ut)|0,k=k+Math.imul(X,st)|0,p=p+Math.imul(X,mt)|0,p=p+Math.imul(oe,st)|0,E=E+Math.imul(oe,mt)|0;var Sr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,k=Math.imul(Pe,pe),p=Math.imul(Pe,we),p=p+Math.imul(Ke,pe)|0,E=Math.imul(Ke,we),k=k+Math.imul(ue,De)|0,p=p+Math.imul(ue,ze)|0,p=p+Math.imul(ie,De)|0,E=E+Math.imul(ie,ze)|0,k=k+Math.imul(q,me)|0,p=p+Math.imul(q,je)|0,p=p+Math.imul(K,me)|0,E=E+Math.imul(K,je)|0,k=k+Math.imul(Re,Ne)|0,p=p+Math.imul(Re,ut)|0,p=p+Math.imul(de,Ne)|0,E=E+Math.imul(de,ut)|0,k=k+Math.imul(te,st)|0,p=p+Math.imul(te,mt)|0,p=p+Math.imul(fe,st)|0,E=E+Math.imul(fe,mt)|0;var Cr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,k=Math.imul(Pe,De),p=Math.imul(Pe,ze),p=p+Math.imul(Ke,De)|0,E=Math.imul(Ke,ze),k=k+Math.imul(ue,me)|0,p=p+Math.imul(ue,je)|0,p=p+Math.imul(ie,me)|0,E=E+Math.imul(ie,je)|0,k=k+Math.imul(q,Ne)|0,p=p+Math.imul(q,ut)|0,p=p+Math.imul(K,Ne)|0,E=E+Math.imul(K,ut)|0,k=k+Math.imul(Re,st)|0,p=p+Math.imul(Re,mt)|0,p=p+Math.imul(de,st)|0,E=E+Math.imul(de,mt)|0;var Ur=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,k=Math.imul(Pe,me),p=Math.imul(Pe,je),p=p+Math.imul(Ke,me)|0,E=Math.imul(Ke,je),k=k+Math.imul(ue,Ne)|0,p=p+Math.imul(ue,ut)|0,p=p+Math.imul(ie,Ne)|0,E=E+Math.imul(ie,ut)|0,k=k+Math.imul(q,st)|0,p=p+Math.imul(q,mt)|0,p=p+Math.imul(K,st)|0,E=E+Math.imul(K,mt)|0;var $r=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+($r>>>26)|0,$r&=67108863,k=Math.imul(Pe,Ne),p=Math.imul(Pe,ut),p=p+Math.imul(Ke,Ne)|0,E=Math.imul(Ke,ut),k=k+Math.imul(ue,st)|0,p=p+Math.imul(ue,mt)|0,p=p+Math.imul(ie,st)|0,E=E+Math.imul(ie,mt)|0;var Xr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,k=Math.imul(Pe,st),p=Math.imul(Pe,mt),p=p+Math.imul(Ke,st)|0,E=Math.imul(Ke,mt);var Jr=(N+k|0)+((p&8191)<<13)|0;return N=(E+(p>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,T[0]=Ze,T[1]=at,T[2]=Dt,T[3]=rr,T[4]=Yt,T[5]=yr,T[6]=Pr,T[7]=wr,T[8]=pr,T[9]=Gr,T[10]=Zr,T[11]=Nr,T[12]=Fr,T[13]=Sr,T[14]=Cr,T[15]=Ur,T[16]=$r,T[17]=Xr,T[18]=Jr,N!==0&&(T[19]=N,v.length++),v},"h");Math.imul||(A=x);function C(f,w,v){v.negative=w.negative^f.negative,v.length=f.length+w.length;for(var _=0,S=0,T=0;T<v.length-1;T++){var N=S;S=0;for(var k=_&67108863,p=Math.min(T,w.length-1),E=Math.max(0,T-f.length+1);E<=p;E++){var I=T-E,O=f.words[I]|0,B=w.words[E]|0,H=O*B,G=H&67108863;N=N+(H/67108864|0)|0,G=G+k|0,k=G&67108863,N=N+(G>>>26)|0,S+=N>>>26,N&=67108863}v.words[T]=k,_=N,N=S}return _!==0?v.words[T]=_:v.length--,v.strip()}a(C,"I");function M(f,w,v){var _=new R;return _.mulp(f,w,v)}a(M,"D"),o.prototype.mulTo=function(f,w){var v,_=this.length+f.length;return this.length===10&&f.length===10?v=A(this,f,w):_<63?v=x(this,f,w):_<1024?v=C(this,f,w):v=M(this,f,w),v};function R(f,w){this.x=f,this.y=w}a(R,"g"),R.prototype.makeRBT=function(f){for(var w=Array(f),v=o.prototype._countBits(f)-1,_=0;_<f;_++)w[_]=this.revBin(_,v,f);return w},R.prototype.revBin=function(f,w,v){if(f===0||f===v-1)return f;for(var _=0,S=0;S<w;S++)_|=(f&1)<<w-S-1,f>>=1;return _},R.prototype.permute=function(f,w,v,_,S,T){for(var N=0;N<T;N++)_[N]=w[f[N]],S[N]=v[f[N]]},R.prototype.transform=function(f,w,v,_,S,T){this.permute(T,f,w,v,_,S);for(var N=1;N<S;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),E=Math.sin(2*Math.PI/k),I=0;I<S;I+=k)for(var O=p,B=E,H=0;H<N;H++){var G=v[I+H],J=_[I+H],ce=v[I+H+N],ne=_[I+H+N],se=O*ce-B*ne;ne=O*ne+B*ce,ce=se,v[I+H]=G+ce,_[I+H]=J+ne,v[I+H+N]=G-ce,_[I+H+N]=J-ne,H!==k&&(se=p*O-E*B,B=p*B+E*O,O=se)}},R.prototype.guessLen13b=function(f,w){var v=Math.max(w,f)|1,_=v&1,S=0;for(v=v/2|0;v;v=v>>>1)S++;return 1<<S+1+_},R.prototype.conjugate=function(f,w,v){if(!(v<=1))for(var _=0;_<v/2;_++){var S=f[_];f[_]=f[v-_-1],f[v-_-1]=S,S=w[_],w[_]=-w[v-_-1],w[v-_-1]=-S}},R.prototype.normalize13b=function(f,w){for(var v=0,_=0;_<w/2;_++){var S=Math.round(f[2*_+1]/w)*8192+Math.round(f[2*_]/w)+v;f[_]=S&67108863,S<67108864?v=0:v=S/67108864|0}return f},R.prototype.convert13b=function(f,w,v,_){for(var S=0,T=0;T<w;T++)S=S+(f[T]|0),v[2*T]=S&8191,S=S>>>13,v[2*T+1]=S&8191,S=S>>>13;for(T=2*w;T<_;++T)v[T]=0;i(S===0),i((S&-8192)===0)},R.prototype.stub=function(f){for(var w=Array(f),v=0;v<f;v++)w[v]=0;return w},R.prototype.mulp=function(f,w,v){var _=2*this.guessLen13b(f.length,w.length),S=this.makeRBT(_),T=this.stub(_),N=Array(_),k=Array(_),p=Array(_),E=Array(_),I=Array(_),O=Array(_),B=v.words;B.length=_,this.convert13b(f.words,f.length,N,_),this.convert13b(w.words,w.length,E,_),this.transform(N,T,k,p,_,S),this.transform(E,T,I,O,_,S);for(var H=0;H<_;H++){var G=k[H]*I[H]-p[H]*O[H];p[H]=k[H]*O[H]+p[H]*I[H],k[H]=G}return this.conjugate(k,p,_),this.transform(k,p,B,T,_,S),this.conjugate(B,T,_),this.normalize13b(B,_),v.negative=f.negative^w.negative,v.length=f.length+w.length,v.strip()},o.prototype.mul=function(f){var w=new o(null);return w.words=Array(this.length+f.length),this.mulTo(f,w)},o.prototype.mulf=function(f){var w=new o(null);return w.words=Array(this.length+f.length),M(this,f,w)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){i(typeof f=="number"),i(f<67108864);for(var w=0,v=0;v<this.length;v++){var _=(this.words[v]|0)*f,S=(_&67108863)+(w&67108863);w>>=26,w+=_/67108864|0,w+=S>>>26,this.words[v]=S&67108863}return w!==0&&(this.words[v]=w,this.length++),this.length=f===0?1:this.length,this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var w=y(f);if(w.length===0)return new o(1);for(var v=this,_=0;_<w.length&&w[_]===0;_++,v=v.sqr());if(++_<w.length)for(var S=v.sqr();_<w.length;_++,S=S.sqr())w[_]!==0&&(v=v.mul(S));return v},o.prototype.iushln=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26,_=67108863>>>26-w<<26-w,S;if(w!==0){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&_,k=(this.words[S]|0)-N<<w;this.words[S]=k|T,T=N>>>26-w}T&&(this.words[S]=T,this.length++)}if(v!==0){for(S=this.length-1;S>=0;S--)this.words[S+v]=this.words[S];for(S=0;S<v;S++)this.words[S]=0;this.length+=v}return this.strip()},o.prototype.ishln=function(f){return i(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,w,v){i(typeof f=="number"&&f>=0);var _;w?_=(w-w%26)/26:_=0;var S=f%26,T=Math.min((f-S)/26,this.length),N=67108863^67108863>>>S<<S,k=v;if(_-=T,_=Math.max(0,_),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var E=0;for(p=this.length-1;p>=0&&(E!==0||p>=_);p--){var I=this.words[p]|0;this.words[p]=E<<26-S|I>>>S,E=I&N}return k&&E!==0&&(k.words[k.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(f,w,v){return i(this.negative===0),this.iushrn(f,w,v)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26,_=1<<w;if(this.length<=v)return!1;var S=this.words[v];return!!(S&_)},o.prototype.imaskn=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(w!==0&&v++,this.length=Math.min(v,this.length),w!==0){var _=67108863^67108863>>>w<<w;this.words[this.length-1]&=_}return this.strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return i(typeof f=="number"),i(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(f){if(i(typeof f=="number"),i(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,w,v){var _=f.length+v,S;this._expand(_);var T,N=0;for(S=0;S<f.length;S++){T=(this.words[S+v]|0)+N;var k=(f.words[S]|0)*w;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[S+v]=T&67108863}for(;S<this.length-v;S++)T=(this.words[S+v]|0)+N,N=T>>26,this.words[S+v]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,S=0;S<this.length;S++)T=-(this.words[S]|0)+N,N=T>>26,this.words[S]=T&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(f,w){var v=this.length-f.length,_=this.clone(),S=f,T=S.words[S.length-1]|0,N=this._countBits(T);v=26-N,v!==0&&(S=S.ushln(v),_.iushln(v),T=S.words[S.length-1]|0);var k=_.length-S.length,p;if(w!=="mod"){p=new o(null),p.length=k+1,p.words=Array(p.length);for(var E=0;E<p.length;E++)p.words[E]=0}var I=_.clone()._ishlnsubmul(S,1,k);I.negative===0&&(_=I,p&&(p.words[k]=1));for(var O=k-1;O>=0;O--){var B=(_.words[S.length+O]|0)*67108864+(_.words[S.length+O-1]|0);for(B=Math.min(B/T|0,67108863),_._ishlnsubmul(S,B,O);_.negative!==0;)B--,_.negative=0,_._ishlnsubmul(S,1,O),!_.isZero()&&(_.negative^=1);p&&(p.words[O]=B)}return p&&p.strip(),_.strip(),w!=="div"&&v!==0&&_.iushrn(v),{div:p||null,mod:_}},o.prototype.divmod=function(f,w,v){if(i(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var _,S,T;return this.negative!==0&&f.negative===0?(T=this.neg().divmod(f,w),w!=="mod"&&(_=T.div.neg()),w!=="div"&&(S=T.mod.neg(),v&&S.negative!==0&&S.iadd(f)),{div:_,mod:S}):this.negative===0&&f.negative!==0?(T=this.divmod(f.neg(),w),w!=="mod"&&(_=T.div.neg()),{div:_,mod:T.mod}):(this.negative&f.negative)!==0?(T=this.neg().divmod(f.neg(),w),w!=="div"&&(S=T.mod.neg(),v&&S.negative!==0&&S.isub(f)),{div:T.div,mod:S}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?w==="div"?{div:this.divn(f.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modn(f.words[0]))}:this._wordDiv(f,w)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var w=this.divmod(f);if(w.mod.isZero())return w.div;var v=w.div.negative!==0?w.mod.isub(f):w.mod,_=f.ushrn(1),S=f.andln(1),T=v.cmp(_);return T<0||S===1&&T===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modn=function(f){i(f<=67108863);for(var w=67108864%f,v=0,_=this.length-1;_>=0;_--)v=(w*v+(this.words[_]|0))%f;return v},o.prototype.idivn=function(f){i(f<=67108863);for(var w=0,v=this.length-1;v>=0;v--){var _=(this.words[v]|0)+w*67108864;this.words[v]=_/f|0,w=_%f}return this.strip()},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){i(f.negative===0),i(!f.isZero());var w=this,v=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var _=new o(1),S=new o(0),T=new o(0),N=new o(1),k=0;w.isEven()&&v.isEven();)w.iushrn(1),v.iushrn(1),++k;for(var p=v.clone(),E=w.clone();!w.isZero();){for(var I=0,O=1;(w.words[0]&O)===0&&I<26;++I,O<<=1);if(I>0)for(w.iushrn(I);I-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(p),S.isub(E)),_.iushrn(1),S.iushrn(1);for(var B=0,H=1;(v.words[0]&H)===0&&B<26;++B,H<<=1);if(B>0)for(v.iushrn(B);B-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(E)),T.iushrn(1),N.iushrn(1);w.cmp(v)>=0?(w.isub(v),_.isub(T),S.isub(N)):(v.isub(w),T.isub(_),N.isub(S))}return{a:T,b:N,gcd:v.iushln(k)}},o.prototype._invmp=function(f){i(f.negative===0),i(!f.isZero());var w=this,v=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var _=new o(1),S=new o(0),T=v.clone();w.cmpn(1)>0&&v.cmpn(1)>0;){for(var N=0,k=1;(w.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(w.iushrn(N);N-- >0;)_.isOdd()&&_.iadd(T),_.iushrn(1);for(var p=0,E=1;(v.words[0]&E)===0&&p<26;++p,E<<=1);if(p>0)for(v.iushrn(p);p-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);w.cmp(v)>=0?(w.isub(v),_.isub(S)):(v.isub(w),S.isub(_))}var I;return w.cmpn(1)===0?I=_:I=S,I.cmpn(0)<0&&I.iadd(f),I},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var w=this.clone(),v=f.clone();w.negative=0,v.negative=0;for(var _=0;w.isEven()&&v.isEven();_++)w.iushrn(1),v.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;v.isEven();)v.iushrn(1);var S=w.cmp(v);if(S<0){var T=w;w=v,v=T}else if(S===0||v.cmpn(1)===0)break;w.isub(v)}while(!0);return v.iushln(_)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){i(typeof f=="number");var w=f%26,v=(f-w)/26,_=1<<w;if(this.length<=v)return this._expand(v+1),this.words[v]|=_,this;for(var S=_,T=v;S!==0&&T<this.length;T++){var N=this.words[T]|0;N+=S,S=N>>>26,N&=67108863,this.words[T]=N}return S!==0&&(this.words[T]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var w=f<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var v;if(this.length>1)v=1;else{w&&(f=-f),i(f<=67108863,"Number is too big");var _=this.words[0]|0;v=_===f?0:_<f?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var w=this.ucmp(f);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var w=0,v=this.length-1;v>=0;v--){var _=this.words[v]|0,S=f.words[v]|0;if(_!==S){_<S?w=-1:_>S&&(w=1);break}}return w},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new F(f)},o.prototype.toRed=function(f){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return i(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return i(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var P={k256:null,p224:null,p192:null,p25519:null};function L(f,w){this.name=f,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(L,"y"),L.prototype._tmp=function(){var f=new o(null);return f.words=Array(Math.ceil(this.n/13)),f},L.prototype.ireduce=function(f){var w=f,v;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),v=w.bitLength();while(v>this.n);var _=v<this.n?-1:w.ucmp(this.p);return _===0?(w.words[0]=0,w.length=1):_>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},L.prototype.split=function(f,w){f.iushrn(this.n,0,w)},L.prototype.imulK=function(f){return f.imul(this.k)};function z(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(z,"p"),s(z,L),z.prototype.split=function(f,w){for(var v=4194303,_=Math.min(f.length,9),S=0;S<_;S++)w.words[S]=f.words[S];if(w.length=_,f.length<=9){f.words[0]=0,f.length=1;return}var T=f.words[9];for(w.words[w.length++]=T&v,S=10;S<f.length;S++){var N=f.words[S]|0;f.words[S-10]=(N&v)<<4|T>>>22,T=N}T>>>=22,f.words[S-10]=T,T===0&&f.length>10?f.length-=10:f.length-=9},z.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var w=0,v=0;v<f.length;v++){var _=f.words[v]|0;w+=_*977,f.words[v]=w&67108863,w=_*64+(w/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Z(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Z,"n"),s(Z,L);function Y(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Y,"s"),s(Y,L);function ae(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(ae,"q$"),s(ae,L),ae.prototype.imulK=function(f){for(var w=0,v=0;v<f.length;v++){var _=(f.words[v]|0)*19+w,S=_&67108863;_>>>=26,f.words[v]=S,w=_}return w!==0&&(f.words[f.length++]=w),f},o._prime=function(f){if(P[f])return P[f];var w;if(f==="k256")w=new z;else if(f==="p224")w=new Z;else if(f==="p192")w=new Y;else if(f==="p25519")w=new ae;else throw Error("Unknown prime "+f);return P[f]=w,w};function F(f){if(typeof f=="string"){var w=o._prime(f);this.m=w.p,this.prime=w}else i(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}a(F,"c"),F.prototype._verify1=function(f){i(f.negative===0,"red works only with positives"),i(f.red,"red works only with red numbers")},F.prototype._verify2=function(f,w){i((f.negative|w.negative)===0,"red works only with positives"),i(f.red&&f.red===w.red,"red works only with red numbers")},F.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},F.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},F.prototype.add=function(f,w){this._verify2(f,w);var v=f.add(w);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},F.prototype.iadd=function(f,w){this._verify2(f,w);var v=f.iadd(w);return v.cmp(this.m)>=0&&v.isub(this.m),v},F.prototype.sub=function(f,w){this._verify2(f,w);var v=f.sub(w);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},F.prototype.isub=function(f,w){this._verify2(f,w);var v=f.isub(w);return v.cmpn(0)<0&&v.iadd(this.m),v},F.prototype.shl=function(f,w){return this._verify1(f),this.imod(f.ushln(w))},F.prototype.imul=function(f,w){return this._verify2(f,w),this.imod(f.imul(w))},F.prototype.mul=function(f,w){return this._verify2(f,w),this.imod(f.mul(w))},F.prototype.isqr=function(f){return this.imul(f,f.clone())},F.prototype.sqr=function(f){return this.mul(f,f)},F.prototype.sqrt=function(f){if(f.isZero())return f.clone();var w=this.m.andln(3);if(i(w%2===1),w===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(f,v)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);i(!_.isZero());var T=new o(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var E=this.pow(p,_),I=this.pow(f,_.addn(1).iushrn(1)),O=this.pow(f,_),B=S;O.cmp(T)!==0;){for(var H=O,G=0;H.cmp(T)!==0;G++)H=H.redSqr();i(G<B);var J=this.pow(E,new o(1).iushln(B-G-1));I=I.redMul(J),E=J.redSqr(),O=O.redMul(E),B=G}return I},F.prototype.invm=function(f){var w=f._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},F.prototype.pow=function(f,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return f.clone();var v=4,_=Array(1<<v);_[0]=new o(1).toRed(this),_[1]=f;for(var S=2;S<_.length;S++)_[S]=this.mul(_[S-1],f);var T=_[0],N=0,k=0,p=w.bitLength()%26;for(p===0&&(p=26),S=w.length-1;S>=0;S--){for(var E=w.words[S],I=p-1;I>=0;I--){var O=E>>I&1;if(T!==_[0]&&(T=this.sqr(T)),O===0&&N===0){k=0;continue}N<<=1,N|=O,k++,!(k!==v&&(S!==0||I!==0))&&(T=this.mul(T,_[N]),k=0,N=0)}p=26}return T},F.prototype.convertTo=function(f){var w=f.umod(this.m);return w===f?w.clone():w},F.prototype.convertFrom=function(f){var w=f.clone();return w.red=null,w},o.mont=function(f){return new W(f)};function W(f){F.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(W,"U"),s(W,F),W.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},W.prototype.convertFrom=function(f){var w=this.imod(f.mul(this.rinv));return w.red=null,w},W.prototype.imul=function(f,w){if(f.isZero()||w.isZero())return f.words[0]=0,f.length=1,f;var v=f.imul(w),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(_).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},W.prototype.mul=function(f,w){if(f.isZero()||w.isZero())return new o(0)._forceRed(this);var v=f.mul(w),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(_).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},W.prototype.invm=function(f){var w=this.imod(f._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(typeof t>"u"||t,e)}),ys=Et((e,t)=>{t.exports=r;function r(n,i){if(!n)throw Error(i||"Assertion failed")}a(r,"K"),r.equal=function(n,i,s){if(n!=i)throw Error(s||"Assertion failed: "+n+" != "+i)}}),tv=Et(e=>{var t=e;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)l[u]=s[u]|0;return l}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)l.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var c=s.charCodeAt(u),h=c>>8,d=c&255;h?l.push(h,d):l.push(d)}return l}a(r,"K"),t.toArray=r;function n(s){return s.length===1?"0"+s:s}a(n,"P"),t.zero2=n;function i(s){for(var o="",l=0;l<s.length;l++)o+=n(s[l].toString(16));return o}a(i,"_"),t.toHex=i,t.encode=function(s,o){return o==="hex"?i(s):s}}),Si=Et(e=>{var t=e,r=Ba(),n=ys(),i=tv();t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function s(h,d,g){var m=Array(Math.max(h.bitLength(),g)+1),y;for(y=0;y<m.length;y+=1)m[y]=0;var x=1<<d+1,A=h.clone();for(y=0;y<m.length;y++){var C,M=A.andln(x-1);A.isOdd()?(M>(x>>1)-1?C=(x>>1)-M:C=M,A.isubn(C)):C=0,m[y]=C,A.iushrn(1)}return m}a(s,"Y"),t.getNAF=s;function o(h,d){var g=[[],[]];h=h.clone(),d=d.clone();for(var m=0,y=0,x;h.cmpn(-m)>0||d.cmpn(-y)>0;){var A=h.andln(3)+m&3,C=d.andln(3)+y&3;A===3&&(A=-1),C===3&&(C=-1);var M;(A&1)===0?M=0:(x=h.andln(7)+m&7,(x===3||x===5)&&C===2?M=-A:M=A),g[0].push(M);var R;(C&1)===0?R=0:(x=d.andln(7)+y&7,(x===3||x===5)&&A===2?R=-C:R=C),g[1].push(R),2*m===M+1&&(m=1-m),2*y===R+1&&(y=1-y),h.iushrn(1),d.iushrn(1)}return g}a(o,"O"),t.getJSF=o;function l(h,d,g){var m="_"+d;h.prototype[d]=function(){return this[m]!==void 0?this[m]:this[m]=g.call(this)}}a(l,"z"),t.cachedProperty=l;function u(h){return typeof h=="string"?t.toArray(h,"hex"):h}a(u,"J"),t.parseBytes=u;function c(h){return new r(h,"hex","le")}a(c,"T"),t.intFromLE=c}),rv=Et((e,t)=>{var r;t.exports=function(s){return r||(r=new n(null)),r.generate(s)};function n(s){this.rand=s}if(a(n,"P"),t.exports.Rand=n,n.prototype.generate=function(s){return this._rand(s)},n.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var o=new Uint8Array(s),l=0;l<o.length;l++)o[l]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(s){var o=new Uint8Array(s);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(s){var o=new Uint8Array(s);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(n.prototype._rand=function(){throw Error("Not implemented yet")});else try{if(i=(Ti(),hr(hi)),typeof i.randomBytes!="function")throw Error("Not supported");n.prototype._rand=function(s){return i.randomBytes(s)}}catch{}var i}),Ec=Et((e,t)=>{var r=Ba(),n=Si(),i=n.getNAF,s=n.getJSF,o=n.assert;function l(c,h){this.type=c,this.p=new r(h.p,16),this.red=h.prime?r.red(h.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=h.n&&new r(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var d=this.n&&this.p.div(this.n);!d||d.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}a(l,"z"),t.exports=l,l.prototype.point=function(){throw Error("Not implemented")},l.prototype.validate=function(){throw Error("Not implemented")},l.prototype._fixedNafMul=function(c,h){o(c.precomputed);var d=c._getDoubles(),g=i(h,1,this._bitLength),m=(1<<d.step+1)-(d.step%2===0?2:1);m/=3;var y=[],x,A;for(x=0;x<g.length;x+=d.step){A=0;for(var C=x+d.step-1;C>=x;C--)A=(A<<1)+g[C];y.push(A)}for(var M=this.jpoint(null,null,null),R=this.jpoint(null,null,null),P=m;P>0;P--){for(x=0;x<y.length;x++)A=y[x],A===P?R=R.mixedAdd(d.points[x]):A===-P&&(R=R.mixedAdd(d.points[x].neg()));M=M.add(R)}return M.toP()},l.prototype._wnafMul=function(c,h){var d=4,g=c._getNAFPoints(d);d=g.wnd;for(var m=g.points,y=i(h,d,this._bitLength),x=this.jpoint(null,null,null),A=y.length-1;A>=0;A--){for(var C=0;A>=0&&y[A]===0;A--)C++;if(A>=0&&C++,x=x.dblp(C),A<0)break;var M=y[A];o(M!==0),c.type==="affine"?M>0?x=x.mixedAdd(m[M-1>>1]):x=x.mixedAdd(m[-M-1>>1].neg()):M>0?x=x.add(m[M-1>>1]):x=x.add(m[-M-1>>1].neg())}return c.type==="affine"?x.toP():x},l.prototype._wnafMulAdd=function(c,h,d,g,m){var y=this._wnafT1,x=this._wnafT2,A=this._wnafT3,C=0,M,R,P;for(M=0;M<g;M++){P=h[M];var L=P._getNAFPoints(c);y[M]=L.wnd,x[M]=L.points}for(M=g-1;M>=1;M-=2){var z=M-1,Z=M;if(y[z]!==1||y[Z]!==1){A[z]=i(d[z],y[z],this._bitLength),A[Z]=i(d[Z],y[Z],this._bitLength),C=Math.max(A[z].length,C),C=Math.max(A[Z].length,C);continue}var Y=[h[z],null,null,h[Z]];h[z].y.cmp(h[Z].y)===0?(Y[1]=h[z].add(h[Z]),Y[2]=h[z].toJ().mixedAdd(h[Z].neg())):h[z].y.cmp(h[Z].y.redNeg())===0?(Y[1]=h[z].toJ().mixedAdd(h[Z]),Y[2]=h[z].add(h[Z].neg())):(Y[1]=h[z].toJ().mixedAdd(h[Z]),Y[2]=h[z].toJ().mixedAdd(h[Z].neg()));var ae=[-3,-1,-5,-7,0,7,5,1,3],F=s(d[z],d[Z]);for(C=Math.max(F[0].length,C),A[z]=Array(C),A[Z]=Array(C),R=0;R<C;R++){var W=F[0][R]|0,f=F[1][R]|0;A[z][R]=ae[(W+1)*3+(f+1)],A[Z][R]=0,x[z]=Y}}var w=this.jpoint(null,null,null),v=this._wnafT4;for(M=C;M>=0;M--){for(var _=0;M>=0;){var S=!0;for(R=0;R<g;R++)v[R]=A[R][M]|0,v[R]!==0&&(S=!1);if(!S)break;_++,M--}if(M>=0&&_++,w=w.dblp(_),M<0)break;for(R=0;R<g;R++){var T=v[R];T!==0&&(T>0?P=x[R][T-1>>1]:T<0&&(P=x[R][-T-1>>1].neg()),P.type==="affine"?w=w.mixedAdd(P):w=w.add(P))}}for(M=0;M<g;M++)x[M]=null;return m?w:w.toP()};function u(c,h){this.curve=c,this.type=h,this.precomputed=null}a(u,"J"),l.BasePoint=u,u.prototype.eq=function(){throw Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(c,h){c=n.toArray(c,h);var d=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1===2*d){c[0]===6?o(c[c.length-1]%2===0):c[0]===7&&o(c[c.length-1]%2===1);var g=this.point(c.slice(1,1+d),c.slice(1+d,1+2*d));return g}else if((c[0]===2||c[0]===3)&&c.length-1===d)return this.pointFromX(c.slice(1,1+d),c[0]===3);throw Error("Unknown point format")},u.prototype.encodeCompressed=function(c){return this.encode(c,!0)},u.prototype._encode=function(c){var h=this.curve.p.byteLength(),d=this.getX().toArray("be",h);return c?[this.getY().isEven()?2:3].concat(d):[4].concat(d,this.getY().toArray("be",h))},u.prototype.encode=function(c,h){return n.encode(this._encode(h),c)},u.prototype.precompute=function(c){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,c),h.beta=this._getBeta(),this.precomputed=h,this},u.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return h?h.points.length>=Math.ceil((c.bitLength()+1)/h.step):!1},u.prototype._getDoubles=function(c,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var d=[this],g=this,m=0;m<h;m+=c){for(var y=0;y<c;y++)g=g.dbl();d.push(g)}return{step:c,points:d}},u.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],d=(1<<c)-1,g=d===1?null:this.dbl(),m=1;m<d;m++)h[m]=h[m-1].add(g);return{wnd:c,points:h}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(c){for(var h=this,d=0;d<c;d++)h=h.dbl();return h}}),tx=Et((e,t)=>{typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=a(function(){},"_");i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),ui=Et((e,t)=>{try{if(r=(IZ(),hr(dN)),typeof r.inherits!="function")throw"";t.exports=r.inherits}catch{t.exports=tx()}var r}),rx=Et((e,t)=>{var r=Si(),n=Ba(),i=ui(),s=Ec(),o=r.assert;function l(h){s.call(this,"short",h),this.a=new n(h.a,16).toRed(this.red),this.b=new n(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}a(l,"z"),i(l,s),t.exports=l,l.prototype._getEndomorphism=function(h){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var d,g;if(h.beta)d=new n(h.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);d=m[0].cmp(m[1])<0?m[0]:m[1],d=d.toRed(this.red)}if(h.lambda)g=new n(h.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(d))===0?g=y[0]:(g=y[1],o(this.g.mul(g).x.cmp(this.g.x.redMul(d))===0))}var x;return h.basis?x=h.basis.map(function(A){return{a:new n(A.a,16),b:new n(A.b,16)}}):x=this._getEndoBasis(g),{beta:d,lambda:g,basis:x}}},l.prototype._getEndoRoots=function(h){var d=h===this.p?this.red:n.mont(h),g=new n(2).toRed(d).redInvm(),m=g.redNeg(),y=new n(3).toRed(d).redNeg().redSqrt().redMul(g),x=m.redAdd(y).fromRed(),A=m.redSub(y).fromRed();return[x,A]},l.prototype._getEndoBasis=function(h){for(var d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),g=h,m=this.n.clone(),y=new n(1),x=new n(0),A=new n(0),C=new n(1),M,R,P,L,z,Z,Y,ae=0,F,W;g.cmpn(0)!==0;){var f=m.div(g);F=m.sub(f.mul(g)),W=A.sub(f.mul(y));var w=C.sub(f.mul(x));if(!P&&F.cmp(d)<0)M=Y.neg(),R=y,P=F.neg(),L=W;else if(P&&++ae===2)break;Y=F,m=g,g=F,A=y,y=W,C=x,x=w}z=F.neg(),Z=W;var v=P.sqr().add(L.sqr()),_=z.sqr().add(Z.sqr());return _.cmp(v)>=0&&(z=M,Z=R),P.negative&&(P=P.neg(),L=L.neg()),z.negative&&(z=z.neg(),Z=Z.neg()),[{a:P,b:L},{a:z,b:Z}]},l.prototype._endoSplit=function(h){var d=this.endo.basis,g=d[0],m=d[1],y=m.b.mul(h).divRound(this.n),x=g.b.neg().mul(h).divRound(this.n),A=y.mul(g.a),C=x.mul(m.a),M=y.mul(g.b),R=x.mul(m.b),P=h.sub(A).sub(C),L=M.add(R).neg();return{k1:P,k2:L}},l.prototype.pointFromX=function(h,d){h=new n(h,16),!h.red&&(h=h.toRed(this.red));var g=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw Error("invalid point");var y=m.fromRed().isOdd();return(d&&!y||!d&&y)&&(m=m.redNeg()),this.point(h,m)},l.prototype.validate=function(h){if(h.inf)return!0;var{x:d,y:g}=h,m=this.a.redMul(d),y=d.redSqr().redMul(d).redIAdd(m).redIAdd(this.b);return g.redSqr().redISub(y).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(h,d,g){for(var m=this._endoWnafT1,y=this._endoWnafT2,x=0;x<h.length;x++){var A=this._endoSplit(d[x]),C=h[x],M=C._getBeta();A.k1.negative&&(A.k1.ineg(),C=C.neg(!0)),A.k2.negative&&(A.k2.ineg(),M=M.neg(!0)),m[x*2]=C,m[x*2+1]=M,y[x*2]=A.k1,y[x*2+1]=A.k2}for(var R=this._wnafMulAdd(1,m,y,x*2,g),P=0;P<x*2;P++)m[P]=null,y[P]=null;return R};function u(h,d,g,m){s.BasePoint.call(this,h,"affine"),d===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(d,16),this.y=new n(g,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}a(u,"J"),i(u,s.BasePoint),l.prototype.point=function(h,d,g){return new u(this,h,d,g)},l.prototype.pointFromJSON=function(h,d){return u.fromJSON(this,h,d)},u.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var g=this.curve,m=a(function(y){return g.point(y.x.redMul(g.endo.beta),y.y)},"M");h.beta=d,d.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(m)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(m)}}}return d}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(h,d,g){typeof d=="string"&&(d=JSON.parse(d));var m=h.point(d[0],d[1],g);if(!d[2])return m;function y(A){return h.point(A[0],A[1],g)}a(y,"N");var x=d[2];return m.precomputed={beta:null,doubles:x.doubles&&{step:x.doubles.step,points:[m].concat(x.doubles.points.map(y))},naf:x.naf&&{wnd:x.naf.wnd,points:[m].concat(x.naf.points.map(y))}},m},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var d=this.y.redSub(h.y);d.cmpn(0)!==0&&(d=d.redMul(this.x.redSub(h.x).redInvm()));var g=d.redSqr().redISub(this.x).redISub(h.x),m=d.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,m)},u.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var d=this.curve.a,g=this.x.redSqr(),m=h.redInvm(),y=g.redAdd(g).redIAdd(g).redIAdd(d).redMul(m),x=y.redSqr().redISub(this.x.redAdd(this.x)),A=y.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,A)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(h){return h=new n(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},u.prototype.mulAdd=function(h,d,g){var m=[this,d],y=[h,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,y):this.curve._wnafMulAdd(1,m,y,2)},u.prototype.jmulAdd=function(h,d,g){var m=[this,d],y=[h,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,y,!0):this.curve._wnafMulAdd(1,m,y,2,!0)},u.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},u.prototype.neg=function(h){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var g=this.precomputed,m=a(function(y){return y.neg()},"M");d.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(m)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(m)}}}return d},u.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var h=this.curve.jpoint(this.x,this.y,this.curve.one);return h};function c(h,d,g,m){s.BasePoint.call(this,h,"jacobian"),d===null&&g===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(d,16),this.y=new n(g,16),this.z=new n(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(c,"T"),i(c,s.BasePoint),l.prototype.jpoint=function(h,d,g){return new c(this,h,d,g)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),d=h.redSqr(),g=this.x.redMul(d),m=this.y.redMul(d).redMul(h);return this.curve.point(g,m)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var d=h.z.redSqr(),g=this.z.redSqr(),m=this.x.redMul(d),y=h.x.redMul(g),x=this.y.redMul(d.redMul(h.z)),A=h.y.redMul(g.redMul(this.z)),C=m.redSub(y),M=x.redSub(A);if(C.cmpn(0)===0)return M.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=C.redSqr(),P=R.redMul(C),L=m.redMul(R),z=M.redSqr().redIAdd(P).redISub(L).redISub(L),Z=M.redMul(L.redISub(z)).redISub(x.redMul(P)),Y=this.z.redMul(h.z).redMul(C);return this.curve.jpoint(z,Z,Y)},c.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var d=this.z.redSqr(),g=this.x,m=h.x.redMul(d),y=this.y,x=h.y.redMul(d).redMul(this.z),A=g.redSub(m),C=y.redSub(x);if(A.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=A.redSqr(),R=M.redMul(A),P=g.redMul(M),L=C.redSqr().redIAdd(R).redISub(P).redISub(P),z=C.redMul(P.redISub(L)).redISub(y.redMul(R)),Z=this.z.redMul(A);return this.curve.jpoint(L,z,Z)},c.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var d;if(this.curve.zeroA||this.curve.threeA){var g=this;for(d=0;d<h;d++)g=g.dbl();return g}var m=this.curve.a,y=this.curve.tinv,x=this.x,A=this.y,C=this.z,M=C.redSqr().redSqr(),R=A.redAdd(A);for(d=0;d<h;d++){var P=x.redSqr(),L=R.redSqr(),z=L.redSqr(),Z=P.redAdd(P).redIAdd(P).redIAdd(m.redMul(M)),Y=x.redMul(L),ae=Z.redSqr().redISub(Y.redAdd(Y)),F=Y.redISub(ae),W=Z.redMul(F);W=W.redIAdd(W).redISub(z);var f=R.redMul(C);d+1<h&&(M=M.redMul(z)),x=ae,C=f,R=W}return this.curve.jpoint(x,R.redMul(y),C)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var h,d,g;if(this.zOne){var m=this.x.redSqr(),y=this.y.redSqr(),x=y.redSqr(),A=this.x.redAdd(y).redSqr().redISub(m).redISub(x);A=A.redIAdd(A);var C=m.redAdd(m).redIAdd(m),M=C.redSqr().redISub(A).redISub(A),R=x.redIAdd(x);R=R.redIAdd(R),R=R.redIAdd(R),h=M,d=C.redMul(A.redISub(M)).redISub(R),g=this.y.redAdd(this.y)}else{var P=this.x.redSqr(),L=this.y.redSqr(),z=L.redSqr(),Z=this.x.redAdd(L).redSqr().redISub(P).redISub(z);Z=Z.redIAdd(Z);var Y=P.redAdd(P).redIAdd(P),ae=Y.redSqr(),F=z.redIAdd(z);F=F.redIAdd(F),F=F.redIAdd(F),h=ae.redISub(Z).redISub(Z),d=Y.redMul(Z.redISub(h)).redISub(F),g=this.y.redMul(this.z),g=g.redIAdd(g)}return this.curve.jpoint(h,d,g)},c.prototype._threeDbl=function(){var h,d,g;if(this.zOne){var m=this.x.redSqr(),y=this.y.redSqr(),x=y.redSqr(),A=this.x.redAdd(y).redSqr().redISub(m).redISub(x);A=A.redIAdd(A);var C=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),M=C.redSqr().redISub(A).redISub(A);h=M;var R=x.redIAdd(x);R=R.redIAdd(R),R=R.redIAdd(R),d=C.redMul(A.redISub(M)).redISub(R),g=this.y.redAdd(this.y)}else{var P=this.z.redSqr(),L=this.y.redSqr(),z=this.x.redMul(L),Z=this.x.redSub(P).redMul(this.x.redAdd(P));Z=Z.redAdd(Z).redIAdd(Z);var Y=z.redIAdd(z);Y=Y.redIAdd(Y);var ae=Y.redAdd(Y);h=Z.redSqr().redISub(ae),g=this.y.redAdd(this.z).redSqr().redISub(L).redISub(P);var F=L.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F),d=Z.redMul(Y.redISub(h)).redISub(F)}return this.curve.jpoint(h,d,g)},c.prototype._dbl=function(){var h=this.curve.a,d=this.x,g=this.y,m=this.z,y=m.redSqr().redSqr(),x=d.redSqr(),A=g.redSqr(),C=x.redAdd(x).redIAdd(x).redIAdd(h.redMul(y)),M=d.redAdd(d);M=M.redIAdd(M);var R=M.redMul(A),P=C.redSqr().redISub(R.redAdd(R)),L=R.redISub(P),z=A.redSqr();z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z);var Z=C.redMul(L).redISub(z),Y=g.redAdd(g).redMul(m);return this.curve.jpoint(P,Z,Y)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),d=this.y.redSqr(),g=this.z.redSqr(),m=d.redSqr(),y=h.redAdd(h).redIAdd(h),x=y.redSqr(),A=this.x.redAdd(d).redSqr().redISub(h).redISub(m);A=A.redIAdd(A),A=A.redAdd(A).redIAdd(A),A=A.redISub(x);var C=A.redSqr(),M=m.redIAdd(m);M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M);var R=y.redIAdd(A).redSqr().redISub(x).redISub(C).redISub(M),P=d.redMul(R);P=P.redIAdd(P),P=P.redIAdd(P);var L=this.x.redMul(C).redISub(P);L=L.redIAdd(L),L=L.redIAdd(L);var z=this.y.redMul(R.redMul(M.redISub(R)).redISub(A.redMul(C)));z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z);var Z=this.z.redAdd(A).redSqr().redISub(g).redISub(C);return this.curve.jpoint(L,z,Z)},c.prototype.mul=function(h,d){return h=new n(h,d),this.curve._wnafMul(this,h)},c.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var d=this.z.redSqr(),g=h.z.redSqr();if(this.x.redMul(g).redISub(h.x.redMul(d)).cmpn(0)!==0)return!1;var m=d.redMul(this.z),y=g.redMul(h.z);return this.y.redMul(y).redISub(h.y.redMul(m)).cmpn(0)===0},c.prototype.eqXToP=function(h){var d=this.z.redSqr(),g=h.toRed(this.curve.red).redMul(d);if(this.x.cmp(g)===0)return!0;for(var m=h.clone(),y=this.curve.redN.redMul(d);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(y),this.x.cmp(g)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),nx=Et((e,t)=>{var r=Ba(),n=ui(),i=Ec(),s=Si();function o(u){i.call(this,"mont",u),this.a=new r(u.a,16).toRed(this.red),this.b=new r(u.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}a(o,"O"),n(o,i),t.exports=o,o.prototype.validate=function(u){var c=u.normalize().x,h=c.redSqr(),d=h.redMul(c).redAdd(h.redMul(this.a)).redAdd(c),g=d.redSqrt();return g.redSqr().cmp(d)===0};function l(u,c,h){i.BasePoint.call(this,u,"projective"),c===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(c,16),this.z=new r(h,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(l,"z"),n(l,i.BasePoint),o.prototype.decodePoint=function(u,c){return this.point(s.toArray(u,c),1)},o.prototype.point=function(u,c){return new l(this,u,c)},o.prototype.pointFromJSON=function(u){return l.fromJSON(this,u)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(u,c){return new l(u,c[0],c[1]||u.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var u=this.x.redAdd(this.z),c=u.redSqr(),h=this.x.redSub(this.z),d=h.redSqr(),g=c.redSub(d),m=c.redMul(d),y=g.redMul(d.redAdd(this.curve.a24.redMul(g)));return this.curve.point(m,y)},l.prototype.add=function(){throw Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(u,c){var h=this.x.redAdd(this.z),d=this.x.redSub(this.z),g=u.x.redAdd(u.z),m=u.x.redSub(u.z),y=m.redMul(h),x=g.redMul(d),A=c.z.redMul(y.redAdd(x).redSqr()),C=c.x.redMul(y.redISub(x).redSqr());return this.curve.point(A,C)},l.prototype.mul=function(u){for(var c=u.clone(),h=this,d=this.curve.point(null,null),g=this,m=[];c.cmpn(0)!==0;c.iushrn(1))m.push(c.andln(1));for(var y=m.length-1;y>=0;y--)m[y]===0?(h=h.diffAdd(d,g),d=d.dbl()):(d=h.diffAdd(d,g),h=h.dbl());return d},l.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},l.prototype.eq=function(u){return this.getX().cmp(u.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),ix=Et((e,t)=>{var r=Si(),n=Ba(),i=ui(),s=Ec(),o=r.assert;function l(c){this.twisted=(c.a|0)!==1,this.mOneA=this.twisted&&(c.a|0)===-1,this.extended=this.mOneA,s.call(this,"edwards",c),this.a=new n(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(c.c|0)===1}a(l,"z"),i(l,s),t.exports=l,l.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},l.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},l.prototype.jpoint=function(c,h,d,g){return this.point(c,h,d,g)},l.prototype.pointFromX=function(c,h){c=new n(c,16),!c.red&&(c=c.toRed(this.red));var d=c.redSqr(),g=this.c2.redSub(this.a.redMul(d)),m=this.one.redSub(this.c2.redMul(this.d).redMul(d)),y=g.redMul(m.redInvm()),x=y.redSqrt();if(x.redSqr().redSub(y).cmp(this.zero)!==0)throw Error("invalid point");var A=x.fromRed().isOdd();return(h&&!A||!h&&A)&&(x=x.redNeg()),this.point(c,x)},l.prototype.pointFromY=function(c,h){c=new n(c,16),!c.red&&(c=c.toRed(this.red));var d=c.redSqr(),g=d.redSub(this.c2),m=d.redMul(this.d).redMul(this.c2).redSub(this.a),y=g.redMul(m.redInvm());if(y.cmp(this.zero)===0){if(h)throw Error("invalid point");return this.point(this.zero,c)}var x=y.redSqrt();if(x.redSqr().redSub(y).cmp(this.zero)!==0)throw Error("invalid point");return x.fromRed().isOdd()!==h&&(x=x.redNeg()),this.point(x,c)},l.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var h=c.x.redSqr(),d=c.y.redSqr(),g=h.redMul(this.a).redAdd(d),m=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(d)));return g.cmp(m)===0};function u(c,h,d,g,m){s.BasePoint.call(this,c,"projective"),h===null&&d===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(h,16),this.y=new n(d,16),this.z=g?new n(g,16):this.curve.one,this.t=m&&new n(m,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}a(u,"J"),i(u,s.BasePoint),l.prototype.pointFromJSON=function(c){return u.fromJSON(this,c)},l.prototype.point=function(c,h,d,g){return new u(this,c,h,d,g)},u.fromJSON=function(c,h){return new u(c,h[0],h[1],h[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},u.prototype._extDbl=function(){var c=this.x.redSqr(),h=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var g=this.curve._mulA(c),m=this.x.redAdd(this.y).redSqr().redISub(c).redISub(h),y=g.redAdd(h),x=y.redSub(d),A=g.redSub(h),C=m.redMul(x),M=y.redMul(A),R=m.redMul(A),P=x.redMul(y);return this.curve.point(C,M,P,R)},u.prototype._projDbl=function(){var c=this.x.redAdd(this.y).redSqr(),h=this.x.redSqr(),d=this.y.redSqr(),g,m,y,x,A,C;if(this.curve.twisted){x=this.curve._mulA(h);var M=x.redAdd(d);this.zOne?(g=c.redSub(h).redSub(d).redMul(M.redSub(this.curve.two)),m=M.redMul(x.redSub(d)),y=M.redSqr().redSub(M).redSub(M)):(A=this.z.redSqr(),C=M.redSub(A).redISub(A),g=c.redSub(h).redISub(d).redMul(C),m=M.redMul(x.redSub(d)),y=M.redMul(C))}else x=h.redAdd(d),A=this.curve._mulC(this.z).redSqr(),C=x.redSub(A).redSub(A),g=this.curve._mulC(c.redISub(x)).redMul(C),m=this.curve._mulC(x).redMul(h.redISub(d)),y=x.redMul(C);return this.curve.point(g,m,y)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(c){var h=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),d=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),g=this.t.redMul(this.curve.dd).redMul(c.t),m=this.z.redMul(c.z.redAdd(c.z)),y=d.redSub(h),x=m.redSub(g),A=m.redAdd(g),C=d.redAdd(h),M=y.redMul(x),R=A.redMul(C),P=y.redMul(C),L=x.redMul(A);return this.curve.point(M,R,L,P)},u.prototype._projAdd=function(c){var h=this.z.redMul(c.z),d=h.redSqr(),g=this.x.redMul(c.x),m=this.y.redMul(c.y),y=this.curve.d.redMul(g).redMul(m),x=d.redSub(y),A=d.redAdd(y),C=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(g).redISub(m),M=h.redMul(x).redMul(C),R,P;return this.curve.twisted?(R=h.redMul(A).redMul(m.redSub(this.curve._mulA(g))),P=x.redMul(A)):(R=h.redMul(A).redMul(m.redSub(g)),P=this.curve._mulC(x).redMul(A)),this.curve.point(M,R,P)},u.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},u.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},u.prototype.mulAdd=function(c,h,d){return this.curve._wnafMulAdd(1,[this,h],[c,d],2,!1)},u.prototype.jmulAdd=function(c,h,d){return this.curve._wnafMulAdd(1,[this,h],[c,d],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},u.prototype.eqXToP=function(c){var h=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var d=c.clone(),g=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(g),this.x.cmp(h)===0)return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add}),nv=Et(e=>{var t=e;t.base=Ec(),t.short=rx(),t.mont=nx(),t.edwards=ix()}),oa=Et(e=>{var t=ys(),r=ui();e.inherits=r;function n(w,v){return(w.charCodeAt(v)&64512)!==55296||v<0||v+1>=w.length?!1:(w.charCodeAt(v+1)&64512)===56320}a(n,"P");function i(w,v){if(Array.isArray(w))return w.slice();if(!w)return[];var _=[];if(typeof w=="string")if(v){if(v==="hex")for(w=w.replace(/[^a-z0-9]+/ig,""),w.length%2!==0&&(w="0"+w),T=0;T<w.length;T+=2)_.push(parseInt(w[T]+w[T+1],16))}else for(var S=0,T=0;T<w.length;T++){var N=w.charCodeAt(T);N<128?_[S++]=N:N<2048?(_[S++]=N>>6|192,_[S++]=N&63|128):n(w,T)?(N=65536+((N&1023)<<10)+(w.charCodeAt(++T)&1023),_[S++]=N>>18|240,_[S++]=N>>12&63|128,_[S++]=N>>6&63|128,_[S++]=N&63|128):(_[S++]=N>>12|224,_[S++]=N>>6&63|128,_[S++]=N&63|128)}else for(T=0;T<w.length;T++)_[T]=w[T]|0;return _}a(i,"_"),e.toArray=i;function s(w){for(var v="",_=0;_<w.length;_++)v+=u(w[_].toString(16));return v}a(s,"Y"),e.toHex=s;function o(w){var v=w>>>24|w>>>8&65280|w<<8&16711680|(w&255)<<24;return v>>>0}a(o,"O"),e.htonl=o;function l(w,v){for(var _="",S=0;S<w.length;S++){var T=w[S];v==="little"&&(T=o(T)),_+=c(T.toString(16))}return _}a(l,"z"),e.toHex32=l;function u(w){return w.length===1?"0"+w:w}a(u,"J"),e.zero2=u;function c(w){return w.length===7?"0"+w:w.length===6?"00"+w:w.length===5?"000"+w:w.length===4?"0000"+w:w.length===3?"00000"+w:w.length===2?"000000"+w:w.length===1?"0000000"+w:w}a(c,"T"),e.zero8=c;function h(w,v,_,S){var T=_-v;t(T%4===0);for(var N=Array(T/4),k=0,p=v;k<N.length;k++,p+=4){var E;S==="big"?E=w[p]<<24|w[p+1]<<16|w[p+2]<<8|w[p+3]:E=w[p+3]<<24|w[p+2]<<16|w[p+1]<<8|w[p],N[k]=E>>>0}return N}a(h,"X"),e.join32=h;function d(w,v){for(var _=Array(w.length*4),S=0,T=0;S<w.length;S++,T+=4){var N=w[S];v==="big"?(_[T]=N>>>24,_[T+1]=N>>>16&255,_[T+2]=N>>>8&255,_[T+3]=N&255):(_[T+3]=N>>>24,_[T+2]=N>>>16&255,_[T+1]=N>>>8&255,_[T]=N&255)}return _}a(d,"f"),e.split32=d;function g(w,v){return w>>>v|w<<32-v}a(g,"V"),e.rotr32=g;function m(w,v){return w<<v|w>>>32-v}a(m,"M"),e.rotl32=m;function y(w,v){return w+v>>>0}a(y,"N"),e.sum32=y;function x(w,v,_){return w+v+_>>>0}a(x,"E"),e.sum32_3=x;function A(w,v,_,S){return w+v+_+S>>>0}a(A,"h"),e.sum32_4=A;function C(w,v,_,S,T){return w+v+_+S+T>>>0}a(C,"I"),e.sum32_5=C;function M(w,v,_,S){var T=w[v],N=w[v+1],k=S+N>>>0,p=(k<S?1:0)+_+T;w[v]=p>>>0,w[v+1]=k}a(M,"D"),e.sum64=M;function R(w,v,_,S){var T=v+S>>>0,N=(T<v?1:0)+w+_;return N>>>0}a(R,"g"),e.sum64_hi=R;function P(w,v,_,S){var T=v+S;return T>>>0}a(P,"b"),e.sum64_lo=P;function L(w,v,_,S,T,N,k,p){var E=0,I=v;I=I+S>>>0,E+=I<v?1:0,I=I+N>>>0,E+=I<N?1:0,I=I+p>>>0,E+=I<p?1:0;var O=w+_+T+k+E;return O>>>0}a(L,"y"),e.sum64_4_hi=L;function z(w,v,_,S,T,N,k,p){var E=v+S+N+p;return E>>>0}a(z,"p"),e.sum64_4_lo=z;function Z(w,v,_,S,T,N,k,p,E,I){var O=0,B=v;B=B+S>>>0,O+=B<v?1:0,B=B+N>>>0,O+=B<N?1:0,B=B+p>>>0,O+=B<p?1:0,B=B+I>>>0,O+=B<I?1:0;var H=w+_+T+k+E+O;return H>>>0}a(Z,"n"),e.sum64_5_hi=Z;function Y(w,v,_,S,T,N,k,p,E,I){var O=v+S+N+p+I;return O>>>0}a(Y,"s"),e.sum64_5_lo=Y;function ae(w,v,_){var S=v<<32-_|w>>>_;return S>>>0}a(ae,"q$"),e.rotr64_hi=ae;function F(w,v,_){var S=w<<32-_|v>>>_;return S>>>0}a(F,"c"),e.rotr64_lo=F;function W(w,v,_){return w>>>_}a(W,"U"),e.shr64_hi=W;function f(w,v,_){var S=w<<32-_|v>>>_;return S>>>0}a(f,"j"),e.shr64_lo=f}),au=Et(e=>{var t=oa(),r=ys();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}a(n,"P"),e.BlockHash=n,n.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var l=0;l<i.length;l+=this._delta32)this._update(i,l,l+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),r(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,l=Array(o+this.padLength);l[0]=128;for(var u=1;u<o;u++)l[u]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)l[u++]=0;l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=i>>>24&255,l[u++]=i>>>16&255,l[u++]=i>>>8&255,l[u++]=i&255}else for(l[u++]=i&255,l[u++]=i>>>8&255,l[u++]=i>>>16&255,l[u++]=i>>>24&255,l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=0,c=8;c<this.padLength;c++)l[u++]=0;return l}}),iv=Et(e=>{var t=oa(),r=t.rotr32;function n(d,g,m,y){if(d===0)return i(g,m,y);if(d===1||d===3)return o(g,m,y);if(d===2)return s(g,m,y)}a(n,"P"),e.ft_1=n;function i(d,g,m){return d&g^~d&m}a(i,"_"),e.ch32=i;function s(d,g,m){return d&g^d&m^g&m}a(s,"Y"),e.maj32=s;function o(d,g,m){return d^g^m}a(o,"O"),e.p32=o;function l(d){return r(d,2)^r(d,13)^r(d,22)}a(l,"z"),e.s0_256=l;function u(d){return r(d,6)^r(d,11)^r(d,25)}a(u,"J"),e.s1_256=u;function c(d){return r(d,7)^r(d,18)^d>>>3}a(c,"T"),e.g0_256=c;function h(d){return r(d,17)^r(d,19)^d>>>10}a(h,"X"),e.g1_256=h}),ax=Et((e,t)=>{var r=oa(),n=au(),i=iv(),s=r.rotl32,o=r.sum32,l=r.sum32_5,u=i.ft_1,c=n.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}a(d,"f"),r.inherits(d,c),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(g,m){for(var y=this.W,x=0;x<16;x++)y[x]=g[m+x];for(;x<y.length;x++)y[x]=s(y[x-3]^y[x-8]^y[x-14]^y[x-16],1);var A=this.h[0],C=this.h[1],M=this.h[2],R=this.h[3],P=this.h[4];for(x=0;x<y.length;x++){var L=~~(x/20),z=l(s(A,5),u(L,C,M,R),P,y[x],h[L]);P=R,R=M,M=s(C,30),C=A,A=z}this.h[0]=o(this.h[0],A),this.h[1]=o(this.h[1],C),this.h[2]=o(this.h[2],M),this.h[3]=o(this.h[3],R),this.h[4]=o(this.h[4],P)},d.prototype._digest=function(g){return g==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),av=Et((e,t)=>{var r=oa(),n=au(),i=iv(),s=ys(),o=r.sum32,l=r.sum32_4,u=r.sum32_5,c=i.ch32,h=i.maj32,d=i.s0_256,g=i.s1_256,m=i.g0_256,y=i.g1_256,x=n.BlockHash,A=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=A,this.W=Array(64)}a(C,"I"),r.inherits(C,x),t.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(M,R){for(var P=this.W,L=0;L<16;L++)P[L]=M[R+L];for(;L<P.length;L++)P[L]=l(y(P[L-2]),P[L-7],m(P[L-15]),P[L-16]);var z=this.h[0],Z=this.h[1],Y=this.h[2],ae=this.h[3],F=this.h[4],W=this.h[5],f=this.h[6],w=this.h[7];for(s(this.k.length===P.length),L=0;L<P.length;L++){var v=u(w,g(F),c(F,W,f),this.k[L],P[L]),_=o(d(z),h(z,Z,Y));w=f,f=W,W=F,F=o(ae,v),ae=Y,Y=Z,Z=z,z=o(v,_)}this.h[0]=o(this.h[0],z),this.h[1]=o(this.h[1],Z),this.h[2]=o(this.h[2],Y),this.h[3]=o(this.h[3],ae),this.h[4]=o(this.h[4],F),this.h[5]=o(this.h[5],W),this.h[6]=o(this.h[6],f),this.h[7]=o(this.h[7],w)},C.prototype._digest=function(M){return M==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),sx=Et((e,t)=>{var r=oa(),n=av();function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a(i,"_"),r.inherits(i,n),t.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}}),sv=Et((e,t)=>{var r=oa(),n=au(),i=ys(),s=r.rotr64_hi,o=r.rotr64_lo,l=r.shr64_hi,u=r.shr64_lo,c=r.sum64,h=r.sum64_hi,d=r.sum64_lo,g=r.sum64_4_hi,m=r.sum64_4_lo,y=r.sum64_5_hi,x=r.sum64_5_lo,A=n.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function M(){if(!(this instanceof M))return new M;A.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=Array(160)}a(M,"D"),r.inherits(M,A),t.exports=M,M.blockSize=1024,M.outSize=512,M.hmacStrength=192,M.padLength=128,M.prototype._prepareBlock=function(_,S){for(var T=this.W,N=0;N<32;N++)T[N]=_[S+N];for(;N<T.length;N+=2){var k=w(T[N-4],T[N-3]),p=v(T[N-4],T[N-3]),E=T[N-14],I=T[N-13],O=W(T[N-30],T[N-29]),B=f(T[N-30],T[N-29]),H=T[N-32],G=T[N-31];T[N]=g(k,p,E,I,O,B,H,G),T[N+1]=m(k,p,E,I,O,B,H,G)}},M.prototype._update=function(_,S){this._prepareBlock(_,S);var T=this.W,N=this.h[0],k=this.h[1],p=this.h[2],E=this.h[3],I=this.h[4],O=this.h[5],B=this.h[6],H=this.h[7],G=this.h[8],J=this.h[9],ce=this.h[10],ne=this.h[11],se=this.h[12],Ye=this.h[13],Te=this.h[14],ye=this.h[15];i(this.k.length===T.length);for(var Me=0;Me<T.length;Me+=2){var X=Te,oe=ye,ee=ae(G,J),te=F(G,J),fe=R(G,J,ce,ne,se),xe=P(G,J,ce,ne,se,Ye),Re=this.k[Me],de=this.k[Me+1],$=T[Me],q=T[Me+1],K=y(X,oe,ee,te,fe,xe,Re,de,$,q),le=x(X,oe,ee,te,fe,xe,Re,de,$,q);X=Z(N,k),oe=Y(N,k),ee=L(N,k,p,E,I),te=z(N,k,p,E,I,O);var ue=h(X,oe,ee,te),ie=d(X,oe,ee,te);Te=se,ye=Ye,se=ce,Ye=ne,ce=G,ne=J,G=h(B,H,K,le),J=d(H,H,K,le),B=I,H=O,I=p,O=E,p=N,E=k,N=h(K,le,ue,ie),k=d(K,le,ue,ie)}c(this.h,0,N,k),c(this.h,2,p,E),c(this.h,4,I,O),c(this.h,6,B,H),c(this.h,8,G,J),c(this.h,10,ce,ne),c(this.h,12,se,Ye),c(this.h,14,Te,ye)},M.prototype._digest=function(_){return _==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function R(_,S,T,N,k){var p=_&T^~_&k;return p<0&&(p+=4294967296),p}a(R,"g");function P(_,S,T,N,k,p){var E=S&N^~S&p;return E<0&&(E+=4294967296),E}a(P,"b");function L(_,S,T,N,k){var p=_&T^_&k^T&k;return p<0&&(p+=4294967296),p}a(L,"y");function z(_,S,T,N,k,p){var E=S&N^S&p^N&p;return E<0&&(E+=4294967296),E}a(z,"p");function Z(_,S){var T=s(_,S,28),N=s(S,_,2),k=s(S,_,7),p=T^N^k;return p<0&&(p+=4294967296),p}a(Z,"n");function Y(_,S){var T=o(_,S,28),N=o(S,_,2),k=o(S,_,7),p=T^N^k;return p<0&&(p+=4294967296),p}a(Y,"s");function ae(_,S){var T=s(_,S,14),N=s(_,S,18),k=s(S,_,9),p=T^N^k;return p<0&&(p+=4294967296),p}a(ae,"q$");function F(_,S){var T=o(_,S,14),N=o(_,S,18),k=o(S,_,9),p=T^N^k;return p<0&&(p+=4294967296),p}a(F,"c");function W(_,S){var T=s(_,S,1),N=s(_,S,8),k=l(_,S,7),p=T^N^k;return p<0&&(p+=4294967296),p}a(W,"U");function f(_,S){var T=o(_,S,1),N=o(_,S,8),k=u(_,S,7),p=T^N^k;return p<0&&(p+=4294967296),p}a(f,"j");function w(_,S){var T=s(_,S,19),N=s(S,_,29),k=l(_,S,6),p=T^N^k;return p<0&&(p+=4294967296),p}a(w,"H");function v(_,S){var T=o(_,S,19),N=o(S,_,29),k=u(_,S,6),p=T^N^k;return p<0&&(p+=4294967296),p}a(v,"Z")}),ox=Et((e,t)=>{var r=oa(),n=sv();function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a(i,"_"),r.inherits(i,n),t.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}}),lx=Et(e=>{e.sha1=ax(),e.sha224=sx(),e.sha256=av(),e.sha384=ox(),e.sha512=sv()}),ux=Et(e=>{var t=oa(),r=au(),n=t.rotl32,i=t.sum32,s=t.sum32_3,o=t.sum32_4,l=r.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}a(u,"J"),t.inherits(u,l),e.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(A,C){for(var M=this.h[0],R=this.h[1],P=this.h[2],L=this.h[3],z=this.h[4],Z=M,Y=R,ae=P,F=L,W=z,f=0;f<80;f++){var w=i(n(o(M,c(f,R,P,L),A[g[f]+C],h(f)),y[f]),z);M=z,z=L,L=n(P,10),P=R,R=w,w=i(n(o(Z,c(79-f,Y,ae,F),A[m[f]+C],d(f)),x[f]),W),Z=W,W=F,F=n(ae,10),ae=Y,Y=w}w=s(this.h[1],P,F),this.h[1]=s(this.h[2],L,W),this.h[2]=s(this.h[3],z,Z),this.h[3]=s(this.h[4],M,Y),this.h[4]=s(this.h[0],R,ae),this.h[0]=w},u.prototype._digest=function(A){return A==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(A,C,M,R){return A<=15?C^M^R:A<=31?C&M|~C&R:A<=47?(C|~M)^R:A<=63?C&R|M&~R:C^(M|~R)}a(c,"T");function h(A){return A<=15?0:A<=31?1518500249:A<=47?1859775393:A<=63?2400959708:2840853838}a(h,"X");function d(A){return A<=15?1352829926:A<=31?1548603684:A<=47?1836072691:A<=63?2053994217:0}a(d,"f");var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),cx=Et((e,t)=>{var r=oa(),n=ys();function i(s,o,l){if(!(this instanceof i))return new i(s,o,l);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(o,l))}a(i,"_"),t.exports=i,i.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),n(s.length<=this.blockSize);for(var o=s.length;o<this.blockSize;o++)s.push(0);for(o=0;o<s.length;o++)s[o]^=54;for(this.inner=new this.Hash().update(s),o=0;o<s.length;o++)s[o]^=106;this.outer=new this.Hash().update(s)},i.prototype.update=function(s,o){return this.inner.update(s,o),this},i.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}}),mf=Et(e=>{var t=e;t.utils=oa(),t.common=au(),t.sha=lx(),t.ripemd=ux(),t.hmac=cx(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}),dx=Et((e,t)=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),gf=Et(e=>{var t=e,r=mf(),n=nv(),i=Si(),s=i.assert;function o(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}a(o,"O"),t.PresetCurve=o;function l(c,h){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:a(function(){var d=new o(h);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:d}),d},"get")})}a(l,"z"),l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=dx()}catch{u=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})}),hx=Et((e,t)=>{var r=mf(),n=tv(),i=ys();function s(o){if(!(this instanceof s))return new s(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=n.toArray(o.entropy,o.entropyEnc||"hex"),u=n.toArray(o.nonce,o.nonceEnc||"hex"),c=n.toArray(o.pers,o.persEnc||"hex");i(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,u,c)}a(s,"Y"),t.exports=s,s.prototype._init=function(o,l,u){var c=o.concat(l).concat(u);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},s.prototype._update=function(o){var l=this._hmac().update(this.V).update([0]);o&&(l=l.update(o)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(o,l,u,c){typeof l!="string"&&(c=u,u=l,l=null),o=n.toArray(o,l),u=n.toArray(u,c),i(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(u||[])),this._reseed=1},s.prototype.generate=function(o,l,u,c){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");typeof l!="string"&&(c=u,u=l,l=null),u&&(u=n.toArray(u,c||"hex"),this._update(u));for(var h=[];h.length<o;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var d=h.slice(0,o);return this._update(u),this._reseed++,n.encode(d,l)}}),fx=Et((e,t)=>{var r=Ba(),n=Si(),i=n.assert;function s(o,l){this.ec=o,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}a(s,"Y"),t.exports=s,s.fromPublic=function(o,l,u){return l instanceof s?l:new s(o,{pub:l,pubEnc:u})},s.fromPrivate=function(o,l,u){return l instanceof s?l:new s(o,{priv:l,privEnc:u})},s.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(o,l){return typeof o=="string"&&(l=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,o):this.pub},s.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(o,l){this.priv=new r(o,l||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(o,l){if(o.x||o.y){this.ec.curve.type==="mont"?i(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&i(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,l)},s.prototype.derive=function(o){return o.validate()||i(o.validate(),"public point not validated"),o.mul(this.priv).getX()},s.prototype.sign=function(o,l,u){return this.ec.sign(o,this,l,u)},s.prototype.verify=function(o,l,u){return this.ec.verify(o,l,this,void 0,u)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),px=Et((e,t)=>{var r=Ba(),n=Si(),i=n.assert;function s(h,d){if(h instanceof s)return h;this._importDER(h,d)||(i(h.r&&h.s,"Signature without r or s"),this.r=new r(h.r,16),this.s=new r(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}a(s,"Y"),t.exports=s;function o(){this.place=0}a(o,"O");function l(h,d){var g=h[d.place++];if(!(g&128))return g;var m=g&15;if(m===0||m>4||h[d.place]===0)return!1;for(var y=0,x=0,A=d.place;x<m;x++,A++)y<<=8,y|=h[A],y>>>=0;return y<=127?!1:(d.place=A,y)}a(l,"z");function u(h){for(var d=0,g=h.length-1;!h[d]&&!(h[d+1]&128)&&d<g;)d++;return d===0?h:h.slice(d)}a(u,"J"),s.prototype._importDER=function(h,d){h=n.toArray(h,d);var g=new o;if(h[g.place++]!==48)return!1;var m=l(h,g);if(m===!1||m+g.place!==h.length||h[g.place++]!==2)return!1;var y=l(h,g);if(y===!1||(h[g.place]&128)!==0)return!1;var x=h.slice(g.place,y+g.place);if(g.place+=y,h[g.place++]!==2)return!1;var A=l(h,g);if(A===!1||h.length!==A+g.place||(h[g.place]&128)!==0)return!1;var C=h.slice(g.place,A+g.place);if(x[0]===0)if(x[1]&128)x=x.slice(1);else return!1;if(C[0]===0)if(C[1]&128)C=C.slice(1);else return!1;return this.r=new r(x),this.s=new r(C),this.recoveryParam=null,!0};function c(h,d){if(d<128){h.push(d);return}var g=1+(Math.log(d)/Math.LN2>>>3);for(h.push(g|128);--g;)h.push(d>>>(g<<3)&255);h.push(d)}a(c,"T"),s.prototype.toDER=function(h){var d=this.r.toArray(),g=this.s.toArray();for(d[0]&128&&(d=[0].concat(d)),g[0]&128&&(g=[0].concat(g)),d=u(d),g=u(g);!g[0]&&!(g[1]&128);)g=g.slice(1);var m=[2];c(m,d.length),m=m.concat(d),m.push(2),c(m,g.length);var y=m.concat(g),x=[48];return c(x,y.length),x=x.concat(y),n.encode(x,h)}}),mx=Et((e,t)=>{var r=Ba(),n=hx(),i=Si(),s=gf(),o=rv(),l=i.assert,u=fx(),c=px();function h(d){if(!(this instanceof h))return new h(d);typeof d=="string"&&(l(Object.prototype.hasOwnProperty.call(s,d),"Unknown curve "+d),d=s[d]),d instanceof s.PresetCurve&&(d={curve:d}),this.curve=d.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=d.curve.g,this.g.precompute(d.curve.n.bitLength()+1),this.hash=d.hash||d.curve.hash}a(h,"X"),t.exports=h,h.prototype.keyPair=function(d){return new u(this,d)},h.prototype.keyFromPrivate=function(d,g){return u.fromPrivate(this,d,g)},h.prototype.keyFromPublic=function(d,g){return u.fromPublic(this,d,g)},h.prototype.genKeyPair=function(d){d||(d={});for(var g=new n({hash:this.hash,pers:d.pers,persEnc:d.persEnc||"utf8",entropy:d.entropy||o(this.hash.hmacStrength),entropyEnc:d.entropy&&d.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),y=this.n.sub(new r(2));;){var x=new r(g.generate(m));if(!(x.cmp(y)>0))return x.iaddn(1),this.keyFromPrivate(x)}},h.prototype._truncateToN=function(d,g,m){var y;if(r.isBN(d)||typeof d=="number")d=new r(d,16),y=d.byteLength();else if(typeof d=="object")y=d.length,d=new r(d,16);else{var x=d.toString();y=x.length+1>>>1,d=new r(x,16)}typeof m!="number"&&(m=y*8);var A=m-this.n.bitLength();return A>0&&(d=d.ushrn(A)),!g&&d.cmp(this.n)>=0?d.sub(this.n):d},h.prototype.sign=function(d,g,m,y){if(typeof m=="object"&&(y=m,m=null),y||(y={}),typeof d!="string"&&typeof d!="number"&&!r.isBN(d)){l(typeof d=="object"&&d&&typeof d.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),l(d.length>>>0===d.length);for(var x=0;x<d.length;x++)l((d[x]&255)===d[x])}g=this.keyFromPrivate(g,m),d=this._truncateToN(d,!1,y.msgBitLength),l(!d.isNeg(),"Can not sign a negative message");var A=this.n.byteLength(),C=g.getPrivate().toArray("be",A),M=d.toArray("be",A);l(new r(M).eq(d),"Can not sign message");for(var R=new n({hash:this.hash,entropy:C,nonce:M,pers:y.pers,persEnc:y.persEnc||"utf8"}),P=this.n.sub(new r(1)),L=0;;L++){var z=y.k?y.k(L):new r(R.generate(this.n.byteLength()));if(z=this._truncateToN(z,!0),!(z.cmpn(1)<=0||z.cmp(P)>=0)){var Z=this.g.mul(z);if(!Z.isInfinity()){var Y=Z.getX(),ae=Y.umod(this.n);if(ae.cmpn(0)!==0){var F=z.invm(this.n).mul(ae.mul(g.getPrivate()).iadd(d));if(F=F.umod(this.n),F.cmpn(0)!==0){var W=(Z.getY().isOdd()?1:0)|(Y.cmp(ae)!==0?2:0);return y.canonical&&F.cmp(this.nh)>0&&(F=this.n.sub(F),W^=1),new c({r:ae,s:F,recoveryParam:W})}}}}}},h.prototype.verify=function(d,g,m,y,x){x||(x={}),d=this._truncateToN(d,!1,x.msgBitLength),m=this.keyFromPublic(m,y),g=new c(g,"hex");var{r:A,s:C}=g;if(A.cmpn(1)<0||A.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var M=C.invm(this.n),R=M.mul(d).umod(this.n),P=M.mul(A).umod(this.n),L;return this.curve._maxwellTrick?(L=this.g.jmulAdd(R,m.getPublic(),P),L.isInfinity()?!1:L.eqXToP(A)):(L=this.g.mulAdd(R,m.getPublic(),P),L.isInfinity()?!1:L.getX().umod(this.n).cmp(A)===0)},h.prototype.recoverPubKey=function(d,g,m,y){l((3&m)===m,"The recovery param is more than two bits"),g=new c(g,y);var x=this.n,A=new r(d),C=g.r,M=g.s,R=m&1,P=m>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&P)throw Error("Unable to find sencond key candinate");P?C=this.curve.pointFromX(C.add(this.curve.n),R):C=this.curve.pointFromX(C,R);var L=g.r.invm(x),z=x.sub(A).mul(L).umod(x),Z=M.mul(L).umod(x);return this.g.mulAdd(z,C,Z)},h.prototype.getKeyRecoveryParam=function(d,g,m,y){if(g=new c(g,y),g.recoveryParam!==null)return g.recoveryParam;for(var x=0;x<4;x++){var A;try{A=this.recoverPubKey(d,g,x)}catch{continue}if(A.eq(m))return x}throw Error("Unable to find valid recovery factor")}}),gx=Et((e,t)=>{var r=Si(),n=r.assert,i=r.parseBytes,s=r.cachedProperty;function o(l,u){this.eddsa=l,this._secret=i(u.secret),l.isPoint(u.pub)?this._pub=u.pub:this._pubBytes=i(u.pub)}a(o,"O"),o.fromPublic=function(l,u){return u instanceof o?u:new o(l,{pub:u})},o.fromSecret=function(l,u){return u instanceof o?u:new o(l,{secret:u})},o.prototype.secret=function(){return this._secret},s(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(o,"privBytes",function(){var l=this.eddsa,u=this.hash(),c=l.encodingLength-1,h=u.slice(0,l.encodingLength);return h[0]&=248,h[c]&=127,h[c]|=64,h}),s(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(l){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},o.prototype.verify=function(l,u){return this.eddsa.verify(l,u,this)},o.prototype.getSecret=function(l){return n(this._secret,"KeyPair is public only"),r.encode(this.secret(),l)},o.prototype.getPublic=function(l){return r.encode(this.pubBytes(),l)},t.exports=o}),vx=Et((e,t)=>{var r=Ba(),n=Si(),i=n.assert,s=n.cachedProperty,o=n.parseBytes;function l(u,c){this.eddsa=u,typeof c!="object"&&(c=o(c)),Array.isArray(c)&&(i(c.length===u.encodingLength*2,"Signature has invalid size"),c={R:c.slice(0,u.encodingLength),S:c.slice(u.encodingLength)}),i(c.R&&c.S,"Signature without R or S"),u.isPoint(c.R)&&(this._R=c.R),c.S instanceof r&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}a(l,"z"),s(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},t.exports=l}),bx=Et((e,t)=>{var r=mf(),n=gf(),i=Si(),s=i.assert,o=i.parseBytes,l=gx(),u=vx();function c(h){if(s(h==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(h);h=n[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=r.sha512}a(c,"T"),t.exports=c,c.prototype.sign=function(h,d){h=o(h);var g=this.keyFromSecret(d),m=this.hashInt(g.messagePrefix(),h),y=this.g.mul(m),x=this.encodePoint(y),A=this.hashInt(x,g.pubBytes(),h).mul(g.priv()),C=m.add(A).umod(this.curve.n);return this.makeSignature({R:y,S:C,Rencoded:x})},c.prototype.verify=function(h,d,g){if(h=o(h),d=this.makeSignature(d),d.S().gte(d.eddsa.curve.n)||d.S().isNeg())return!1;var m=this.keyFromPublic(g),y=this.hashInt(d.Rencoded(),m.pubBytes(),h),x=this.g.mul(d.S()),A=d.R().add(m.pub().mul(y));return A.eq(x)},c.prototype.hashInt=function(){for(var h=this.hash(),d=0;d<arguments.length;d++)h.update(arguments[d]);return i.intFromLE(h.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(h){return l.fromPublic(this,h)},c.prototype.keyFromSecret=function(h){return l.fromSecret(this,h)},c.prototype.makeSignature=function(h){return h instanceof u?h:new u(this,h)},c.prototype.encodePoint=function(h){var d=h.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=h.getX().isOdd()?128:0,d},c.prototype.decodePoint=function(h){h=i.parseBytes(h);var d=h.length-1,g=h.slice(0,d).concat(h[d]&-129),m=(h[d]&128)!==0,y=i.intFromLE(g);return this.curve.pointFromY(y,m)},c.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(h){return i.intFromLE(h)},c.prototype.isPoint=function(h){return h instanceof this.pointClass}}),yx=Et(e=>{var t=e;t.version=ex().version,t.utils=Si(),t.rand=rv(),t.curve=nv(),t.curves=gf(),t.ec=mx(),t.eddsa=bx()}),wx=Et((e,t)=>{(function(r,n){function i(f,w){if(!f)throw Error(w||"Assertion failed")}a(i,"_");function s(f,w){f.super_=w;var v=a(function(){},"Z");v.prototype=w.prototype,f.prototype=new v,f.prototype.constructor=f}a(s,"Y");function o(f,w,v){if(o.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((w==="le"||w==="be")&&(v=w,w=10),this._init(f||0,w||10,v||"be"))}a(o,"O"),typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(Bn(),hr(Mn)).Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,w){return f.cmp(w)>0?f:w},o.min=function(f,w){return f.cmp(w)<0?f:w},o.prototype._init=function(f,w,v){if(typeof f=="number")return this._initNumber(f,w,v);if(typeof f=="object")return this._initArray(f,w,v);w==="hex"&&(w=16),i(w===(w|0)&&w>=2&&w<=36),f=f.toString().replace(/\s+/g,"");var _=0;f[0]==="-"&&(_++,this.negative=1),_<f.length&&(w===16?this._parseHex(f,_,v):(this._parseBase(f,w,_),v==="le"&&this._initArray(this.toArray(),w,v)))},o.prototype._initNumber=function(f,w,v){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(i(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),w,v)},o.prototype._initArray=function(f,w,v){if(i(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,T,N=0;if(v==="be")for(_=f.length-1,S=0;_>=0;_-=3)T=f[_]|f[_-1]<<8|f[_-2]<<16,this.words[S]|=T<<N&67108863,this.words[S+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);else if(v==="le")for(_=0,S=0;_<f.length;_+=3)T=f[_]|f[_+1]<<8|f[_+2]<<16,this.words[S]|=T<<N&67108863,this.words[S+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);return this.strip()};function u(f,w){var v=f.charCodeAt(w);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}a(u,"J");function c(f,w,v){var _=u(f,v);return v-1>=w&&(_|=u(f,v-1)<<4),_}a(c,"T"),o.prototype._parseHex=function(f,w,v){this.length=Math.ceil((f.length-w)/6),this.words=Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S=0,T=0,N;if(v==="be")for(_=f.length-1;_>=w;_-=2)N=c(f,w,_)<<S,this.words[T]|=N&67108863,S>=18?(S-=18,T+=1,this.words[T]|=N>>>26):S+=8;else{var k=f.length-w;for(_=k%2===0?w+1:w;_<f.length;_+=2)N=c(f,w,_)<<S,this.words[T]|=N&67108863,S>=18?(S-=18,T+=1,this.words[T]|=N>>>26):S+=8}this.strip()};function h(f,w,v,_){for(var S=0,T=Math.min(f.length,v),N=w;N<T;N++){var k=f.charCodeAt(N)-48;S*=_,k>=49?S+=k-49+10:k>=17?S+=k-17+10:S+=k}return S}a(h,"X"),o.prototype._parseBase=function(f,w,v){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=w)_++;_--,S=S/w|0;for(var T=f.length-v,N=T%_,k=Math.min(T,T-N)+v,p=0,E=v;E<k;E+=_)p=h(f,E,E+_,w),this.imuln(S),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var I=1;for(p=h(f,E,f.length,w),E=0;E<N;E++)I*=w;this.imuln(I),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},o.prototype.copy=function(f){f.words=Array(this.length);for(var w=0;w<this.length;w++)f.words[w]=this.words[w];f.length=this.length,f.negative=this.negative,f.red=this.red},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,w){f=f||10,w=w|0||1;var v;if(f===16||f==="hex"){v="";for(var _=0,S=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<_|S)&16777215).toString(16);S=N>>>24-_&16777215,_+=2,_>=26&&(_-=26,T--),S!==0||T!==this.length-1?v=d[6-k.length]+k+v:v=k+v}for(S!==0&&(v=S.toString(16)+v);v.length%w!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(f===(f|0)&&f>=2&&f<=36){var p=g[f],E=m[f];v="";var I=this.clone();for(I.negative=0;!I.isZero();){var O=I.modn(E).toString(f);I=I.idivn(E),I.isZero()?v=O+v:v=d[p-O.length]+O+v}for(this.isZero()&&(v="0"+v);v.length%w!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(f,w){return i(typeof l<"u"),this.toArrayLike(l,f,w)},o.prototype.toArray=function(f,w){return this.toArrayLike(Array,f,w)},o.prototype.toArrayLike=function(f,w,v){var _=this.byteLength(),S=v||Math.max(1,_);i(_<=S,"byte array longer than desired length"),i(S>0,"Requested array length <= 0"),this.strip();var T=w==="le",N=new f(S),k,p,E=this.clone();if(T){for(p=0;!E.isZero();p++)k=E.andln(255),E.iushrn(8),N[p]=k;for(;p<S;p++)N[p]=0}else{for(p=0;p<S-_;p++)N[p]=0;for(p=0;!E.isZero();p++)k=E.andln(255),E.iushrn(8),N[S-p-1]=k}return N},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var w=f,v=0;return w>=4096&&(v+=13,w>>>=13),w>=64&&(v+=7,w>>>=7),w>=8&&(v+=4,w>>>=4),w>=2&&(v+=2,w>>>=2),v+w},o.prototype._zeroBits=function(f){if(f===0)return 26;var w=f,v=0;return(w&8191)===0&&(v+=13,w>>>=13),(w&127)===0&&(v+=7,w>>>=7),(w&15)===0&&(v+=4,w>>>=4),(w&3)===0&&(v+=2,w>>>=2),(w&1)===0&&v++,v},o.prototype.bitLength=function(){var f=this.words[this.length-1],w=this._countBits(f);return(this.length-1)*26+w};function y(f){for(var w=Array(f.bitLength()),v=0;v<w.length;v++){var _=v/26|0,S=v%26;w[v]=(f.words[_]&1<<S)>>>S}return w}a(y,"N"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,w=0;w<this.length;w++){var v=this._zeroBits(this.words[w]);if(f+=v,v!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]|f.words[w];return this.strip()},o.prototype.ior=function(f){return i((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var w;this.length>f.length?w=f:w=this;for(var v=0;v<w.length;v++)this.words[v]=this.words[v]&f.words[v];return this.length=w.length,this.strip()},o.prototype.iand=function(f){return i((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var w,v;this.length>f.length?(w=this,v=f):(w=f,v=this);for(var _=0;_<v.length;_++)this.words[_]=w.words[_]^v.words[_];if(this!==w)for(;_<w.length;_++)this.words[_]=w.words[_];return this.length=w.length,this.strip()},o.prototype.ixor=function(f){return i((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){i(typeof f=="number"&&f>=0);var w=Math.ceil(f/26)|0,v=f%26;this._expand(w),v>0&&w--;for(var _=0;_<w;_++)this.words[_]=~this.words[_]&67108863;return v>0&&(this.words[_]=~this.words[_]&67108863>>26-v),this.strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,w){i(typeof f=="number"&&f>=0);var v=f/26|0,_=f%26;return this._expand(v+1),w?this.words[v]=this.words[v]|1<<_:this.words[v]=this.words[v]&~(1<<_),this.strip()},o.prototype.iadd=function(f){var w;if(this.negative!==0&&f.negative===0)return this.negative=0,w=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,w=this.isub(f),f.negative=1,w._normSign();var v,_;this.length>f.length?(v=this,_=f):(v=f,_=this);for(var S=0,T=0;T<_.length;T++)w=(v.words[T]|0)+(_.words[T]|0)+S,this.words[T]=w&67108863,S=w>>>26;for(;S!==0&&T<v.length;T++)w=(v.words[T]|0)+S,this.words[T]=w&67108863,S=w>>>26;if(this.length=v.length,S!==0)this.words[this.length]=S,this.length++;else if(v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this},o.prototype.add=function(f){var w;return f.negative!==0&&this.negative===0?(f.negative=0,w=this.sub(f),f.negative^=1,w):f.negative===0&&this.negative!==0?(this.negative=0,w=f.sub(this),this.negative=1,w):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var w=this.iadd(f);return f.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var v=this.cmp(f);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,S;v>0?(_=this,S=f):(_=f,S=this);for(var T=0,N=0;N<S.length;N++)w=(_.words[N]|0)-(S.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;for(;T!==0&&N<_.length;N++)w=(_.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;if(T===0&&N<_.length&&_!==this)for(;N<_.length;N++)this.words[N]=_.words[N];return this.length=Math.max(this.length,N),_!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function x(f,w,v){v.negative=w.negative^f.negative;var _=f.length+w.length|0;v.length=_,_=_-1|0;var S=f.words[0]|0,T=w.words[0]|0,N=S*T,k=N&67108863,p=N/67108864|0;v.words[0]=k;for(var E=1;E<_;E++){for(var I=p>>>26,O=p&67108863,B=Math.min(E,w.length-1),H=Math.max(0,E-f.length+1);H<=B;H++){var G=E-H|0;S=f.words[G]|0,T=w.words[H]|0,N=S*T+O,I+=N/67108864|0,O=N&67108863}v.words[E]=O|0,p=I|0}return p!==0?v.words[E]=p|0:v.length--,v.strip()}a(x,"E");var A=a(function(f,w,v){var _=f.words,S=w.words,T=v.words,N=0,k,p,E,I=_[0]|0,O=I&8191,B=I>>>13,H=_[1]|0,G=H&8191,J=H>>>13,ce=_[2]|0,ne=ce&8191,se=ce>>>13,Ye=_[3]|0,Te=Ye&8191,ye=Ye>>>13,Me=_[4]|0,X=Me&8191,oe=Me>>>13,ee=_[5]|0,te=ee&8191,fe=ee>>>13,xe=_[6]|0,Re=xe&8191,de=xe>>>13,$=_[7]|0,q=$&8191,K=$>>>13,le=_[8]|0,ue=le&8191,ie=le>>>13,et=_[9]|0,Pe=et&8191,Ke=et>>>13,Ct=S[0]|0,Ce=Ct&8191,Qe=Ct>>>13,_e=S[1]|0,Ie=_e&8191,Ge=_e>>>13,Je=S[2]|0,Fe=Je&8191,rt=Je>>>13,Rt=S[3]|0,We=Rt&8191,Oe=Rt>>>13,tt=S[4]|0,Be=tt&8191,nt=tt>>>13,Tt=S[5]|0,pe=Tt&8191,we=Tt>>>13,$e=S[6]|0,De=$e&8191,ze=$e>>>13,ct=S[7]|0,me=ct&8191,je=ct>>>13,lt=S[8]|0,Ne=lt&8191,ut=lt>>>13,Ut=S[9]|0,st=Ut&8191,mt=Ut>>>13;v.negative=f.negative^w.negative,v.length=19,k=Math.imul(O,Ce),p=Math.imul(O,Qe),p=p+Math.imul(B,Ce)|0,E=Math.imul(B,Qe);var Ze=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,k=Math.imul(G,Ce),p=Math.imul(G,Qe),p=p+Math.imul(J,Ce)|0,E=Math.imul(J,Qe),k=k+Math.imul(O,Ie)|0,p=p+Math.imul(O,Ge)|0,p=p+Math.imul(B,Ie)|0,E=E+Math.imul(B,Ge)|0;var at=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(at>>>26)|0,at&=67108863,k=Math.imul(ne,Ce),p=Math.imul(ne,Qe),p=p+Math.imul(se,Ce)|0,E=Math.imul(se,Qe),k=k+Math.imul(G,Ie)|0,p=p+Math.imul(G,Ge)|0,p=p+Math.imul(J,Ie)|0,E=E+Math.imul(J,Ge)|0,k=k+Math.imul(O,Fe)|0,p=p+Math.imul(O,rt)|0,p=p+Math.imul(B,Fe)|0,E=E+Math.imul(B,rt)|0;var Dt=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,k=Math.imul(Te,Ce),p=Math.imul(Te,Qe),p=p+Math.imul(ye,Ce)|0,E=Math.imul(ye,Qe),k=k+Math.imul(ne,Ie)|0,p=p+Math.imul(ne,Ge)|0,p=p+Math.imul(se,Ie)|0,E=E+Math.imul(se,Ge)|0,k=k+Math.imul(G,Fe)|0,p=p+Math.imul(G,rt)|0,p=p+Math.imul(J,Fe)|0,E=E+Math.imul(J,rt)|0,k=k+Math.imul(O,We)|0,p=p+Math.imul(O,Oe)|0,p=p+Math.imul(B,We)|0,E=E+Math.imul(B,Oe)|0;var rr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(rr>>>26)|0,rr&=67108863,k=Math.imul(X,Ce),p=Math.imul(X,Qe),p=p+Math.imul(oe,Ce)|0,E=Math.imul(oe,Qe),k=k+Math.imul(Te,Ie)|0,p=p+Math.imul(Te,Ge)|0,p=p+Math.imul(ye,Ie)|0,E=E+Math.imul(ye,Ge)|0,k=k+Math.imul(ne,Fe)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(se,Fe)|0,E=E+Math.imul(se,rt)|0,k=k+Math.imul(G,We)|0,p=p+Math.imul(G,Oe)|0,p=p+Math.imul(J,We)|0,E=E+Math.imul(J,Oe)|0,k=k+Math.imul(O,Be)|0,p=p+Math.imul(O,nt)|0,p=p+Math.imul(B,Be)|0,E=E+Math.imul(B,nt)|0;var Yt=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,k=Math.imul(te,Ce),p=Math.imul(te,Qe),p=p+Math.imul(fe,Ce)|0,E=Math.imul(fe,Qe),k=k+Math.imul(X,Ie)|0,p=p+Math.imul(X,Ge)|0,p=p+Math.imul(oe,Ie)|0,E=E+Math.imul(oe,Ge)|0,k=k+Math.imul(Te,Fe)|0,p=p+Math.imul(Te,rt)|0,p=p+Math.imul(ye,Fe)|0,E=E+Math.imul(ye,rt)|0,k=k+Math.imul(ne,We)|0,p=p+Math.imul(ne,Oe)|0,p=p+Math.imul(se,We)|0,E=E+Math.imul(se,Oe)|0,k=k+Math.imul(G,Be)|0,p=p+Math.imul(G,nt)|0,p=p+Math.imul(J,Be)|0,E=E+Math.imul(J,nt)|0,k=k+Math.imul(O,pe)|0,p=p+Math.imul(O,we)|0,p=p+Math.imul(B,pe)|0,E=E+Math.imul(B,we)|0;var yr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(yr>>>26)|0,yr&=67108863,k=Math.imul(Re,Ce),p=Math.imul(Re,Qe),p=p+Math.imul(de,Ce)|0,E=Math.imul(de,Qe),k=k+Math.imul(te,Ie)|0,p=p+Math.imul(te,Ge)|0,p=p+Math.imul(fe,Ie)|0,E=E+Math.imul(fe,Ge)|0,k=k+Math.imul(X,Fe)|0,p=p+Math.imul(X,rt)|0,p=p+Math.imul(oe,Fe)|0,E=E+Math.imul(oe,rt)|0,k=k+Math.imul(Te,We)|0,p=p+Math.imul(Te,Oe)|0,p=p+Math.imul(ye,We)|0,E=E+Math.imul(ye,Oe)|0,k=k+Math.imul(ne,Be)|0,p=p+Math.imul(ne,nt)|0,p=p+Math.imul(se,Be)|0,E=E+Math.imul(se,nt)|0,k=k+Math.imul(G,pe)|0,p=p+Math.imul(G,we)|0,p=p+Math.imul(J,pe)|0,E=E+Math.imul(J,we)|0,k=k+Math.imul(O,De)|0,p=p+Math.imul(O,ze)|0,p=p+Math.imul(B,De)|0,E=E+Math.imul(B,ze)|0;var Pr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,k=Math.imul(q,Ce),p=Math.imul(q,Qe),p=p+Math.imul(K,Ce)|0,E=Math.imul(K,Qe),k=k+Math.imul(Re,Ie)|0,p=p+Math.imul(Re,Ge)|0,p=p+Math.imul(de,Ie)|0,E=E+Math.imul(de,Ge)|0,k=k+Math.imul(te,Fe)|0,p=p+Math.imul(te,rt)|0,p=p+Math.imul(fe,Fe)|0,E=E+Math.imul(fe,rt)|0,k=k+Math.imul(X,We)|0,p=p+Math.imul(X,Oe)|0,p=p+Math.imul(oe,We)|0,E=E+Math.imul(oe,Oe)|0,k=k+Math.imul(Te,Be)|0,p=p+Math.imul(Te,nt)|0,p=p+Math.imul(ye,Be)|0,E=E+Math.imul(ye,nt)|0,k=k+Math.imul(ne,pe)|0,p=p+Math.imul(ne,we)|0,p=p+Math.imul(se,pe)|0,E=E+Math.imul(se,we)|0,k=k+Math.imul(G,De)|0,p=p+Math.imul(G,ze)|0,p=p+Math.imul(J,De)|0,E=E+Math.imul(J,ze)|0,k=k+Math.imul(O,me)|0,p=p+Math.imul(O,je)|0,p=p+Math.imul(B,me)|0,E=E+Math.imul(B,je)|0;var wr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(wr>>>26)|0,wr&=67108863,k=Math.imul(ue,Ce),p=Math.imul(ue,Qe),p=p+Math.imul(ie,Ce)|0,E=Math.imul(ie,Qe),k=k+Math.imul(q,Ie)|0,p=p+Math.imul(q,Ge)|0,p=p+Math.imul(K,Ie)|0,E=E+Math.imul(K,Ge)|0,k=k+Math.imul(Re,Fe)|0,p=p+Math.imul(Re,rt)|0,p=p+Math.imul(de,Fe)|0,E=E+Math.imul(de,rt)|0,k=k+Math.imul(te,We)|0,p=p+Math.imul(te,Oe)|0,p=p+Math.imul(fe,We)|0,E=E+Math.imul(fe,Oe)|0,k=k+Math.imul(X,Be)|0,p=p+Math.imul(X,nt)|0,p=p+Math.imul(oe,Be)|0,E=E+Math.imul(oe,nt)|0,k=k+Math.imul(Te,pe)|0,p=p+Math.imul(Te,we)|0,p=p+Math.imul(ye,pe)|0,E=E+Math.imul(ye,we)|0,k=k+Math.imul(ne,De)|0,p=p+Math.imul(ne,ze)|0,p=p+Math.imul(se,De)|0,E=E+Math.imul(se,ze)|0,k=k+Math.imul(G,me)|0,p=p+Math.imul(G,je)|0,p=p+Math.imul(J,me)|0,E=E+Math.imul(J,je)|0,k=k+Math.imul(O,Ne)|0,p=p+Math.imul(O,ut)|0,p=p+Math.imul(B,Ne)|0,E=E+Math.imul(B,ut)|0;var pr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(pr>>>26)|0,pr&=67108863,k=Math.imul(Pe,Ce),p=Math.imul(Pe,Qe),p=p+Math.imul(Ke,Ce)|0,E=Math.imul(Ke,Qe),k=k+Math.imul(ue,Ie)|0,p=p+Math.imul(ue,Ge)|0,p=p+Math.imul(ie,Ie)|0,E=E+Math.imul(ie,Ge)|0,k=k+Math.imul(q,Fe)|0,p=p+Math.imul(q,rt)|0,p=p+Math.imul(K,Fe)|0,E=E+Math.imul(K,rt)|0,k=k+Math.imul(Re,We)|0,p=p+Math.imul(Re,Oe)|0,p=p+Math.imul(de,We)|0,E=E+Math.imul(de,Oe)|0,k=k+Math.imul(te,Be)|0,p=p+Math.imul(te,nt)|0,p=p+Math.imul(fe,Be)|0,E=E+Math.imul(fe,nt)|0,k=k+Math.imul(X,pe)|0,p=p+Math.imul(X,we)|0,p=p+Math.imul(oe,pe)|0,E=E+Math.imul(oe,we)|0,k=k+Math.imul(Te,De)|0,p=p+Math.imul(Te,ze)|0,p=p+Math.imul(ye,De)|0,E=E+Math.imul(ye,ze)|0,k=k+Math.imul(ne,me)|0,p=p+Math.imul(ne,je)|0,p=p+Math.imul(se,me)|0,E=E+Math.imul(se,je)|0,k=k+Math.imul(G,Ne)|0,p=p+Math.imul(G,ut)|0,p=p+Math.imul(J,Ne)|0,E=E+Math.imul(J,ut)|0,k=k+Math.imul(O,st)|0,p=p+Math.imul(O,mt)|0,p=p+Math.imul(B,st)|0,E=E+Math.imul(B,mt)|0;var Gr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,k=Math.imul(Pe,Ie),p=Math.imul(Pe,Ge),p=p+Math.imul(Ke,Ie)|0,E=Math.imul(Ke,Ge),k=k+Math.imul(ue,Fe)|0,p=p+Math.imul(ue,rt)|0,p=p+Math.imul(ie,Fe)|0,E=E+Math.imul(ie,rt)|0,k=k+Math.imul(q,We)|0,p=p+Math.imul(q,Oe)|0,p=p+Math.imul(K,We)|0,E=E+Math.imul(K,Oe)|0,k=k+Math.imul(Re,Be)|0,p=p+Math.imul(Re,nt)|0,p=p+Math.imul(de,Be)|0,E=E+Math.imul(de,nt)|0,k=k+Math.imul(te,pe)|0,p=p+Math.imul(te,we)|0,p=p+Math.imul(fe,pe)|0,E=E+Math.imul(fe,we)|0,k=k+Math.imul(X,De)|0,p=p+Math.imul(X,ze)|0,p=p+Math.imul(oe,De)|0,E=E+Math.imul(oe,ze)|0,k=k+Math.imul(Te,me)|0,p=p+Math.imul(Te,je)|0,p=p+Math.imul(ye,me)|0,E=E+Math.imul(ye,je)|0,k=k+Math.imul(ne,Ne)|0,p=p+Math.imul(ne,ut)|0,p=p+Math.imul(se,Ne)|0,E=E+Math.imul(se,ut)|0,k=k+Math.imul(G,st)|0,p=p+Math.imul(G,mt)|0,p=p+Math.imul(J,st)|0,E=E+Math.imul(J,mt)|0;var Zr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,k=Math.imul(Pe,Fe),p=Math.imul(Pe,rt),p=p+Math.imul(Ke,Fe)|0,E=Math.imul(Ke,rt),k=k+Math.imul(ue,We)|0,p=p+Math.imul(ue,Oe)|0,p=p+Math.imul(ie,We)|0,E=E+Math.imul(ie,Oe)|0,k=k+Math.imul(q,Be)|0,p=p+Math.imul(q,nt)|0,p=p+Math.imul(K,Be)|0,E=E+Math.imul(K,nt)|0,k=k+Math.imul(Re,pe)|0,p=p+Math.imul(Re,we)|0,p=p+Math.imul(de,pe)|0,E=E+Math.imul(de,we)|0,k=k+Math.imul(te,De)|0,p=p+Math.imul(te,ze)|0,p=p+Math.imul(fe,De)|0,E=E+Math.imul(fe,ze)|0,k=k+Math.imul(X,me)|0,p=p+Math.imul(X,je)|0,p=p+Math.imul(oe,me)|0,E=E+Math.imul(oe,je)|0,k=k+Math.imul(Te,Ne)|0,p=p+Math.imul(Te,ut)|0,p=p+Math.imul(ye,Ne)|0,E=E+Math.imul(ye,ut)|0,k=k+Math.imul(ne,st)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(se,st)|0,E=E+Math.imul(se,mt)|0;var Nr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,k=Math.imul(Pe,We),p=Math.imul(Pe,Oe),p=p+Math.imul(Ke,We)|0,E=Math.imul(Ke,Oe),k=k+Math.imul(ue,Be)|0,p=p+Math.imul(ue,nt)|0,p=p+Math.imul(ie,Be)|0,E=E+Math.imul(ie,nt)|0,k=k+Math.imul(q,pe)|0,p=p+Math.imul(q,we)|0,p=p+Math.imul(K,pe)|0,E=E+Math.imul(K,we)|0,k=k+Math.imul(Re,De)|0,p=p+Math.imul(Re,ze)|0,p=p+Math.imul(de,De)|0,E=E+Math.imul(de,ze)|0,k=k+Math.imul(te,me)|0,p=p+Math.imul(te,je)|0,p=p+Math.imul(fe,me)|0,E=E+Math.imul(fe,je)|0,k=k+Math.imul(X,Ne)|0,p=p+Math.imul(X,ut)|0,p=p+Math.imul(oe,Ne)|0,E=E+Math.imul(oe,ut)|0,k=k+Math.imul(Te,st)|0,p=p+Math.imul(Te,mt)|0,p=p+Math.imul(ye,st)|0,E=E+Math.imul(ye,mt)|0;var Fr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,k=Math.imul(Pe,Be),p=Math.imul(Pe,nt),p=p+Math.imul(Ke,Be)|0,E=Math.imul(Ke,nt),k=k+Math.imul(ue,pe)|0,p=p+Math.imul(ue,we)|0,p=p+Math.imul(ie,pe)|0,E=E+Math.imul(ie,we)|0,k=k+Math.imul(q,De)|0,p=p+Math.imul(q,ze)|0,p=p+Math.imul(K,De)|0,E=E+Math.imul(K,ze)|0,k=k+Math.imul(Re,me)|0,p=p+Math.imul(Re,je)|0,p=p+Math.imul(de,me)|0,E=E+Math.imul(de,je)|0,k=k+Math.imul(te,Ne)|0,p=p+Math.imul(te,ut)|0,p=p+Math.imul(fe,Ne)|0,E=E+Math.imul(fe,ut)|0,k=k+Math.imul(X,st)|0,p=p+Math.imul(X,mt)|0,p=p+Math.imul(oe,st)|0,E=E+Math.imul(oe,mt)|0;var Sr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,k=Math.imul(Pe,pe),p=Math.imul(Pe,we),p=p+Math.imul(Ke,pe)|0,E=Math.imul(Ke,we),k=k+Math.imul(ue,De)|0,p=p+Math.imul(ue,ze)|0,p=p+Math.imul(ie,De)|0,E=E+Math.imul(ie,ze)|0,k=k+Math.imul(q,me)|0,p=p+Math.imul(q,je)|0,p=p+Math.imul(K,me)|0,E=E+Math.imul(K,je)|0,k=k+Math.imul(Re,Ne)|0,p=p+Math.imul(Re,ut)|0,p=p+Math.imul(de,Ne)|0,E=E+Math.imul(de,ut)|0,k=k+Math.imul(te,st)|0,p=p+Math.imul(te,mt)|0,p=p+Math.imul(fe,st)|0,E=E+Math.imul(fe,mt)|0;var Cr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,k=Math.imul(Pe,De),p=Math.imul(Pe,ze),p=p+Math.imul(Ke,De)|0,E=Math.imul(Ke,ze),k=k+Math.imul(ue,me)|0,p=p+Math.imul(ue,je)|0,p=p+Math.imul(ie,me)|0,E=E+Math.imul(ie,je)|0,k=k+Math.imul(q,Ne)|0,p=p+Math.imul(q,ut)|0,p=p+Math.imul(K,Ne)|0,E=E+Math.imul(K,ut)|0,k=k+Math.imul(Re,st)|0,p=p+Math.imul(Re,mt)|0,p=p+Math.imul(de,st)|0,E=E+Math.imul(de,mt)|0;var Ur=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,k=Math.imul(Pe,me),p=Math.imul(Pe,je),p=p+Math.imul(Ke,me)|0,E=Math.imul(Ke,je),k=k+Math.imul(ue,Ne)|0,p=p+Math.imul(ue,ut)|0,p=p+Math.imul(ie,Ne)|0,E=E+Math.imul(ie,ut)|0,k=k+Math.imul(q,st)|0,p=p+Math.imul(q,mt)|0,p=p+Math.imul(K,st)|0,E=E+Math.imul(K,mt)|0;var $r=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+($r>>>26)|0,$r&=67108863,k=Math.imul(Pe,Ne),p=Math.imul(Pe,ut),p=p+Math.imul(Ke,Ne)|0,E=Math.imul(Ke,ut),k=k+Math.imul(ue,st)|0,p=p+Math.imul(ue,mt)|0,p=p+Math.imul(ie,st)|0,E=E+Math.imul(ie,mt)|0;var Xr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,k=Math.imul(Pe,st),p=Math.imul(Pe,mt),p=p+Math.imul(Ke,st)|0,E=Math.imul(Ke,mt);var Jr=(N+k|0)+((p&8191)<<13)|0;return N=(E+(p>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,T[0]=Ze,T[1]=at,T[2]=Dt,T[3]=rr,T[4]=Yt,T[5]=yr,T[6]=Pr,T[7]=wr,T[8]=pr,T[9]=Gr,T[10]=Zr,T[11]=Nr,T[12]=Fr,T[13]=Sr,T[14]=Cr,T[15]=Ur,T[16]=$r,T[17]=Xr,T[18]=Jr,N!==0&&(T[19]=N,v.length++),v},"h");Math.imul||(A=x);function C(f,w,v){v.negative=w.negative^f.negative,v.length=f.length+w.length;for(var _=0,S=0,T=0;T<v.length-1;T++){var N=S;S=0;for(var k=_&67108863,p=Math.min(T,w.length-1),E=Math.max(0,T-f.length+1);E<=p;E++){var I=T-E,O=f.words[I]|0,B=w.words[E]|0,H=O*B,G=H&67108863;N=N+(H/67108864|0)|0,G=G+k|0,k=G&67108863,N=N+(G>>>26)|0,S+=N>>>26,N&=67108863}v.words[T]=k,_=N,N=S}return _!==0?v.words[T]=_:v.length--,v.strip()}a(C,"I");function M(f,w,v){var _=new R;return _.mulp(f,w,v)}a(M,"D"),o.prototype.mulTo=function(f,w){var v,_=this.length+f.length;return this.length===10&&f.length===10?v=A(this,f,w):_<63?v=x(this,f,w):_<1024?v=C(this,f,w):v=M(this,f,w),v};function R(f,w){this.x=f,this.y=w}a(R,"g"),R.prototype.makeRBT=function(f){for(var w=Array(f),v=o.prototype._countBits(f)-1,_=0;_<f;_++)w[_]=this.revBin(_,v,f);return w},R.prototype.revBin=function(f,w,v){if(f===0||f===v-1)return f;for(var _=0,S=0;S<w;S++)_|=(f&1)<<w-S-1,f>>=1;return _},R.prototype.permute=function(f,w,v,_,S,T){for(var N=0;N<T;N++)_[N]=w[f[N]],S[N]=v[f[N]]},R.prototype.transform=function(f,w,v,_,S,T){this.permute(T,f,w,v,_,S);for(var N=1;N<S;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),E=Math.sin(2*Math.PI/k),I=0;I<S;I+=k)for(var O=p,B=E,H=0;H<N;H++){var G=v[I+H],J=_[I+H],ce=v[I+H+N],ne=_[I+H+N],se=O*ce-B*ne;ne=O*ne+B*ce,ce=se,v[I+H]=G+ce,_[I+H]=J+ne,v[I+H+N]=G-ce,_[I+H+N]=J-ne,H!==k&&(se=p*O-E*B,B=p*B+E*O,O=se)}},R.prototype.guessLen13b=function(f,w){var v=Math.max(w,f)|1,_=v&1,S=0;for(v=v/2|0;v;v=v>>>1)S++;return 1<<S+1+_},R.prototype.conjugate=function(f,w,v){if(!(v<=1))for(var _=0;_<v/2;_++){var S=f[_];f[_]=f[v-_-1],f[v-_-1]=S,S=w[_],w[_]=-w[v-_-1],w[v-_-1]=-S}},R.prototype.normalize13b=function(f,w){for(var v=0,_=0;_<w/2;_++){var S=Math.round(f[2*_+1]/w)*8192+Math.round(f[2*_]/w)+v;f[_]=S&67108863,S<67108864?v=0:v=S/67108864|0}return f},R.prototype.convert13b=function(f,w,v,_){for(var S=0,T=0;T<w;T++)S=S+(f[T]|0),v[2*T]=S&8191,S=S>>>13,v[2*T+1]=S&8191,S=S>>>13;for(T=2*w;T<_;++T)v[T]=0;i(S===0),i((S&-8192)===0)},R.prototype.stub=function(f){for(var w=Array(f),v=0;v<f;v++)w[v]=0;return w},R.prototype.mulp=function(f,w,v){var _=2*this.guessLen13b(f.length,w.length),S=this.makeRBT(_),T=this.stub(_),N=Array(_),k=Array(_),p=Array(_),E=Array(_),I=Array(_),O=Array(_),B=v.words;B.length=_,this.convert13b(f.words,f.length,N,_),this.convert13b(w.words,w.length,E,_),this.transform(N,T,k,p,_,S),this.transform(E,T,I,O,_,S);for(var H=0;H<_;H++){var G=k[H]*I[H]-p[H]*O[H];p[H]=k[H]*O[H]+p[H]*I[H],k[H]=G}return this.conjugate(k,p,_),this.transform(k,p,B,T,_,S),this.conjugate(B,T,_),this.normalize13b(B,_),v.negative=f.negative^w.negative,v.length=f.length+w.length,v.strip()},o.prototype.mul=function(f){var w=new o(null);return w.words=Array(this.length+f.length),this.mulTo(f,w)},o.prototype.mulf=function(f){var w=new o(null);return w.words=Array(this.length+f.length),M(this,f,w)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){i(typeof f=="number"),i(f<67108864);for(var w=0,v=0;v<this.length;v++){var _=(this.words[v]|0)*f,S=(_&67108863)+(w&67108863);w>>=26,w+=_/67108864|0,w+=S>>>26,this.words[v]=S&67108863}return w!==0&&(this.words[v]=w,this.length++),this.length=f===0?1:this.length,this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var w=y(f);if(w.length===0)return new o(1);for(var v=this,_=0;_<w.length&&w[_]===0;_++,v=v.sqr());if(++_<w.length)for(var S=v.sqr();_<w.length;_++,S=S.sqr())w[_]!==0&&(v=v.mul(S));return v},o.prototype.iushln=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26,_=67108863>>>26-w<<26-w,S;if(w!==0){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&_,k=(this.words[S]|0)-N<<w;this.words[S]=k|T,T=N>>>26-w}T&&(this.words[S]=T,this.length++)}if(v!==0){for(S=this.length-1;S>=0;S--)this.words[S+v]=this.words[S];for(S=0;S<v;S++)this.words[S]=0;this.length+=v}return this.strip()},o.prototype.ishln=function(f){return i(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,w,v){i(typeof f=="number"&&f>=0);var _;w?_=(w-w%26)/26:_=0;var S=f%26,T=Math.min((f-S)/26,this.length),N=67108863^67108863>>>S<<S,k=v;if(_-=T,_=Math.max(0,_),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var E=0;for(p=this.length-1;p>=0&&(E!==0||p>=_);p--){var I=this.words[p]|0;this.words[p]=E<<26-S|I>>>S,E=I&N}return k&&E!==0&&(k.words[k.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(f,w,v){return i(this.negative===0),this.iushrn(f,w,v)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26,_=1<<w;if(this.length<=v)return!1;var S=this.words[v];return!!(S&_)},o.prototype.imaskn=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(w!==0&&v++,this.length=Math.min(v,this.length),w!==0){var _=67108863^67108863>>>w<<w;this.words[this.length-1]&=_}return this.strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return i(typeof f=="number"),i(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(f){if(i(typeof f=="number"),i(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,w,v){var _=f.length+v,S;this._expand(_);var T,N=0;for(S=0;S<f.length;S++){T=(this.words[S+v]|0)+N;var k=(f.words[S]|0)*w;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[S+v]=T&67108863}for(;S<this.length-v;S++)T=(this.words[S+v]|0)+N,N=T>>26,this.words[S+v]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,S=0;S<this.length;S++)T=-(this.words[S]|0)+N,N=T>>26,this.words[S]=T&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(f,w){var v=this.length-f.length,_=this.clone(),S=f,T=S.words[S.length-1]|0,N=this._countBits(T);v=26-N,v!==0&&(S=S.ushln(v),_.iushln(v),T=S.words[S.length-1]|0);var k=_.length-S.length,p;if(w!=="mod"){p=new o(null),p.length=k+1,p.words=Array(p.length);for(var E=0;E<p.length;E++)p.words[E]=0}var I=_.clone()._ishlnsubmul(S,1,k);I.negative===0&&(_=I,p&&(p.words[k]=1));for(var O=k-1;O>=0;O--){var B=(_.words[S.length+O]|0)*67108864+(_.words[S.length+O-1]|0);for(B=Math.min(B/T|0,67108863),_._ishlnsubmul(S,B,O);_.negative!==0;)B--,_.negative=0,_._ishlnsubmul(S,1,O),!_.isZero()&&(_.negative^=1);p&&(p.words[O]=B)}return p&&p.strip(),_.strip(),w!=="div"&&v!==0&&_.iushrn(v),{div:p||null,mod:_}},o.prototype.divmod=function(f,w,v){if(i(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var _,S,T;return this.negative!==0&&f.negative===0?(T=this.neg().divmod(f,w),w!=="mod"&&(_=T.div.neg()),w!=="div"&&(S=T.mod.neg(),v&&S.negative!==0&&S.iadd(f)),{div:_,mod:S}):this.negative===0&&f.negative!==0?(T=this.divmod(f.neg(),w),w!=="mod"&&(_=T.div.neg()),{div:_,mod:T.mod}):(this.negative&f.negative)!==0?(T=this.neg().divmod(f.neg(),w),w!=="div"&&(S=T.mod.neg(),v&&S.negative!==0&&S.isub(f)),{div:T.div,mod:S}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?w==="div"?{div:this.divn(f.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modn(f.words[0]))}:this._wordDiv(f,w)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var w=this.divmod(f);if(w.mod.isZero())return w.div;var v=w.div.negative!==0?w.mod.isub(f):w.mod,_=f.ushrn(1),S=f.andln(1),T=v.cmp(_);return T<0||S===1&&T===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modn=function(f){i(f<=67108863);for(var w=67108864%f,v=0,_=this.length-1;_>=0;_--)v=(w*v+(this.words[_]|0))%f;return v},o.prototype.idivn=function(f){i(f<=67108863);for(var w=0,v=this.length-1;v>=0;v--){var _=(this.words[v]|0)+w*67108864;this.words[v]=_/f|0,w=_%f}return this.strip()},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){i(f.negative===0),i(!f.isZero());var w=this,v=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var _=new o(1),S=new o(0),T=new o(0),N=new o(1),k=0;w.isEven()&&v.isEven();)w.iushrn(1),v.iushrn(1),++k;for(var p=v.clone(),E=w.clone();!w.isZero();){for(var I=0,O=1;(w.words[0]&O)===0&&I<26;++I,O<<=1);if(I>0)for(w.iushrn(I);I-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(p),S.isub(E)),_.iushrn(1),S.iushrn(1);for(var B=0,H=1;(v.words[0]&H)===0&&B<26;++B,H<<=1);if(B>0)for(v.iushrn(B);B-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(E)),T.iushrn(1),N.iushrn(1);w.cmp(v)>=0?(w.isub(v),_.isub(T),S.isub(N)):(v.isub(w),T.isub(_),N.isub(S))}return{a:T,b:N,gcd:v.iushln(k)}},o.prototype._invmp=function(f){i(f.negative===0),i(!f.isZero());var w=this,v=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var _=new o(1),S=new o(0),T=v.clone();w.cmpn(1)>0&&v.cmpn(1)>0;){for(var N=0,k=1;(w.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(w.iushrn(N);N-- >0;)_.isOdd()&&_.iadd(T),_.iushrn(1);for(var p=0,E=1;(v.words[0]&E)===0&&p<26;++p,E<<=1);if(p>0)for(v.iushrn(p);p-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);w.cmp(v)>=0?(w.isub(v),_.isub(S)):(v.isub(w),S.isub(_))}var I;return w.cmpn(1)===0?I=_:I=S,I.cmpn(0)<0&&I.iadd(f),I},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var w=this.clone(),v=f.clone();w.negative=0,v.negative=0;for(var _=0;w.isEven()&&v.isEven();_++)w.iushrn(1),v.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;v.isEven();)v.iushrn(1);var S=w.cmp(v);if(S<0){var T=w;w=v,v=T}else if(S===0||v.cmpn(1)===0)break;w.isub(v)}while(!0);return v.iushln(_)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){i(typeof f=="number");var w=f%26,v=(f-w)/26,_=1<<w;if(this.length<=v)return this._expand(v+1),this.words[v]|=_,this;for(var S=_,T=v;S!==0&&T<this.length;T++){var N=this.words[T]|0;N+=S,S=N>>>26,N&=67108863,this.words[T]=N}return S!==0&&(this.words[T]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var w=f<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var v;if(this.length>1)v=1;else{w&&(f=-f),i(f<=67108863,"Number is too big");var _=this.words[0]|0;v=_===f?0:_<f?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var w=this.ucmp(f);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var w=0,v=this.length-1;v>=0;v--){var _=this.words[v]|0,S=f.words[v]|0;if(_!==S){_<S?w=-1:_>S&&(w=1);break}}return w},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new F(f)},o.prototype.toRed=function(f){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return i(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return i(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var P={k256:null,p224:null,p192:null,p25519:null};function L(f,w){this.name=f,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(L,"y"),L.prototype._tmp=function(){var f=new o(null);return f.words=Array(Math.ceil(this.n/13)),f},L.prototype.ireduce=function(f){var w=f,v;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),v=w.bitLength();while(v>this.n);var _=v<this.n?-1:w.ucmp(this.p);return _===0?(w.words[0]=0,w.length=1):_>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},L.prototype.split=function(f,w){f.iushrn(this.n,0,w)},L.prototype.imulK=function(f){return f.imul(this.k)};function z(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(z,"p"),s(z,L),z.prototype.split=function(f,w){for(var v=4194303,_=Math.min(f.length,9),S=0;S<_;S++)w.words[S]=f.words[S];if(w.length=_,f.length<=9){f.words[0]=0,f.length=1;return}var T=f.words[9];for(w.words[w.length++]=T&v,S=10;S<f.length;S++){var N=f.words[S]|0;f.words[S-10]=(N&v)<<4|T>>>22,T=N}T>>>=22,f.words[S-10]=T,T===0&&f.length>10?f.length-=10:f.length-=9},z.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var w=0,v=0;v<f.length;v++){var _=f.words[v]|0;w+=_*977,f.words[v]=w&67108863,w=_*64+(w/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Z(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Z,"n"),s(Z,L);function Y(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Y,"s"),s(Y,L);function ae(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(ae,"q$"),s(ae,L),ae.prototype.imulK=function(f){for(var w=0,v=0;v<f.length;v++){var _=(f.words[v]|0)*19+w,S=_&67108863;_>>>=26,f.words[v]=S,w=_}return w!==0&&(f.words[f.length++]=w),f},o._prime=function(f){if(P[f])return P[f];var w;if(f==="k256")w=new z;else if(f==="p224")w=new Z;else if(f==="p192")w=new Y;else if(f==="p25519")w=new ae;else throw Error("Unknown prime "+f);return P[f]=w,w};function F(f){if(typeof f=="string"){var w=o._prime(f);this.m=w.p,this.prime=w}else i(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}a(F,"c"),F.prototype._verify1=function(f){i(f.negative===0,"red works only with positives"),i(f.red,"red works only with red numbers")},F.prototype._verify2=function(f,w){i((f.negative|w.negative)===0,"red works only with positives"),i(f.red&&f.red===w.red,"red works only with red numbers")},F.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},F.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},F.prototype.add=function(f,w){this._verify2(f,w);var v=f.add(w);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},F.prototype.iadd=function(f,w){this._verify2(f,w);var v=f.iadd(w);return v.cmp(this.m)>=0&&v.isub(this.m),v},F.prototype.sub=function(f,w){this._verify2(f,w);var v=f.sub(w);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},F.prototype.isub=function(f,w){this._verify2(f,w);var v=f.isub(w);return v.cmpn(0)<0&&v.iadd(this.m),v},F.prototype.shl=function(f,w){return this._verify1(f),this.imod(f.ushln(w))},F.prototype.imul=function(f,w){return this._verify2(f,w),this.imod(f.imul(w))},F.prototype.mul=function(f,w){return this._verify2(f,w),this.imod(f.mul(w))},F.prototype.isqr=function(f){return this.imul(f,f.clone())},F.prototype.sqr=function(f){return this.mul(f,f)},F.prototype.sqrt=function(f){if(f.isZero())return f.clone();var w=this.m.andln(3);if(i(w%2===1),w===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(f,v)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);i(!_.isZero());var T=new o(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var E=this.pow(p,_),I=this.pow(f,_.addn(1).iushrn(1)),O=this.pow(f,_),B=S;O.cmp(T)!==0;){for(var H=O,G=0;H.cmp(T)!==0;G++)H=H.redSqr();i(G<B);var J=this.pow(E,new o(1).iushln(B-G-1));I=I.redMul(J),E=J.redSqr(),O=O.redMul(E),B=G}return I},F.prototype.invm=function(f){var w=f._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},F.prototype.pow=function(f,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return f.clone();var v=4,_=Array(1<<v);_[0]=new o(1).toRed(this),_[1]=f;for(var S=2;S<_.length;S++)_[S]=this.mul(_[S-1],f);var T=_[0],N=0,k=0,p=w.bitLength()%26;for(p===0&&(p=26),S=w.length-1;S>=0;S--){for(var E=w.words[S],I=p-1;I>=0;I--){var O=E>>I&1;if(T!==_[0]&&(T=this.sqr(T)),O===0&&N===0){k=0;continue}N<<=1,N|=O,k++,!(k!==v&&(S!==0||I!==0))&&(T=this.mul(T,_[N]),k=0,N=0)}p=26}return T},F.prototype.convertTo=function(f){var w=f.umod(this.m);return w===f?w.clone():w},F.prototype.convertFrom=function(f){var w=f.clone();return w.red=null,w},o.mont=function(f){return new W(f)};function W(f){F.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(W,"U"),s(W,F),W.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},W.prototype.convertFrom=function(f){var w=this.imod(f.mul(this.rinv));return w.red=null,w},W.prototype.imul=function(f,w){if(f.isZero()||w.isZero())return f.words[0]=0,f.length=1,f;var v=f.imul(w),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(_).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},W.prototype.mul=function(f,w){if(f.isZero()||w.isZero())return new o(0)._forceRed(this);var v=f.mul(w),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(_).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},W.prototype.invm=function(f){var w=this.imod(f._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(typeof t>"u"||t,e)}),_x=Et((e,t)=>{var r=yx(),n=wx();t.exports=function(l){return new s(l)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1;function s(l){this.curveType=i[l],!this.curveType&&(this.curveType={name:l}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}a(s,"Y"),s.prototype.generateKeys=function(l,u){return this.keys=this.curve.genKeyPair(),this.getPublicKey(l,u)},s.prototype.computeSecret=function(l,u,c){u=u||"utf8",!Buffer.isBuffer(l)&&(l=new Buffer(l,u));var h=this.curve.keyFromPublic(l).getPublic(),d=h.mul(this.keys.getPrivate()).getX();return o(d,c,this.curveType.byteLength)},s.prototype.getPublicKey=function(l,u){var c=this.keys.getPublic(u==="compressed",!0);return u==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),o(c,l)},s.prototype.getPrivateKey=function(l){return o(this.keys.getPrivate(),l)},s.prototype.setPublicKey=function(l,u){return u=u||"utf8",!Buffer.isBuffer(l)&&(l=new Buffer(l,u)),this.keys._importPublic(l),this},s.prototype.setPrivateKey=function(l,u){u=u||"utf8",!Buffer.isBuffer(l)&&(l=new Buffer(l,u));var c=new n(l);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function o(l,u,c){Array.isArray(l)||(l=l.toArray());var h=new Buffer(l);if(c&&h.length<c){var d=new Buffer(c-h.length);d.fill(0),h=Buffer.concat([d,h])}return u?h.toString(u):h}a(o,"O")}),xx=Et((e,t)=>{var r=(Ti(),hr(hi)).createECDH;t.exports=r||_x()}),Ex=Et((e,t)=>{(function(r,n){function i(f,w){if(!f)throw Error(w||"Assertion failed")}a(i,"_");function s(f,w){f.super_=w;var v=a(function(){},"Z");v.prototype=w.prototype,f.prototype=new v,f.prototype.constructor=f}a(s,"Y");function o(f,w,v){if(o.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((w==="le"||w==="be")&&(v=w,w=10),this._init(f||0,w||10,v||"be"))}a(o,"O"),typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(Bn(),hr(Mn)).Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,w){return f.cmp(w)>0?f:w},o.min=function(f,w){return f.cmp(w)<0?f:w},o.prototype._init=function(f,w,v){if(typeof f=="number")return this._initNumber(f,w,v);if(typeof f=="object")return this._initArray(f,w,v);w==="hex"&&(w=16),i(w===(w|0)&&w>=2&&w<=36),f=f.toString().replace(/\s+/g,"");var _=0;f[0]==="-"&&(_++,this.negative=1),_<f.length&&(w===16?this._parseHex(f,_,v):(this._parseBase(f,w,_),v==="le"&&this._initArray(this.toArray(),w,v)))},o.prototype._initNumber=function(f,w,v){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(i(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),w,v)},o.prototype._initArray=function(f,w,v){if(i(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,T,N=0;if(v==="be")for(_=f.length-1,S=0;_>=0;_-=3)T=f[_]|f[_-1]<<8|f[_-2]<<16,this.words[S]|=T<<N&67108863,this.words[S+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);else if(v==="le")for(_=0,S=0;_<f.length;_+=3)T=f[_]|f[_+1]<<8|f[_+2]<<16,this.words[S]|=T<<N&67108863,this.words[S+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);return this.strip()};function u(f,w){var v=f.charCodeAt(w);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}a(u,"J");function c(f,w,v){var _=u(f,v);return v-1>=w&&(_|=u(f,v-1)<<4),_}a(c,"T"),o.prototype._parseHex=function(f,w,v){this.length=Math.ceil((f.length-w)/6),this.words=Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S=0,T=0,N;if(v==="be")for(_=f.length-1;_>=w;_-=2)N=c(f,w,_)<<S,this.words[T]|=N&67108863,S>=18?(S-=18,T+=1,this.words[T]|=N>>>26):S+=8;else{var k=f.length-w;for(_=k%2===0?w+1:w;_<f.length;_+=2)N=c(f,w,_)<<S,this.words[T]|=N&67108863,S>=18?(S-=18,T+=1,this.words[T]|=N>>>26):S+=8}this.strip()};function h(f,w,v,_){for(var S=0,T=Math.min(f.length,v),N=w;N<T;N++){var k=f.charCodeAt(N)-48;S*=_,k>=49?S+=k-49+10:k>=17?S+=k-17+10:S+=k}return S}a(h,"X"),o.prototype._parseBase=function(f,w,v){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=w)_++;_--,S=S/w|0;for(var T=f.length-v,N=T%_,k=Math.min(T,T-N)+v,p=0,E=v;E<k;E+=_)p=h(f,E,E+_,w),this.imuln(S),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var I=1;for(p=h(f,E,f.length,w),E=0;E<N;E++)I*=w;this.imuln(I),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},o.prototype.copy=function(f){f.words=Array(this.length);for(var w=0;w<this.length;w++)f.words[w]=this.words[w];f.length=this.length,f.negative=this.negative,f.red=this.red},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,w){f=f||10,w=w|0||1;var v;if(f===16||f==="hex"){v="";for(var _=0,S=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<_|S)&16777215).toString(16);S=N>>>24-_&16777215,_+=2,_>=26&&(_-=26,T--),S!==0||T!==this.length-1?v=d[6-k.length]+k+v:v=k+v}for(S!==0&&(v=S.toString(16)+v);v.length%w!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(f===(f|0)&&f>=2&&f<=36){var p=g[f],E=m[f];v="";var I=this.clone();for(I.negative=0;!I.isZero();){var O=I.modn(E).toString(f);I=I.idivn(E),I.isZero()?v=O+v:v=d[p-O.length]+O+v}for(this.isZero()&&(v="0"+v);v.length%w!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(f,w){return i(typeof l<"u"),this.toArrayLike(l,f,w)},o.prototype.toArray=function(f,w){return this.toArrayLike(Array,f,w)},o.prototype.toArrayLike=function(f,w,v){var _=this.byteLength(),S=v||Math.max(1,_);i(_<=S,"byte array longer than desired length"),i(S>0,"Requested array length <= 0"),this.strip();var T=w==="le",N=new f(S),k,p,E=this.clone();if(T){for(p=0;!E.isZero();p++)k=E.andln(255),E.iushrn(8),N[p]=k;for(;p<S;p++)N[p]=0}else{for(p=0;p<S-_;p++)N[p]=0;for(p=0;!E.isZero();p++)k=E.andln(255),E.iushrn(8),N[S-p-1]=k}return N},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var w=f,v=0;return w>=4096&&(v+=13,w>>>=13),w>=64&&(v+=7,w>>>=7),w>=8&&(v+=4,w>>>=4),w>=2&&(v+=2,w>>>=2),v+w},o.prototype._zeroBits=function(f){if(f===0)return 26;var w=f,v=0;return(w&8191)===0&&(v+=13,w>>>=13),(w&127)===0&&(v+=7,w>>>=7),(w&15)===0&&(v+=4,w>>>=4),(w&3)===0&&(v+=2,w>>>=2),(w&1)===0&&v++,v},o.prototype.bitLength=function(){var f=this.words[this.length-1],w=this._countBits(f);return(this.length-1)*26+w};function y(f){for(var w=Array(f.bitLength()),v=0;v<w.length;v++){var _=v/26|0,S=v%26;w[v]=(f.words[_]&1<<S)>>>S}return w}a(y,"N"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,w=0;w<this.length;w++){var v=this._zeroBits(this.words[w]);if(f+=v,v!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]|f.words[w];return this.strip()},o.prototype.ior=function(f){return i((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var w;this.length>f.length?w=f:w=this;for(var v=0;v<w.length;v++)this.words[v]=this.words[v]&f.words[v];return this.length=w.length,this.strip()},o.prototype.iand=function(f){return i((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var w,v;this.length>f.length?(w=this,v=f):(w=f,v=this);for(var _=0;_<v.length;_++)this.words[_]=w.words[_]^v.words[_];if(this!==w)for(;_<w.length;_++)this.words[_]=w.words[_];return this.length=w.length,this.strip()},o.prototype.ixor=function(f){return i((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){i(typeof f=="number"&&f>=0);var w=Math.ceil(f/26)|0,v=f%26;this._expand(w),v>0&&w--;for(var _=0;_<w;_++)this.words[_]=~this.words[_]&67108863;return v>0&&(this.words[_]=~this.words[_]&67108863>>26-v),this.strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,w){i(typeof f=="number"&&f>=0);var v=f/26|0,_=f%26;return this._expand(v+1),w?this.words[v]=this.words[v]|1<<_:this.words[v]=this.words[v]&~(1<<_),this.strip()},o.prototype.iadd=function(f){var w;if(this.negative!==0&&f.negative===0)return this.negative=0,w=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,w=this.isub(f),f.negative=1,w._normSign();var v,_;this.length>f.length?(v=this,_=f):(v=f,_=this);for(var S=0,T=0;T<_.length;T++)w=(v.words[T]|0)+(_.words[T]|0)+S,this.words[T]=w&67108863,S=w>>>26;for(;S!==0&&T<v.length;T++)w=(v.words[T]|0)+S,this.words[T]=w&67108863,S=w>>>26;if(this.length=v.length,S!==0)this.words[this.length]=S,this.length++;else if(v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this},o.prototype.add=function(f){var w;return f.negative!==0&&this.negative===0?(f.negative=0,w=this.sub(f),f.negative^=1,w):f.negative===0&&this.negative!==0?(this.negative=0,w=f.sub(this),this.negative=1,w):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var w=this.iadd(f);return f.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var v=this.cmp(f);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,S;v>0?(_=this,S=f):(_=f,S=this);for(var T=0,N=0;N<S.length;N++)w=(_.words[N]|0)-(S.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;for(;T!==0&&N<_.length;N++)w=(_.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;if(T===0&&N<_.length&&_!==this)for(;N<_.length;N++)this.words[N]=_.words[N];return this.length=Math.max(this.length,N),_!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function x(f,w,v){v.negative=w.negative^f.negative;var _=f.length+w.length|0;v.length=_,_=_-1|0;var S=f.words[0]|0,T=w.words[0]|0,N=S*T,k=N&67108863,p=N/67108864|0;v.words[0]=k;for(var E=1;E<_;E++){for(var I=p>>>26,O=p&67108863,B=Math.min(E,w.length-1),H=Math.max(0,E-f.length+1);H<=B;H++){var G=E-H|0;S=f.words[G]|0,T=w.words[H]|0,N=S*T+O,I+=N/67108864|0,O=N&67108863}v.words[E]=O|0,p=I|0}return p!==0?v.words[E]=p|0:v.length--,v.strip()}a(x,"E");var A=a(function(f,w,v){var _=f.words,S=w.words,T=v.words,N=0,k,p,E,I=_[0]|0,O=I&8191,B=I>>>13,H=_[1]|0,G=H&8191,J=H>>>13,ce=_[2]|0,ne=ce&8191,se=ce>>>13,Ye=_[3]|0,Te=Ye&8191,ye=Ye>>>13,Me=_[4]|0,X=Me&8191,oe=Me>>>13,ee=_[5]|0,te=ee&8191,fe=ee>>>13,xe=_[6]|0,Re=xe&8191,de=xe>>>13,$=_[7]|0,q=$&8191,K=$>>>13,le=_[8]|0,ue=le&8191,ie=le>>>13,et=_[9]|0,Pe=et&8191,Ke=et>>>13,Ct=S[0]|0,Ce=Ct&8191,Qe=Ct>>>13,_e=S[1]|0,Ie=_e&8191,Ge=_e>>>13,Je=S[2]|0,Fe=Je&8191,rt=Je>>>13,Rt=S[3]|0,We=Rt&8191,Oe=Rt>>>13,tt=S[4]|0,Be=tt&8191,nt=tt>>>13,Tt=S[5]|0,pe=Tt&8191,we=Tt>>>13,$e=S[6]|0,De=$e&8191,ze=$e>>>13,ct=S[7]|0,me=ct&8191,je=ct>>>13,lt=S[8]|0,Ne=lt&8191,ut=lt>>>13,Ut=S[9]|0,st=Ut&8191,mt=Ut>>>13;v.negative=f.negative^w.negative,v.length=19,k=Math.imul(O,Ce),p=Math.imul(O,Qe),p=p+Math.imul(B,Ce)|0,E=Math.imul(B,Qe);var Ze=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,k=Math.imul(G,Ce),p=Math.imul(G,Qe),p=p+Math.imul(J,Ce)|0,E=Math.imul(J,Qe),k=k+Math.imul(O,Ie)|0,p=p+Math.imul(O,Ge)|0,p=p+Math.imul(B,Ie)|0,E=E+Math.imul(B,Ge)|0;var at=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(at>>>26)|0,at&=67108863,k=Math.imul(ne,Ce),p=Math.imul(ne,Qe),p=p+Math.imul(se,Ce)|0,E=Math.imul(se,Qe),k=k+Math.imul(G,Ie)|0,p=p+Math.imul(G,Ge)|0,p=p+Math.imul(J,Ie)|0,E=E+Math.imul(J,Ge)|0,k=k+Math.imul(O,Fe)|0,p=p+Math.imul(O,rt)|0,p=p+Math.imul(B,Fe)|0,E=E+Math.imul(B,rt)|0;var Dt=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,k=Math.imul(Te,Ce),p=Math.imul(Te,Qe),p=p+Math.imul(ye,Ce)|0,E=Math.imul(ye,Qe),k=k+Math.imul(ne,Ie)|0,p=p+Math.imul(ne,Ge)|0,p=p+Math.imul(se,Ie)|0,E=E+Math.imul(se,Ge)|0,k=k+Math.imul(G,Fe)|0,p=p+Math.imul(G,rt)|0,p=p+Math.imul(J,Fe)|0,E=E+Math.imul(J,rt)|0,k=k+Math.imul(O,We)|0,p=p+Math.imul(O,Oe)|0,p=p+Math.imul(B,We)|0,E=E+Math.imul(B,Oe)|0;var rr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(rr>>>26)|0,rr&=67108863,k=Math.imul(X,Ce),p=Math.imul(X,Qe),p=p+Math.imul(oe,Ce)|0,E=Math.imul(oe,Qe),k=k+Math.imul(Te,Ie)|0,p=p+Math.imul(Te,Ge)|0,p=p+Math.imul(ye,Ie)|0,E=E+Math.imul(ye,Ge)|0,k=k+Math.imul(ne,Fe)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(se,Fe)|0,E=E+Math.imul(se,rt)|0,k=k+Math.imul(G,We)|0,p=p+Math.imul(G,Oe)|0,p=p+Math.imul(J,We)|0,E=E+Math.imul(J,Oe)|0,k=k+Math.imul(O,Be)|0,p=p+Math.imul(O,nt)|0,p=p+Math.imul(B,Be)|0,E=E+Math.imul(B,nt)|0;var Yt=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,k=Math.imul(te,Ce),p=Math.imul(te,Qe),p=p+Math.imul(fe,Ce)|0,E=Math.imul(fe,Qe),k=k+Math.imul(X,Ie)|0,p=p+Math.imul(X,Ge)|0,p=p+Math.imul(oe,Ie)|0,E=E+Math.imul(oe,Ge)|0,k=k+Math.imul(Te,Fe)|0,p=p+Math.imul(Te,rt)|0,p=p+Math.imul(ye,Fe)|0,E=E+Math.imul(ye,rt)|0,k=k+Math.imul(ne,We)|0,p=p+Math.imul(ne,Oe)|0,p=p+Math.imul(se,We)|0,E=E+Math.imul(se,Oe)|0,k=k+Math.imul(G,Be)|0,p=p+Math.imul(G,nt)|0,p=p+Math.imul(J,Be)|0,E=E+Math.imul(J,nt)|0,k=k+Math.imul(O,pe)|0,p=p+Math.imul(O,we)|0,p=p+Math.imul(B,pe)|0,E=E+Math.imul(B,we)|0;var yr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(yr>>>26)|0,yr&=67108863,k=Math.imul(Re,Ce),p=Math.imul(Re,Qe),p=p+Math.imul(de,Ce)|0,E=Math.imul(de,Qe),k=k+Math.imul(te,Ie)|0,p=p+Math.imul(te,Ge)|0,p=p+Math.imul(fe,Ie)|0,E=E+Math.imul(fe,Ge)|0,k=k+Math.imul(X,Fe)|0,p=p+Math.imul(X,rt)|0,p=p+Math.imul(oe,Fe)|0,E=E+Math.imul(oe,rt)|0,k=k+Math.imul(Te,We)|0,p=p+Math.imul(Te,Oe)|0,p=p+Math.imul(ye,We)|0,E=E+Math.imul(ye,Oe)|0,k=k+Math.imul(ne,Be)|0,p=p+Math.imul(ne,nt)|0,p=p+Math.imul(se,Be)|0,E=E+Math.imul(se,nt)|0,k=k+Math.imul(G,pe)|0,p=p+Math.imul(G,we)|0,p=p+Math.imul(J,pe)|0,E=E+Math.imul(J,we)|0,k=k+Math.imul(O,De)|0,p=p+Math.imul(O,ze)|0,p=p+Math.imul(B,De)|0,E=E+Math.imul(B,ze)|0;var Pr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,k=Math.imul(q,Ce),p=Math.imul(q,Qe),p=p+Math.imul(K,Ce)|0,E=Math.imul(K,Qe),k=k+Math.imul(Re,Ie)|0,p=p+Math.imul(Re,Ge)|0,p=p+Math.imul(de,Ie)|0,E=E+Math.imul(de,Ge)|0,k=k+Math.imul(te,Fe)|0,p=p+Math.imul(te,rt)|0,p=p+Math.imul(fe,Fe)|0,E=E+Math.imul(fe,rt)|0,k=k+Math.imul(X,We)|0,p=p+Math.imul(X,Oe)|0,p=p+Math.imul(oe,We)|0,E=E+Math.imul(oe,Oe)|0,k=k+Math.imul(Te,Be)|0,p=p+Math.imul(Te,nt)|0,p=p+Math.imul(ye,Be)|0,E=E+Math.imul(ye,nt)|0,k=k+Math.imul(ne,pe)|0,p=p+Math.imul(ne,we)|0,p=p+Math.imul(se,pe)|0,E=E+Math.imul(se,we)|0,k=k+Math.imul(G,De)|0,p=p+Math.imul(G,ze)|0,p=p+Math.imul(J,De)|0,E=E+Math.imul(J,ze)|0,k=k+Math.imul(O,me)|0,p=p+Math.imul(O,je)|0,p=p+Math.imul(B,me)|0,E=E+Math.imul(B,je)|0;var wr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(wr>>>26)|0,wr&=67108863,k=Math.imul(ue,Ce),p=Math.imul(ue,Qe),p=p+Math.imul(ie,Ce)|0,E=Math.imul(ie,Qe),k=k+Math.imul(q,Ie)|0,p=p+Math.imul(q,Ge)|0,p=p+Math.imul(K,Ie)|0,E=E+Math.imul(K,Ge)|0,k=k+Math.imul(Re,Fe)|0,p=p+Math.imul(Re,rt)|0,p=p+Math.imul(de,Fe)|0,E=E+Math.imul(de,rt)|0,k=k+Math.imul(te,We)|0,p=p+Math.imul(te,Oe)|0,p=p+Math.imul(fe,We)|0,E=E+Math.imul(fe,Oe)|0,k=k+Math.imul(X,Be)|0,p=p+Math.imul(X,nt)|0,p=p+Math.imul(oe,Be)|0,E=E+Math.imul(oe,nt)|0,k=k+Math.imul(Te,pe)|0,p=p+Math.imul(Te,we)|0,p=p+Math.imul(ye,pe)|0,E=E+Math.imul(ye,we)|0,k=k+Math.imul(ne,De)|0,p=p+Math.imul(ne,ze)|0,p=p+Math.imul(se,De)|0,E=E+Math.imul(se,ze)|0,k=k+Math.imul(G,me)|0,p=p+Math.imul(G,je)|0,p=p+Math.imul(J,me)|0,E=E+Math.imul(J,je)|0,k=k+Math.imul(O,Ne)|0,p=p+Math.imul(O,ut)|0,p=p+Math.imul(B,Ne)|0,E=E+Math.imul(B,ut)|0;var pr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(pr>>>26)|0,pr&=67108863,k=Math.imul(Pe,Ce),p=Math.imul(Pe,Qe),p=p+Math.imul(Ke,Ce)|0,E=Math.imul(Ke,Qe),k=k+Math.imul(ue,Ie)|0,p=p+Math.imul(ue,Ge)|0,p=p+Math.imul(ie,Ie)|0,E=E+Math.imul(ie,Ge)|0,k=k+Math.imul(q,Fe)|0,p=p+Math.imul(q,rt)|0,p=p+Math.imul(K,Fe)|0,E=E+Math.imul(K,rt)|0,k=k+Math.imul(Re,We)|0,p=p+Math.imul(Re,Oe)|0,p=p+Math.imul(de,We)|0,E=E+Math.imul(de,Oe)|0,k=k+Math.imul(te,Be)|0,p=p+Math.imul(te,nt)|0,p=p+Math.imul(fe,Be)|0,E=E+Math.imul(fe,nt)|0,k=k+Math.imul(X,pe)|0,p=p+Math.imul(X,we)|0,p=p+Math.imul(oe,pe)|0,E=E+Math.imul(oe,we)|0,k=k+Math.imul(Te,De)|0,p=p+Math.imul(Te,ze)|0,p=p+Math.imul(ye,De)|0,E=E+Math.imul(ye,ze)|0,k=k+Math.imul(ne,me)|0,p=p+Math.imul(ne,je)|0,p=p+Math.imul(se,me)|0,E=E+Math.imul(se,je)|0,k=k+Math.imul(G,Ne)|0,p=p+Math.imul(G,ut)|0,p=p+Math.imul(J,Ne)|0,E=E+Math.imul(J,ut)|0,k=k+Math.imul(O,st)|0,p=p+Math.imul(O,mt)|0,p=p+Math.imul(B,st)|0,E=E+Math.imul(B,mt)|0;var Gr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,k=Math.imul(Pe,Ie),p=Math.imul(Pe,Ge),p=p+Math.imul(Ke,Ie)|0,E=Math.imul(Ke,Ge),k=k+Math.imul(ue,Fe)|0,p=p+Math.imul(ue,rt)|0,p=p+Math.imul(ie,Fe)|0,E=E+Math.imul(ie,rt)|0,k=k+Math.imul(q,We)|0,p=p+Math.imul(q,Oe)|0,p=p+Math.imul(K,We)|0,E=E+Math.imul(K,Oe)|0,k=k+Math.imul(Re,Be)|0,p=p+Math.imul(Re,nt)|0,p=p+Math.imul(de,Be)|0,E=E+Math.imul(de,nt)|0,k=k+Math.imul(te,pe)|0,p=p+Math.imul(te,we)|0,p=p+Math.imul(fe,pe)|0,E=E+Math.imul(fe,we)|0,k=k+Math.imul(X,De)|0,p=p+Math.imul(X,ze)|0,p=p+Math.imul(oe,De)|0,E=E+Math.imul(oe,ze)|0,k=k+Math.imul(Te,me)|0,p=p+Math.imul(Te,je)|0,p=p+Math.imul(ye,me)|0,E=E+Math.imul(ye,je)|0,k=k+Math.imul(ne,Ne)|0,p=p+Math.imul(ne,ut)|0,p=p+Math.imul(se,Ne)|0,E=E+Math.imul(se,ut)|0,k=k+Math.imul(G,st)|0,p=p+Math.imul(G,mt)|0,p=p+Math.imul(J,st)|0,E=E+Math.imul(J,mt)|0;var Zr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,k=Math.imul(Pe,Fe),p=Math.imul(Pe,rt),p=p+Math.imul(Ke,Fe)|0,E=Math.imul(Ke,rt),k=k+Math.imul(ue,We)|0,p=p+Math.imul(ue,Oe)|0,p=p+Math.imul(ie,We)|0,E=E+Math.imul(ie,Oe)|0,k=k+Math.imul(q,Be)|0,p=p+Math.imul(q,nt)|0,p=p+Math.imul(K,Be)|0,E=E+Math.imul(K,nt)|0,k=k+Math.imul(Re,pe)|0,p=p+Math.imul(Re,we)|0,p=p+Math.imul(de,pe)|0,E=E+Math.imul(de,we)|0,k=k+Math.imul(te,De)|0,p=p+Math.imul(te,ze)|0,p=p+Math.imul(fe,De)|0,E=E+Math.imul(fe,ze)|0,k=k+Math.imul(X,me)|0,p=p+Math.imul(X,je)|0,p=p+Math.imul(oe,me)|0,E=E+Math.imul(oe,je)|0,k=k+Math.imul(Te,Ne)|0,p=p+Math.imul(Te,ut)|0,p=p+Math.imul(ye,Ne)|0,E=E+Math.imul(ye,ut)|0,k=k+Math.imul(ne,st)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(se,st)|0,E=E+Math.imul(se,mt)|0;var Nr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,k=Math.imul(Pe,We),p=Math.imul(Pe,Oe),p=p+Math.imul(Ke,We)|0,E=Math.imul(Ke,Oe),k=k+Math.imul(ue,Be)|0,p=p+Math.imul(ue,nt)|0,p=p+Math.imul(ie,Be)|0,E=E+Math.imul(ie,nt)|0,k=k+Math.imul(q,pe)|0,p=p+Math.imul(q,we)|0,p=p+Math.imul(K,pe)|0,E=E+Math.imul(K,we)|0,k=k+Math.imul(Re,De)|0,p=p+Math.imul(Re,ze)|0,p=p+Math.imul(de,De)|0,E=E+Math.imul(de,ze)|0,k=k+Math.imul(te,me)|0,p=p+Math.imul(te,je)|0,p=p+Math.imul(fe,me)|0,E=E+Math.imul(fe,je)|0,k=k+Math.imul(X,Ne)|0,p=p+Math.imul(X,ut)|0,p=p+Math.imul(oe,Ne)|0,E=E+Math.imul(oe,ut)|0,k=k+Math.imul(Te,st)|0,p=p+Math.imul(Te,mt)|0,p=p+Math.imul(ye,st)|0,E=E+Math.imul(ye,mt)|0;var Fr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,k=Math.imul(Pe,Be),p=Math.imul(Pe,nt),p=p+Math.imul(Ke,Be)|0,E=Math.imul(Ke,nt),k=k+Math.imul(ue,pe)|0,p=p+Math.imul(ue,we)|0,p=p+Math.imul(ie,pe)|0,E=E+Math.imul(ie,we)|0,k=k+Math.imul(q,De)|0,p=p+Math.imul(q,ze)|0,p=p+Math.imul(K,De)|0,E=E+Math.imul(K,ze)|0,k=k+Math.imul(Re,me)|0,p=p+Math.imul(Re,je)|0,p=p+Math.imul(de,me)|0,E=E+Math.imul(de,je)|0,k=k+Math.imul(te,Ne)|0,p=p+Math.imul(te,ut)|0,p=p+Math.imul(fe,Ne)|0,E=E+Math.imul(fe,ut)|0,k=k+Math.imul(X,st)|0,p=p+Math.imul(X,mt)|0,p=p+Math.imul(oe,st)|0,E=E+Math.imul(oe,mt)|0;var Sr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,k=Math.imul(Pe,pe),p=Math.imul(Pe,we),p=p+Math.imul(Ke,pe)|0,E=Math.imul(Ke,we),k=k+Math.imul(ue,De)|0,p=p+Math.imul(ue,ze)|0,p=p+Math.imul(ie,De)|0,E=E+Math.imul(ie,ze)|0,k=k+Math.imul(q,me)|0,p=p+Math.imul(q,je)|0,p=p+Math.imul(K,me)|0,E=E+Math.imul(K,je)|0,k=k+Math.imul(Re,Ne)|0,p=p+Math.imul(Re,ut)|0,p=p+Math.imul(de,Ne)|0,E=E+Math.imul(de,ut)|0,k=k+Math.imul(te,st)|0,p=p+Math.imul(te,mt)|0,p=p+Math.imul(fe,st)|0,E=E+Math.imul(fe,mt)|0;var Cr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,k=Math.imul(Pe,De),p=Math.imul(Pe,ze),p=p+Math.imul(Ke,De)|0,E=Math.imul(Ke,ze),k=k+Math.imul(ue,me)|0,p=p+Math.imul(ue,je)|0,p=p+Math.imul(ie,me)|0,E=E+Math.imul(ie,je)|0,k=k+Math.imul(q,Ne)|0,p=p+Math.imul(q,ut)|0,p=p+Math.imul(K,Ne)|0,E=E+Math.imul(K,ut)|0,k=k+Math.imul(Re,st)|0,p=p+Math.imul(Re,mt)|0,p=p+Math.imul(de,st)|0,E=E+Math.imul(de,mt)|0;var Ur=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,k=Math.imul(Pe,me),p=Math.imul(Pe,je),p=p+Math.imul(Ke,me)|0,E=Math.imul(Ke,je),k=k+Math.imul(ue,Ne)|0,p=p+Math.imul(ue,ut)|0,p=p+Math.imul(ie,Ne)|0,E=E+Math.imul(ie,ut)|0,k=k+Math.imul(q,st)|0,p=p+Math.imul(q,mt)|0,p=p+Math.imul(K,st)|0,E=E+Math.imul(K,mt)|0;var $r=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+($r>>>26)|0,$r&=67108863,k=Math.imul(Pe,Ne),p=Math.imul(Pe,ut),p=p+Math.imul(Ke,Ne)|0,E=Math.imul(Ke,ut),k=k+Math.imul(ue,st)|0,p=p+Math.imul(ue,mt)|0,p=p+Math.imul(ie,st)|0,E=E+Math.imul(ie,mt)|0;var Xr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,k=Math.imul(Pe,st),p=Math.imul(Pe,mt),p=p+Math.imul(Ke,st)|0,E=Math.imul(Ke,mt);var Jr=(N+k|0)+((p&8191)<<13)|0;return N=(E+(p>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,T[0]=Ze,T[1]=at,T[2]=Dt,T[3]=rr,T[4]=Yt,T[5]=yr,T[6]=Pr,T[7]=wr,T[8]=pr,T[9]=Gr,T[10]=Zr,T[11]=Nr,T[12]=Fr,T[13]=Sr,T[14]=Cr,T[15]=Ur,T[16]=$r,T[17]=Xr,T[18]=Jr,N!==0&&(T[19]=N,v.length++),v},"h");Math.imul||(A=x);function C(f,w,v){v.negative=w.negative^f.negative,v.length=f.length+w.length;for(var _=0,S=0,T=0;T<v.length-1;T++){var N=S;S=0;for(var k=_&67108863,p=Math.min(T,w.length-1),E=Math.max(0,T-f.length+1);E<=p;E++){var I=T-E,O=f.words[I]|0,B=w.words[E]|0,H=O*B,G=H&67108863;N=N+(H/67108864|0)|0,G=G+k|0,k=G&67108863,N=N+(G>>>26)|0,S+=N>>>26,N&=67108863}v.words[T]=k,_=N,N=S}return _!==0?v.words[T]=_:v.length--,v.strip()}a(C,"I");function M(f,w,v){var _=new R;return _.mulp(f,w,v)}a(M,"D"),o.prototype.mulTo=function(f,w){var v,_=this.length+f.length;return this.length===10&&f.length===10?v=A(this,f,w):_<63?v=x(this,f,w):_<1024?v=C(this,f,w):v=M(this,f,w),v};function R(f,w){this.x=f,this.y=w}a(R,"g"),R.prototype.makeRBT=function(f){for(var w=Array(f),v=o.prototype._countBits(f)-1,_=0;_<f;_++)w[_]=this.revBin(_,v,f);return w},R.prototype.revBin=function(f,w,v){if(f===0||f===v-1)return f;for(var _=0,S=0;S<w;S++)_|=(f&1)<<w-S-1,f>>=1;return _},R.prototype.permute=function(f,w,v,_,S,T){for(var N=0;N<T;N++)_[N]=w[f[N]],S[N]=v[f[N]]},R.prototype.transform=function(f,w,v,_,S,T){this.permute(T,f,w,v,_,S);for(var N=1;N<S;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),E=Math.sin(2*Math.PI/k),I=0;I<S;I+=k)for(var O=p,B=E,H=0;H<N;H++){var G=v[I+H],J=_[I+H],ce=v[I+H+N],ne=_[I+H+N],se=O*ce-B*ne;ne=O*ne+B*ce,ce=se,v[I+H]=G+ce,_[I+H]=J+ne,v[I+H+N]=G-ce,_[I+H+N]=J-ne,H!==k&&(se=p*O-E*B,B=p*B+E*O,O=se)}},R.prototype.guessLen13b=function(f,w){var v=Math.max(w,f)|1,_=v&1,S=0;for(v=v/2|0;v;v=v>>>1)S++;return 1<<S+1+_},R.prototype.conjugate=function(f,w,v){if(!(v<=1))for(var _=0;_<v/2;_++){var S=f[_];f[_]=f[v-_-1],f[v-_-1]=S,S=w[_],w[_]=-w[v-_-1],w[v-_-1]=-S}},R.prototype.normalize13b=function(f,w){for(var v=0,_=0;_<w/2;_++){var S=Math.round(f[2*_+1]/w)*8192+Math.round(f[2*_]/w)+v;f[_]=S&67108863,S<67108864?v=0:v=S/67108864|0}return f},R.prototype.convert13b=function(f,w,v,_){for(var S=0,T=0;T<w;T++)S=S+(f[T]|0),v[2*T]=S&8191,S=S>>>13,v[2*T+1]=S&8191,S=S>>>13;for(T=2*w;T<_;++T)v[T]=0;i(S===0),i((S&-8192)===0)},R.prototype.stub=function(f){for(var w=Array(f),v=0;v<f;v++)w[v]=0;return w},R.prototype.mulp=function(f,w,v){var _=2*this.guessLen13b(f.length,w.length),S=this.makeRBT(_),T=this.stub(_),N=Array(_),k=Array(_),p=Array(_),E=Array(_),I=Array(_),O=Array(_),B=v.words;B.length=_,this.convert13b(f.words,f.length,N,_),this.convert13b(w.words,w.length,E,_),this.transform(N,T,k,p,_,S),this.transform(E,T,I,O,_,S);for(var H=0;H<_;H++){var G=k[H]*I[H]-p[H]*O[H];p[H]=k[H]*O[H]+p[H]*I[H],k[H]=G}return this.conjugate(k,p,_),this.transform(k,p,B,T,_,S),this.conjugate(B,T,_),this.normalize13b(B,_),v.negative=f.negative^w.negative,v.length=f.length+w.length,v.strip()},o.prototype.mul=function(f){var w=new o(null);return w.words=Array(this.length+f.length),this.mulTo(f,w)},o.prototype.mulf=function(f){var w=new o(null);return w.words=Array(this.length+f.length),M(this,f,w)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){i(typeof f=="number"),i(f<67108864);for(var w=0,v=0;v<this.length;v++){var _=(this.words[v]|0)*f,S=(_&67108863)+(w&67108863);w>>=26,w+=_/67108864|0,w+=S>>>26,this.words[v]=S&67108863}return w!==0&&(this.words[v]=w,this.length++),this.length=f===0?1:this.length,this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var w=y(f);if(w.length===0)return new o(1);for(var v=this,_=0;_<w.length&&w[_]===0;_++,v=v.sqr());if(++_<w.length)for(var S=v.sqr();_<w.length;_++,S=S.sqr())w[_]!==0&&(v=v.mul(S));return v},o.prototype.iushln=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26,_=67108863>>>26-w<<26-w,S;if(w!==0){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&_,k=(this.words[S]|0)-N<<w;this.words[S]=k|T,T=N>>>26-w}T&&(this.words[S]=T,this.length++)}if(v!==0){for(S=this.length-1;S>=0;S--)this.words[S+v]=this.words[S];for(S=0;S<v;S++)this.words[S]=0;this.length+=v}return this.strip()},o.prototype.ishln=function(f){return i(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,w,v){i(typeof f=="number"&&f>=0);var _;w?_=(w-w%26)/26:_=0;var S=f%26,T=Math.min((f-S)/26,this.length),N=67108863^67108863>>>S<<S,k=v;if(_-=T,_=Math.max(0,_),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var E=0;for(p=this.length-1;p>=0&&(E!==0||p>=_);p--){var I=this.words[p]|0;this.words[p]=E<<26-S|I>>>S,E=I&N}return k&&E!==0&&(k.words[k.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(f,w,v){return i(this.negative===0),this.iushrn(f,w,v)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26,_=1<<w;if(this.length<=v)return!1;var S=this.words[v];return!!(S&_)},o.prototype.imaskn=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(w!==0&&v++,this.length=Math.min(v,this.length),w!==0){var _=67108863^67108863>>>w<<w;this.words[this.length-1]&=_}return this.strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return i(typeof f=="number"),i(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(f){if(i(typeof f=="number"),i(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,w,v){var _=f.length+v,S;this._expand(_);var T,N=0;for(S=0;S<f.length;S++){T=(this.words[S+v]|0)+N;var k=(f.words[S]|0)*w;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[S+v]=T&67108863}for(;S<this.length-v;S++)T=(this.words[S+v]|0)+N,N=T>>26,this.words[S+v]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,S=0;S<this.length;S++)T=-(this.words[S]|0)+N,N=T>>26,this.words[S]=T&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(f,w){var v=this.length-f.length,_=this.clone(),S=f,T=S.words[S.length-1]|0,N=this._countBits(T);v=26-N,v!==0&&(S=S.ushln(v),_.iushln(v),T=S.words[S.length-1]|0);var k=_.length-S.length,p;if(w!=="mod"){p=new o(null),p.length=k+1,p.words=Array(p.length);for(var E=0;E<p.length;E++)p.words[E]=0}var I=_.clone()._ishlnsubmul(S,1,k);I.negative===0&&(_=I,p&&(p.words[k]=1));for(var O=k-1;O>=0;O--){var B=(_.words[S.length+O]|0)*67108864+(_.words[S.length+O-1]|0);for(B=Math.min(B/T|0,67108863),_._ishlnsubmul(S,B,O);_.negative!==0;)B--,_.negative=0,_._ishlnsubmul(S,1,O),!_.isZero()&&(_.negative^=1);p&&(p.words[O]=B)}return p&&p.strip(),_.strip(),w!=="div"&&v!==0&&_.iushrn(v),{div:p||null,mod:_}},o.prototype.divmod=function(f,w,v){if(i(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var _,S,T;return this.negative!==0&&f.negative===0?(T=this.neg().divmod(f,w),w!=="mod"&&(_=T.div.neg()),w!=="div"&&(S=T.mod.neg(),v&&S.negative!==0&&S.iadd(f)),{div:_,mod:S}):this.negative===0&&f.negative!==0?(T=this.divmod(f.neg(),w),w!=="mod"&&(_=T.div.neg()),{div:_,mod:T.mod}):(this.negative&f.negative)!==0?(T=this.neg().divmod(f.neg(),w),w!=="div"&&(S=T.mod.neg(),v&&S.negative!==0&&S.isub(f)),{div:T.div,mod:S}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?w==="div"?{div:this.divn(f.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modn(f.words[0]))}:this._wordDiv(f,w)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var w=this.divmod(f);if(w.mod.isZero())return w.div;var v=w.div.negative!==0?w.mod.isub(f):w.mod,_=f.ushrn(1),S=f.andln(1),T=v.cmp(_);return T<0||S===1&&T===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modn=function(f){i(f<=67108863);for(var w=67108864%f,v=0,_=this.length-1;_>=0;_--)v=(w*v+(this.words[_]|0))%f;return v},o.prototype.idivn=function(f){i(f<=67108863);for(var w=0,v=this.length-1;v>=0;v--){var _=(this.words[v]|0)+w*67108864;this.words[v]=_/f|0,w=_%f}return this.strip()},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){i(f.negative===0),i(!f.isZero());var w=this,v=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var _=new o(1),S=new o(0),T=new o(0),N=new o(1),k=0;w.isEven()&&v.isEven();)w.iushrn(1),v.iushrn(1),++k;for(var p=v.clone(),E=w.clone();!w.isZero();){for(var I=0,O=1;(w.words[0]&O)===0&&I<26;++I,O<<=1);if(I>0)for(w.iushrn(I);I-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(p),S.isub(E)),_.iushrn(1),S.iushrn(1);for(var B=0,H=1;(v.words[0]&H)===0&&B<26;++B,H<<=1);if(B>0)for(v.iushrn(B);B-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(E)),T.iushrn(1),N.iushrn(1);w.cmp(v)>=0?(w.isub(v),_.isub(T),S.isub(N)):(v.isub(w),T.isub(_),N.isub(S))}return{a:T,b:N,gcd:v.iushln(k)}},o.prototype._invmp=function(f){i(f.negative===0),i(!f.isZero());var w=this,v=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var _=new o(1),S=new o(0),T=v.clone();w.cmpn(1)>0&&v.cmpn(1)>0;){for(var N=0,k=1;(w.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(w.iushrn(N);N-- >0;)_.isOdd()&&_.iadd(T),_.iushrn(1);for(var p=0,E=1;(v.words[0]&E)===0&&p<26;++p,E<<=1);if(p>0)for(v.iushrn(p);p-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);w.cmp(v)>=0?(w.isub(v),_.isub(S)):(v.isub(w),S.isub(_))}var I;return w.cmpn(1)===0?I=_:I=S,I.cmpn(0)<0&&I.iadd(f),I},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var w=this.clone(),v=f.clone();w.negative=0,v.negative=0;for(var _=0;w.isEven()&&v.isEven();_++)w.iushrn(1),v.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;v.isEven();)v.iushrn(1);var S=w.cmp(v);if(S<0){var T=w;w=v,v=T}else if(S===0||v.cmpn(1)===0)break;w.isub(v)}while(!0);return v.iushln(_)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){i(typeof f=="number");var w=f%26,v=(f-w)/26,_=1<<w;if(this.length<=v)return this._expand(v+1),this.words[v]|=_,this;for(var S=_,T=v;S!==0&&T<this.length;T++){var N=this.words[T]|0;N+=S,S=N>>>26,N&=67108863,this.words[T]=N}return S!==0&&(this.words[T]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var w=f<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var v;if(this.length>1)v=1;else{w&&(f=-f),i(f<=67108863,"Number is too big");var _=this.words[0]|0;v=_===f?0:_<f?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var w=this.ucmp(f);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var w=0,v=this.length-1;v>=0;v--){var _=this.words[v]|0,S=f.words[v]|0;if(_!==S){_<S?w=-1:_>S&&(w=1);break}}return w},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new F(f)},o.prototype.toRed=function(f){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return i(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return i(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var P={k256:null,p224:null,p192:null,p25519:null};function L(f,w){this.name=f,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(L,"y"),L.prototype._tmp=function(){var f=new o(null);return f.words=Array(Math.ceil(this.n/13)),f},L.prototype.ireduce=function(f){var w=f,v;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),v=w.bitLength();while(v>this.n);var _=v<this.n?-1:w.ucmp(this.p);return _===0?(w.words[0]=0,w.length=1):_>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},L.prototype.split=function(f,w){f.iushrn(this.n,0,w)},L.prototype.imulK=function(f){return f.imul(this.k)};function z(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(z,"p"),s(z,L),z.prototype.split=function(f,w){for(var v=4194303,_=Math.min(f.length,9),S=0;S<_;S++)w.words[S]=f.words[S];if(w.length=_,f.length<=9){f.words[0]=0,f.length=1;return}var T=f.words[9];for(w.words[w.length++]=T&v,S=10;S<f.length;S++){var N=f.words[S]|0;f.words[S-10]=(N&v)<<4|T>>>22,T=N}T>>>=22,f.words[S-10]=T,T===0&&f.length>10?f.length-=10:f.length-=9},z.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var w=0,v=0;v<f.length;v++){var _=f.words[v]|0;w+=_*977,f.words[v]=w&67108863,w=_*64+(w/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Z(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Z,"n"),s(Z,L);function Y(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Y,"s"),s(Y,L);function ae(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(ae,"q$"),s(ae,L),ae.prototype.imulK=function(f){for(var w=0,v=0;v<f.length;v++){var _=(f.words[v]|0)*19+w,S=_&67108863;_>>>=26,f.words[v]=S,w=_}return w!==0&&(f.words[f.length++]=w),f},o._prime=function(f){if(P[f])return P[f];var w;if(f==="k256")w=new z;else if(f==="p224")w=new Z;else if(f==="p192")w=new Y;else if(f==="p25519")w=new ae;else throw Error("Unknown prime "+f);return P[f]=w,w};function F(f){if(typeof f=="string"){var w=o._prime(f);this.m=w.p,this.prime=w}else i(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}a(F,"c"),F.prototype._verify1=function(f){i(f.negative===0,"red works only with positives"),i(f.red,"red works only with red numbers")},F.prototype._verify2=function(f,w){i((f.negative|w.negative)===0,"red works only with positives"),i(f.red&&f.red===w.red,"red works only with red numbers")},F.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},F.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},F.prototype.add=function(f,w){this._verify2(f,w);var v=f.add(w);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},F.prototype.iadd=function(f,w){this._verify2(f,w);var v=f.iadd(w);return v.cmp(this.m)>=0&&v.isub(this.m),v},F.prototype.sub=function(f,w){this._verify2(f,w);var v=f.sub(w);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},F.prototype.isub=function(f,w){this._verify2(f,w);var v=f.isub(w);return v.cmpn(0)<0&&v.iadd(this.m),v},F.prototype.shl=function(f,w){return this._verify1(f),this.imod(f.ushln(w))},F.prototype.imul=function(f,w){return this._verify2(f,w),this.imod(f.imul(w))},F.prototype.mul=function(f,w){return this._verify2(f,w),this.imod(f.mul(w))},F.prototype.isqr=function(f){return this.imul(f,f.clone())},F.prototype.sqr=function(f){return this.mul(f,f)},F.prototype.sqrt=function(f){if(f.isZero())return f.clone();var w=this.m.andln(3);if(i(w%2===1),w===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(f,v)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);i(!_.isZero());var T=new o(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var E=this.pow(p,_),I=this.pow(f,_.addn(1).iushrn(1)),O=this.pow(f,_),B=S;O.cmp(T)!==0;){for(var H=O,G=0;H.cmp(T)!==0;G++)H=H.redSqr();i(G<B);var J=this.pow(E,new o(1).iushln(B-G-1));I=I.redMul(J),E=J.redSqr(),O=O.redMul(E),B=G}return I},F.prototype.invm=function(f){var w=f._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},F.prototype.pow=function(f,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return f.clone();var v=4,_=Array(1<<v);_[0]=new o(1).toRed(this),_[1]=f;for(var S=2;S<_.length;S++)_[S]=this.mul(_[S-1],f);var T=_[0],N=0,k=0,p=w.bitLength()%26;for(p===0&&(p=26),S=w.length-1;S>=0;S--){for(var E=w.words[S],I=p-1;I>=0;I--){var O=E>>I&1;if(T!==_[0]&&(T=this.sqr(T)),O===0&&N===0){k=0;continue}N<<=1,N|=O,k++,!(k!==v&&(S!==0||I!==0))&&(T=this.mul(T,_[N]),k=0,N=0)}p=26}return T},F.prototype.convertTo=function(f){var w=f.umod(this.m);return w===f?w.clone():w},F.prototype.convertFrom=function(f){var w=f.clone();return w.red=null,w},o.mont=function(f){return new W(f)};function W(f){F.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(W,"U"),s(W,F),W.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},W.prototype.convertFrom=function(f){var w=this.imod(f.mul(this.rinv));return w.red=null,w},W.prototype.imul=function(f,w){if(f.isZero()||w.isZero())return f.words[0]=0,f.length=1,f;var v=f.imul(w),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(_).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},W.prototype.mul=function(f,w){if(f.isZero()||w.isZero())return new o(0)._forceRed(this);var v=f.mul(w),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(_).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},W.prototype.invm=function(f){var w=this.imod(f._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(typeof t>"u"||t,e)}),Sx=Et(e=>{var t=ou(),r=ui(),n=e;n.define=function(s,o){return new i(s,o)};function i(s,o){this.name=s,this.body=o,this.decoders={},this.encoders={}}a(i,"_"),i.prototype._createNamed=function(s){var o;try{o=(()=>{throw new Error("Cannot require module vm")})().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{o=a(function(u){this._initNamed(u)},"O")}return r(o,s),o.prototype._initNamed=function(l){s.call(this,l)},new o(this)},i.prototype._getDecoder=function(s){return s=s||"der",!this.decoders.hasOwnProperty(s)&&(this.decoders[s]=this._createNamed(t.decoders[s])),this.decoders[s]},i.prototype.decode=function(s,o,l){return this._getDecoder(o).decode(s,l)},i.prototype._getEncoder=function(s){return s=s||"der",!this.encoders.hasOwnProperty(s)&&(this.encoders[s]=this._createNamed(t.encoders[s])),this.encoders[s]},i.prototype.encode=function(s,o,l){return this._getEncoder(o).encode(s,l)}}),kx=Et(e=>{var t=ui();function r(i){this._reporterState={obj:null,path:[],options:i||{},errors:[]}}a(r,"K"),e.Reporter=r,r.prototype.isError=function(i){return i instanceof n},r.prototype.save=function(){var i=this._reporterState;return{obj:i.obj,pathLen:i.path.length}},r.prototype.restore=function(i){var s=this._reporterState;s.obj=i.obj,s.path=s.path.slice(0,i.pathLen)},r.prototype.enterKey=function(i){return this._reporterState.path.push(i)},r.prototype.exitKey=function(i){var s=this._reporterState;s.path=s.path.slice(0,i-1)},r.prototype.leaveKey=function(i,s,o){var l=this._reporterState;this.exitKey(i),l.obj!==null&&(l.obj[s]=o)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var i=this._reporterState,s=i.obj;return i.obj={},s},r.prototype.leaveObject=function(i){var s=this._reporterState,o=s.obj;return s.obj=i,o},r.prototype.error=function(i){var s,o=this._reporterState,l=i instanceof n;if(l?s=i:s=new n(o.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),i.message||i,i.stack),!o.options.partial)throw s;return l||o.errors.push(s),s},r.prototype.wrapResult=function(i){var s=this._reporterState;return s.options.partial?{result:this.isError(i)?null:i,errors:s.errors}:i};function n(i,s){this.path=i,this.rethrow(s)}a(n,"P"),t(n,Error),n.prototype.rethrow=function(i){if(this.message=i+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw Error(this.message)}catch(s){this.stack=s.stack}return this}}),ov=Et(e=>{var t=ui(),r=su().Reporter,n=(Bn(),hr(Mn)).Buffer;function i(o,l){if(r.call(this,l),!n.isBuffer(o)){this.error("Input not Buffer");return}this.base=o,this.offset=0,this.length=o.length}a(i,"_"),t(i,r),e.DecoderBuffer=i,i.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},i.prototype.restore=function(o){var l=new i(this.base);return l.offset=o.offset,l.length=this.offset,this.offset=o.offset,r.prototype.restore.call(this,o.reporter),l},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},i.prototype.skip=function(o,l){if(!(this.offset+o<=this.length))return this.error(l||"DecoderBuffer overrun");var u=new i(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+o,this.offset+=o,u},i.prototype.raw=function(o){return this.base.slice(o?o.offset:this.offset,this.length)};function s(o,l){if(Array.isArray(o))this.length=0,this.value=o.map(function(u){return u instanceof s||(u=new s(u,l)),this.length+=u.length,u},this);else if(typeof o=="number"){if(!(0<=o&&o<=255))return l.error("non-byte EncoderBuffer value");this.value=o,this.length=1}else if(typeof o=="string")this.value=o,this.length=n.byteLength(o);else if(n.isBuffer(o))this.value=o,this.length=o.length;else return l.error("Unsupported type: "+typeof o)}a(s,"Y"),e.EncoderBuffer=s,s.prototype.join=function(o,l){return o||(o=new n(this.length)),l||(l=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(o,l),l+=u.length}):(typeof this.value=="number"?o[l]=this.value:typeof this.value=="string"?o.write(this.value,l):n.isBuffer(this.value)&&this.value.copy(o,l),l+=this.length)),o}}),Ax=Et((e,t)=>{var r=su().Reporter,n=su().EncoderBuffer,i=su().DecoderBuffer,s=ys(),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),u=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(d,g){var m={};this._baseState=m,m.enc=d,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,!m.parent&&(m.children=[],this._wrap())}a(c,"T"),t.exports=c;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var d=this._baseState,g={};h.forEach(function(y){g[y]=d[y]});var m=new this.constructor(g.parent);return m._baseState=g,m},c.prototype._wrap=function(){var d=this._baseState;l.forEach(function(g){this[g]=function(){var m=new this.constructor(this);return d.children.push(m),m[g].apply(m,arguments)}},this)},c.prototype._init=function(d){var g=this._baseState;s(g.parent===null),d.call(this),g.children=g.children.filter(function(m){return m._baseState.parent===this},this),s.equal(g.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(d){var g=this._baseState,m=d.filter(function(y){return y instanceof this.constructor},this);d=d.filter(function(y){return!(y instanceof this.constructor)},this),m.length!==0&&(s(g.children===null),g.children=m,m.forEach(function(y){y._baseState.parent=this},this)),d.length!==0&&(s(g.args===null),g.args=d,g.reverseArgs=d.map(function(y){if(typeof y!="object"||y.constructor!==Object)return y;var x={};return Object.keys(y).forEach(function(A){A==(A|0)&&(A|=0);var C=y[A];x[C]=A}),x}))},u.forEach(function(d){c.prototype[d]=function(){var g=this._baseState;throw Error(d+" not implemented for encoding: "+g.enc)}}),o.forEach(function(d){c.prototype[d]=function(){var g=this._baseState,m=Array.prototype.slice.call(arguments);return s(g.tag===null),g.tag=d,this._useArgs(m),this}}),c.prototype.use=function(d){s(d);var g=this._baseState;return s(g.use===null),g.use=d,this},c.prototype.optional=function(){var d=this._baseState;return d.optional=!0,this},c.prototype.def=function(d){var g=this._baseState;return s(g.default===null),g.default=d,g.optional=!0,this},c.prototype.explicit=function(d){var g=this._baseState;return s(g.explicit===null&&g.implicit===null),g.explicit=d,this},c.prototype.implicit=function(d){var g=this._baseState;return s(g.explicit===null&&g.implicit===null),g.implicit=d,this},c.prototype.obj=function(){var d=this._baseState,g=Array.prototype.slice.call(arguments);return d.obj=!0,g.length!==0&&this._useArgs(g),this},c.prototype.key=function(d){var g=this._baseState;return s(g.key===null),g.key=d,this},c.prototype.any=function(){var d=this._baseState;return d.any=!0,this},c.prototype.choice=function(d){var g=this._baseState;return s(g.choice===null),g.choice=d,this._useArgs(Object.keys(d).map(function(m){return d[m]})),this},c.prototype.contains=function(d){var g=this._baseState;return s(g.use===null),g.contains=d,this},c.prototype._decode=function(d,g){var m=this._baseState;if(m.parent===null)return d.wrapResult(m.children[0]._decode(d,g));var y=m.default,x=!0,A=null;if(m.key!==null&&(A=d.enterKey(m.key)),m.optional){var C=null;if(m.explicit!==null?C=m.explicit:m.implicit!==null?C=m.implicit:m.tag!==null&&(C=m.tag),C===null&&!m.any){var M=d.save();try{m.choice===null?this._decodeGeneric(m.tag,d,g):this._decodeChoice(d,g),x=!0}catch{x=!1}d.restore(M)}else if(x=this._peekTag(d,C,m.any),d.isError(x))return x}var R;if(m.obj&&x&&(R=d.enterObject()),x){if(m.explicit!==null){var P=this._decodeTag(d,m.explicit);if(d.isError(P))return P;d=P}var L=d.offset;if(m.use===null&&m.choice===null){if(m.any)var M=d.save();var z=this._decodeTag(d,m.implicit!==null?m.implicit:m.tag,m.any);if(d.isError(z))return z;m.any?y=d.raw(M):d=z}if(g&&g.track&&m.tag!==null&&g.track(d.path(),L,d.length,"tagged"),g&&g.track&&m.tag!==null&&g.track(d.path(),d.offset,d.length,"content"),m.any?y=y:m.choice===null?y=this._decodeGeneric(m.tag,d,g):y=this._decodeChoice(d,g),d.isError(y))return y;if(!m.any&&m.choice===null&&m.children!==null&&m.children.forEach(function(Y){Y._decode(d,g)}),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){var Z=new i(y);y=this._getUse(m.contains,d._reporterState.obj)._decode(Z,g)}}return m.obj&&x&&(y=d.leaveObject(R)),m.key!==null&&(y!==null||x===!0)?d.leaveKey(A,m.key,y):A!==null&&d.exitKey(A),y},c.prototype._decodeGeneric=function(d,g,m){var y=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(g,d,y.args[0],m):/str$/.test(d)?this._decodeStr(g,d,m):d==="objid"&&y.args?this._decodeObjid(g,y.args[0],y.args[1],m):d==="objid"?this._decodeObjid(g,null,null,m):d==="gentime"||d==="utctime"?this._decodeTime(g,d,m):d==="null_"?this._decodeNull(g,m):d==="bool"?this._decodeBool(g,m):d==="objDesc"?this._decodeStr(g,d,m):d==="int"||d==="enum"?this._decodeInt(g,y.args&&y.args[0],m):y.use!==null?this._getUse(y.use,g._reporterState.obj)._decode(g,m):g.error("unknown tag: "+d)},c.prototype._getUse=function(d,g){var m=this._baseState;return m.useDecoder=this._use(d,g),s(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},c.prototype._decodeChoice=function(d,g){var m=this._baseState,y=null,x=!1;return Object.keys(m.choice).some(function(A){var C=d.save(),M=m.choice[A];try{var R=M._decode(d,g);if(d.isError(R))return!1;y={type:A,value:R},x=!0}catch{return d.restore(C),!1}return!0},this),x?y:d.error("Choice not matched")},c.prototype._createEncoderBuffer=function(d){return new n(d,this.reporter)},c.prototype._encode=function(d,g,m){var y=this._baseState;if(!(y.default!==null&&y.default===d)){var x=this._encodeValue(d,g,m);if(x!==void 0&&!this._skipDefault(x,g,m))return x}},c.prototype._encodeValue=function(d,g,m){var y=this._baseState;if(y.parent===null)return y.children[0]._encode(d,g||new r);var M=null;if(this.reporter=g,y.optional&&d===void 0)if(y.default!==null)d=y.default;else return;var x=null,A=!1;if(y.any)M=this._createEncoderBuffer(d);else if(y.choice)M=this._encodeChoice(d,g);else if(y.contains)x=this._getUse(y.contains,m)._encode(d,g),A=!0;else if(y.children)x=y.children.map(function(L){if(L._baseState.tag==="null_")return L._encode(null,g,d);if(L._baseState.key===null)return g.error("Child should have a key");var z=g.enterKey(L._baseState.key);if(typeof d!="object")return g.error("Child expected, but input is not object");var Z=L._encode(d[L._baseState.key],g,d);return g.leaveKey(z),Z},this).filter(function(L){return L}),x=this._createEncoderBuffer(x);else if(y.tag==="seqof"||y.tag==="setof"){if(!(y.args&&y.args.length===1))return g.error("Too many args for : "+y.tag);if(!Array.isArray(d))return g.error("seqof/setof, but data is not Array");var C=this.clone();C._baseState.implicit=null,x=this._createEncoderBuffer(d.map(function(L){var z=this._baseState;return this._getUse(z.args[0],d)._encode(L,g)},C))}else y.use!==null?M=this._getUse(y.use,m)._encode(d,g):(x=this._encodePrimitive(y.tag,d),A=!0);var M;if(!y.any&&y.choice===null){var R=y.implicit!==null?y.implicit:y.tag,P=y.implicit===null?"universal":"context";R===null?y.use===null&&g.error("Tag could be omitted only for .use()"):y.use===null&&(M=this._encodeComposite(R,A,P,x))}return y.explicit!==null&&(M=this._encodeComposite(y.explicit,!1,"context",M)),M},c.prototype._encodeChoice=function(d,g){var m=this._baseState,y=m.choice[d.type];return y||s(!1,d.type+" not found in "+JSON.stringify(Object.keys(m.choice))),y._encode(d.value,g)},c.prototype._encodePrimitive=function(d,g){var m=this._baseState;if(/str$/.test(d))return this._encodeStr(g,d);if(d==="objid"&&m.args)return this._encodeObjid(g,m.reverseArgs[0],m.args[1]);if(d==="objid")return this._encodeObjid(g,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(g,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(g,m.args&&m.reverseArgs[0]);if(d==="bool")return this._encodeBool(g);if(d==="objDesc")return this._encodeStr(g,d);throw Error("Unsupported tag: "+d)},c.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},c.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(d)}}),su=Et(e=>{var t=e;t.Reporter=kx().Reporter,t.DecoderBuffer=ov().DecoderBuffer,t.EncoderBuffer=ov().EncoderBuffer,t.Node=Ax()}),Tx=Et(e=>{var t=lv();e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t._reverse(e.tag)}),lv=Et(e=>{var t=e;t._reverse=function(r){var n={};return Object.keys(r).forEach(function(i){(i|0)==i&&(i=i|0);var s=r[i];n[s]=i}),n},t.der=Tx()}),uv=Et((e,t)=>{var r=ui(),n=ou(),i=n.base,s=n.bignum,o=n.constants.der;function l(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new u,this.tree._init(d.body)}a(l,"z"),t.exports=l,l.prototype.decode=function(d,g){return d instanceof i.DecoderBuffer||(d=new i.DecoderBuffer(d,g)),this.tree._decode(d,g)};function u(d){i.Node.call(this,"der",d)}a(u,"J"),r(u,i.Node),u.prototype._peekTag=function(d,g,m){if(d.isEmpty())return!1;var y=d.save(),x=c(d,'Failed to peek tag: "'+g+'"');return d.isError(x)?x:(d.restore(y),x.tag===g||x.tagStr===g||x.tagStr+"of"===g||m)},u.prototype._decodeTag=function(d,g,m){var y=c(d,'Failed to decode tag of "'+g+'"');if(d.isError(y))return y;var x=h(d,y.primitive,'Failed to get length of "'+g+'"');if(d.isError(x))return x;if(!m&&y.tag!==g&&y.tagStr!==g&&y.tagStr+"of"!==g)return d.error('Failed to match tag: "'+g+'"');if(y.primitive||x!==null)return d.skip(x,'Failed to match body of: "'+g+'"');var A=d.save(),C=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(C)?C:(x=d.offset-A.offset,d.restore(A),d.skip(x,'Failed to match body of: "'+g+'"'))},u.prototype._skipUntilEnd=function(d,g){for(;;){var m=c(d,g);if(d.isError(m))return m;var y=h(d,m.primitive,g);if(d.isError(y))return y;var x;if(m.primitive||y!==null?x=d.skip(y):x=this._skipUntilEnd(d,g),d.isError(x))return x;if(m.tagStr==="end")break}},u.prototype._decodeList=function(d,g,m,y){for(var x=[];!d.isEmpty();){var A=this._peekTag(d,"end");if(d.isError(A))return A;var C=m.decode(d,"der",y);if(d.isError(C)&&A)break;x.push(C)}return x},u.prototype._decodeStr=function(d,g){if(g==="bitstr"){var m=d.readUInt8();return d.isError(m)?m:{unused:m,data:d.raw()}}else if(g==="bmpstr"){var y=d.raw();if(y.length%2===1)return d.error("Decoding of string type: bmpstr length mismatch");for(var x="",A=0;A<y.length/2;A++)x+=String.fromCharCode(y.readUInt16BE(A*2));return x}else if(g==="numstr"){var C=d.raw().toString("ascii");return this._isNumstr(C)?C:d.error("Decoding of string type: numstr unsupported characters")}else{if(g==="octstr")return d.raw();if(g==="objDesc")return d.raw();if(g==="printstr"){var M=d.raw().toString("ascii");return this._isPrintstr(M)?M:d.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(g)?d.raw().toString():d.error("Decoding of string type: "+g+" unsupported")}},u.prototype._decodeObjid=function(d,g,m){for(var y,x=[],A=0;!d.isEmpty();){var C=d.readUInt8();A<<=7,A|=C&127,(C&128)===0&&(x.push(A),A=0)}C&128&&x.push(A);var M=x[0]/40|0,R=x[0]%40;if(m?y=x:y=[M,R].concat(x.slice(1)),g){var P=g[y.join(" ")];P===void 0&&(P=g[y.join(".")]),P!==void 0&&(y=P)}return y},u.prototype._decodeTime=function(d,g){var m=d.raw().toString();if(g==="gentime")var y=m.slice(0,4)|0,x=m.slice(4,6)|0,A=m.slice(6,8)|0,C=m.slice(8,10)|0,M=m.slice(10,12)|0,R=m.slice(12,14)|0;else if(g==="utctime"){var y=m.slice(0,2)|0,x=m.slice(2,4)|0,A=m.slice(4,6)|0,C=m.slice(6,8)|0,M=m.slice(8,10)|0,R=m.slice(10,12)|0;y<70?y=2e3+y:y=1900+y}else return d.error("Decoding "+g+" time is not supported yet");return Date.UTC(y,x-1,A,C,M,R,0)},u.prototype._decodeNull=function(d){return null},u.prototype._decodeBool=function(d){var g=d.readUInt8();return d.isError(g)?g:g!==0},u.prototype._decodeInt=function(d,g){var m=d.raw(),y=new s(m);return g&&(y=g[y.toString(10)]||y),y},u.prototype._use=function(d,g){return typeof d=="function"&&(d=d(g)),d._getDecoder("der").tree};function c(d,g){var m=d.readUInt8(g);if(d.isError(m))return m;var y=o.tagClass[m>>6],x=(m&32)===0;if((m&31)===31){var A=m;for(m=0;(A&128)===128;){if(A=d.readUInt8(g),d.isError(A))return A;m<<=7,m|=A&127}}else m&=31;var C=o.tag[m];return{cls:y,primitive:x,tag:m,tagStr:C}}a(c,"T");function h(d,g,m){var y=d.readUInt8(m);if(d.isError(y))return y;if(!g&&y===128)return null;if((y&128)===0)return y;var x=y&127;if(x>4)return d.error("length octect is too long");y=0;for(var A=0;A<x;A++){y<<=8;var C=d.readUInt8(m);if(d.isError(C))return C;y|=C}return y}a(h,"X")}),Nx=Et((e,t)=>{var r=ui(),n=(Bn(),hr(Mn)).Buffer,i=uv();function s(o){i.call(this,o),this.enc="pem"}a(s,"Y"),r(s,i),t.exports=s,s.prototype.decode=function(o,l){for(var u=o.toString().split(/[\r\n]+/g),c=l.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/,d=-1,g=-1,m=0;m<u.length;m++){var y=u[m].match(h);if(y!==null&&y[2]===c)if(d===-1){if(y[1]!=="BEGIN")break;d=m}else{if(y[1]!=="END")break;g=m;break}}if(d===-1||g===-1)throw Error("PEM section not found for: "+c);var x=u.slice(d+1,g).join("");x.replace(/[^a-z0-9\+\/=]+/gi,"");var A=new n(x,"base64");return i.prototype.decode.call(this,A,l)}}),Cx=Et(e=>{var t=e;t.der=uv(),t.pem=Nx()}),cv=Et((e,t)=>{var r=ui(),n=(Bn(),hr(Mn)).Buffer,i=ou(),s=i.base,o=i.constants.der;function l(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new u,this.tree._init(d.body)}a(l,"z"),t.exports=l,l.prototype.encode=function(d,g){return this.tree._encode(d,g).join()};function u(d){s.Node.call(this,"der",d)}a(u,"J"),r(u,s.Node),u.prototype._encodeComposite=function(d,g,m,y){var x=h(d,g,m,this.reporter);if(y.length<128){var M=new n(2);return M[0]=x,M[1]=y.length,this._createEncoderBuffer([M,y])}for(var A=1,C=y.length;C>=256;C>>=8)A++;var M=new n(2+A);M[0]=x,M[1]=128|A;for(var C=1+A,R=y.length;R>0;C--,R>>=8)M[C]=R&255;return this._createEncoderBuffer([M,y])},u.prototype._encodeStr=function(d,g){if(g==="bitstr")return this._createEncoderBuffer([d.unused|0,d.data]);if(g==="bmpstr"){for(var m=new n(d.length*2),y=0;y<d.length;y++)m.writeUInt16BE(d.charCodeAt(y),y*2);return this._createEncoderBuffer(m)}else return g==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):g==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(g)?this._createEncoderBuffer(d):g==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+g+" unsupported")},u.prototype._encodeObjid=function(d,g,m){if(typeof d=="string"){if(!g)return this.reporter.error("string objid given, but no values map found");if(!g.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=g[d].split(/[\s\.]+/g);for(var y=0;y<d.length;y++)d[y]|=0}else if(Array.isArray(d)){d=d.slice();for(var y=0;y<d.length;y++)d[y]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!m){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,d[0]*40+d[1])}for(var x=0,y=0;y<d.length;y++){var A=d[y];for(x++;A>=128;A>>=7)x++}for(var C=new n(x),M=C.length-1,y=d.length-1;y>=0;y--){var A=d[y];for(C[M--]=A&127;(A>>=7)>0;)C[M--]=128|A&127}return this._createEncoderBuffer(C)};function c(d){return d<10?"0"+d:d}a(c,"T"),u.prototype._encodeTime=function(d,g){var m,y=new Date(d);return g==="gentime"?m=[c(y.getFullYear()),c(y.getUTCMonth()+1),c(y.getUTCDate()),c(y.getUTCHours()),c(y.getUTCMinutes()),c(y.getUTCSeconds()),"Z"].join(""):g==="utctime"?m=[c(y.getFullYear()%100),c(y.getUTCMonth()+1),c(y.getUTCDate()),c(y.getUTCHours()),c(y.getUTCMinutes()),c(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+g+" time is not supported yet"),this._encodeStr(m,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(d,g){if(typeof d=="string"){if(!g)return this.reporter.error("String int or enum given, but no values map");if(!g.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=g[d]}if(typeof d!="number"&&!n.isBuffer(d)){var m=d.toArray();!d.sign&&m[0]&128&&m.unshift(0),d=new n(m)}if(n.isBuffer(d)){var y=d.length;d.length===0&&y++;var A=new n(y);return d.copy(A),d.length===0&&(A[0]=0),this._createEncoderBuffer(A)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);for(var y=1,x=d;x>=256;x>>=8)y++;for(var A=Array(y),x=A.length-1;x>=0;x--)A[x]=d&255,d>>=8;return A[0]&128&&A.unshift(0),this._createEncoderBuffer(new n(A))},u.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},u.prototype._use=function(d,g){return typeof d=="function"&&(d=d(g)),d._getEncoder("der").tree},u.prototype._skipDefault=function(d,g,m){var y=this._baseState,x;if(y.default===null)return!1;var A=d.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,g,m).join()),A.length!==y.defaultBuffer.length)return!1;for(x=0;x<A.length;x++)if(A[x]!==y.defaultBuffer[x])return!1;return!0};function h(d,g,m,y){var x;if(d==="seqof"?d="seq":d==="setof"&&(d="set"),o.tagByName.hasOwnProperty(d))x=o.tagByName[d];else if(typeof d=="number"&&(d|0)===d)x=d;else return y.error("Unknown tag: "+d);return x>=31?y.error("Multi-octet tag encoding unsupported"):(g||(x|=32),x|=o.tagClassByName[m||"universal"]<<6,x)}a(h,"X")}),Ix=Et((e,t)=>{var r=ui(),n=cv();function i(s){n.call(this,s),this.enc="pem"}a(i,"_"),r(i,n),t.exports=i,i.prototype.encode=function(s,o){for(var l=n.prototype.encode.call(this,s),u=l.toString("base64"),c=["-----BEGIN "+o.label+"-----"],h=0;h<u.length;h+=64)c.push(u.slice(h,h+64));return c.push("-----END "+o.label+"-----"),c.join(`
`)}}),Mx=Et(e=>{var t=e;t.der=cv(),t.pem=Ix()}),ou=Et(e=>{var t=e;t.bignum=Ex(),t.define=Sx().define,t.base=su(),t.constants=lv(),t.decoders=Cx(),t.encoders=Mx()}),Ox=Et((e,t)=>{var r=ou(),n=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),i=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),l=r.define("RelativeDistinguishedName",function(){this.setof(i)}),u=r.define("RDNSequence",function(){this.seqof(l)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),h=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),d=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(c),this.key("validity").use(h),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),m=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});t.exports=m}),Rx=Et(e=>{var t=ou();e.certificate=Ox();var r=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});e.RSAPrivateKey=r;var n=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.RSAPublicKey=n;var i=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),s=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())});e.PublicKey=s;var o=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(i),this.key("subjectPrivateKey").octstr())});e.PrivateKey=o;var l=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});e.EncryptedPrivateKey=l;var u=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});e.DSAPrivateKey=u,e.DSAparam=t.define("DSAparam",function(){this.int()});var c=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),h=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(c),this.key("publicKey").optional().explicit(1).bitstr())});e.ECPrivateKey=h,e.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),Px=Et((e,t)=>{t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),Lx=Et((e,t)=>{var r=Jn().Buffer,n=MN().Transform,i=ui();function s(c){n.call(this),this._block=r.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}a(s,"Y"),i(s,n),s.prototype._transform=function(c,h,d){var g=null;try{this.update(c,h)}catch(m){g=m}d(g)},s.prototype._flush=function(c){var h=null;try{this.push(this.digest())}catch(d){h=d}c(h)};var o=typeof Uint8Array<"u",l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(r.prototype instanceof Uint8Array||r.TYPED_ARRAY_SUPPORT);function u(c,h){if(c instanceof r)return c;if(typeof c=="string")return r.from(c,h);if(l&&ArrayBuffer.isView(c)){if(c.byteLength===0)return r.alloc(0);var d=r.from(c.buffer,c.byteOffset,c.byteLength);if(d.byteLength===c.byteLength)return d}if(o&&c instanceof Uint8Array||r.isBuffer(c)&&c.constructor&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c))return r.from(c);throw TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}a(u,"J"),s.prototype.update=function(c,h){if(this._finalized)throw Error("Digest already called");c=u(c,h);for(var d=this._block,g=0;this._blockOffset+c.length-g>=this._blockSize;){for(var m=this._blockOffset;m<this._blockSize;)d[m++]=c[g++];this._update(),this._blockOffset=0}for(;g<c.length;)d[this._blockOffset++]=c[g++];for(var y=0,x=c.length*8;x>0;++y)this._length[y]+=x,x=this._length[y]/4294967296|0,x>0&&(this._length[y]-=4294967296*x);return this},s.prototype._update=function(){throw Error("_update is not implemented")},s.prototype.digest=function(c){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var h=this._digest();c!==void 0&&(h=h.toString(c)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return h},s.prototype._digest=function(){throw Error("_digest is not implemented")},t.exports=s}),Dx=Et((e,t)=>{var r=ui(),n=Lx(),i=Jn().Buffer,s=Array(16);function o(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}a(o,"O"),r(o,n),o.prototype._update=function(){for(var g=s,m=0;m<16;++m)g[m]=this._block.readInt32LE(m*4);var y=this._a,x=this._b,A=this._c,C=this._d;y=u(y,x,A,C,g[0],3614090360,7),C=u(C,y,x,A,g[1],3905402710,12),A=u(A,C,y,x,g[2],606105819,17),x=u(x,A,C,y,g[3],3250441966,22),y=u(y,x,A,C,g[4],4118548399,7),C=u(C,y,x,A,g[5],1200080426,12),A=u(A,C,y,x,g[6],2821735955,17),x=u(x,A,C,y,g[7],4249261313,22),y=u(y,x,A,C,g[8],1770035416,7),C=u(C,y,x,A,g[9],2336552879,12),A=u(A,C,y,x,g[10],4294925233,17),x=u(x,A,C,y,g[11],2304563134,22),y=u(y,x,A,C,g[12],1804603682,7),C=u(C,y,x,A,g[13],4254626195,12),A=u(A,C,y,x,g[14],2792965006,17),x=u(x,A,C,y,g[15],1236535329,22),y=c(y,x,A,C,g[1],4129170786,5),C=c(C,y,x,A,g[6],3225465664,9),A=c(A,C,y,x,g[11],643717713,14),x=c(x,A,C,y,g[0],3921069994,20),y=c(y,x,A,C,g[5],3593408605,5),C=c(C,y,x,A,g[10],38016083,9),A=c(A,C,y,x,g[15],3634488961,14),x=c(x,A,C,y,g[4],3889429448,20),y=c(y,x,A,C,g[9],568446438,5),C=c(C,y,x,A,g[14],3275163606,9),A=c(A,C,y,x,g[3],4107603335,14),x=c(x,A,C,y,g[8],1163531501,20),y=c(y,x,A,C,g[13],2850285829,5),C=c(C,y,x,A,g[2],4243563512,9),A=c(A,C,y,x,g[7],1735328473,14),x=c(x,A,C,y,g[12],2368359562,20),y=h(y,x,A,C,g[5],4294588738,4),C=h(C,y,x,A,g[8],2272392833,11),A=h(A,C,y,x,g[11],1839030562,16),x=h(x,A,C,y,g[14],4259657740,23),y=h(y,x,A,C,g[1],2763975236,4),C=h(C,y,x,A,g[4],1272893353,11),A=h(A,C,y,x,g[7],4139469664,16),x=h(x,A,C,y,g[10],3200236656,23),y=h(y,x,A,C,g[13],681279174,4),C=h(C,y,x,A,g[0],3936430074,11),A=h(A,C,y,x,g[3],3572445317,16),x=h(x,A,C,y,g[6],76029189,23),y=h(y,x,A,C,g[9],3654602809,4),C=h(C,y,x,A,g[12],3873151461,11),A=h(A,C,y,x,g[15],530742520,16),x=h(x,A,C,y,g[2],3299628645,23),y=d(y,x,A,C,g[0],4096336452,6),C=d(C,y,x,A,g[7],1126891415,10),A=d(A,C,y,x,g[14],2878612391,15),x=d(x,A,C,y,g[5],4237533241,21),y=d(y,x,A,C,g[12],1700485571,6),C=d(C,y,x,A,g[3],2399980690,10),A=d(A,C,y,x,g[10],4293915773,15),x=d(x,A,C,y,g[1],2240044497,21),y=d(y,x,A,C,g[8],1873313359,6),C=d(C,y,x,A,g[15],4264355552,10),A=d(A,C,y,x,g[6],2734768916,15),x=d(x,A,C,y,g[13],1309151649,21),y=d(y,x,A,C,g[4],4149444226,6),C=d(C,y,x,A,g[11],3174756917,10),A=d(A,C,y,x,g[2],718787259,15),x=d(x,A,C,y,g[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+x|0,this._c=this._c+A|0,this._d=this._d+C|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=i.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g};function l(g,m){return g<<m|g>>>32-m}a(l,"z");function u(g,m,y,x,A,C,M){return l(g+(m&y|~m&x)+A+C|0,M)+m|0}a(u,"J");function c(g,m,y,x,A,C,M){return l(g+(m&x|y&~x)+A+C|0,M)+m|0}a(c,"T");function h(g,m,y,x,A,C,M){return l(g+(m^y^x)+A+C|0,M)+m|0}a(h,"X");function d(g,m,y,x,A,C,M){return l(g+(y^(m|~x))+A+C|0,M)+m|0}a(d,"f"),t.exports=o}),jx=Et((e,t)=>{var r=Jn().Buffer,n=Dx();function i(s,o,l,u){if(r.isBuffer(s)||(s=r.from(s,"binary")),o&&(r.isBuffer(o)||(o=r.from(o,"binary")),o.length!==8))throw RangeError("salt should be Buffer with 8 byte length");for(var c=l/8,h=r.alloc(c),d=r.alloc(u||0),g=r.alloc(0);c>0||u>0;){var m=new n;m.update(g),m.update(s),o&&m.update(o),g=m.digest();var y=0;if(c>0){var x=h.length-c;y=Math.min(c,g.length),g.copy(h,x,0,y),c-=y}if(y<g.length&&u>0){var A=d.length-u,C=Math.min(u,g.length-y);g.copy(d,A,y,y+C),u-=C}}return g.fill(0),{key:h,iv:d}}a(i,"_"),t.exports=i}),dv=Et(e=>{var t=(Ti(),hr(hi));e.createCipher=e.Cipher=t.createCipher,e.createCipheriv=e.Cipheriv=t.createCipheriv,e.createDecipher=e.Decipher=t.createDecipher,e.createDecipheriv=e.Decipheriv=t.createDecipheriv,e.listCiphers=e.getCiphers=t.getCiphers}),Bx=Et((e,t)=>{var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=jx(),o=dv(),l=Jn().Buffer;t.exports=function(u,c){var h=u.toString(),d=h.match(r),g;if(d){var y="aes"+d[1],x=l.from(d[2],"hex"),A=l.from(d[3].replace(/[\r\n]/g,""),"base64"),C=s(c,x.slice(0,8),parseInt(d[1],10)).key,M=[],R=o.createDecipheriv(y,C,x);M.push(R.update(A)),M.push(R.final()),g=l.concat(M)}else{var m=h.match(i);g=l.from(m[2].replace(/[\r\n]/g,""),"base64")}var P=h.match(n)[1];return{tag:P,data:g}}}),hv=Et((e,t)=>{var r=Rx(),n=Px(),i=Bx(),s=dv(),o=ev(),l=Jn().Buffer;function u(h,d){var g=h.algorithm.decrypt.kde.kdeparams.salt,m=parseInt(h.algorithm.decrypt.kde.kdeparams.iters.toString(),10),y=n[h.algorithm.decrypt.cipher.algo.join(".")],x=h.algorithm.decrypt.cipher.iv,A=h.subjectPrivateKey,C=parseInt(y.split("-")[1],10)/8,M=o.pbkdf2Sync(d,g,m,C,"sha1"),R=s.createDecipheriv(y,M,x),P=[];return P.push(R.update(A)),P.push(R.final()),l.concat(P)}a(u,"J");function c(h){var d;typeof h=="object"&&!l.isBuffer(h)&&(d=h.passphrase,h=h.key),typeof h=="string"&&(h=l.from(h));var g=i(h,d),m=g.tag,y=g.data,x,A;switch(m){case"CERTIFICATE":A=r.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(A||(A=r.PublicKey.decode(y,"der")),x=A.algorithm.algorithm.join("."),x){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(A.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return A.subjectPrivateKey=A.subjectPublicKey,{type:"ec",data:A};case"1.2.840.10040.4.1":return A.algorithm.params.pub_key=r.DSAparam.decode(A.subjectPublicKey.data,"der"),{type:"dsa",data:A.algorithm.params};default:throw Error("unknown key id "+x)}case"ENCRYPTED PRIVATE KEY":y=r.EncryptedPrivateKey.decode(y,"der"),y=u(y,d);case"PRIVATE KEY":switch(A=r.PrivateKey.decode(y,"der"),x=A.algorithm.algorithm.join("."),x){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(A.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:A.algorithm.curve,privateKey:r.ECPrivateKey.decode(A.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return A.algorithm.params.priv_key=r.DSAparam.decode(A.subjectPrivateKey,"der"),{type:"dsa",params:A.algorithm.params};default:throw Error("unknown key id "+x)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return y=r.ECPrivateKey.decode(y,"der"),{curve:y.parameters.value,privateKey:y.privateKey};default:throw Error("unknown key type "+m)}}a(c,"T"),c.signature=r.signature,t.exports=c}),fv=Et((e,t)=>{var r=xc(),n=Jn().Buffer;t.exports=function(s,o){for(var l=n.alloc(0),u=0,c;l.length<o;)c=i(u++),l=n.concat([l,r("sha1").update(s).update(c).digest()]);return l.slice(0,o)};function i(s){var o=n.allocUnsafe(4);return o.writeUInt32BE(s,0),o}a(i,"_")}),pv=Et((e,t)=>{t.exports=function(r,n){for(var i=r.length,s=-1;++s<i;)r[s]^=n[s];return r}}),vf=Et((e,t)=>{(function(r,n){function i(f,w){if(!f)throw Error(w||"Assertion failed")}a(i,"_");function s(f,w){f.super_=w;var v=a(function(){},"Z");v.prototype=w.prototype,f.prototype=new v,f.prototype.constructor=f}a(s,"Y");function o(f,w,v){if(o.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((w==="le"||w==="be")&&(v=w,w=10),this._init(f||0,w||10,v||"be"))}a(o,"O"),typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(Bn(),hr(Mn)).Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,w){return f.cmp(w)>0?f:w},o.min=function(f,w){return f.cmp(w)<0?f:w},o.prototype._init=function(f,w,v){if(typeof f=="number")return this._initNumber(f,w,v);if(typeof f=="object")return this._initArray(f,w,v);w==="hex"&&(w=16),i(w===(w|0)&&w>=2&&w<=36),f=f.toString().replace(/\s+/g,"");var _=0;f[0]==="-"&&(_++,this.negative=1),_<f.length&&(w===16?this._parseHex(f,_,v):(this._parseBase(f,w,_),v==="le"&&this._initArray(this.toArray(),w,v)))},o.prototype._initNumber=function(f,w,v){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(i(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),w,v)},o.prototype._initArray=function(f,w,v){if(i(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,T,N=0;if(v==="be")for(_=f.length-1,S=0;_>=0;_-=3)T=f[_]|f[_-1]<<8|f[_-2]<<16,this.words[S]|=T<<N&67108863,this.words[S+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);else if(v==="le")for(_=0,S=0;_<f.length;_+=3)T=f[_]|f[_+1]<<8|f[_+2]<<16,this.words[S]|=T<<N&67108863,this.words[S+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);return this.strip()};function u(f,w){var v=f.charCodeAt(w);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}a(u,"J");function c(f,w,v){var _=u(f,v);return v-1>=w&&(_|=u(f,v-1)<<4),_}a(c,"T"),o.prototype._parseHex=function(f,w,v){this.length=Math.ceil((f.length-w)/6),this.words=Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S=0,T=0,N;if(v==="be")for(_=f.length-1;_>=w;_-=2)N=c(f,w,_)<<S,this.words[T]|=N&67108863,S>=18?(S-=18,T+=1,this.words[T]|=N>>>26):S+=8;else{var k=f.length-w;for(_=k%2===0?w+1:w;_<f.length;_+=2)N=c(f,w,_)<<S,this.words[T]|=N&67108863,S>=18?(S-=18,T+=1,this.words[T]|=N>>>26):S+=8}this.strip()};function h(f,w,v,_){for(var S=0,T=Math.min(f.length,v),N=w;N<T;N++){var k=f.charCodeAt(N)-48;S*=_,k>=49?S+=k-49+10:k>=17?S+=k-17+10:S+=k}return S}a(h,"X"),o.prototype._parseBase=function(f,w,v){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=w)_++;_--,S=S/w|0;for(var T=f.length-v,N=T%_,k=Math.min(T,T-N)+v,p=0,E=v;E<k;E+=_)p=h(f,E,E+_,w),this.imuln(S),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var I=1;for(p=h(f,E,f.length,w),E=0;E<N;E++)I*=w;this.imuln(I),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},o.prototype.copy=function(f){f.words=Array(this.length);for(var w=0;w<this.length;w++)f.words[w]=this.words[w];f.length=this.length,f.negative=this.negative,f.red=this.red},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,w){f=f||10,w=w|0||1;var v;if(f===16||f==="hex"){v="";for(var _=0,S=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<_|S)&16777215).toString(16);S=N>>>24-_&16777215,_+=2,_>=26&&(_-=26,T--),S!==0||T!==this.length-1?v=d[6-k.length]+k+v:v=k+v}for(S!==0&&(v=S.toString(16)+v);v.length%w!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(f===(f|0)&&f>=2&&f<=36){var p=g[f],E=m[f];v="";var I=this.clone();for(I.negative=0;!I.isZero();){var O=I.modn(E).toString(f);I=I.idivn(E),I.isZero()?v=O+v:v=d[p-O.length]+O+v}for(this.isZero()&&(v="0"+v);v.length%w!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(f,w){return i(typeof l<"u"),this.toArrayLike(l,f,w)},o.prototype.toArray=function(f,w){return this.toArrayLike(Array,f,w)},o.prototype.toArrayLike=function(f,w,v){var _=this.byteLength(),S=v||Math.max(1,_);i(_<=S,"byte array longer than desired length"),i(S>0,"Requested array length <= 0"),this.strip();var T=w==="le",N=new f(S),k,p,E=this.clone();if(T){for(p=0;!E.isZero();p++)k=E.andln(255),E.iushrn(8),N[p]=k;for(;p<S;p++)N[p]=0}else{for(p=0;p<S-_;p++)N[p]=0;for(p=0;!E.isZero();p++)k=E.andln(255),E.iushrn(8),N[S-p-1]=k}return N},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var w=f,v=0;return w>=4096&&(v+=13,w>>>=13),w>=64&&(v+=7,w>>>=7),w>=8&&(v+=4,w>>>=4),w>=2&&(v+=2,w>>>=2),v+w},o.prototype._zeroBits=function(f){if(f===0)return 26;var w=f,v=0;return(w&8191)===0&&(v+=13,w>>>=13),(w&127)===0&&(v+=7,w>>>=7),(w&15)===0&&(v+=4,w>>>=4),(w&3)===0&&(v+=2,w>>>=2),(w&1)===0&&v++,v},o.prototype.bitLength=function(){var f=this.words[this.length-1],w=this._countBits(f);return(this.length-1)*26+w};function y(f){for(var w=Array(f.bitLength()),v=0;v<w.length;v++){var _=v/26|0,S=v%26;w[v]=(f.words[_]&1<<S)>>>S}return w}a(y,"N"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,w=0;w<this.length;w++){var v=this._zeroBits(this.words[w]);if(f+=v,v!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]|f.words[w];return this.strip()},o.prototype.ior=function(f){return i((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var w;this.length>f.length?w=f:w=this;for(var v=0;v<w.length;v++)this.words[v]=this.words[v]&f.words[v];return this.length=w.length,this.strip()},o.prototype.iand=function(f){return i((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var w,v;this.length>f.length?(w=this,v=f):(w=f,v=this);for(var _=0;_<v.length;_++)this.words[_]=w.words[_]^v.words[_];if(this!==w)for(;_<w.length;_++)this.words[_]=w.words[_];return this.length=w.length,this.strip()},o.prototype.ixor=function(f){return i((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){i(typeof f=="number"&&f>=0);var w=Math.ceil(f/26)|0,v=f%26;this._expand(w),v>0&&w--;for(var _=0;_<w;_++)this.words[_]=~this.words[_]&67108863;return v>0&&(this.words[_]=~this.words[_]&67108863>>26-v),this.strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,w){i(typeof f=="number"&&f>=0);var v=f/26|0,_=f%26;return this._expand(v+1),w?this.words[v]=this.words[v]|1<<_:this.words[v]=this.words[v]&~(1<<_),this.strip()},o.prototype.iadd=function(f){var w;if(this.negative!==0&&f.negative===0)return this.negative=0,w=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,w=this.isub(f),f.negative=1,w._normSign();var v,_;this.length>f.length?(v=this,_=f):(v=f,_=this);for(var S=0,T=0;T<_.length;T++)w=(v.words[T]|0)+(_.words[T]|0)+S,this.words[T]=w&67108863,S=w>>>26;for(;S!==0&&T<v.length;T++)w=(v.words[T]|0)+S,this.words[T]=w&67108863,S=w>>>26;if(this.length=v.length,S!==0)this.words[this.length]=S,this.length++;else if(v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this},o.prototype.add=function(f){var w;return f.negative!==0&&this.negative===0?(f.negative=0,w=this.sub(f),f.negative^=1,w):f.negative===0&&this.negative!==0?(this.negative=0,w=f.sub(this),this.negative=1,w):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var w=this.iadd(f);return f.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var v=this.cmp(f);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,S;v>0?(_=this,S=f):(_=f,S=this);for(var T=0,N=0;N<S.length;N++)w=(_.words[N]|0)-(S.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;for(;T!==0&&N<_.length;N++)w=(_.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;if(T===0&&N<_.length&&_!==this)for(;N<_.length;N++)this.words[N]=_.words[N];return this.length=Math.max(this.length,N),_!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function x(f,w,v){v.negative=w.negative^f.negative;var _=f.length+w.length|0;v.length=_,_=_-1|0;var S=f.words[0]|0,T=w.words[0]|0,N=S*T,k=N&67108863,p=N/67108864|0;v.words[0]=k;for(var E=1;E<_;E++){for(var I=p>>>26,O=p&67108863,B=Math.min(E,w.length-1),H=Math.max(0,E-f.length+1);H<=B;H++){var G=E-H|0;S=f.words[G]|0,T=w.words[H]|0,N=S*T+O,I+=N/67108864|0,O=N&67108863}v.words[E]=O|0,p=I|0}return p!==0?v.words[E]=p|0:v.length--,v.strip()}a(x,"E");var A=a(function(f,w,v){var _=f.words,S=w.words,T=v.words,N=0,k,p,E,I=_[0]|0,O=I&8191,B=I>>>13,H=_[1]|0,G=H&8191,J=H>>>13,ce=_[2]|0,ne=ce&8191,se=ce>>>13,Ye=_[3]|0,Te=Ye&8191,ye=Ye>>>13,Me=_[4]|0,X=Me&8191,oe=Me>>>13,ee=_[5]|0,te=ee&8191,fe=ee>>>13,xe=_[6]|0,Re=xe&8191,de=xe>>>13,$=_[7]|0,q=$&8191,K=$>>>13,le=_[8]|0,ue=le&8191,ie=le>>>13,et=_[9]|0,Pe=et&8191,Ke=et>>>13,Ct=S[0]|0,Ce=Ct&8191,Qe=Ct>>>13,_e=S[1]|0,Ie=_e&8191,Ge=_e>>>13,Je=S[2]|0,Fe=Je&8191,rt=Je>>>13,Rt=S[3]|0,We=Rt&8191,Oe=Rt>>>13,tt=S[4]|0,Be=tt&8191,nt=tt>>>13,Tt=S[5]|0,pe=Tt&8191,we=Tt>>>13,$e=S[6]|0,De=$e&8191,ze=$e>>>13,ct=S[7]|0,me=ct&8191,je=ct>>>13,lt=S[8]|0,Ne=lt&8191,ut=lt>>>13,Ut=S[9]|0,st=Ut&8191,mt=Ut>>>13;v.negative=f.negative^w.negative,v.length=19,k=Math.imul(O,Ce),p=Math.imul(O,Qe),p=p+Math.imul(B,Ce)|0,E=Math.imul(B,Qe);var Ze=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,k=Math.imul(G,Ce),p=Math.imul(G,Qe),p=p+Math.imul(J,Ce)|0,E=Math.imul(J,Qe),k=k+Math.imul(O,Ie)|0,p=p+Math.imul(O,Ge)|0,p=p+Math.imul(B,Ie)|0,E=E+Math.imul(B,Ge)|0;var at=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(at>>>26)|0,at&=67108863,k=Math.imul(ne,Ce),p=Math.imul(ne,Qe),p=p+Math.imul(se,Ce)|0,E=Math.imul(se,Qe),k=k+Math.imul(G,Ie)|0,p=p+Math.imul(G,Ge)|0,p=p+Math.imul(J,Ie)|0,E=E+Math.imul(J,Ge)|0,k=k+Math.imul(O,Fe)|0,p=p+Math.imul(O,rt)|0,p=p+Math.imul(B,Fe)|0,E=E+Math.imul(B,rt)|0;var Dt=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,k=Math.imul(Te,Ce),p=Math.imul(Te,Qe),p=p+Math.imul(ye,Ce)|0,E=Math.imul(ye,Qe),k=k+Math.imul(ne,Ie)|0,p=p+Math.imul(ne,Ge)|0,p=p+Math.imul(se,Ie)|0,E=E+Math.imul(se,Ge)|0,k=k+Math.imul(G,Fe)|0,p=p+Math.imul(G,rt)|0,p=p+Math.imul(J,Fe)|0,E=E+Math.imul(J,rt)|0,k=k+Math.imul(O,We)|0,p=p+Math.imul(O,Oe)|0,p=p+Math.imul(B,We)|0,E=E+Math.imul(B,Oe)|0;var rr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(rr>>>26)|0,rr&=67108863,k=Math.imul(X,Ce),p=Math.imul(X,Qe),p=p+Math.imul(oe,Ce)|0,E=Math.imul(oe,Qe),k=k+Math.imul(Te,Ie)|0,p=p+Math.imul(Te,Ge)|0,p=p+Math.imul(ye,Ie)|0,E=E+Math.imul(ye,Ge)|0,k=k+Math.imul(ne,Fe)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(se,Fe)|0,E=E+Math.imul(se,rt)|0,k=k+Math.imul(G,We)|0,p=p+Math.imul(G,Oe)|0,p=p+Math.imul(J,We)|0,E=E+Math.imul(J,Oe)|0,k=k+Math.imul(O,Be)|0,p=p+Math.imul(O,nt)|0,p=p+Math.imul(B,Be)|0,E=E+Math.imul(B,nt)|0;var Yt=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,k=Math.imul(te,Ce),p=Math.imul(te,Qe),p=p+Math.imul(fe,Ce)|0,E=Math.imul(fe,Qe),k=k+Math.imul(X,Ie)|0,p=p+Math.imul(X,Ge)|0,p=p+Math.imul(oe,Ie)|0,E=E+Math.imul(oe,Ge)|0,k=k+Math.imul(Te,Fe)|0,p=p+Math.imul(Te,rt)|0,p=p+Math.imul(ye,Fe)|0,E=E+Math.imul(ye,rt)|0,k=k+Math.imul(ne,We)|0,p=p+Math.imul(ne,Oe)|0,p=p+Math.imul(se,We)|0,E=E+Math.imul(se,Oe)|0,k=k+Math.imul(G,Be)|0,p=p+Math.imul(G,nt)|0,p=p+Math.imul(J,Be)|0,E=E+Math.imul(J,nt)|0,k=k+Math.imul(O,pe)|0,p=p+Math.imul(O,we)|0,p=p+Math.imul(B,pe)|0,E=E+Math.imul(B,we)|0;var yr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(yr>>>26)|0,yr&=67108863,k=Math.imul(Re,Ce),p=Math.imul(Re,Qe),p=p+Math.imul(de,Ce)|0,E=Math.imul(de,Qe),k=k+Math.imul(te,Ie)|0,p=p+Math.imul(te,Ge)|0,p=p+Math.imul(fe,Ie)|0,E=E+Math.imul(fe,Ge)|0,k=k+Math.imul(X,Fe)|0,p=p+Math.imul(X,rt)|0,p=p+Math.imul(oe,Fe)|0,E=E+Math.imul(oe,rt)|0,k=k+Math.imul(Te,We)|0,p=p+Math.imul(Te,Oe)|0,p=p+Math.imul(ye,We)|0,E=E+Math.imul(ye,Oe)|0,k=k+Math.imul(ne,Be)|0,p=p+Math.imul(ne,nt)|0,p=p+Math.imul(se,Be)|0,E=E+Math.imul(se,nt)|0,k=k+Math.imul(G,pe)|0,p=p+Math.imul(G,we)|0,p=p+Math.imul(J,pe)|0,E=E+Math.imul(J,we)|0,k=k+Math.imul(O,De)|0,p=p+Math.imul(O,ze)|0,p=p+Math.imul(B,De)|0,E=E+Math.imul(B,ze)|0;var Pr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,k=Math.imul(q,Ce),p=Math.imul(q,Qe),p=p+Math.imul(K,Ce)|0,E=Math.imul(K,Qe),k=k+Math.imul(Re,Ie)|0,p=p+Math.imul(Re,Ge)|0,p=p+Math.imul(de,Ie)|0,E=E+Math.imul(de,Ge)|0,k=k+Math.imul(te,Fe)|0,p=p+Math.imul(te,rt)|0,p=p+Math.imul(fe,Fe)|0,E=E+Math.imul(fe,rt)|0,k=k+Math.imul(X,We)|0,p=p+Math.imul(X,Oe)|0,p=p+Math.imul(oe,We)|0,E=E+Math.imul(oe,Oe)|0,k=k+Math.imul(Te,Be)|0,p=p+Math.imul(Te,nt)|0,p=p+Math.imul(ye,Be)|0,E=E+Math.imul(ye,nt)|0,k=k+Math.imul(ne,pe)|0,p=p+Math.imul(ne,we)|0,p=p+Math.imul(se,pe)|0,E=E+Math.imul(se,we)|0,k=k+Math.imul(G,De)|0,p=p+Math.imul(G,ze)|0,p=p+Math.imul(J,De)|0,E=E+Math.imul(J,ze)|0,k=k+Math.imul(O,me)|0,p=p+Math.imul(O,je)|0,p=p+Math.imul(B,me)|0,E=E+Math.imul(B,je)|0;var wr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(wr>>>26)|0,wr&=67108863,k=Math.imul(ue,Ce),p=Math.imul(ue,Qe),p=p+Math.imul(ie,Ce)|0,E=Math.imul(ie,Qe),k=k+Math.imul(q,Ie)|0,p=p+Math.imul(q,Ge)|0,p=p+Math.imul(K,Ie)|0,E=E+Math.imul(K,Ge)|0,k=k+Math.imul(Re,Fe)|0,p=p+Math.imul(Re,rt)|0,p=p+Math.imul(de,Fe)|0,E=E+Math.imul(de,rt)|0,k=k+Math.imul(te,We)|0,p=p+Math.imul(te,Oe)|0,p=p+Math.imul(fe,We)|0,E=E+Math.imul(fe,Oe)|0,k=k+Math.imul(X,Be)|0,p=p+Math.imul(X,nt)|0,p=p+Math.imul(oe,Be)|0,E=E+Math.imul(oe,nt)|0,k=k+Math.imul(Te,pe)|0,p=p+Math.imul(Te,we)|0,p=p+Math.imul(ye,pe)|0,E=E+Math.imul(ye,we)|0,k=k+Math.imul(ne,De)|0,p=p+Math.imul(ne,ze)|0,p=p+Math.imul(se,De)|0,E=E+Math.imul(se,ze)|0,k=k+Math.imul(G,me)|0,p=p+Math.imul(G,je)|0,p=p+Math.imul(J,me)|0,E=E+Math.imul(J,je)|0,k=k+Math.imul(O,Ne)|0,p=p+Math.imul(O,ut)|0,p=p+Math.imul(B,Ne)|0,E=E+Math.imul(B,ut)|0;var pr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(pr>>>26)|0,pr&=67108863,k=Math.imul(Pe,Ce),p=Math.imul(Pe,Qe),p=p+Math.imul(Ke,Ce)|0,E=Math.imul(Ke,Qe),k=k+Math.imul(ue,Ie)|0,p=p+Math.imul(ue,Ge)|0,p=p+Math.imul(ie,Ie)|0,E=E+Math.imul(ie,Ge)|0,k=k+Math.imul(q,Fe)|0,p=p+Math.imul(q,rt)|0,p=p+Math.imul(K,Fe)|0,E=E+Math.imul(K,rt)|0,k=k+Math.imul(Re,We)|0,p=p+Math.imul(Re,Oe)|0,p=p+Math.imul(de,We)|0,E=E+Math.imul(de,Oe)|0,k=k+Math.imul(te,Be)|0,p=p+Math.imul(te,nt)|0,p=p+Math.imul(fe,Be)|0,E=E+Math.imul(fe,nt)|0,k=k+Math.imul(X,pe)|0,p=p+Math.imul(X,we)|0,p=p+Math.imul(oe,pe)|0,E=E+Math.imul(oe,we)|0,k=k+Math.imul(Te,De)|0,p=p+Math.imul(Te,ze)|0,p=p+Math.imul(ye,De)|0,E=E+Math.imul(ye,ze)|0,k=k+Math.imul(ne,me)|0,p=p+Math.imul(ne,je)|0,p=p+Math.imul(se,me)|0,E=E+Math.imul(se,je)|0,k=k+Math.imul(G,Ne)|0,p=p+Math.imul(G,ut)|0,p=p+Math.imul(J,Ne)|0,E=E+Math.imul(J,ut)|0,k=k+Math.imul(O,st)|0,p=p+Math.imul(O,mt)|0,p=p+Math.imul(B,st)|0,E=E+Math.imul(B,mt)|0;var Gr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,k=Math.imul(Pe,Ie),p=Math.imul(Pe,Ge),p=p+Math.imul(Ke,Ie)|0,E=Math.imul(Ke,Ge),k=k+Math.imul(ue,Fe)|0,p=p+Math.imul(ue,rt)|0,p=p+Math.imul(ie,Fe)|0,E=E+Math.imul(ie,rt)|0,k=k+Math.imul(q,We)|0,p=p+Math.imul(q,Oe)|0,p=p+Math.imul(K,We)|0,E=E+Math.imul(K,Oe)|0,k=k+Math.imul(Re,Be)|0,p=p+Math.imul(Re,nt)|0,p=p+Math.imul(de,Be)|0,E=E+Math.imul(de,nt)|0,k=k+Math.imul(te,pe)|0,p=p+Math.imul(te,we)|0,p=p+Math.imul(fe,pe)|0,E=E+Math.imul(fe,we)|0,k=k+Math.imul(X,De)|0,p=p+Math.imul(X,ze)|0,p=p+Math.imul(oe,De)|0,E=E+Math.imul(oe,ze)|0,k=k+Math.imul(Te,me)|0,p=p+Math.imul(Te,je)|0,p=p+Math.imul(ye,me)|0,E=E+Math.imul(ye,je)|0,k=k+Math.imul(ne,Ne)|0,p=p+Math.imul(ne,ut)|0,p=p+Math.imul(se,Ne)|0,E=E+Math.imul(se,ut)|0,k=k+Math.imul(G,st)|0,p=p+Math.imul(G,mt)|0,p=p+Math.imul(J,st)|0,E=E+Math.imul(J,mt)|0;var Zr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,k=Math.imul(Pe,Fe),p=Math.imul(Pe,rt),p=p+Math.imul(Ke,Fe)|0,E=Math.imul(Ke,rt),k=k+Math.imul(ue,We)|0,p=p+Math.imul(ue,Oe)|0,p=p+Math.imul(ie,We)|0,E=E+Math.imul(ie,Oe)|0,k=k+Math.imul(q,Be)|0,p=p+Math.imul(q,nt)|0,p=p+Math.imul(K,Be)|0,E=E+Math.imul(K,nt)|0,k=k+Math.imul(Re,pe)|0,p=p+Math.imul(Re,we)|0,p=p+Math.imul(de,pe)|0,E=E+Math.imul(de,we)|0,k=k+Math.imul(te,De)|0,p=p+Math.imul(te,ze)|0,p=p+Math.imul(fe,De)|0,E=E+Math.imul(fe,ze)|0,k=k+Math.imul(X,me)|0,p=p+Math.imul(X,je)|0,p=p+Math.imul(oe,me)|0,E=E+Math.imul(oe,je)|0,k=k+Math.imul(Te,Ne)|0,p=p+Math.imul(Te,ut)|0,p=p+Math.imul(ye,Ne)|0,E=E+Math.imul(ye,ut)|0,k=k+Math.imul(ne,st)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(se,st)|0,E=E+Math.imul(se,mt)|0;var Nr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,k=Math.imul(Pe,We),p=Math.imul(Pe,Oe),p=p+Math.imul(Ke,We)|0,E=Math.imul(Ke,Oe),k=k+Math.imul(ue,Be)|0,p=p+Math.imul(ue,nt)|0,p=p+Math.imul(ie,Be)|0,E=E+Math.imul(ie,nt)|0,k=k+Math.imul(q,pe)|0,p=p+Math.imul(q,we)|0,p=p+Math.imul(K,pe)|0,E=E+Math.imul(K,we)|0,k=k+Math.imul(Re,De)|0,p=p+Math.imul(Re,ze)|0,p=p+Math.imul(de,De)|0,E=E+Math.imul(de,ze)|0,k=k+Math.imul(te,me)|0,p=p+Math.imul(te,je)|0,p=p+Math.imul(fe,me)|0,E=E+Math.imul(fe,je)|0,k=k+Math.imul(X,Ne)|0,p=p+Math.imul(X,ut)|0,p=p+Math.imul(oe,Ne)|0,E=E+Math.imul(oe,ut)|0,k=k+Math.imul(Te,st)|0,p=p+Math.imul(Te,mt)|0,p=p+Math.imul(ye,st)|0,E=E+Math.imul(ye,mt)|0;var Fr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,k=Math.imul(Pe,Be),p=Math.imul(Pe,nt),p=p+Math.imul(Ke,Be)|0,E=Math.imul(Ke,nt),k=k+Math.imul(ue,pe)|0,p=p+Math.imul(ue,we)|0,p=p+Math.imul(ie,pe)|0,E=E+Math.imul(ie,we)|0,k=k+Math.imul(q,De)|0,p=p+Math.imul(q,ze)|0,p=p+Math.imul(K,De)|0,E=E+Math.imul(K,ze)|0,k=k+Math.imul(Re,me)|0,p=p+Math.imul(Re,je)|0,p=p+Math.imul(de,me)|0,E=E+Math.imul(de,je)|0,k=k+Math.imul(te,Ne)|0,p=p+Math.imul(te,ut)|0,p=p+Math.imul(fe,Ne)|0,E=E+Math.imul(fe,ut)|0,k=k+Math.imul(X,st)|0,p=p+Math.imul(X,mt)|0,p=p+Math.imul(oe,st)|0,E=E+Math.imul(oe,mt)|0;var Sr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,k=Math.imul(Pe,pe),p=Math.imul(Pe,we),p=p+Math.imul(Ke,pe)|0,E=Math.imul(Ke,we),k=k+Math.imul(ue,De)|0,p=p+Math.imul(ue,ze)|0,p=p+Math.imul(ie,De)|0,E=E+Math.imul(ie,ze)|0,k=k+Math.imul(q,me)|0,p=p+Math.imul(q,je)|0,p=p+Math.imul(K,me)|0,E=E+Math.imul(K,je)|0,k=k+Math.imul(Re,Ne)|0,p=p+Math.imul(Re,ut)|0,p=p+Math.imul(de,Ne)|0,E=E+Math.imul(de,ut)|0,k=k+Math.imul(te,st)|0,p=p+Math.imul(te,mt)|0,p=p+Math.imul(fe,st)|0,E=E+Math.imul(fe,mt)|0;var Cr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,k=Math.imul(Pe,De),p=Math.imul(Pe,ze),p=p+Math.imul(Ke,De)|0,E=Math.imul(Ke,ze),k=k+Math.imul(ue,me)|0,p=p+Math.imul(ue,je)|0,p=p+Math.imul(ie,me)|0,E=E+Math.imul(ie,je)|0,k=k+Math.imul(q,Ne)|0,p=p+Math.imul(q,ut)|0,p=p+Math.imul(K,Ne)|0,E=E+Math.imul(K,ut)|0,k=k+Math.imul(Re,st)|0,p=p+Math.imul(Re,mt)|0,p=p+Math.imul(de,st)|0,E=E+Math.imul(de,mt)|0;var Ur=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,k=Math.imul(Pe,me),p=Math.imul(Pe,je),p=p+Math.imul(Ke,me)|0,E=Math.imul(Ke,je),k=k+Math.imul(ue,Ne)|0,p=p+Math.imul(ue,ut)|0,p=p+Math.imul(ie,Ne)|0,E=E+Math.imul(ie,ut)|0,k=k+Math.imul(q,st)|0,p=p+Math.imul(q,mt)|0,p=p+Math.imul(K,st)|0,E=E+Math.imul(K,mt)|0;var $r=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+($r>>>26)|0,$r&=67108863,k=Math.imul(Pe,Ne),p=Math.imul(Pe,ut),p=p+Math.imul(Ke,Ne)|0,E=Math.imul(Ke,ut),k=k+Math.imul(ue,st)|0,p=p+Math.imul(ue,mt)|0,p=p+Math.imul(ie,st)|0,E=E+Math.imul(ie,mt)|0;var Xr=(N+k|0)+((p&8191)<<13)|0;N=(E+(p>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,k=Math.imul(Pe,st),p=Math.imul(Pe,mt),p=p+Math.imul(Ke,st)|0,E=Math.imul(Ke,mt);var Jr=(N+k|0)+((p&8191)<<13)|0;return N=(E+(p>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,T[0]=Ze,T[1]=at,T[2]=Dt,T[3]=rr,T[4]=Yt,T[5]=yr,T[6]=Pr,T[7]=wr,T[8]=pr,T[9]=Gr,T[10]=Zr,T[11]=Nr,T[12]=Fr,T[13]=Sr,T[14]=Cr,T[15]=Ur,T[16]=$r,T[17]=Xr,T[18]=Jr,N!==0&&(T[19]=N,v.length++),v},"h");Math.imul||(A=x);function C(f,w,v){v.negative=w.negative^f.negative,v.length=f.length+w.length;for(var _=0,S=0,T=0;T<v.length-1;T++){var N=S;S=0;for(var k=_&67108863,p=Math.min(T,w.length-1),E=Math.max(0,T-f.length+1);E<=p;E++){var I=T-E,O=f.words[I]|0,B=w.words[E]|0,H=O*B,G=H&67108863;N=N+(H/67108864|0)|0,G=G+k|0,k=G&67108863,N=N+(G>>>26)|0,S+=N>>>26,N&=67108863}v.words[T]=k,_=N,N=S}return _!==0?v.words[T]=_:v.length--,v.strip()}a(C,"I");function M(f,w,v){var _=new R;return _.mulp(f,w,v)}a(M,"D"),o.prototype.mulTo=function(f,w){var v,_=this.length+f.length;return this.length===10&&f.length===10?v=A(this,f,w):_<63?v=x(this,f,w):_<1024?v=C(this,f,w):v=M(this,f,w),v};function R(f,w){this.x=f,this.y=w}a(R,"g"),R.prototype.makeRBT=function(f){for(var w=Array(f),v=o.prototype._countBits(f)-1,_=0;_<f;_++)w[_]=this.revBin(_,v,f);return w},R.prototype.revBin=function(f,w,v){if(f===0||f===v-1)return f;for(var _=0,S=0;S<w;S++)_|=(f&1)<<w-S-1,f>>=1;return _},R.prototype.permute=function(f,w,v,_,S,T){for(var N=0;N<T;N++)_[N]=w[f[N]],S[N]=v[f[N]]},R.prototype.transform=function(f,w,v,_,S,T){this.permute(T,f,w,v,_,S);for(var N=1;N<S;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),E=Math.sin(2*Math.PI/k),I=0;I<S;I+=k)for(var O=p,B=E,H=0;H<N;H++){var G=v[I+H],J=_[I+H],ce=v[I+H+N],ne=_[I+H+N],se=O*ce-B*ne;ne=O*ne+B*ce,ce=se,v[I+H]=G+ce,_[I+H]=J+ne,v[I+H+N]=G-ce,_[I+H+N]=J-ne,H!==k&&(se=p*O-E*B,B=p*B+E*O,O=se)}},R.prototype.guessLen13b=function(f,w){var v=Math.max(w,f)|1,_=v&1,S=0;for(v=v/2|0;v;v=v>>>1)S++;return 1<<S+1+_},R.prototype.conjugate=function(f,w,v){if(!(v<=1))for(var _=0;_<v/2;_++){var S=f[_];f[_]=f[v-_-1],f[v-_-1]=S,S=w[_],w[_]=-w[v-_-1],w[v-_-1]=-S}},R.prototype.normalize13b=function(f,w){for(var v=0,_=0;_<w/2;_++){var S=Math.round(f[2*_+1]/w)*8192+Math.round(f[2*_]/w)+v;f[_]=S&67108863,S<67108864?v=0:v=S/67108864|0}return f},R.prototype.convert13b=function(f,w,v,_){for(var S=0,T=0;T<w;T++)S=S+(f[T]|0),v[2*T]=S&8191,S=S>>>13,v[2*T+1]=S&8191,S=S>>>13;for(T=2*w;T<_;++T)v[T]=0;i(S===0),i((S&-8192)===0)},R.prototype.stub=function(f){for(var w=Array(f),v=0;v<f;v++)w[v]=0;return w},R.prototype.mulp=function(f,w,v){var _=2*this.guessLen13b(f.length,w.length),S=this.makeRBT(_),T=this.stub(_),N=Array(_),k=Array(_),p=Array(_),E=Array(_),I=Array(_),O=Array(_),B=v.words;B.length=_,this.convert13b(f.words,f.length,N,_),this.convert13b(w.words,w.length,E,_),this.transform(N,T,k,p,_,S),this.transform(E,T,I,O,_,S);for(var H=0;H<_;H++){var G=k[H]*I[H]-p[H]*O[H];p[H]=k[H]*O[H]+p[H]*I[H],k[H]=G}return this.conjugate(k,p,_),this.transform(k,p,B,T,_,S),this.conjugate(B,T,_),this.normalize13b(B,_),v.negative=f.negative^w.negative,v.length=f.length+w.length,v.strip()},o.prototype.mul=function(f){var w=new o(null);return w.words=Array(this.length+f.length),this.mulTo(f,w)},o.prototype.mulf=function(f){var w=new o(null);return w.words=Array(this.length+f.length),M(this,f,w)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){i(typeof f=="number"),i(f<67108864);for(var w=0,v=0;v<this.length;v++){var _=(this.words[v]|0)*f,S=(_&67108863)+(w&67108863);w>>=26,w+=_/67108864|0,w+=S>>>26,this.words[v]=S&67108863}return w!==0&&(this.words[v]=w,this.length++),this.length=f===0?1:this.length,this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var w=y(f);if(w.length===0)return new o(1);for(var v=this,_=0;_<w.length&&w[_]===0;_++,v=v.sqr());if(++_<w.length)for(var S=v.sqr();_<w.length;_++,S=S.sqr())w[_]!==0&&(v=v.mul(S));return v},o.prototype.iushln=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26,_=67108863>>>26-w<<26-w,S;if(w!==0){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&_,k=(this.words[S]|0)-N<<w;this.words[S]=k|T,T=N>>>26-w}T&&(this.words[S]=T,this.length++)}if(v!==0){for(S=this.length-1;S>=0;S--)this.words[S+v]=this.words[S];for(S=0;S<v;S++)this.words[S]=0;this.length+=v}return this.strip()},o.prototype.ishln=function(f){return i(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,w,v){i(typeof f=="number"&&f>=0);var _;w?_=(w-w%26)/26:_=0;var S=f%26,T=Math.min((f-S)/26,this.length),N=67108863^67108863>>>S<<S,k=v;if(_-=T,_=Math.max(0,_),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var E=0;for(p=this.length-1;p>=0&&(E!==0||p>=_);p--){var I=this.words[p]|0;this.words[p]=E<<26-S|I>>>S,E=I&N}return k&&E!==0&&(k.words[k.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(f,w,v){return i(this.negative===0),this.iushrn(f,w,v)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26,_=1<<w;if(this.length<=v)return!1;var S=this.words[v];return!!(S&_)},o.prototype.imaskn=function(f){i(typeof f=="number"&&f>=0);var w=f%26,v=(f-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(w!==0&&v++,this.length=Math.min(v,this.length),w!==0){var _=67108863^67108863>>>w<<w;this.words[this.length-1]&=_}return this.strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return i(typeof f=="number"),i(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(f){if(i(typeof f=="number"),i(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,w,v){var _=f.length+v,S;this._expand(_);var T,N=0;for(S=0;S<f.length;S++){T=(this.words[S+v]|0)+N;var k=(f.words[S]|0)*w;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[S+v]=T&67108863}for(;S<this.length-v;S++)T=(this.words[S+v]|0)+N,N=T>>26,this.words[S+v]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,S=0;S<this.length;S++)T=-(this.words[S]|0)+N,N=T>>26,this.words[S]=T&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(f,w){var v=this.length-f.length,_=this.clone(),S=f,T=S.words[S.length-1]|0,N=this._countBits(T);v=26-N,v!==0&&(S=S.ushln(v),_.iushln(v),T=S.words[S.length-1]|0);var k=_.length-S.length,p;if(w!=="mod"){p=new o(null),p.length=k+1,p.words=Array(p.length);for(var E=0;E<p.length;E++)p.words[E]=0}var I=_.clone()._ishlnsubmul(S,1,k);I.negative===0&&(_=I,p&&(p.words[k]=1));for(var O=k-1;O>=0;O--){var B=(_.words[S.length+O]|0)*67108864+(_.words[S.length+O-1]|0);for(B=Math.min(B/T|0,67108863),_._ishlnsubmul(S,B,O);_.negative!==0;)B--,_.negative=0,_._ishlnsubmul(S,1,O),!_.isZero()&&(_.negative^=1);p&&(p.words[O]=B)}return p&&p.strip(),_.strip(),w!=="div"&&v!==0&&_.iushrn(v),{div:p||null,mod:_}},o.prototype.divmod=function(f,w,v){if(i(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var _,S,T;return this.negative!==0&&f.negative===0?(T=this.neg().divmod(f,w),w!=="mod"&&(_=T.div.neg()),w!=="div"&&(S=T.mod.neg(),v&&S.negative!==0&&S.iadd(f)),{div:_,mod:S}):this.negative===0&&f.negative!==0?(T=this.divmod(f.neg(),w),w!=="mod"&&(_=T.div.neg()),{div:_,mod:T.mod}):(this.negative&f.negative)!==0?(T=this.neg().divmod(f.neg(),w),w!=="div"&&(S=T.mod.neg(),v&&S.negative!==0&&S.isub(f)),{div:T.div,mod:S}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?w==="div"?{div:this.divn(f.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modn(f.words[0]))}:this._wordDiv(f,w)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var w=this.divmod(f);if(w.mod.isZero())return w.div;var v=w.div.negative!==0?w.mod.isub(f):w.mod,_=f.ushrn(1),S=f.andln(1),T=v.cmp(_);return T<0||S===1&&T===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modn=function(f){i(f<=67108863);for(var w=67108864%f,v=0,_=this.length-1;_>=0;_--)v=(w*v+(this.words[_]|0))%f;return v},o.prototype.idivn=function(f){i(f<=67108863);for(var w=0,v=this.length-1;v>=0;v--){var _=(this.words[v]|0)+w*67108864;this.words[v]=_/f|0,w=_%f}return this.strip()},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){i(f.negative===0),i(!f.isZero());var w=this,v=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var _=new o(1),S=new o(0),T=new o(0),N=new o(1),k=0;w.isEven()&&v.isEven();)w.iushrn(1),v.iushrn(1),++k;for(var p=v.clone(),E=w.clone();!w.isZero();){for(var I=0,O=1;(w.words[0]&O)===0&&I<26;++I,O<<=1);if(I>0)for(w.iushrn(I);I-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(p),S.isub(E)),_.iushrn(1),S.iushrn(1);for(var B=0,H=1;(v.words[0]&H)===0&&B<26;++B,H<<=1);if(B>0)for(v.iushrn(B);B-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(E)),T.iushrn(1),N.iushrn(1);w.cmp(v)>=0?(w.isub(v),_.isub(T),S.isub(N)):(v.isub(w),T.isub(_),N.isub(S))}return{a:T,b:N,gcd:v.iushln(k)}},o.prototype._invmp=function(f){i(f.negative===0),i(!f.isZero());var w=this,v=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var _=new o(1),S=new o(0),T=v.clone();w.cmpn(1)>0&&v.cmpn(1)>0;){for(var N=0,k=1;(w.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(w.iushrn(N);N-- >0;)_.isOdd()&&_.iadd(T),_.iushrn(1);for(var p=0,E=1;(v.words[0]&E)===0&&p<26;++p,E<<=1);if(p>0)for(v.iushrn(p);p-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);w.cmp(v)>=0?(w.isub(v),_.isub(S)):(v.isub(w),S.isub(_))}var I;return w.cmpn(1)===0?I=_:I=S,I.cmpn(0)<0&&I.iadd(f),I},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var w=this.clone(),v=f.clone();w.negative=0,v.negative=0;for(var _=0;w.isEven()&&v.isEven();_++)w.iushrn(1),v.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;v.isEven();)v.iushrn(1);var S=w.cmp(v);if(S<0){var T=w;w=v,v=T}else if(S===0||v.cmpn(1)===0)break;w.isub(v)}while(!0);return v.iushln(_)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){i(typeof f=="number");var w=f%26,v=(f-w)/26,_=1<<w;if(this.length<=v)return this._expand(v+1),this.words[v]|=_,this;for(var S=_,T=v;S!==0&&T<this.length;T++){var N=this.words[T]|0;N+=S,S=N>>>26,N&=67108863,this.words[T]=N}return S!==0&&(this.words[T]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var w=f<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var v;if(this.length>1)v=1;else{w&&(f=-f),i(f<=67108863,"Number is too big");var _=this.words[0]|0;v=_===f?0:_<f?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var w=this.ucmp(f);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var w=0,v=this.length-1;v>=0;v--){var _=this.words[v]|0,S=f.words[v]|0;if(_!==S){_<S?w=-1:_>S&&(w=1);break}}return w},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new F(f)},o.prototype.toRed=function(f){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return i(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return i(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var P={k256:null,p224:null,p192:null,p25519:null};function L(f,w){this.name=f,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(L,"y"),L.prototype._tmp=function(){var f=new o(null);return f.words=Array(Math.ceil(this.n/13)),f},L.prototype.ireduce=function(f){var w=f,v;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),v=w.bitLength();while(v>this.n);var _=v<this.n?-1:w.ucmp(this.p);return _===0?(w.words[0]=0,w.length=1):_>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},L.prototype.split=function(f,w){f.iushrn(this.n,0,w)},L.prototype.imulK=function(f){return f.imul(this.k)};function z(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(z,"p"),s(z,L),z.prototype.split=function(f,w){for(var v=4194303,_=Math.min(f.length,9),S=0;S<_;S++)w.words[S]=f.words[S];if(w.length=_,f.length<=9){f.words[0]=0,f.length=1;return}var T=f.words[9];for(w.words[w.length++]=T&v,S=10;S<f.length;S++){var N=f.words[S]|0;f.words[S-10]=(N&v)<<4|T>>>22,T=N}T>>>=22,f.words[S-10]=T,T===0&&f.length>10?f.length-=10:f.length-=9},z.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var w=0,v=0;v<f.length;v++){var _=f.words[v]|0;w+=_*977,f.words[v]=w&67108863,w=_*64+(w/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Z(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Z,"n"),s(Z,L);function Y(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Y,"s"),s(Y,L);function ae(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(ae,"q$"),s(ae,L),ae.prototype.imulK=function(f){for(var w=0,v=0;v<f.length;v++){var _=(f.words[v]|0)*19+w,S=_&67108863;_>>>=26,f.words[v]=S,w=_}return w!==0&&(f.words[f.length++]=w),f},o._prime=function(f){if(P[f])return P[f];var w;if(f==="k256")w=new z;else if(f==="p224")w=new Z;else if(f==="p192")w=new Y;else if(f==="p25519")w=new ae;else throw Error("Unknown prime "+f);return P[f]=w,w};function F(f){if(typeof f=="string"){var w=o._prime(f);this.m=w.p,this.prime=w}else i(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}a(F,"c"),F.prototype._verify1=function(f){i(f.negative===0,"red works only with positives"),i(f.red,"red works only with red numbers")},F.prototype._verify2=function(f,w){i((f.negative|w.negative)===0,"red works only with positives"),i(f.red&&f.red===w.red,"red works only with red numbers")},F.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},F.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},F.prototype.add=function(f,w){this._verify2(f,w);var v=f.add(w);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},F.prototype.iadd=function(f,w){this._verify2(f,w);var v=f.iadd(w);return v.cmp(this.m)>=0&&v.isub(this.m),v},F.prototype.sub=function(f,w){this._verify2(f,w);var v=f.sub(w);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},F.prototype.isub=function(f,w){this._verify2(f,w);var v=f.isub(w);return v.cmpn(0)<0&&v.iadd(this.m),v},F.prototype.shl=function(f,w){return this._verify1(f),this.imod(f.ushln(w))},F.prototype.imul=function(f,w){return this._verify2(f,w),this.imod(f.imul(w))},F.prototype.mul=function(f,w){return this._verify2(f,w),this.imod(f.mul(w))},F.prototype.isqr=function(f){return this.imul(f,f.clone())},F.prototype.sqr=function(f){return this.mul(f,f)},F.prototype.sqrt=function(f){if(f.isZero())return f.clone();var w=this.m.andln(3);if(i(w%2===1),w===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(f,v)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);i(!_.isZero());var T=new o(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var E=this.pow(p,_),I=this.pow(f,_.addn(1).iushrn(1)),O=this.pow(f,_),B=S;O.cmp(T)!==0;){for(var H=O,G=0;H.cmp(T)!==0;G++)H=H.redSqr();i(G<B);var J=this.pow(E,new o(1).iushln(B-G-1));I=I.redMul(J),E=J.redSqr(),O=O.redMul(E),B=G}return I},F.prototype.invm=function(f){var w=f._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},F.prototype.pow=function(f,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return f.clone();var v=4,_=Array(1<<v);_[0]=new o(1).toRed(this),_[1]=f;for(var S=2;S<_.length;S++)_[S]=this.mul(_[S-1],f);var T=_[0],N=0,k=0,p=w.bitLength()%26;for(p===0&&(p=26),S=w.length-1;S>=0;S--){for(var E=w.words[S],I=p-1;I>=0;I--){var O=E>>I&1;if(T!==_[0]&&(T=this.sqr(T)),O===0&&N===0){k=0;continue}N<<=1,N|=O,k++,!(k!==v&&(S!==0||I!==0))&&(T=this.mul(T,_[N]),k=0,N=0)}p=26}return T},F.prototype.convertTo=function(f){var w=f.umod(this.m);return w===f?w.clone():w},F.prototype.convertFrom=function(f){var w=f.clone();return w.red=null,w},o.mont=function(f){return new W(f)};function W(f){F.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(W,"U"),s(W,F),W.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},W.prototype.convertFrom=function(f){var w=this.imod(f.mul(this.rinv));return w.red=null,w},W.prototype.imul=function(f,w){if(f.isZero()||w.isZero())return f.words[0]=0,f.length=1,f;var v=f.imul(w),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(_).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},W.prototype.mul=function(f,w){if(f.isZero()||w.isZero())return new o(0)._forceRed(this);var v=f.mul(w),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(_).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},W.prototype.invm=function(f){var w=this.imod(f._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(typeof t>"u"||t,e)}),mv=Et((e,t)=>{var r=vf(),n=Jn().Buffer;function i(s,o){return n.from(s.toRed(r.mont(o.modulus)).redPow(new r(o.publicExponent)).fromRed().toArray())}a(i,"_"),t.exports=i}),zx=Et((e,t)=>{(function(r,n){function i(v,_){if(!v)throw Error(_||"Assertion failed")}a(i,"_");function s(v,_){v.super_=_;var S=a(function(){},"G");S.prototype=_.prototype,v.prototype=new S,v.prototype.constructor=v}a(s,"Y");function o(v,_,S){if(o.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((_==="le"||_==="be")&&(S=_,_=10),this._init(v||0,_||10,S||"be"))}a(o,"O"),typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(Bn(),hr(Mn)).Buffer}catch{}o.isBN=function(v){return v instanceof o?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===o.wordSize&&Array.isArray(v.words)},o.max=function(v,_){return v.cmp(_)>0?v:_},o.min=function(v,_){return v.cmp(_)<0?v:_},o.prototype._init=function(v,_,S){if(typeof v=="number")return this._initNumber(v,_,S);if(typeof v=="object")return this._initArray(v,_,S);_==="hex"&&(_=16),i(_===(_|0)&&_>=2&&_<=36),v=v.toString().replace(/\s+/g,"");var T=0;v[0]==="-"&&(T++,this.negative=1),T<v.length&&(_===16?this._parseHex(v,T,S):(this._parseBase(v,_,T),S==="le"&&this._initArray(this.toArray(),_,S)))},o.prototype._initNumber=function(v,_,S){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(i(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),_,S)},o.prototype._initArray=function(v,_,S){if(i(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var N,k,p=0;if(S==="be")for(T=v.length-1,N=0;T>=0;T-=3)k=v[T]|v[T-1]<<8|v[T-2]<<16,this.words[N]|=k<<p&67108863,this.words[N+1]=k>>>26-p&67108863,p+=24,p>=26&&(p-=26,N++);else if(S==="le")for(T=0,N=0;T<v.length;T+=3)k=v[T]|v[T+1]<<8|v[T+2]<<16,this.words[N]|=k<<p&67108863,this.words[N+1]=k>>>26-p&67108863,p+=24,p>=26&&(p-=26,N++);return this._strip()};function u(v,_){var S=v.charCodeAt(_);if(S>=48&&S<=57)return S-48;if(S>=65&&S<=70)return S-55;if(S>=97&&S<=102)return S-87;i(!1,"Invalid character in "+v)}a(u,"J");function c(v,_,S){var T=u(v,S);return S-1>=_&&(T|=u(v,S-1)<<4),T}a(c,"T"),o.prototype._parseHex=function(v,_,S){this.length=Math.ceil((v.length-_)/6),this.words=Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var N=0,k=0,p;if(S==="be")for(T=v.length-1;T>=_;T-=2)p=c(v,_,T)<<N,this.words[k]|=p&67108863,N>=18?(N-=18,k+=1,this.words[k]|=p>>>26):N+=8;else{var E=v.length-_;for(T=E%2===0?_+1:_;T<v.length;T+=2)p=c(v,_,T)<<N,this.words[k]|=p&67108863,N>=18?(N-=18,k+=1,this.words[k]|=p>>>26):N+=8}this._strip()};function h(v,_,S,T){for(var N=0,k=0,p=Math.min(v.length,S),E=_;E<p;E++){var I=v.charCodeAt(E)-48;N*=T,I>=49?k=I-49+10:I>=17?k=I-17+10:k=I,i(I>=0&&k<T,"Invalid character"),N+=k}return N}a(h,"X"),o.prototype._parseBase=function(v,_,S){this.words=[0],this.length=1;for(var T=0,N=1;N<=67108863;N*=_)T++;T--,N=N/_|0;for(var k=v.length-S,p=k%T,E=Math.min(k,k-p)+S,I=0,O=S;O<E;O+=T)I=h(v,O,O+T,_),this.imuln(N),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(p!==0){var B=1;for(I=h(v,O,v.length,_),O=0;O<p;O++)B*=_;this.imuln(B),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this._strip()},o.prototype.copy=function(v){v.words=Array(this.length);for(var _=0;_<this.length;_++)v.words[_]=this.words[_];v.length=this.length,v.negative=this.negative,v.red=this.red};function d(v,_){v.words=_.words,v.length=_.length,v.negative=_.negative,v.red=_.red}if(a(d,"f"),o.prototype._move=function(v){d(v,this)},o.prototype.clone=function(){var v=new o(null);return this.copy(v),v},o.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{o.prototype.inspect=g}else o.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}a(g,"V");var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(v,_){v=v||10,_=_|0||1;var S;if(v===16||v==="hex"){S="";for(var T=0,N=0,k=0;k<this.length;k++){var p=this.words[k],E=((p<<T|N)&16777215).toString(16);N=p>>>24-T&16777215,T+=2,T>=26&&(T-=26,k--),N!==0||k!==this.length-1?S=m[6-E.length]+E+S:S=E+S}for(N!==0&&(S=N.toString(16)+S);S.length%_!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(v===(v|0)&&v>=2&&v<=36){var I=y[v],O=x[v];S="";var B=this.clone();for(B.negative=0;!B.isZero();){var H=B.modrn(O).toString(v);B=B.idivn(O),B.isZero()?S=H+S:S=m[I-H.length]+H+S}for(this.isZero()&&(S="0"+S);S.length%_!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(v,_){return this.toArrayLike(l,v,_)}),o.prototype.toArray=function(v,_){return this.toArrayLike(Array,v,_)};var A=a(function(v,_){return v.allocUnsafe?v.allocUnsafe(_):new v(_)},"h");o.prototype.toArrayLike=function(v,_,S){this._strip();var T=this.byteLength(),N=S||Math.max(1,T);i(T<=N,"byte array longer than desired length"),i(N>0,"Requested array length <= 0");var k=A(v,N),p=_==="le"?"LE":"BE";return this["_toArrayLike"+p](k,T),k},o.prototype._toArrayLikeLE=function(v,_){for(var S=0,T=0,N=0,k=0;N<this.length;N++){var p=this.words[N]<<k|T;v[S++]=p&255,S<v.length&&(v[S++]=p>>8&255),S<v.length&&(v[S++]=p>>16&255),k===6?(S<v.length&&(v[S++]=p>>24&255),T=0,k=0):(T=p>>>24,k+=2)}if(S<v.length)for(v[S++]=T;S<v.length;)v[S++]=0},o.prototype._toArrayLikeBE=function(v,_){for(var S=v.length-1,T=0,N=0,k=0;N<this.length;N++){var p=this.words[N]<<k|T;v[S--]=p&255,S>=0&&(v[S--]=p>>8&255),S>=0&&(v[S--]=p>>16&255),k===6?(S>=0&&(v[S--]=p>>24&255),T=0,k=0):(T=p>>>24,k+=2)}if(S>=0)for(v[S--]=T;S>=0;)v[S--]=0},Math.clz32?o.prototype._countBits=function(v){return 32-Math.clz32(v)}:o.prototype._countBits=function(v){var _=v,S=0;return _>=4096&&(S+=13,_>>>=13),_>=64&&(S+=7,_>>>=7),_>=8&&(S+=4,_>>>=4),_>=2&&(S+=2,_>>>=2),S+_},o.prototype._zeroBits=function(v){if(v===0)return 26;var _=v,S=0;return(_&8191)===0&&(S+=13,_>>>=13),(_&127)===0&&(S+=7,_>>>=7),(_&15)===0&&(S+=4,_>>>=4),(_&3)===0&&(S+=2,_>>>=2),(_&1)===0&&S++,S},o.prototype.bitLength=function(){var v=this.words[this.length-1],_=this._countBits(v);return(this.length-1)*26+_};function C(v){for(var _=Array(v.bitLength()),S=0;S<_.length;S++){var T=S/26|0,N=S%26;_[S]=v.words[T]>>>N&1}return _}a(C,"I"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,_=0;_<this.length;_++){var S=this._zeroBits(this.words[_]);if(v+=S,S!==26)break}return v},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},o.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var _=0;_<v.length;_++)this.words[_]=this.words[_]|v.words[_];return this._strip()},o.prototype.ior=function(v){return i((this.negative|v.negative)===0),this.iuor(v)},o.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},o.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},o.prototype.iuand=function(v){var _;this.length>v.length?_=v:_=this;for(var S=0;S<_.length;S++)this.words[S]=this.words[S]&v.words[S];return this.length=_.length,this._strip()},o.prototype.iand=function(v){return i((this.negative|v.negative)===0),this.iuand(v)},o.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},o.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},o.prototype.iuxor=function(v){var _,S;this.length>v.length?(_=this,S=v):(_=v,S=this);for(var T=0;T<S.length;T++)this.words[T]=_.words[T]^S.words[T];if(this!==_)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=_.length,this._strip()},o.prototype.ixor=function(v){return i((this.negative|v.negative)===0),this.iuxor(v)},o.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},o.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},o.prototype.inotn=function(v){i(typeof v=="number"&&v>=0);var _=Math.ceil(v/26)|0,S=v%26;this._expand(_),S>0&&_--;for(var T=0;T<_;T++)this.words[T]=~this.words[T]&67108863;return S>0&&(this.words[T]=~this.words[T]&67108863>>26-S),this._strip()},o.prototype.notn=function(v){return this.clone().inotn(v)},o.prototype.setn=function(v,_){i(typeof v=="number"&&v>=0);var S=v/26|0,T=v%26;return this._expand(S+1),_?this.words[S]=this.words[S]|1<<T:this.words[S]=this.words[S]&~(1<<T),this._strip()},o.prototype.iadd=function(v){var _;if(this.negative!==0&&v.negative===0)return this.negative=0,_=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,_=this.isub(v),v.negative=1,_._normSign();var S,T;this.length>v.length?(S=this,T=v):(S=v,T=this);for(var N=0,k=0;k<T.length;k++)_=(S.words[k]|0)+(T.words[k]|0)+N,this.words[k]=_&67108863,N=_>>>26;for(;N!==0&&k<S.length;k++)_=(S.words[k]|0)+N,this.words[k]=_&67108863,N=_>>>26;if(this.length=S.length,N!==0)this.words[this.length]=N,this.length++;else if(S!==this)for(;k<S.length;k++)this.words[k]=S.words[k];return this},o.prototype.add=function(v){var _;return v.negative!==0&&this.negative===0?(v.negative=0,_=this.sub(v),v.negative^=1,_):v.negative===0&&this.negative!==0?(this.negative=0,_=v.sub(this),this.negative=1,_):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},o.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var _=this.iadd(v);return v.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var S=this.cmp(v);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,N;S>0?(T=this,N=v):(T=v,N=this);for(var k=0,p=0;p<N.length;p++)_=(T.words[p]|0)-(N.words[p]|0)+k,k=_>>26,this.words[p]=_&67108863;for(;k!==0&&p<T.length;p++)_=(T.words[p]|0)+k,k=_>>26,this.words[p]=_&67108863;if(k===0&&p<T.length&&T!==this)for(;p<T.length;p++)this.words[p]=T.words[p];return this.length=Math.max(this.length,p),T!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(v){return this.clone().isub(v)};function M(v,_,S){S.negative=_.negative^v.negative;var T=v.length+_.length|0;S.length=T,T=T-1|0;var N=v.words[0]|0,k=_.words[0]|0,p=N*k,E=p&67108863,I=p/67108864|0;S.words[0]=E;for(var O=1;O<T;O++){for(var B=I>>>26,H=I&67108863,G=Math.min(O,_.length-1),J=Math.max(0,O-v.length+1);J<=G;J++){var ce=O-J|0;N=v.words[ce]|0,k=_.words[J]|0,p=N*k+H,B+=p/67108864|0,H=p&67108863}S.words[O]=H|0,I=B|0}return I!==0?S.words[O]=I|0:S.length--,S._strip()}a(M,"D");var R=a(function(v,_,S){var T=v.words,N=_.words,k=S.words,p=0,E,I,O,B=T[0]|0,H=B&8191,G=B>>>13,J=T[1]|0,ce=J&8191,ne=J>>>13,se=T[2]|0,Ye=se&8191,Te=se>>>13,ye=T[3]|0,Me=ye&8191,X=ye>>>13,oe=T[4]|0,ee=oe&8191,te=oe>>>13,fe=T[5]|0,xe=fe&8191,Re=fe>>>13,de=T[6]|0,$=de&8191,q=de>>>13,K=T[7]|0,le=K&8191,ue=K>>>13,ie=T[8]|0,et=ie&8191,Pe=ie>>>13,Ke=T[9]|0,Ct=Ke&8191,Ce=Ke>>>13,Qe=N[0]|0,_e=Qe&8191,Ie=Qe>>>13,Ge=N[1]|0,Je=Ge&8191,Fe=Ge>>>13,rt=N[2]|0,Rt=rt&8191,We=rt>>>13,Oe=N[3]|0,tt=Oe&8191,Be=Oe>>>13,nt=N[4]|0,Tt=nt&8191,pe=nt>>>13,we=N[5]|0,$e=we&8191,De=we>>>13,ze=N[6]|0,ct=ze&8191,me=ze>>>13,je=N[7]|0,lt=je&8191,Ne=je>>>13,ut=N[8]|0,Ut=ut&8191,st=ut>>>13,mt=N[9]|0,Ze=mt&8191,at=mt>>>13;S.negative=v.negative^_.negative,S.length=19,E=Math.imul(H,_e),I=Math.imul(H,Ie),I=I+Math.imul(G,_e)|0,O=Math.imul(G,Ie);var Dt=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,E=Math.imul(ce,_e),I=Math.imul(ce,Ie),I=I+Math.imul(ne,_e)|0,O=Math.imul(ne,Ie),E=E+Math.imul(H,Je)|0,I=I+Math.imul(H,Fe)|0,I=I+Math.imul(G,Je)|0,O=O+Math.imul(G,Fe)|0;var rr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(rr>>>26)|0,rr&=67108863,E=Math.imul(Ye,_e),I=Math.imul(Ye,Ie),I=I+Math.imul(Te,_e)|0,O=Math.imul(Te,Ie),E=E+Math.imul(ce,Je)|0,I=I+Math.imul(ce,Fe)|0,I=I+Math.imul(ne,Je)|0,O=O+Math.imul(ne,Fe)|0,E=E+Math.imul(H,Rt)|0,I=I+Math.imul(H,We)|0,I=I+Math.imul(G,Rt)|0,O=O+Math.imul(G,We)|0;var Yt=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,E=Math.imul(Me,_e),I=Math.imul(Me,Ie),I=I+Math.imul(X,_e)|0,O=Math.imul(X,Ie),E=E+Math.imul(Ye,Je)|0,I=I+Math.imul(Ye,Fe)|0,I=I+Math.imul(Te,Je)|0,O=O+Math.imul(Te,Fe)|0,E=E+Math.imul(ce,Rt)|0,I=I+Math.imul(ce,We)|0,I=I+Math.imul(ne,Rt)|0,O=O+Math.imul(ne,We)|0,E=E+Math.imul(H,tt)|0,I=I+Math.imul(H,Be)|0,I=I+Math.imul(G,tt)|0,O=O+Math.imul(G,Be)|0;var yr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(yr>>>26)|0,yr&=67108863,E=Math.imul(ee,_e),I=Math.imul(ee,Ie),I=I+Math.imul(te,_e)|0,O=Math.imul(te,Ie),E=E+Math.imul(Me,Je)|0,I=I+Math.imul(Me,Fe)|0,I=I+Math.imul(X,Je)|0,O=O+Math.imul(X,Fe)|0,E=E+Math.imul(Ye,Rt)|0,I=I+Math.imul(Ye,We)|0,I=I+Math.imul(Te,Rt)|0,O=O+Math.imul(Te,We)|0,E=E+Math.imul(ce,tt)|0,I=I+Math.imul(ce,Be)|0,I=I+Math.imul(ne,tt)|0,O=O+Math.imul(ne,Be)|0,E=E+Math.imul(H,Tt)|0,I=I+Math.imul(H,pe)|0,I=I+Math.imul(G,Tt)|0,O=O+Math.imul(G,pe)|0;var Pr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,E=Math.imul(xe,_e),I=Math.imul(xe,Ie),I=I+Math.imul(Re,_e)|0,O=Math.imul(Re,Ie),E=E+Math.imul(ee,Je)|0,I=I+Math.imul(ee,Fe)|0,I=I+Math.imul(te,Je)|0,O=O+Math.imul(te,Fe)|0,E=E+Math.imul(Me,Rt)|0,I=I+Math.imul(Me,We)|0,I=I+Math.imul(X,Rt)|0,O=O+Math.imul(X,We)|0,E=E+Math.imul(Ye,tt)|0,I=I+Math.imul(Ye,Be)|0,I=I+Math.imul(Te,tt)|0,O=O+Math.imul(Te,Be)|0,E=E+Math.imul(ce,Tt)|0,I=I+Math.imul(ce,pe)|0,I=I+Math.imul(ne,Tt)|0,O=O+Math.imul(ne,pe)|0,E=E+Math.imul(H,$e)|0,I=I+Math.imul(H,De)|0,I=I+Math.imul(G,$e)|0,O=O+Math.imul(G,De)|0;var wr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(wr>>>26)|0,wr&=67108863,E=Math.imul($,_e),I=Math.imul($,Ie),I=I+Math.imul(q,_e)|0,O=Math.imul(q,Ie),E=E+Math.imul(xe,Je)|0,I=I+Math.imul(xe,Fe)|0,I=I+Math.imul(Re,Je)|0,O=O+Math.imul(Re,Fe)|0,E=E+Math.imul(ee,Rt)|0,I=I+Math.imul(ee,We)|0,I=I+Math.imul(te,Rt)|0,O=O+Math.imul(te,We)|0,E=E+Math.imul(Me,tt)|0,I=I+Math.imul(Me,Be)|0,I=I+Math.imul(X,tt)|0,O=O+Math.imul(X,Be)|0,E=E+Math.imul(Ye,Tt)|0,I=I+Math.imul(Ye,pe)|0,I=I+Math.imul(Te,Tt)|0,O=O+Math.imul(Te,pe)|0,E=E+Math.imul(ce,$e)|0,I=I+Math.imul(ce,De)|0,I=I+Math.imul(ne,$e)|0,O=O+Math.imul(ne,De)|0,E=E+Math.imul(H,ct)|0,I=I+Math.imul(H,me)|0,I=I+Math.imul(G,ct)|0,O=O+Math.imul(G,me)|0;var pr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(pr>>>26)|0,pr&=67108863,E=Math.imul(le,_e),I=Math.imul(le,Ie),I=I+Math.imul(ue,_e)|0,O=Math.imul(ue,Ie),E=E+Math.imul($,Je)|0,I=I+Math.imul($,Fe)|0,I=I+Math.imul(q,Je)|0,O=O+Math.imul(q,Fe)|0,E=E+Math.imul(xe,Rt)|0,I=I+Math.imul(xe,We)|0,I=I+Math.imul(Re,Rt)|0,O=O+Math.imul(Re,We)|0,E=E+Math.imul(ee,tt)|0,I=I+Math.imul(ee,Be)|0,I=I+Math.imul(te,tt)|0,O=O+Math.imul(te,Be)|0,E=E+Math.imul(Me,Tt)|0,I=I+Math.imul(Me,pe)|0,I=I+Math.imul(X,Tt)|0,O=O+Math.imul(X,pe)|0,E=E+Math.imul(Ye,$e)|0,I=I+Math.imul(Ye,De)|0,I=I+Math.imul(Te,$e)|0,O=O+Math.imul(Te,De)|0,E=E+Math.imul(ce,ct)|0,I=I+Math.imul(ce,me)|0,I=I+Math.imul(ne,ct)|0,O=O+Math.imul(ne,me)|0,E=E+Math.imul(H,lt)|0,I=I+Math.imul(H,Ne)|0,I=I+Math.imul(G,lt)|0,O=O+Math.imul(G,Ne)|0;var Gr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,E=Math.imul(et,_e),I=Math.imul(et,Ie),I=I+Math.imul(Pe,_e)|0,O=Math.imul(Pe,Ie),E=E+Math.imul(le,Je)|0,I=I+Math.imul(le,Fe)|0,I=I+Math.imul(ue,Je)|0,O=O+Math.imul(ue,Fe)|0,E=E+Math.imul($,Rt)|0,I=I+Math.imul($,We)|0,I=I+Math.imul(q,Rt)|0,O=O+Math.imul(q,We)|0,E=E+Math.imul(xe,tt)|0,I=I+Math.imul(xe,Be)|0,I=I+Math.imul(Re,tt)|0,O=O+Math.imul(Re,Be)|0,E=E+Math.imul(ee,Tt)|0,I=I+Math.imul(ee,pe)|0,I=I+Math.imul(te,Tt)|0,O=O+Math.imul(te,pe)|0,E=E+Math.imul(Me,$e)|0,I=I+Math.imul(Me,De)|0,I=I+Math.imul(X,$e)|0,O=O+Math.imul(X,De)|0,E=E+Math.imul(Ye,ct)|0,I=I+Math.imul(Ye,me)|0,I=I+Math.imul(Te,ct)|0,O=O+Math.imul(Te,me)|0,E=E+Math.imul(ce,lt)|0,I=I+Math.imul(ce,Ne)|0,I=I+Math.imul(ne,lt)|0,O=O+Math.imul(ne,Ne)|0,E=E+Math.imul(H,Ut)|0,I=I+Math.imul(H,st)|0,I=I+Math.imul(G,Ut)|0,O=O+Math.imul(G,st)|0;var Zr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,E=Math.imul(Ct,_e),I=Math.imul(Ct,Ie),I=I+Math.imul(Ce,_e)|0,O=Math.imul(Ce,Ie),E=E+Math.imul(et,Je)|0,I=I+Math.imul(et,Fe)|0,I=I+Math.imul(Pe,Je)|0,O=O+Math.imul(Pe,Fe)|0,E=E+Math.imul(le,Rt)|0,I=I+Math.imul(le,We)|0,I=I+Math.imul(ue,Rt)|0,O=O+Math.imul(ue,We)|0,E=E+Math.imul($,tt)|0,I=I+Math.imul($,Be)|0,I=I+Math.imul(q,tt)|0,O=O+Math.imul(q,Be)|0,E=E+Math.imul(xe,Tt)|0,I=I+Math.imul(xe,pe)|0,I=I+Math.imul(Re,Tt)|0,O=O+Math.imul(Re,pe)|0,E=E+Math.imul(ee,$e)|0,I=I+Math.imul(ee,De)|0,I=I+Math.imul(te,$e)|0,O=O+Math.imul(te,De)|0,E=E+Math.imul(Me,ct)|0,I=I+Math.imul(Me,me)|0,I=I+Math.imul(X,ct)|0,O=O+Math.imul(X,me)|0,E=E+Math.imul(Ye,lt)|0,I=I+Math.imul(Ye,Ne)|0,I=I+Math.imul(Te,lt)|0,O=O+Math.imul(Te,Ne)|0,E=E+Math.imul(ce,Ut)|0,I=I+Math.imul(ce,st)|0,I=I+Math.imul(ne,Ut)|0,O=O+Math.imul(ne,st)|0,E=E+Math.imul(H,Ze)|0,I=I+Math.imul(H,at)|0,I=I+Math.imul(G,Ze)|0,O=O+Math.imul(G,at)|0;var Nr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,E=Math.imul(Ct,Je),I=Math.imul(Ct,Fe),I=I+Math.imul(Ce,Je)|0,O=Math.imul(Ce,Fe),E=E+Math.imul(et,Rt)|0,I=I+Math.imul(et,We)|0,I=I+Math.imul(Pe,Rt)|0,O=O+Math.imul(Pe,We)|0,E=E+Math.imul(le,tt)|0,I=I+Math.imul(le,Be)|0,I=I+Math.imul(ue,tt)|0,O=O+Math.imul(ue,Be)|0,E=E+Math.imul($,Tt)|0,I=I+Math.imul($,pe)|0,I=I+Math.imul(q,Tt)|0,O=O+Math.imul(q,pe)|0,E=E+Math.imul(xe,$e)|0,I=I+Math.imul(xe,De)|0,I=I+Math.imul(Re,$e)|0,O=O+Math.imul(Re,De)|0,E=E+Math.imul(ee,ct)|0,I=I+Math.imul(ee,me)|0,I=I+Math.imul(te,ct)|0,O=O+Math.imul(te,me)|0,E=E+Math.imul(Me,lt)|0,I=I+Math.imul(Me,Ne)|0,I=I+Math.imul(X,lt)|0,O=O+Math.imul(X,Ne)|0,E=E+Math.imul(Ye,Ut)|0,I=I+Math.imul(Ye,st)|0,I=I+Math.imul(Te,Ut)|0,O=O+Math.imul(Te,st)|0,E=E+Math.imul(ce,Ze)|0,I=I+Math.imul(ce,at)|0,I=I+Math.imul(ne,Ze)|0,O=O+Math.imul(ne,at)|0;var Fr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,E=Math.imul(Ct,Rt),I=Math.imul(Ct,We),I=I+Math.imul(Ce,Rt)|0,O=Math.imul(Ce,We),E=E+Math.imul(et,tt)|0,I=I+Math.imul(et,Be)|0,I=I+Math.imul(Pe,tt)|0,O=O+Math.imul(Pe,Be)|0,E=E+Math.imul(le,Tt)|0,I=I+Math.imul(le,pe)|0,I=I+Math.imul(ue,Tt)|0,O=O+Math.imul(ue,pe)|0,E=E+Math.imul($,$e)|0,I=I+Math.imul($,De)|0,I=I+Math.imul(q,$e)|0,O=O+Math.imul(q,De)|0,E=E+Math.imul(xe,ct)|0,I=I+Math.imul(xe,me)|0,I=I+Math.imul(Re,ct)|0,O=O+Math.imul(Re,me)|0,E=E+Math.imul(ee,lt)|0,I=I+Math.imul(ee,Ne)|0,I=I+Math.imul(te,lt)|0,O=O+Math.imul(te,Ne)|0,E=E+Math.imul(Me,Ut)|0,I=I+Math.imul(Me,st)|0,I=I+Math.imul(X,Ut)|0,O=O+Math.imul(X,st)|0,E=E+Math.imul(Ye,Ze)|0,I=I+Math.imul(Ye,at)|0,I=I+Math.imul(Te,Ze)|0,O=O+Math.imul(Te,at)|0;var Sr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,E=Math.imul(Ct,tt),I=Math.imul(Ct,Be),I=I+Math.imul(Ce,tt)|0,O=Math.imul(Ce,Be),E=E+Math.imul(et,Tt)|0,I=I+Math.imul(et,pe)|0,I=I+Math.imul(Pe,Tt)|0,O=O+Math.imul(Pe,pe)|0,E=E+Math.imul(le,$e)|0,I=I+Math.imul(le,De)|0,I=I+Math.imul(ue,$e)|0,O=O+Math.imul(ue,De)|0,E=E+Math.imul($,ct)|0,I=I+Math.imul($,me)|0,I=I+Math.imul(q,ct)|0,O=O+Math.imul(q,me)|0,E=E+Math.imul(xe,lt)|0,I=I+Math.imul(xe,Ne)|0,I=I+Math.imul(Re,lt)|0,O=O+Math.imul(Re,Ne)|0,E=E+Math.imul(ee,Ut)|0,I=I+Math.imul(ee,st)|0,I=I+Math.imul(te,Ut)|0,O=O+Math.imul(te,st)|0,E=E+Math.imul(Me,Ze)|0,I=I+Math.imul(Me,at)|0,I=I+Math.imul(X,Ze)|0,O=O+Math.imul(X,at)|0;var Cr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,E=Math.imul(Ct,Tt),I=Math.imul(Ct,pe),I=I+Math.imul(Ce,Tt)|0,O=Math.imul(Ce,pe),E=E+Math.imul(et,$e)|0,I=I+Math.imul(et,De)|0,I=I+Math.imul(Pe,$e)|0,O=O+Math.imul(Pe,De)|0,E=E+Math.imul(le,ct)|0,I=I+Math.imul(le,me)|0,I=I+Math.imul(ue,ct)|0,O=O+Math.imul(ue,me)|0,E=E+Math.imul($,lt)|0,I=I+Math.imul($,Ne)|0,I=I+Math.imul(q,lt)|0,O=O+Math.imul(q,Ne)|0,E=E+Math.imul(xe,Ut)|0,I=I+Math.imul(xe,st)|0,I=I+Math.imul(Re,Ut)|0,O=O+Math.imul(Re,st)|0,E=E+Math.imul(ee,Ze)|0,I=I+Math.imul(ee,at)|0,I=I+Math.imul(te,Ze)|0,O=O+Math.imul(te,at)|0;var Ur=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,E=Math.imul(Ct,$e),I=Math.imul(Ct,De),I=I+Math.imul(Ce,$e)|0,O=Math.imul(Ce,De),E=E+Math.imul(et,ct)|0,I=I+Math.imul(et,me)|0,I=I+Math.imul(Pe,ct)|0,O=O+Math.imul(Pe,me)|0,E=E+Math.imul(le,lt)|0,I=I+Math.imul(le,Ne)|0,I=I+Math.imul(ue,lt)|0,O=O+Math.imul(ue,Ne)|0,E=E+Math.imul($,Ut)|0,I=I+Math.imul($,st)|0,I=I+Math.imul(q,Ut)|0,O=O+Math.imul(q,st)|0,E=E+Math.imul(xe,Ze)|0,I=I+Math.imul(xe,at)|0,I=I+Math.imul(Re,Ze)|0,O=O+Math.imul(Re,at)|0;var $r=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+($r>>>26)|0,$r&=67108863,E=Math.imul(Ct,ct),I=Math.imul(Ct,me),I=I+Math.imul(Ce,ct)|0,O=Math.imul(Ce,me),E=E+Math.imul(et,lt)|0,I=I+Math.imul(et,Ne)|0,I=I+Math.imul(Pe,lt)|0,O=O+Math.imul(Pe,Ne)|0,E=E+Math.imul(le,Ut)|0,I=I+Math.imul(le,st)|0,I=I+Math.imul(ue,Ut)|0,O=O+Math.imul(ue,st)|0,E=E+Math.imul($,Ze)|0,I=I+Math.imul($,at)|0,I=I+Math.imul(q,Ze)|0,O=O+Math.imul(q,at)|0;var Xr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,E=Math.imul(Ct,lt),I=Math.imul(Ct,Ne),I=I+Math.imul(Ce,lt)|0,O=Math.imul(Ce,Ne),E=E+Math.imul(et,Ut)|0,I=I+Math.imul(et,st)|0,I=I+Math.imul(Pe,Ut)|0,O=O+Math.imul(Pe,st)|0,E=E+Math.imul(le,Ze)|0,I=I+Math.imul(le,at)|0,I=I+Math.imul(ue,Ze)|0,O=O+Math.imul(ue,at)|0;var Jr=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,E=Math.imul(Ct,Ut),I=Math.imul(Ct,st),I=I+Math.imul(Ce,Ut)|0,O=Math.imul(Ce,st),E=E+Math.imul(et,Ze)|0,I=I+Math.imul(et,at)|0,I=I+Math.imul(Pe,Ze)|0,O=O+Math.imul(Pe,at)|0;var ru=(p+E|0)+((I&8191)<<13)|0;p=(O+(I>>>13)|0)+(ru>>>26)|0,ru&=67108863,E=Math.imul(Ct,Ze),I=Math.imul(Ct,at),I=I+Math.imul(Ce,Ze)|0,O=Math.imul(Ce,at);var ve=(p+E|0)+((I&8191)<<13)|0;return p=(O+(I>>>13)|0)+(ve>>>26)|0,ve&=67108863,k[0]=Dt,k[1]=rr,k[2]=Yt,k[3]=yr,k[4]=Pr,k[5]=wr,k[6]=pr,k[7]=Gr,k[8]=Zr,k[9]=Nr,k[10]=Fr,k[11]=Sr,k[12]=Cr,k[13]=Ur,k[14]=$r,k[15]=Xr,k[16]=Jr,k[17]=ru,k[18]=ve,p!==0&&(k[19]=p,S.length++),S},"g");Math.imul||(R=M);function P(v,_,S){S.negative=_.negative^v.negative,S.length=v.length+_.length;for(var T=0,N=0,k=0;k<S.length-1;k++){var p=N;N=0;for(var E=T&67108863,I=Math.min(k,_.length-1),O=Math.max(0,k-v.length+1);O<=I;O++){var B=k-O,H=v.words[B]|0,G=_.words[O]|0,J=H*G,ce=J&67108863;p=p+(J/67108864|0)|0,ce=ce+E|0,E=ce&67108863,p=p+(ce>>>26)|0,N+=p>>>26,p&=67108863}S.words[k]=E,T=p,p=N}return T!==0?S.words[k]=T:S.length--,S._strip()}a(P,"b");function L(v,_,S){return P(v,_,S)}a(L,"y"),o.prototype.mulTo=function(v,_){var S,T=this.length+v.length;return this.length===10&&v.length===10?S=R(this,v,_):T<63?S=M(this,v,_):T<1024?S=P(this,v,_):S=L(this,v,_),S},o.prototype.mul=function(v){var _=new o(null);return _.words=Array(this.length+v.length),this.mulTo(v,_)},o.prototype.mulf=function(v){var _=new o(null);return _.words=Array(this.length+v.length),L(this,v,_)},o.prototype.imul=function(v){return this.clone().mulTo(v,this)},o.prototype.imuln=function(v){var _=v<0;_&&(v=-v),i(typeof v=="number"),i(v<67108864);for(var S=0,T=0;T<this.length;T++){var N=(this.words[T]|0)*v,k=(N&67108863)+(S&67108863);S>>=26,S+=N/67108864|0,S+=k>>>26,this.words[T]=k&67108863}return S!==0&&(this.words[T]=S,this.length++),this.length=v===0?1:this.length,_?this.ineg():this},o.prototype.muln=function(v){return this.clone().imuln(v)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(v){var _=C(v);if(_.length===0)return new o(1);for(var S=this,T=0;T<_.length&&_[T]===0;T++,S=S.sqr());if(++T<_.length)for(var N=S.sqr();T<_.length;T++,N=N.sqr())_[T]!==0&&(S=S.mul(N));return S},o.prototype.iushln=function(v){i(typeof v=="number"&&v>=0);var _=v%26,S=(v-_)/26,T=67108863>>>26-_<<26-_,N;if(_!==0){var k=0;for(N=0;N<this.length;N++){var p=this.words[N]&T,E=(this.words[N]|0)-p<<_;this.words[N]=E|k,k=p>>>26-_}k&&(this.words[N]=k,this.length++)}if(S!==0){for(N=this.length-1;N>=0;N--)this.words[N+S]=this.words[N];for(N=0;N<S;N++)this.words[N]=0;this.length+=S}return this._strip()},o.prototype.ishln=function(v){return i(this.negative===0),this.iushln(v)},o.prototype.iushrn=function(v,_,S){i(typeof v=="number"&&v>=0);var T;_?T=(_-_%26)/26:T=0;var N=v%26,k=Math.min((v-N)/26,this.length),p=67108863^67108863>>>N<<N,E=S;if(T-=k,T=Math.max(0,T),E){for(var I=0;I<k;I++)E.words[I]=this.words[I];E.length=k}if(k!==0)if(this.length>k)for(this.length-=k,I=0;I<this.length;I++)this.words[I]=this.words[I+k];else this.words[0]=0,this.length=1;var O=0;for(I=this.length-1;I>=0&&(O!==0||I>=T);I--){var B=this.words[I]|0;this.words[I]=O<<26-N|B>>>N,O=B&p}return E&&O!==0&&(E.words[E.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(v,_,S){return i(this.negative===0),this.iushrn(v,_,S)},o.prototype.shln=function(v){return this.clone().ishln(v)},o.prototype.ushln=function(v){return this.clone().iushln(v)},o.prototype.shrn=function(v){return this.clone().ishrn(v)},o.prototype.ushrn=function(v){return this.clone().iushrn(v)},o.prototype.testn=function(v){i(typeof v=="number"&&v>=0);var _=v%26,S=(v-_)/26,T=1<<_;if(this.length<=S)return!1;var N=this.words[S];return!!(N&T)},o.prototype.imaskn=function(v){i(typeof v=="number"&&v>=0);var _=v%26,S=(v-_)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(_!==0&&S++,this.length=Math.min(S,this.length),_!==0){var T=67108863^67108863>>>_<<_;this.words[this.length-1]&=T}return this._strip()},o.prototype.maskn=function(v){return this.clone().imaskn(v)},o.prototype.iaddn=function(v){return i(typeof v=="number"),i(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<=v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},o.prototype._iaddn=function(v){this.words[0]+=v;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},o.prototype.isubn=function(v){if(i(typeof v=="number"),i(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},o.prototype.addn=function(v){return this.clone().iaddn(v)},o.prototype.subn=function(v){return this.clone().isubn(v)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(v,_,S){var T=v.length+S,N;this._expand(T);var k,p=0;for(N=0;N<v.length;N++){k=(this.words[N+S]|0)+p;var E=(v.words[N]|0)*_;k-=E&67108863,p=(k>>26)-(E/67108864|0),this.words[N+S]=k&67108863}for(;N<this.length-S;N++)k=(this.words[N+S]|0)+p,p=k>>26,this.words[N+S]=k&67108863;if(p===0)return this._strip();for(i(p===-1),p=0,N=0;N<this.length;N++)k=-(this.words[N]|0)+p,p=k>>26,this.words[N]=k&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(v,_){var S=this.length-v.length,T=this.clone(),N=v,k=N.words[N.length-1]|0,p=this._countBits(k);S=26-p,S!==0&&(N=N.ushln(S),T.iushln(S),k=N.words[N.length-1]|0);var E=T.length-N.length,I;if(_!=="mod"){I=new o(null),I.length=E+1,I.words=Array(I.length);for(var O=0;O<I.length;O++)I.words[O]=0}var B=T.clone()._ishlnsubmul(N,1,E);B.negative===0&&(T=B,I&&(I.words[E]=1));for(var H=E-1;H>=0;H--){var G=(T.words[N.length+H]|0)*67108864+(T.words[N.length+H-1]|0);for(G=Math.min(G/k|0,67108863),T._ishlnsubmul(N,G,H);T.negative!==0;)G--,T.negative=0,T._ishlnsubmul(N,1,H),!T.isZero()&&(T.negative^=1);I&&(I.words[H]=G)}return I&&I._strip(),T._strip(),_!=="div"&&S!==0&&T.iushrn(S),{div:I||null,mod:T}},o.prototype.divmod=function(v,_,S){if(i(!v.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var T,N,k;return this.negative!==0&&v.negative===0?(k=this.neg().divmod(v,_),_!=="mod"&&(T=k.div.neg()),_!=="div"&&(N=k.mod.neg(),S&&N.negative!==0&&N.iadd(v)),{div:T,mod:N}):this.negative===0&&v.negative!==0?(k=this.divmod(v.neg(),_),_!=="mod"&&(T=k.div.neg()),{div:T,mod:k.mod}):(this.negative&v.negative)!==0?(k=this.neg().divmod(v.neg(),_),_!=="div"&&(N=k.mod.neg(),S&&N.negative!==0&&N.isub(v)),{div:k.div,mod:N}):v.length>this.length||this.cmp(v)<0?{div:new o(0),mod:this}:v.length===1?_==="div"?{div:this.divn(v.words[0]),mod:null}:_==="mod"?{div:null,mod:new o(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new o(this.modrn(v.words[0]))}:this._wordDiv(v,_)},o.prototype.div=function(v){return this.divmod(v,"div",!1).div},o.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},o.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},o.prototype.divRound=function(v){var _=this.divmod(v);if(_.mod.isZero())return _.div;var S=_.div.negative!==0?_.mod.isub(v):_.mod,T=v.ushrn(1),N=v.andln(1),k=S.cmp(T);return k<0||N===1&&k===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},o.prototype.modrn=function(v){var _=v<0;_&&(v=-v),i(v<=67108863);for(var S=67108864%v,T=0,N=this.length-1;N>=0;N--)T=(S*T+(this.words[N]|0))%v;return _?-T:T},o.prototype.modn=function(v){return this.modrn(v)},o.prototype.idivn=function(v){var _=v<0;_&&(v=-v),i(v<=67108863);for(var S=0,T=this.length-1;T>=0;T--){var N=(this.words[T]|0)+S*67108864;this.words[T]=N/v|0,S=N%v}return this._strip(),_?this.ineg():this},o.prototype.divn=function(v){return this.clone().idivn(v)},o.prototype.egcd=function(v){i(v.negative===0),i(!v.isZero());var _=this,S=v.clone();_.negative!==0?_=_.umod(v):_=_.clone();for(var T=new o(1),N=new o(0),k=new o(0),p=new o(1),E=0;_.isEven()&&S.isEven();)_.iushrn(1),S.iushrn(1),++E;for(var I=S.clone(),O=_.clone();!_.isZero();){for(var B=0,H=1;(_.words[0]&H)===0&&B<26;++B,H<<=1);if(B>0)for(_.iushrn(B);B-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(I),N.isub(O)),T.iushrn(1),N.iushrn(1);for(var G=0,J=1;(S.words[0]&J)===0&&G<26;++G,J<<=1);if(G>0)for(S.iushrn(G);G-- >0;)(k.isOdd()||p.isOdd())&&(k.iadd(I),p.isub(O)),k.iushrn(1),p.iushrn(1);_.cmp(S)>=0?(_.isub(S),T.isub(k),N.isub(p)):(S.isub(_),k.isub(T),p.isub(N))}return{a:k,b:p,gcd:S.iushln(E)}},o.prototype._invmp=function(v){i(v.negative===0),i(!v.isZero());var _=this,S=v.clone();_.negative!==0?_=_.umod(v):_=_.clone();for(var T=new o(1),N=new o(0),k=S.clone();_.cmpn(1)>0&&S.cmpn(1)>0;){for(var p=0,E=1;(_.words[0]&E)===0&&p<26;++p,E<<=1);if(p>0)for(_.iushrn(p);p-- >0;)T.isOdd()&&T.iadd(k),T.iushrn(1);for(var I=0,O=1;(S.words[0]&O)===0&&I<26;++I,O<<=1);if(I>0)for(S.iushrn(I);I-- >0;)N.isOdd()&&N.iadd(k),N.iushrn(1);_.cmp(S)>=0?(_.isub(S),T.isub(N)):(S.isub(_),N.isub(T))}var B;return _.cmpn(1)===0?B=T:B=N,B.cmpn(0)<0&&B.iadd(v),B},o.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var _=this.clone(),S=v.clone();_.negative=0,S.negative=0;for(var T=0;_.isEven()&&S.isEven();T++)_.iushrn(1),S.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;S.isEven();)S.iushrn(1);var N=_.cmp(S);if(N<0){var k=_;_=S,S=k}else if(N===0||S.cmpn(1)===0)break;_.isub(S)}while(!0);return S.iushln(T)},o.prototype.invm=function(v){return this.egcd(v).a.umod(v)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(v){return this.words[0]&v},o.prototype.bincn=function(v){i(typeof v=="number");var _=v%26,S=(v-_)/26,T=1<<_;if(this.length<=S)return this._expand(S+1),this.words[S]|=T,this;for(var N=T,k=S;N!==0&&k<this.length;k++){var p=this.words[k]|0;p+=N,N=p>>>26,p&=67108863,this.words[k]=p}return N!==0&&(this.words[k]=N,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(v){var _=v<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this._strip();var S;if(this.length>1)S=1;else{_&&(v=-v),i(v<=67108863,"Number is too big");var T=this.words[0]|0;S=T===v?0:T<v?-1:1}return this.negative!==0?-S|0:S},o.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var _=this.ucmp(v);return this.negative!==0?-_|0:_},o.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var _=0,S=this.length-1;S>=0;S--){var T=this.words[S]|0,N=v.words[S]|0;if(T!==N){T<N?_=-1:T>N&&(_=1);break}}return _},o.prototype.gtn=function(v){return this.cmpn(v)===1},o.prototype.gt=function(v){return this.cmp(v)===1},o.prototype.gten=function(v){return this.cmpn(v)>=0},o.prototype.gte=function(v){return this.cmp(v)>=0},o.prototype.ltn=function(v){return this.cmpn(v)===-1},o.prototype.lt=function(v){return this.cmp(v)===-1},o.prototype.lten=function(v){return this.cmpn(v)<=0},o.prototype.lte=function(v){return this.cmp(v)<=0},o.prototype.eqn=function(v){return this.cmpn(v)===0},o.prototype.eq=function(v){return this.cmp(v)===0},o.red=function(v){return new f(v)},o.prototype.toRed=function(v){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(v){return this.red=v,this},o.prototype.forceRed=function(v){return i(!this.red,"Already a number in reduction context"),this._forceRed(v)},o.prototype.redAdd=function(v){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},o.prototype.redIAdd=function(v){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},o.prototype.redSub=function(v){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},o.prototype.redISub=function(v){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},o.prototype.redShl=function(v){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},o.prototype.redMul=function(v){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},o.prototype.redIMul=function(v){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(v){return i(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var z={k256:null,p224:null,p192:null,p25519:null};function Z(v,_){this.name=v,this.p=new o(_,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(Z,"s"),Z.prototype._tmp=function(){var v=new o(null);return v.words=Array(Math.ceil(this.n/13)),v},Z.prototype.ireduce=function(v){var _=v,S;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),S=_.bitLength();while(S>this.n);var T=S<this.n?-1:_.ucmp(this.p);return T===0?(_.words[0]=0,_.length=1):T>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},Z.prototype.split=function(v,_){v.iushrn(this.n,0,_)},Z.prototype.imulK=function(v){return v.imul(this.k)};function Y(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Y,"q$"),s(Y,Z),Y.prototype.split=function(v,_){for(var S=4194303,T=Math.min(v.length,9),N=0;N<T;N++)_.words[N]=v.words[N];if(_.length=T,v.length<=9){v.words[0]=0,v.length=1;return}var k=v.words[9];for(_.words[_.length++]=k&S,N=10;N<v.length;N++){var p=v.words[N]|0;v.words[N-10]=(p&S)<<4|k>>>22,k=p}k>>>=22,v.words[N-10]=k,k===0&&v.length>10?v.length-=10:v.length-=9},Y.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var _=0,S=0;S<v.length;S++){var T=v.words[S]|0;_+=T*977,v.words[S]=_&67108863,_=T*64+(_/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function ae(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(ae,"c"),s(ae,Z);function F(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(F,"U"),s(F,Z);function W(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(W,"j"),s(W,Z),W.prototype.imulK=function(v){for(var _=0,S=0;S<v.length;S++){var T=(v.words[S]|0)*19+_,N=T&67108863;T>>>=26,v.words[S]=N,_=T}return _!==0&&(v.words[v.length++]=_),v},o._prime=function(v){if(z[v])return z[v];var _;if(v==="k256")_=new Y;else if(v==="p224")_=new ae;else if(v==="p192")_=new F;else if(v==="p25519")_=new W;else throw Error("Unknown prime "+v);return z[v]=_,_};function f(v){if(typeof v=="string"){var _=o._prime(v);this.m=_.p,this.prime=_}else i(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}a(f,"H"),f.prototype._verify1=function(v){i(v.negative===0,"red works only with positives"),i(v.red,"red works only with red numbers")},f.prototype._verify2=function(v,_){i((v.negative|_.negative)===0,"red works only with positives"),i(v.red&&v.red===_.red,"red works only with red numbers")},f.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(d(v,v.umod(this.m)._forceRed(this)),v)},f.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},f.prototype.add=function(v,_){this._verify2(v,_);var S=v.add(_);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},f.prototype.iadd=function(v,_){this._verify2(v,_);var S=v.iadd(_);return S.cmp(this.m)>=0&&S.isub(this.m),S},f.prototype.sub=function(v,_){this._verify2(v,_);var S=v.sub(_);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},f.prototype.isub=function(v,_){this._verify2(v,_);var S=v.isub(_);return S.cmpn(0)<0&&S.iadd(this.m),S},f.prototype.shl=function(v,_){return this._verify1(v),this.imod(v.ushln(_))},f.prototype.imul=function(v,_){return this._verify2(v,_),this.imod(v.imul(_))},f.prototype.mul=function(v,_){return this._verify2(v,_),this.imod(v.mul(_))},f.prototype.isqr=function(v){return this.imul(v,v.clone())},f.prototype.sqr=function(v){return this.mul(v,v)},f.prototype.sqrt=function(v){if(v.isZero())return v.clone();var _=this.m.andln(3);if(i(_%2===1),_===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(v,S)}for(var T=this.m.subn(1),N=0;!T.isZero()&&T.andln(1)===0;)N++,T.iushrn(1);i(!T.isZero());var k=new o(1).toRed(this),p=k.redNeg(),E=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new o(2*I*I).toRed(this);this.pow(I,E).cmp(p)!==0;)I.redIAdd(p);for(var O=this.pow(I,T),B=this.pow(v,T.addn(1).iushrn(1)),H=this.pow(v,T),G=N;H.cmp(k)!==0;){for(var J=H,ce=0;J.cmp(k)!==0;ce++)J=J.redSqr();i(ce<G);var ne=this.pow(O,new o(1).iushln(G-ce-1));B=B.redMul(ne),O=ne.redSqr(),H=H.redMul(O),G=ce}return B},f.prototype.invm=function(v){var _=v._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},f.prototype.pow=function(v,_){if(_.isZero())return new o(1).toRed(this);if(_.cmpn(1)===0)return v.clone();var S=4,T=Array(1<<S);T[0]=new o(1).toRed(this),T[1]=v;for(var N=2;N<T.length;N++)T[N]=this.mul(T[N-1],v);var k=T[0],p=0,E=0,I=_.bitLength()%26;for(I===0&&(I=26),N=_.length-1;N>=0;N--){for(var O=_.words[N],B=I-1;B>=0;B--){var H=O>>B&1;if(k!==T[0]&&(k=this.sqr(k)),H===0&&p===0){E=0;continue}p<<=1,p|=H,E++,!(E!==S&&(N!==0||B!==0))&&(k=this.mul(k,T[p]),E=0,p=0)}I=26}return k},f.prototype.convertTo=function(v){var _=v.umod(this.m);return _===v?_.clone():_},f.prototype.convertFrom=function(v){var _=v.clone();return _.red=null,_},o.mont=function(v){return new w(v)};function w(v){f.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(w,"Z"),s(w,f),w.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},w.prototype.convertFrom=function(v){var _=this.imod(v.mul(this.rinv));return _.red=null,_},w.prototype.imul=function(v,_){if(v.isZero()||_.isZero())return v.words[0]=0,v.length=1,v;var S=v.imul(_),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=S.isub(T).iushrn(this.shift),k=N;return N.cmp(this.m)>=0?k=N.isub(this.m):N.cmpn(0)<0&&(k=N.iadd(this.m)),k._forceRed(this)},w.prototype.mul=function(v,_){if(v.isZero()||_.isZero())return new o(0)._forceRed(this);var S=v.mul(_),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=S.isub(T).iushrn(this.shift),k=N;return N.cmp(this.m)>=0?k=N.isub(this.m):N.cmpn(0)<0&&(k=N.iadd(this.m)),k._forceRed(this)},w.prototype.invm=function(v){var _=this.imod(v._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(typeof t>"u"||t,e)}),gv=Et((e,t)=>{var r=zx(),n=_c(),i=Jn().Buffer;function s(u){var c=u.modulus.byteLength(),h;do h=new r(n(c));while(h.cmp(u.modulus)>=0||!h.umod(u.prime1)||!h.umod(u.prime2));return h}a(s,"Y");function o(u){var c=s(u),h=c.toRed(r.mont(u.modulus)).redPow(new r(u.publicExponent)).fromRed();return{blinder:h,unblinder:c.invm(u.modulus)}}a(o,"O");function l(u,c){var h=o(c),d=c.modulus.byteLength(),g=new r(u).mul(h.blinder).umod(c.modulus),m=g.toRed(r.mont(c.prime1)),y=g.toRed(r.mont(c.prime2)),x=c.coefficient,A=c.prime1,C=c.prime2,M=m.redPow(c.exponent1).fromRed(),R=y.redPow(c.exponent2).fromRed(),P=M.isub(R).imul(x).umod(A).imul(C);return R.iadd(P).imul(h.unblinder).umod(c.modulus).toArrayLike(i,"be",d)}a(l,"z"),l.getr=s,t.exports=l}),Fx=Et((e,t)=>{var r=hv(),n=_c(),i=xc(),s=fv(),o=pv(),l=vf(),u=mv(),c=gv(),h=Jn().Buffer;t.exports=function(y,x,A){var C;y.padding?C=y.padding:A?C=1:C=4;var M=r(y),R;if(C===4)R=d(M,x);else if(C===1)R=g(M,x,A);else if(C===3){if(R=new l(x),R.cmp(M.modulus)>=0)throw Error("data too long for modulus")}else throw Error("unknown padding");return A?c(R,M):u(R,M)};function d(y,x){var A=y.modulus.byteLength(),C=x.length,M=i("sha1").update(h.alloc(0)).digest(),R=M.length,P=2*R;if(C>A-P-2)throw Error("message too long");var L=h.alloc(A-C-P-2),z=A-R-1,Z=n(R),Y=o(h.concat([M,L,h.alloc(1,1),x],z),s(Z,z)),ae=o(Z,s(Y,R));return new l(h.concat([h.alloc(1),ae,Y],A))}a(d,"f");function g(y,x,A){var C=x.length,M=y.modulus.byteLength();if(C>M-11)throw Error("message too long");var R;return A?R=h.alloc(M-C-3,255):R=m(M-C-3),new l(h.concat([h.from([0,A?1:2]),R,h.alloc(1),x],M))}a(g,"V");function m(y){for(var x=h.allocUnsafe(y),A=0,C=n(y*2),M=0,R;A<y;)M===C.length&&(C=n(y*2),M=0),R=C[M++],R&&(x[A++]=R);return x}a(m,"M")}),Ux=Et((e,t)=>{var r=hv(),n=fv(),i=pv(),s=vf(),o=gv(),l=xc(),u=mv(),c=Jn().Buffer;t.exports=function(m,y,x){var A;m.padding?A=m.padding:x?A=1:A=4;var C=r(m),M=C.modulus.byteLength();if(y.length>M||new s(y).cmp(C.modulus)>=0)throw Error("decryption error");var R;x?R=u(new s(y),C):R=o(y,C);var P=c.alloc(M-R.length);if(R=c.concat([P,R],M),A===4)return h(C,R);if(A===1)return d(C,R,x);if(A===3)return R;throw Error("unknown padding")};function h(m,y){var x=m.modulus.byteLength(),A=l("sha1").update(c.alloc(0)).digest(),C=A.length;if(y[0]!==0)throw Error("decryption error");var M=y.slice(1,C+1),R=y.slice(C+1),P=i(M,n(R,C)),L=i(R,n(P,x-C-1));if(g(A,L.slice(0,C)))throw Error("decryption error");for(var z=C;L[z]===0;)z++;if(L[z++]!==1)throw Error("decryption error");return L.slice(z)}a(h,"X");function d(m,y,x){for(var A=y.slice(0,2),C=2,M=0;y[C++]!==0;)if(C>=y.length){M++;break}var R=y.slice(2,C-1);if((A.toString("hex")!=="0002"&&!x||A.toString("hex")!=="0001"&&x)&&M++,R.length<8&&M++,M)throw Error("decryption error");return y.slice(C)}a(d,"f");function g(m,y){m=c.from(m),y=c.from(y);var x=0,A=m.length;m.length!==y.length&&(x++,A=Math.min(m.length,y.length));for(var C=-1;++C<A;)x+=m[C]^y[C];return x}a(g,"V")}),bf=Et(e=>{e.publicEncrypt=Fx(),e.privateDecrypt=Ux(),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}}),Hx=Et(e=>{var t=(Ti(),hr(hi));typeof t.publicEncrypt!="function"&&(t=bf()),e.publicEncrypt=t.publicEncrypt,e.privateDecrypt=t.privateDecrypt,typeof t.privateEncrypt!="function"?e.privateEncrypt=bf().privateEncrypt:e.privateEncrypt=t.privateEncrypt,typeof t.publicDecrypt!="function"?e.publicDecrypt=bf().publicDecrypt:e.publicDecrypt=t.publicDecrypt}),Gx=Et(e=>{var t=Jn(),r=_c(),n=t.Buffer,i=t.kMaxLength,s=globalThis.crypto||globalThis.msCrypto,o=Math.pow(2,32)-1;function l(g,m){if(typeof g!="number"||g!==g)throw TypeError("offset must be a number");if(g>o||g<0)throw TypeError("offset must be a uint32");if(g>i||g>m)throw RangeError("offset out of range")}a(l,"z");function u(g,m,y){if(typeof g!="number"||g!==g)throw TypeError("size must be a number");if(g>o||g<0)throw TypeError("size must be a uint32");if(g+m>y||g>i)throw RangeError("buffer too small")}a(u,"J"),s&&s.getRandomValues,e.randomFill=c,e.randomFillSync=d;function c(g,m,y,x){if(!n.isBuffer(g)&&!(g instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")x=m,m=0,y=g.length;else if(typeof y=="function")x=y,y=g.length-m;else if(typeof x!="function")throw TypeError('"cb" argument must be a function');return l(m,g.length),u(y,m,g.length),h(g,m,y,x)}a(c,"T");function h(g,m,y,x){if(x){r(y,function(C,M){if(C)return x(C);M.copy(g,m),x(null,g)});return}var A=r(y);return A.copy(g,m),g}a(h,"X");function d(g,m,y){if(typeof m>"u"&&(m=0),!n.isBuffer(g)&&!(g instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');return l(m,g.length),y===void 0&&(y=g.length-m),u(y,m,g.length),h(g,m,y)}a(d,"f")}),Vx=Et((e,t)=>{var r=(Ti(),hr(hi));typeof r.randomFill=="function"&&typeof r.randomFillSync=="function"?(e.randomFill=r.randomFill,e.randomFillSync=r.randomFillSync):t.exports=Gx()}),Yx=Et(e=>{e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=_c(),e.createHash=e.Hash=xc(),e.createHmac=e.Hmac=Qg();var t=J_(),r=Object.keys(t),n=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);e.getHashes=function(){return n};var i=ev();e.pbkdf2=i.pbkdf2,e.pbkdf2Sync=i.pbkdf2Sync;var s=W_();e.Cipher=s.Cipher,e.createCipher=s.createCipher,e.Cipheriv=s.Cipheriv,e.createCipheriv=s.createCipheriv,e.Decipher=s.Decipher,e.createDecipher=s.createDecipher,e.Decipheriv=s.Decipheriv,e.createDecipheriv=s.createDecipheriv,e.getCiphers=s.getCiphers,e.listCiphers=s.listCiphers;var o=Q_();e.DiffieHellmanGroup=o.DiffieHellmanGroup,e.createDiffieHellmanGroup=o.createDiffieHellmanGroup,e.getDiffieHellman=o.getDiffieHellman,e.createDiffieHellman=o.createDiffieHellman,e.DiffieHellman=o.DiffieHellman;var l=q_();e.createSign=l.createSign,e.Sign=l.Sign,e.createVerify=l.createVerify,e.Verify=l.Verify,e.createECDH=xx();var u=Hx();e.publicEncrypt=u.publicEncrypt,e.privateEncrypt=u.privateEncrypt,e.publicDecrypt=u.publicDecrypt,e.privateDecrypt=u.privateDecrypt;var c=Vx();e.randomFill=c.randomFill,e.randomFillSync=c.randomFillSync,e.createCredentials=function(){throw Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),sr=BZ(Yx(),1),DN=sr.prng,jN=sr.pseudoRandomBytes,BN=sr.rng,zN=sr.randomBytes,FN=sr.Hash,UN=sr.createHash,HN=sr.Hmac,GN=sr.createHmac,VN=sr.getHashes,YN=sr.pbkdf2,ZN=sr.pbkdf2Sync,$N=sr.Cipher,XN=sr.createCipher,JN=sr.Cipheriv,KN=sr.createCipheriv,WN=sr.Decipher,QN=sr.createDecipher,qN=sr.Decipheriv,eC=sr.createDecipheriv,tC=sr.getCiphers,rC=sr.listCiphers,nC=sr.DiffieHellmanGroup,iC=sr.createDiffieHellmanGroup,aC=sr.getDiffieHellman,sC=sr.createDiffieHellman,oC=sr.DiffieHellman,lC=sr.createSign,uC=sr.Sign,cC=sr.createVerify,dC=sr.Verify,hC=sr.createECDH,fC=sr.publicEncrypt,pC=sr.privateEncrypt,mC=sr.publicDecrypt,gC=sr.privateDecrypt,vC=sr.randomFill,bC=sr.randomFillSync,yC=sr.createCredentials,wC=sr.constants,_C=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],xC=crypto,EC=crypto}),HZ=ht((e,t)=>{var r=String,n=a(function(){return{isColorSupported:!1,reset:r,bold:r,dim:r,italic:r,underline:r,inverse:r,hidden:r,strikethrough:r,black:r,red:r,green:r,yellow:r,blue:r,magenta:r,cyan:r,white:r,gray:r,bgBlack:r,bgRed:r,bgGreen:r,bgYellow:r,bgBlue:r,bgMagenta:r,bgCyan:r,bgWhite:r,blackBright:r,redBright:r,greenBright:r,yellowBright:r,blueBright:r,magentaBright:r,cyanBright:r,whiteBright:r,bgBlackBright:r,bgRedBright:r,bgGreenBright:r,bgYellowBright:r,bgBlueBright:r,bgMagentaBright:r,bgCyanBright:r,bgWhiteBright:r}},"t0");t.exports=n(),t.exports.createColors=n}),F0;(e=>{e.IMAGE="image",e.VIDEO="video",e.AUDIO="audio",e.DOCUMENT="document",e.LINK="link"})(F0||={});var GZ;(e=>{e.DOCUMENT="document",e.FRAGMENT="fragment",e.MESSAGE="message",e.DESCRIPTION="description",e.CUSTOM="custom"})(GZ||={});var VZ;(e=>{e.OWNER="OWNER",e.ADMIN="ADMIN",e.NONE="NONE"})(VZ||={});var Gt;(e=>{e.SELF="SELF",e.DM="DM",e.GROUP="GROUP",e.VOICE_DM="VOICE_DM",e.VOICE_GROUP="VOICE_GROUP",e.FEED="FEED",e.THREAD="THREAD",e.WORLD="WORLD",e.FORUM="FORUM",e.API="API"})(Gt||={});var vn;(e=>{e.ACTIVE="active",e.INACTIVE="inactive"})(vn||={});var YZ;(e=>{e.WORLD_JOINED="WORLD_JOINED",e.WORLD_CONNECTED="WORLD_CONNECTED",e.WORLD_LEFT="WORLD_LEFT",e.ENTITY_JOINED="ENTITY_JOINED",e.ENTITY_LEFT="ENTITY_LEFT",e.ENTITY_UPDATED="ENTITY_UPDATED",e.ROOM_JOINED="ROOM_JOINED",e.ROOM_LEFT="ROOM_LEFT",e.MESSAGE_RECEIVED="MESSAGE_RECEIVED",e.MESSAGE_SENT="MESSAGE_SENT",e.MESSAGE_DELETED="MESSAGE_DELETED",e.CHANNEL_CLEARED="CHANNEL_CLEARED",e.VOICE_MESSAGE_RECEIVED="VOICE_MESSAGE_RECEIVED",e.VOICE_MESSAGE_SENT="VOICE_MESSAGE_SENT",e.REACTION_RECEIVED="REACTION_RECEIVED",e.POST_GENERATED="POST_GENERATED",e.INTERACTION_RECEIVED="INTERACTION_RECEIVED",e.RUN_STARTED="RUN_STARTED",e.RUN_ENDED="RUN_ENDED",e.RUN_TIMEOUT="RUN_TIMEOUT",e.ACTION_STARTED="ACTION_STARTED",e.ACTION_COMPLETED="ACTION_COMPLETED",e.EVALUATOR_STARTED="EVALUATOR_STARTED",e.EVALUATOR_COMPLETED="EVALUATOR_COMPLETED",e.MODEL_USED="MODEL_USED",e.EMBEDDING_GENERATION_REQUESTED="EMBEDDING_GENERATION_REQUESTED",e.EMBEDDING_GENERATION_COMPLETED="EMBEDDING_GENERATION_COMPLETED",e.EMBEDDING_GENERATION_FAILED="EMBEDDING_GENERATION_FAILED"})(YZ||={});var ZZ;(e=>{e.DISCORD="DISCORD",e.TELEGRAM="TELEGRAM",e.TWITTER="TWITTER"})(ZZ||={});var $Z;(e=>{e.OFF="OFF",e.LOCAL="LOCAL",e.DOCKER="DOCKER",e.PRODUCTION="PRODUCTION"})($Z||={});var XZ;(e=>e.TDX_DSTACK="tdx_dstack")(XZ||={});var l1;(e=>{e[e.ROOM_JOINING=1]="ROOM_JOINING",e[e.SEND_MESSAGE=2]="SEND_MESSAGE",e[e.MESSAGE=3]="MESSAGE",e[e.ACK=4]="ACK",e[e.THINKING=5]="THINKING",e[e.CONTROL=6]="CONTROL"})(l1||={});var JZ=Object.defineProperty,An=a((e,t)=>{for(var r in t)JZ(e,r,{get:t[r],enumerable:!0})},"Z6"),KZ=class{static{a(this,"H1")}pageContent;metadata;id;constructor(e){this.pageContent=e.pageContent!==void 0?e.pageContent.toString():"",this.metadata=e.metadata??{},this.id=e.id}},WZ=Fi(rV(),1);Fi(nV(),1);function QZ(e,t){return t?.[e]||WZ.default(e)}a(QZ,"eJ");function qZ(e,t,r){let n={};for(let i in e)Object.hasOwn(e,i)&&(n[t(i,r)]=e[i]);return n}a(qZ,"sJ");var e$={};An(e$,{Serializable:a(()=>zd,"Serializable"),get_lc_unique_name:a(()=>w4,"get_lc_unique_name")});function Zx(e){return Array.isArray(e)?[...e]:{...e}}a(Zx,"$T");function t$(e,t){let r=Zx(e);for(let[n,i]of Object.entries(t)){let[s,...o]=n.split(".").reverse(),l=r;for(let u of o.reverse()){if(l[u]===void 0)break;l[u]=Zx(l[u]),l=l[u]}l[s]!==void 0&&(l[s]={lc:1,type:"secret",id:[i]})}return r}a(t$,"jN");function w4(e){let t=Object.getPrototypeOf(e);return typeof e.lc_name=="function"&&(typeof t.lc_name!="function"||e.lc_name()!==t.lc_name())?e.lc_name():e.name}a(w4,"J1");var zd=class SC{static{a(this,"$")}lc_serializable=!1;lc_kwargs;static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,w4(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(t,...r){this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(t||{}).filter(([n])=>this.lc_serializable_keys?.includes(n))):this.lc_kwargs=t??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof SC||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();let t={},r={},n=Object.keys(this.lc_kwargs).reduce((i,s)=>(i[s]=s in this?this[s]:this.lc_kwargs[s],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(t,Reflect.get(i,"lc_aliases",this)),Object.assign(r,Reflect.get(i,"lc_secrets",this)),Object.assign(n,Reflect.get(i,"lc_attributes",this));return Object.keys(r).forEach(i=>{let s=this,o=n,[l,...u]=i.split(".").reverse();for(let c of u.reverse()){if(!(c in s)||s[c]===void 0)return;(!(c in o)||o[c]===void 0)&&(typeof s[c]=="object"&&s[c]!=null?o[c]={}:Array.isArray(s[c])&&(o[c]=[])),s=s[c],o=o[c]}l in s&&s[l]!==void 0&&(o[l]=o[l]||s[l])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:qZ(Object.keys(r).length?t$(n,r):n,QZ,t)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function r$(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="tool_call")}a(r$,"yO");var n$=class extends Error{static{a(this,"qT")}output;constructor(e,t){super(e),this.output=t}},kC=Symbol.for("ls:tracing_async_local_storage"),fd=Symbol.for("lc:context_variables"),i$=a(e=>{globalThis[kC]=e},"_T"),Fd=a(()=>globalThis[kC],"gK");function Ud(e){return typeof e=="object"&&e!==null&&"type"in e&&typeof e.type=="string"&&"source_type"in e&&(e.source_type==="url"||e.source_type==="base64"||e.source_type==="text"||e.source_type==="id")}a(Ud,"d_");function a$(e){return Ud(e)&&e.source_type==="url"&&"url"in e&&typeof e.url=="string"}a(a$,"PT");function s$(e){return Ud(e)&&e.source_type==="base64"&&"data"in e&&typeof e.data=="string"}a(s$,"OT");function o$(e){return Ud(e)&&e.source_type==="id"&&"id"in e&&typeof e.id=="string"}a(o$,"YT");function $x({dataUrl:e,asTypedArray:t=!1}){let r=e.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/),n;if(r){n=r[1].toLowerCase();let i=t?Uint8Array.from(atob(r[2]),s=>s.charCodeAt(0)):r[2];return{mime_type:n,data:i}}}a($x,"uO");function Zt(e,t){return Qt(e)&&e.type===t}a(Zt,"e$");function Qt(e){return typeof e=="object"&&e!==null}a(Qt,"_6");function rs(e){return Array.isArray(e)}a(rs,"oq");function jt(e){return typeof e=="string"}a(jt,"U$");function pa(e){return typeof e=="number"}a(pa,"_8");function _4(e){return e instanceof Uint8Array}a(_4,"T1");function Xx(e){try{return JSON.parse(e)}catch{return}}a(Xx,"xO");var Hd=a(e=>e(),"PK");function l$(e){if(e.type==="char_location"&&jt(e.document_title)&&pa(e.start_char_index)&&pa(e.end_char_index)&&jt(e.cited_text)){let{document_title:t,start_char_index:r,end_char_index:n,cited_text:i,...s}=e;return{...s,type:"citation",source:"char",title:t??void 0,startIndex:r,endIndex:n,citedText:i}}if(e.type==="page_location"&&jt(e.document_title)&&pa(e.start_page_number)&&pa(e.end_page_number)&&jt(e.cited_text)){let{document_title:t,start_page_number:r,end_page_number:n,cited_text:i,...s}=e;return{...s,type:"citation",source:"page",title:t??void 0,startIndex:r,endIndex:n,citedText:i}}if(e.type==="content_block_location"&&jt(e.document_title)&&pa(e.start_block_index)&&pa(e.end_block_index)&&jt(e.cited_text)){let{document_title:t,start_block_index:r,end_block_index:n,cited_text:i,...s}=e;return{...s,type:"citation",source:"block",title:t??void 0,startIndex:r,endIndex:n,citedText:i}}if(e.type==="web_search_result_location"&&jt(e.url)&&jt(e.title)&&jt(e.encrypted_index)&&jt(e.cited_text)){let{url:t,title:r,encrypted_index:n,cited_text:i,...s}=e;return{...s,type:"citation",source:"url",url:t,title:r,startIndex:Number(n),endIndex:Number(n),citedText:i}}if(e.type==="search_result_location"&&jt(e.source)&&jt(e.title)&&pa(e.start_block_index)&&pa(e.end_block_index)&&jt(e.cited_text)){let{source:t,title:r,start_block_index:n,end_block_index:i,cited_text:s,...o}=e;return{...o,type:"citation",source:"search",url:t,title:r??void 0,startIndex:n,endIndex:i,citedText:s}}}a(l$,"vN");function AC(e){if(Zt(e,"document")&&Qt(e.source)&&"type"in e.source){if(e.source.type==="base64"&&jt(e.source.media_type)&&jt(e.source.data))return{type:"file",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&jt(e.source.url))return{type:"file",url:e.source.url};if(e.source.type==="file"&&jt(e.source.file_id))return{type:"file",fileId:e.source.file_id};if(e.source.type==="text"&&jt(e.source.data))return{type:"file",mimeType:String(e.source.media_type??"text/plain"),data:e.source.data}}else if(Zt(e,"image")&&Qt(e.source)&&"type"in e.source){if(e.source.type==="base64"&&jt(e.source.media_type)&&jt(e.source.data))return{type:"image",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&jt(e.source.url))return{type:"image",url:e.source.url};if(e.source.type==="file"&&jt(e.source.file_id))return{type:"image",fileId:e.source.file_id}}}a(AC,"vT");function u$(e){function*t(){for(let r of e){let n=AC(r);n?yield n:yield r}}return a(t,"q"),Array.from(t())}a(u$,"zT");function Jx(e){function*t(){let r=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(let n of r){if(Zt(n,"text")&&jt(n.text)){let{text:i,citations:s,...o}=n;if(rs(s)&&s.length){let l=s.reduce((u,c)=>{let h=l$(c);return h?[...u,h]:u},[]);yield{...o,type:"text",text:i,annotations:l};continue}else{yield{...o,type:"text",text:i};continue}}else if(Zt(n,"thinking")&&jt(n.thinking)){let{thinking:i,signature:s,...o}=n;yield{...o,type:"reasoning",reasoning:i,signature:s};continue}else if(Zt(n,"redacted_thinking")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"tool_use")&&jt(n.name)&&jt(n.id)){yield{type:"tool_call",id:n.id,name:n.name,args:n.input};continue}else if(Zt(n,"input_json_delta")){if(d$(e)&&e.tool_call_chunks?.length){let i=e.tool_call_chunks[0];yield{type:"tool_call_chunk",id:i.id,name:i.name,args:i.args,index:i.index};continue}}else if(Zt(n,"server_tool_use")&&jt(n.name)&&jt(n.id)){let{name:i,id:s}=n;if(i==="web_search"){let o=Hd(()=>{if(typeof n.input=="string")return n.input;if(Qt(n.input)&&jt(n.input.query))return n.input.query;if(jt(n.partial_json)){let l=Xx(n.partial_json);if(l?.query)return l.query}return""});yield{id:s,type:"server_tool_call",name:"web_search",args:{query:o}};continue}else if(n.name==="code_execution"){let o=Hd(()=>{if(typeof n.input=="string")return n.input;if(Qt(n.input)&&jt(n.input.code))return n.input.code;if(jt(n.partial_json)){let l=Xx(n.partial_json);if(l?.code)return l.code}return""});yield{id:s,type:"server_tool_call",name:"code_execution",args:{code:o}};continue}}else if(Zt(n,"web_search_tool_result")&&jt(n.tool_use_id)&&rs(n.content)){let{content:i,tool_use_id:s}=n,o=i.reduce((l,u)=>Zt(u,"web_search_result")?[...l,u.url]:l,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:s,status:"success",output:{urls:o}};continue}else if(Zt(n,"code_execution_tool_result")&&jt(n.tool_use_id)&&Qt(n.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:n.tool_use_id,status:"success",output:n.content};continue}else if(Zt(n,"mcp_tool_use")){yield{id:n.id,type:"server_tool_call",name:"mcp_tool_use",args:n.input};continue}else if(Zt(n,"mcp_tool_result")&&jt(n.tool_use_id)&&Qt(n.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:n.tool_use_id,status:"success",output:n.content};continue}else if(Zt(n,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:n.input};continue}else if(Zt(n,"search_result")){yield{id:n.id,type:"non_standard",value:n};continue}else if(Zt(n,"tool_result")){yield{id:n.id,type:"non_standard",value:n};continue}else{let i=AC(n);if(i){yield i;continue}}yield{type:"non_standard",value:n}}}return a(t,"q"),Array.from(t())}a(Jx,"jT");var c$={translateContent:Jx,translateContentChunk:Jx};function d$(e){return typeof e?._getType=="function"&&typeof e.concat=="function"&&e._getType()==="ai"}a(d$,"zN");function h$(e){return a$(e)?{type:e.type,mimeType:e.mime_type,url:e.url,metadata:e.metadata}:s$(e)?{type:e.type,mimeType:e.mime_type??"application/octet-stream",data:e.data,metadata:e.metadata}:o$(e)?{type:e.type,mimeType:e.mime_type,fileId:e.id,metadata:e.metadata}:e}a(h$,"WN");function f$(e){return e.map(h$)}a(f$,"HT");function p$(e){return!!(Zt(e,"image_url")&&Qt(e.image_url)||Zt(e,"input_audio")&&Qt(e.input_audio)||Zt(e,"file")&&Qt(e.file))}a(p$,"JT");function m$(e){if(Zt(e,"image_url")&&Qt(e.image_url)&&jt(e.image_url.url)){let t=$x({dataUrl:e.image_url.url});return t?{type:"image",mimeType:t.mime_type,data:t.data}:{type:"image",url:e.image_url.url}}else{if(Zt(e,"input_audio")&&Qt(e.input_audio)&&jt(e.input_audio.data)&&jt(e.input_audio.format))return{type:"audio",data:e.input_audio.data,mimeType:`audio/${e.input_audio.format}`};if(Zt(e,"file")&&Qt(e.file)&&jt(e.file.data)){let t=$x({dataUrl:e.file.data});if(t)return{type:"file",data:t.data,mimeType:t.mime_type};if(jt(e.file.file_id))return{type:"file",fileId:e.file.file_id}}}return e}a(m$,"TT");function g$(e){let t=[];typeof e.content=="string"?t.push({type:"text",text:e.content}):t.push(...x4(e.content));for(let r of e.tool_calls??[])t.push({type:"tool_call",id:r.id,name:r.name,args:r.args});return t}a(g$,"HN");function v$(e){let t=[];typeof e.content=="string"?t.push({type:"text",text:e.content}):t.push(...x4(e.content));for(let r of e.tool_calls??[])t.push({type:"tool_call",id:r.id,name:r.name,args:r.args});return t}a(v$,"JN");function x4(e){let t=[];for(let r of e)p$(r)?t.push(m$(r)):t.push(r);return t}a(x4,"w1");function b$(e){if(e.type==="url_citation"){let{url:t,title:r,start_index:n,end_index:i}=e;return{type:"citation",url:t,title:r,startIndex:n,endIndex:i}}if(e.type==="file_citation"){let{file_id:t,filename:r,index:n}=e;return{type:"citation",title:r,startIndex:n,endIndex:n,fileId:t}}return e}a(b$,"TN");function TC(e){function*t(){Qt(e.additional_kwargs?.reasoning)&&rs(e.additional_kwargs.reasoning.summary)&&(yield{type:"reasoning",reasoning:e.additional_kwargs.reasoning.summary.reduce((n,i)=>Qt(i)&&jt(i.text)?`${n}${i.text}`:n,"")});let r=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(let n of r)if(Zt(n,"text")){let{text:i,annotations:s,...o}=n;Array.isArray(s)?yield{...o,type:"text",text:String(i),annotations:s.map(b$)}:yield{...o,type:"text",text:String(i)}}for(let n of e.tool_calls??[])yield{type:"tool_call",id:n.id,name:n.name,args:n.args};if(Qt(e.additional_kwargs)&&rs(e.additional_kwargs.tool_outputs))for(let n of e.additional_kwargs.tool_outputs){if(Zt(n,"web_search_call")){yield{id:n.id,type:"server_tool_call",name:"web_search",args:{query:n.query}};continue}else if(Zt(n,"file_search_call")){yield{id:n.id,type:"server_tool_call",name:"file_search",args:{query:n.query}};continue}else if(Zt(n,"computer_call")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"code_interpreter_call")){if(jt(n.code)&&(yield{id:n.id,type:"server_tool_call",name:"code_interpreter",args:{code:n.code}}),rs(n.outputs)){let i=Hd(()=>{if(n.status!=="in_progress"){if(n.status==="completed")return 0;if(n.status==="incomplete")return 127;if(n.status!=="interpreting"&&n.status==="failed")return 1}});for(let s of n.outputs)if(Zt(s,"logs")){yield{type:"server_tool_call_result",toolCallId:n.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:i??0,stderr:[0,void 0].includes(i)?void 0:String(s.logs),stdout:[0,void 0].includes(i)?String(s.logs):void 0}};continue}}continue}else if(Zt(n,"mcp_call")){yield{id:n.id,type:"server_tool_call",name:"mcp_call",args:n.input};continue}else if(Zt(n,"mcp_list_tools")){yield{id:n.id,type:"server_tool_call",name:"mcp_list_tools",args:n.input};continue}else if(Zt(n,"mcp_approval_request")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"image_generation_call")){yield{type:"non_standard",value:n};continue}Qt(n)&&(yield{type:"non_standard",value:n})}}return a(t,"q"),Array.from(t())}a(TC,"wT");function y$(e){function*t(){yield*TC(e);for(let r of e.tool_call_chunks??[])yield{type:"tool_call_chunk",id:r.id,name:r.name,args:r.args}}return a(t,"q"),Array.from(t())}a(y$,"wN");var w$={translateContent:a(e=>typeof e.content=="string"?g$(e):TC(e),"translateContent"),translateContentChunk:a(e=>typeof e.content=="string"?v$(e):y$(e),"translateContentChunk")};function _$(e){return typeof e=="object"&&e!==null&&"type"in e&&"content"in e&&(typeof e.content=="string"||Array.isArray(e.content))}a(_$,"ZT");function x$(e,t="pretty"){return t==="pretty"?E$(e):JSON.stringify(e)}a(x$,"XT");function E$(e){let t=[],r=` ${e.type.charAt(0).toUpperCase()+e.type.slice(1)} Message `,n=Math.floor((80-r.length)/2),i="=".repeat(n),s=r.length%2===0?i:`${i}=`;if(t.push(`${i}${r}${s}`),e.type==="ai"){let o=e;if(o.tool_calls&&o.tool_calls.length>0){t.push("Tool Calls:");for(let l of o.tool_calls){t.push(`  ${l.name} (${l.id})`),t.push(` Call ID: ${l.id}`),t.push("  Args:");for(let[u,c]of Object.entries(l.args))t.push(`    ${u}: ${c}`)}}}if(e.type==="tool"){let o=e;o.name&&t.push(`Name: ${o.name}`)}return typeof e.content=="string"&&e.content.trim()&&(t.length>1&&t.push(""),t.push(e.content)),t.join(`
`)}a(E$,"fN");var vv=Symbol.for("langchain.message");function NC(e,t){return typeof e=="string"?e===""?t:typeof t=="string"?e+t:Array.isArray(t)&&t.some(r=>Ud(r))?[{type:"text",source_type:"text",text:e},...t]:[{type:"text",text:e},...t]:Array.isArray(t)?Am(e,t)??[...e,...t]:t===""?e:Array.isArray(e)&&e.some(r=>Ud(r))?[...e,{type:"file",source_type:"text",text:t}]:[...e,{type:"text",text:t}]}a(NC,"bK");function S$(e,t){return e==="error"||t==="error"?"error":"success"}a(S$,"AT");function k$(e,t){function r(n,i){if(typeof n!="object"||n===null||n===void 0)return n;if(i>=t)return Array.isArray(n)?"[Array]":"[Object]";if(Array.isArray(n))return n.map(o=>r(o,i+1));let s={};for(let o of Object.keys(n))s[o]=r(n[o],i+1);return s}return a(r,"K"),JSON.stringify(r(e,0),null,2)}a(k$,"ZN");var CC=class extends zd{static{a(this,"OK")}lc_namespace=["langchain_core","messages"];lc_serializable=!0;get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}[vv]=!0;id;name;content;additional_kwargs;response_metadata;_getType(){return this.type}getType(){return this._getType()}constructor(e){let t=typeof e=="string"||Array.isArray(e)?{content:e}:e;t.additional_kwargs||(t.additional_kwargs={}),t.response_metadata||(t.response_metadata={}),super(t),this.name=t.name,t.content===void 0&&t.contentBlocks!==void 0?(this.content=t.contentBlocks,this.response_metadata={output_version:"v1",...t.response_metadata}):t.content!==void 0?(this.content=t.content??[],this.response_metadata=t.response_metadata):(this.content=[],this.response_metadata=t.response_metadata),this.additional_kwargs=t.additional_kwargs,this.id=t.id}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}get contentBlocks(){let e=typeof this.content=="string"?[{type:"text",text:this.content}]:this.content;return[f$,x4,u$].reduce((t,r)=>r(t),e)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(e){return typeof e=="object"&&e!==null&&vv in e&&e[vv]===!0&&_$(e)}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;let t=k$(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${t}`}toFormattedString(e="pretty"){return x$(this,e)}};function Il(e={},t={}){let r={...e};for(let[n,i]of Object.entries(t))if(r[n]==null)r[n]=i;else{if(i==null)continue;if(typeof r[n]!=typeof i||Array.isArray(r[n])!==Array.isArray(i))throw Error(`field[${n}] already exists in the message chunk, but with a different type.`);if(typeof r[n]=="string"){if(n==="type")continue;["id","name","output_version","model_provider"].includes(n)?r[n]=i:r[n]+=i}else if(typeof r[n]=="object"&&!Array.isArray(r[n]))r[n]=Il(r[n],i);else if(Array.isArray(r[n]))r[n]=Am(r[n],i);else{if(r[n]===i)continue;console.warn(`field[${n}] already exists in this message chunk and value has unsupported type.`)}}return r}a(Il,"nq");function Am(e,t){if(!(e===void 0&&t===void 0)){if(e===void 0||t===void 0)return e||t;{let r=[...e];for(let n of t)if(typeof n=="object"&&n!==null&&"index"in n&&typeof n.index=="number"){let i=r.findIndex(s=>{let o=typeof s=="object",l="index"in s&&s.index===n.index,u="id"in s&&"id"in n&&s?.id===n?.id,c=!("id"in s)||!s?.id||!("id"in n)||!n?.id;return o&&l&&(u||c)});i!==-1&&typeof r[i]=="object"&&r[i]!==null?r[i]=Il(r[i],n):r.push(n)}else{if(typeof n=="object"&&n!==null&&"text"in n&&n.text==="")continue;r.push(n)}return r}}}a(Am,"OP");function A$(e,t){if(!e&&!t)throw Error("Cannot merge two undefined objects.");if(!e||!t)return e||t;if(typeof e!=typeof t)throw Error(`Cannot merge objects of different types.
Left ${typeof e}
Right ${typeof t}`);if(typeof e=="string"&&typeof t=="string")return e+t;if(Array.isArray(e)&&Array.isArray(t))return Am(e,t);if(typeof e=="object"&&typeof t=="object")return Il(e,t);if(e===t)return e;throw Error(`Can not merge objects of different types.
Left ${e}
Right ${t}`)}a(A$,"kT");var IC=class extends CC{static{a(this,"yK")}static isInstance(e){return super.isInstance(e)&&"concat"in e&&typeof e.concat=="function"}},T$={};An(T$,{ToolMessage:a(()=>C$,"ToolMessage"),ToolMessageChunk:a(()=>I$,"ToolMessageChunk"),defaultToolCallParser:a(()=>M$,"defaultToolCallParser"),isDirectToolOutput:a(()=>N$,"isDirectToolOutput"),isToolMessage:a(()=>O$,"isToolMessage"),isToolMessageChunk:a(()=>R$,"isToolMessageChunk")});function N$(e){return e!=null&&typeof e=="object"&&"lc_direct_tool_output"in e&&e.lc_direct_tool_output===!0}a(N$,"AN");var C$=class extends CC{static{a(this,"GT")}static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}lc_direct_tool_output=!0;type="tool";status;tool_call_id;metadata;artifact;constructor(e,t,r){let n=typeof e=="string"||Array.isArray(e)?{content:e,name:r,tool_call_id:t}:e;super(n),this.tool_call_id=n.tool_call_id,this.artifact=n.artifact,this.status=n.status,this.metadata=n.metadata}static isInstance(e){return super.isInstance(e)&&e.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},I$=class extends IC{static{a(this,"kN")}type="tool";tool_call_id;status;artifact;constructor(e){super(e),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}concat(e){return new this.constructor({content:NC(this.content,e.content),additional_kwargs:Il(this.additional_kwargs,e.additional_kwargs),response_metadata:Il(this.response_metadata,e.response_metadata),artifact:A$(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:S$(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function M$(e){let t=[],r=[];for(let n of e)if(n.function){let i=n.function.name;try{let s=JSON.parse(n.function.arguments);t.push({name:i||"",args:s||{},id:n.id})}catch{r.push({name:i,args:n.function.arguments,id:n.id,error:"Malformed args."})}}else continue;return[t,r]}a(M$,"VT");function O$(e){return typeof e=="object"&&e!==null&&"getType"in e&&typeof e.getType=="function"&&e.getType()==="tool"}a(O$,"GN");function R$(e){return e._getType()==="tool"}a(R$,"VN");function P$(e){if(typeof e>"u")return null;try{return JSON.parse(e)}catch{}let t="",r=[],n=!1,i=!1;for(let s of e){if(n)s==='"'&&!i?n=!1:s===`
`&&!i?s="\\n":s==="\\"?i=!i:i=!1;else if(s==='"')n=!0,i=!1;else if(s==="{")r.push("}");else if(s==="[")r.push("]");else if(s==="}"||s==="]")if(r&&r[r.length-1]===s)r.pop();else return null;t+=s}n&&(t+='"');for(let s=r.length-1;s>=0;s-=1)t+=r[s];try{return JSON.parse(t)}catch{return null}}a(P$,"ST");function E4(e){switch(e){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}a(E4,"cO");function L$(e){if(Qt(e.document)&&Qt(e.document.source)){let t=Qt(e.document)&&jt(e.document.format)?e.document.format:"",r=E4(t);if(Qt(e.document.source)){if(Qt(e.document.source.s3Location)&&jt(e.document.source.s3Location.uri))return{type:"file",mimeType:r,fileId:e.document.source.s3Location.uri};if(_4(e.document.source.bytes))return{type:"file",mimeType:r,data:e.document.source.bytes};if(jt(e.document.source.text))return{type:"file",mimeType:r,data:Buffer.from(e.document.source.text).toString("base64")};if(rs(e.document.source.content)){let n=e.document.source.content.reduce((i,s)=>Qt(s)&&jt(s.text)?i+s.text:i,"");return{type:"file",mimeType:r,data:n}}}}return{type:"non_standard",value:e}}a(L$,"SN");function D$(e){if(Zt(e,"image")&&Qt(e.image)){let t=Qt(e.image)&&jt(e.image.format)?e.image.format:"",r=E4(t);if(Qt(e.image.source)){if(Qt(e.image.source.s3Location)&&jt(e.image.source.s3Location.uri))return{type:"image",mimeType:r,fileId:e.image.source.s3Location.uri};if(_4(e.image.source.bytes))return{type:"image",mimeType:r,data:e.image.source.bytes}}}return{type:"non_standard",value:e}}a(D$,"MN");function j$(e){if(Zt(e,"video")&&Qt(e.video)){let t=Qt(e.video)&&jt(e.video.format)?e.video.format:"",r=E4(t);if(Qt(e.video.source)){if(Qt(e.video.source.s3Location)&&jt(e.video.source.s3Location.uri))return{type:"video",mimeType:r,fileId:e.video.source.s3Location.uri};if(_4(e.video.source.bytes))return{type:"video",mimeType:r,data:e.video.source.bytes}}}return{type:"non_standard",value:e}}a(j$,"NN");function Kx(e){function*t(){let r=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(let n of r){if(Zt(n,"cache_point")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"citations_content")&&Qt(n.citationsContent)){let i=rs(n.citationsContent.content)?n.citationsContent.content.reduce((o,l)=>Qt(l)&&jt(l.text)?o+l.text:o,""):"",s=rs(n.citationsContent.citations)?n.citationsContent.citations.reduce((o,l)=>{if(Qt(l)){let u=rs(l.sourceContent)?l.sourceContent.reduce((h,d)=>Qt(d)&&jt(d.text)?h+d.text:h,""):"",c=Hd(()=>{if(Qt(l.location)){let h=l.location.documentChar||l.location.documentPage||l.location.documentChunk;if(Qt(h))return{source:pa(h.documentIndex)?h.documentIndex.toString():void 0,startIndex:pa(h.start)?h.start:void 0,endIndex:pa(h.end)?h.end:void 0}}return{}});o.push({type:"citation",citedText:u,...c})}return o},[]):[];yield{type:"text",text:i,annotations:s};continue}else if(Zt(n,"document")&&Qt(n.document)){yield L$(n);continue}else if(Zt(n,"guard_content")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"image")&&Qt(n.image)){yield D$(n);continue}else if(Zt(n,"reasoning_content")&&jt(n.reasoningText)){yield{type:"reasoning",reasoning:n.reasoningText};continue}else if(Zt(n,"text")&&jt(n.text)){yield{type:"text",text:n.text};continue}else if(Zt(n,"tool_result")){yield{type:"non_standard",value:n};continue}else{if(Zt(n,"tool_call"))continue;if(Zt(n,"video")&&Qt(n.video)){yield j$(n);continue}}yield{type:"non_standard",value:n}}}return a(t,"q"),Array.from(t())}a(Kx,"MT");var B$={translateContent:Kx,translateContentChunk:Kx};function Wx(e){function*t(){let r=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(let n of r){if(Zt(n,"text")&&jt(n.text)){yield{type:"text",text:n.text};continue}else if(Zt(n,"inlineData")&&Qt(n.inlineData)&&jt(n.inlineData.mimeType)&&jt(n.inlineData.data)){yield{type:"file",mimeType:n.inlineData.mimeType,data:n.inlineData.data};continue}else if(Zt(n,"functionCall")&&Qt(n.functionCall)&&jt(n.functionCall.name)&&Qt(n.functionCall.args)){yield{type:"tool_call",id:e.id,name:n.functionCall.name,args:n.functionCall.args};continue}else if(Zt(n,"functionResponse")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"fileData")&&Qt(n.fileData)&&jt(n.fileData.mimeType)&&jt(n.fileData.fileUri)){yield{type:"file",mimeType:n.fileData.mimeType,fileId:n.fileData.fileUri};continue}else if(Zt(n,"executableCode")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"codeExecutionResult")){yield{type:"non_standard",value:n};continue}yield{type:"non_standard",value:n}}}return a(t,"q"),Array.from(t())}a(Wx,"CT");var z$={translateContent:Wx,translateContentChunk:Wx};function Qx(e){function*t(){let r=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(let n of r){if(Zt(n,"reasoning")&&jt(n.reasoning)){let i=Hd(()=>{let s=r.indexOf(n);if(rs(e.additional_kwargs?.signatures)&&s>=0)return e.additional_kwargs.signatures.at(s)});jt(i)?yield{type:"reasoning",reasoning:n.reasoning,signature:i}:yield{type:"reasoning",reasoning:n.reasoning};continue}else if(Zt(n,"text")&&jt(n.text)){yield{type:"text",text:n.text};continue}else if(Zt(n,"image_url")){if(jt(n.image_url))if(n.image_url.startsWith("data:")){let i=/^data:([^;]+);base64,(.+)$/,s=n.image_url.match(i);s?yield{type:"image",data:s[2],mimeType:s[1]}:yield{type:"image",url:n.image_url}}else yield{type:"image",url:n.image_url};continue}else if(Zt(n,"media")&&jt(n.mimeType)&&jt(n.data)){yield{type:"file",mimeType:n.mimeType,data:n.data};continue}yield{type:"non_standard",value:n}}}return a(t,"q"),Array.from(t())}a(Qx,"ET");var F$={translateContent:Qx,translateContentChunk:Qx};globalThis.lc_block_translators_registry??=new Map([["anthropic",c$],["bedrock-converse",B$],["google-genai",z$],["google-vertexai",F$],["openai",w$]]);function U$(e){return globalThis.lc_block_translators_registry.get(e)}a(U$,"IT");function H$(e,t){return Il(e??{},t??{})}a(H$,"DT");function MC(e,t){let r={};return(e?.audio!==void 0||t?.audio!==void 0)&&(r.audio=(e?.audio??0)+(t?.audio??0)),(e?.image!==void 0||t?.image!==void 0)&&(r.image=(e?.image??0)+(t?.image??0)),(e?.video!==void 0||t?.video!==void 0)&&(r.video=(e?.video??0)+(t?.video??0)),(e?.document!==void 0||t?.document!==void 0)&&(r.document=(e?.document??0)+(t?.document??0)),(e?.text!==void 0||t?.text!==void 0)&&(r.text=(e?.text??0)+(t?.text??0)),r}a(MC,"LT");function G$(e,t){let r={...MC(e,t)};return(e?.cache_read!==void 0||t?.cache_read!==void 0)&&(r.cache_read=(e?.cache_read??0)+(t?.cache_read??0)),(e?.cache_creation!==void 0||t?.cache_creation!==void 0)&&(r.cache_creation=(e?.cache_creation??0)+(t?.cache_creation??0)),r}a(G$,"CN");function V$(e,t){let r={...MC(e,t)};return(e?.reasoning!==void 0||t?.reasoning!==void 0)&&(r.reasoning=(e?.reasoning??0)+(t?.reasoning??0)),r}a(V$,"hN");function Y$(e,t){return{input_tokens:(e?.input_tokens??0)+(t?.input_tokens??0),output_tokens:(e?.output_tokens??0)+(t?.output_tokens??0),total_tokens:(e?.total_tokens??0)+(t?.total_tokens??0),input_token_details:G$(e?.input_token_details,t?.input_token_details),output_token_details:V$(e?.output_token_details,t?.output_token_details)}}a(Y$,"gT");var OC=class extends IC{static{a(this,"YP")}type="ai";tool_calls=[];invalid_tool_calls=[];tool_call_chunks=[];usage_metadata;constructor(e){let t;if(typeof e=="string"||Array.isArray(e))t={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0||e.tool_call_chunks.length===0)t={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{let r=(e.tool_call_chunks??[]).reduce((s,o)=>{let l=s.findIndex(([u])=>"id"in o&&o.id&&"index"in o&&o.index!==void 0?o.id===u.id&&o.index===u.index:"id"in o&&o.id?o.id===u.id:"index"in o&&o.index!==void 0?o.index===u.index:!1);return l!==-1?s[l].push(o):s.push([o]),s},[]),n=[],i=[];for(let s of r){let o=null,l=s[0]?.name??"",u=s.map(d=>d.args||"").join(""),c=u.length?u:"{}",h=s[0]?.id;try{if(o=P$(c),!h||o===null||typeof o!="object"||Array.isArray(o))throw Error("Malformed tool call chunk args.");n.push({name:l,args:o,id:h,type:"tool_call"})}catch{i.push({name:l,args:c,id:h,error:"Malformed args.",type:"invalid_tool_call"})}}t={...e,tool_calls:n,invalid_tool_calls:i,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(t),this.tool_call_chunks=t.tool_call_chunks??this.tool_call_chunks,this.tool_calls=t.tool_calls??this.tool_calls,this.invalid_tool_calls=t.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=t.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){let t=U$(this.response_metadata.model_provider);if(t)return t.translateContent(this)}let e=super.contentBlocks;if(this.tool_calls&&typeof this.content!="string"){let t=this.content.filter(r=>r.type==="tool_call").map(r=>r.id);for(let r of this.tool_calls)r.id&&!t.includes(r.id)&&e.push({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){let t={content:NC(this.content,e.content),additional_kwargs:Il(this.additional_kwargs,e.additional_kwargs),response_metadata:H$(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){let r=Am(this.tool_call_chunks,e.tool_call_chunks);r!==void 0&&r.length>0&&(t.tool_call_chunks=r)}return(this.usage_metadata!==void 0||e.usage_metadata!==void 0)&&(t.usage_metadata=Y$(this.usage_metadata,e.usage_metadata)),new this.constructor(t)}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};function Z$(e,t="Human",r="AI"){let n=[];for(let i of e){let s;if(i._getType()==="human")s=t;else if(i._getType()==="ai")s=r;else if(i._getType()==="system")s="System";else if(i._getType()==="tool")s="Tool";else if(i._getType()==="generic")s=i.role;else throw Error(`Got unsupported message type: ${i._getType()}`);let o=i.name?`${i.name}, `:"",l=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);n.push(`${s}: ${o}${l}`)}return n.join(`
`)}a(Z$,"bT");var $$={};An($$,{getEnv:a(()=>jC,"getEnv"),getEnvironmentVariable:a(()=>yl,"getEnvironmentVariable"),getRuntimeEnvironment:a(()=>BC,"getRuntimeEnvironment"),isBrowser:a(()=>RC,"isBrowser"),isDeno:a(()=>Tm,"isDeno"),isJsDom:a(()=>LC,"isJsDom"),isNode:a(()=>DC,"isNode"),isWebWorker:a(()=>PC,"isWebWorker")});var RC=a(()=>typeof window<"u"&&typeof window.document<"u","yT"),PC=a(()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope","uT"),LC=a(()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),"xT"),Tm=a(()=>typeof Deno<"u","f1"),DC=a(()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Tm(),"pT"),jC=a(()=>{let e;return RC()?e="browser":DC()?e="node":PC()?e="webworker":LC()?e="jsdom":Tm()?e="deno":e="other",e},"cT"),bv;function BC(){return bv===void 0&&(bv={library:"langchain-js",runtime:jC()}),bv}a(BC,"dO");function yl(e){try{return typeof process<"u"?Mi?.[e]:Tm()?Deno?.env.get(e):void 0}catch{return}}a(yl,"N8");var X$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function J$(e){return typeof e=="string"&&X$.test(e)}a(J$,"RN");var v0=J$,Dn=[];for(yf=0;yf<256;++yf)Dn.push((yf+256).toString(16).slice(1));var yf;function K$(e,t=0){return(Dn[e[t+0]]+Dn[e[t+1]]+Dn[e[t+2]]+Dn[e[t+3]]+"-"+Dn[e[t+4]]+Dn[e[t+5]]+"-"+Dn[e[t+6]]+Dn[e[t+7]]+"-"+Dn[e[t+8]]+Dn[e[t+9]]+"-"+Dn[e[t+10]]+Dn[e[t+11]]+Dn[e[t+12]]+Dn[e[t+13]]+Dn[e[t+14]]+Dn[e[t+15]]).toLowerCase()}a(K$,"dT");var wf,W$=new Uint8Array(16);function Q$(){if(!wf&&(wf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wf))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wf(W$)}a(Q$,"lO");var q$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qx={randomUUID:q$};function eX(e,t,r){if(qx.randomUUID&&!t&&!e)return qx.randomUUID();e=e||{};var n=e.random||(e.rng||Q$)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return K$(n)}a(eX,"LN");var Ls=eX,tX={};An(tX,{BaseCallbackHandler:a(()=>Ih,"BaseCallbackHandler"),callbackHandlerPrefersStreaming:a(()=>nX,"callbackHandlerPrefersStreaming"),isBaseCallbackHandler:a(()=>zC,"isBaseCallbackHandler")});var rX=class{static{a(this,"yN")}};function nX(e){return"lc_prefer_streaming"in e&&e.lc_prefer_streaming}a(nX,"uN");var Ih=class extends rX{static{a(this,"Y_")}lc_serializable=!1;get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,w4(this.constructor)]}lc_kwargs;ignoreLLM=!1;ignoreChain=!1;ignoreAgent=!1;ignoreRetriever=!1;ignoreCustomEvent=!1;raiseError=!1;awaitHandlers=yl("LANGCHAIN_CALLBACKS_BACKGROUND")==="false";constructor(e){super(),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return zd.prototype.toJSON.call(this)}toJSONNotImplemented(){return zd.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class t extends Ih{static{a(this,"q")}name=Ls();constructor(){super(),Object.assign(this,e)}}return new t}},zC=a(e=>{let t=e;return t!==void 0&&typeof t.copy=="function"&&typeof t.name=="string"&&typeof t.awaitHandlers=="boolean"},"oO"),jn=[];for(_f=0;_f<256;++_f)jn.push((_f+256).toString(16).slice(1));var _f;function FC(e,t=0){return(jn[e[t+0]]+jn[e[t+1]]+jn[e[t+2]]+jn[e[t+3]]+"-"+jn[e[t+4]]+jn[e[t+5]]+"-"+jn[e[t+6]]+jn[e[t+7]]+"-"+jn[e[t+8]]+jn[e[t+9]]+"-"+jn[e[t+10]]+jn[e[t+11]]+jn[e[t+12]]+jn[e[t+13]]+jn[e[t+14]]+jn[e[t+15]]).toLowerCase()}a(FC,"X1");var xf,iX=new Uint8Array(16);function UC(){if(!xf&&(xf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xf))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xf(iX)}a(UC,"zP");var aX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),e5={randomUUID:aX};function sX(e,t,r){if(e5.randomUUID&&!t&&!e)return e5.randomUUID();e=e||{};var n=e.random||(e.rng||UC)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return FC(n)}a(sX,"cN");var Sc=sX,t5=null,r5=null,la=0;function oX(e,t,r){e=e||{};var n=t&&r||0,i=t||new Uint8Array(16),s=e.random||(e.rng||UC)(),o=e.msecs!==void 0?e.msecs:Date.now(),l=e.seq!==void 0?e.seq:null,u=r5,c=t5;return o>la&&e.msecs===void 0&&(la=o,l!==null&&(u=null,c=null)),l!==null&&(l>2147483647&&(l=2147483647),u=l>>>19&4095,c=l&524287),(u===null||c===null)&&(u=s[6]&127,u=u<<8|s[7],c=s[8]&63,c=c<<8|s[9],c=c<<5|s[10]>>>3),o+1e4>la&&l===null?++c>524287&&(c=0,++u>4095&&(u=0,la++)):la=o,r5=u,t5=c,i[n++]=la/1099511627776&255,i[n++]=la/4294967296&255,i[n++]=la/16777216&255,i[n++]=la/65536&255,i[n++]=la/256&255,i[n++]=la&255,i[n++]=u>>>4&15|112,i[n++]=u&255,i[n++]=c>>>13&63|128,i[n++]=c>>>5&255,i[n++]=c<<3&255|s[10]&7,i[n++]=s[11],i[n++]=s[12],i[n++]=s[13],i[n++]=s[14],i[n++]=s[15],t||FC(i)}a(oX,"mN");var lX=oX,uX="gen_ai.operation.name",cX="gen_ai.system",n5="gen_ai.request.model",dX="gen_ai.response.model",i5="gen_ai.usage.input_tokens",a5="gen_ai.usage.output_tokens",s5="gen_ai.usage.total_tokens",hX="gen_ai.request.max_tokens",fX="gen_ai.request.temperature",pX="gen_ai.request.top_p",mX="gen_ai.request.frequency_penalty",gX="gen_ai.request.presence_penalty",vX="gen_ai.response.finish_reasons",bX="gen_ai.prompt",yX="gen_ai.completion",wX="gen_ai.request.extra_query",_X="gen_ai.request.extra_body",xX="gen_ai.serialized.name",EX="gen_ai.serialized.signature",SX="gen_ai.serialized.doc",kX="gen_ai.response.id",AX="gen_ai.response.service_tier",TX="gen_ai.response.system_fingerprint",NX="gen_ai.usage.input_token_details",CX="gen_ai.usage.output_token_details",IX="langsmith.trace.session_id",MX="langsmith.trace.session_name",OX="langsmith.span.kind",RX="langsmith.trace.name",PX="langsmith.metadata",o5="langsmith.span.tags",LX="langsmith.request.streaming",DX="langsmith.request.headers",jX=a((...e)=>fetch(...e),"rN"),HC=Symbol.for("ls:fetch_implementation"),BX=a(()=>{let e=globalThis[HC];return e?typeof e=="function"&&"Headers"in e&&"Request"in e&&"Response"in e:!1},"Aw"),zX=a(e=>async(...t)=>{if(e||gi("DEBUG")==="true"){let[n,i]=t;console.log(` ${i?.method||"GET"} ${n}`)}let r=await(globalThis[HC]??jX)(...t);return(e||gi("DEBUG")==="true")&&console.log(` ${r.status} ${r.statusText} ${r.url}`),r},"kw"),GC=a(()=>gi("PROJECT")??os("LANGCHAIN_SESSION")??"default","WP"),l5={};function U0(e){l5[e]||(console.warn(e),l5[e]=!0)}a(U0,"v_");var VC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,u5=!1;function er(e,t){if(!VC.test(e)){let r=t!==void 0?`Invalid UUID for ${t}: ${e}`:`Invalid UUID: ${e}`;throw Error(r)}return e}a(er,"O6");function FX(e){let t=typeof e=="string"?Date.parse(e):e;return lX({msecs:t,seq:0})}a(FX,"k1");function UX(e){if(!VC.test(e))return null;let t=e[14];return parseInt(t,16)}a(UX,"oN");function yv(e,t){let r=UX(e);r!==null&&r!==7&&!u5&&(u5=!0,U0("LangSmith now uses UUID v7 for run and trace identifiers. This warning appears when passing custom IDs. Please use: import { uuidv7 } from 'langsmith'; const id = uuidv7(); Future versions will require UUID v7."))}a(yv,"G1");var YC="0.3.80",za,HX=a(()=>typeof window<"u"&&typeof window.document<"u","nN"),GX=a(()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope","iN"),VX=a(()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),"tN"),ZC=a(()=>typeof Deno<"u","Mw"),YX=a(()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!ZC(),"BN"),$C=a(()=>za||(typeof Bun<"u"?za="bun":HX()?za="browser":YX()?za="node":GX()?za="webworker":VX()?za="jsdom":ZC()?za="deno":za="other",za),"sO"),wv;function XC(){if(wv===void 0){let e=$C(),t=$X();wv={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:YC,...t}}return wv}a(XC,"S1");function JC(){let e=ZX(),t={},r=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(let[n,i]of Object.entries(e))typeof i=="string"&&!r.includes(n)&&!n.toLowerCase().includes("key")&&!n.toLowerCase().includes("secret")&&!n.toLowerCase().includes("token")&&(n==="LANGCHAIN_REVISION_ID"?t.revision_id=i:t[n]=i);return t}a(JC,"$2");function ZX(){let e={};try{if(typeof process<"u"&&Mi)for(let[t,r]of Object.entries(Mi))(t.startsWith("LANGCHAIN_")||t.startsWith("LANGSMITH_"))&&r!=null&&((t.toLowerCase().includes("key")||t.toLowerCase().includes("secret")||t.toLowerCase().includes("token"))&&typeof r=="string"?e[t]=r.slice(0,2)+"*".repeat(r.length-4)+r.slice(-2):e[t]=r)}catch{}return e}a(ZX,"UN");function os(e){try{return typeof process<"u"?Mi?.[e]:void 0}catch{return}}a(os,"P8");function gi(e){return os(`LANGSMITH_${e}`)||os(`LANGCHAIN_${e}`)}a(gi,"r6");var _v;function $X(){if(_v!==void 0)return _v;let e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],t={};for(let r of e){let n=os(r);n!==void 0&&(t[r]=n)}return _v=t,t}a($X,"FN");function KC(){return os("OTEL_ENABLED")==="true"||gi("OTEL_ENABLED")==="true"}a(KC,"M1");class XX{static{a(this,"Cw")}constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(t,...r){!this.hasWarned&&KC()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let n;if(r.length===1&&typeof r[0]=="function"?n=r[0]:r.length===2&&typeof r[1]=="function"?n=r[1]:r.length===3&&typeof r[2]=="function"&&(n=r[2]),typeof n=="function")return n()}}class JX{static{a(this,"hw")}constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new XX})}getTracer(t,r){return this.mockTracer}getActiveSpan(){}setSpan(t,r){return t}getSpan(t){}setSpanContext(t,r){return t}getTracerProvider(){}setGlobalTracerProvider(t){return!1}}class KX{static{a(this,"Ew")}active(){return{}}with(t,r){return r()}}var xv=Symbol.for("ls:otel_trace"),Ev=Symbol.for("ls:otel_context"),c5=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),WX=new JX,QX=new KX;class qX{static{a(this,"Rw")}getTraceInstance(){return globalThis[xv]??WX}getContextInstance(){return globalThis[Ev]??QX}initializeGlobalInstances(t){globalThis[xv]===void 0&&(globalThis[xv]=t.trace),globalThis[Ev]===void 0&&(globalThis[Ev]=t.context)}setDefaultOTLPTracerComponents(t){globalThis[c5]=t}getDefaultOTLPTracerComponents(){return globalThis[c5]??void 0}}var S4=new qX;function WC(){return S4.getTraceInstance()}a(WC,"N1");function eJ(){return S4.getContextInstance()}a(eJ,"Iw");function tJ(){return S4.getDefaultOTLPTracerComponents()}a(tJ,"Dw");var rJ={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function nJ(e){return rJ[e]||e}a(nJ,"sN");class iJ{static{a(this,"P2")}constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(t,r){for(let n of t)try{if(!n.run)continue;if(n.operation==="post"){let i=this.createSpanForRun(n,n.run,r.get(n.id));i&&!n.run.end_time&&this.spans.set(n.id,i)}else this.updateSpanForRun(n,n.run)}catch(i){console.error(`Error processing operation ${n.id}:`,i)}}createSpanForRun(t,r,n){let i=n&&WC().getSpan(n);if(i)try{return this.finishSpanSetup(i,r,t)}catch(s){console.error(`Failed to create span for run ${t.id}:`,s);return}}finishSpanSetup(t,r,n){return this.setSpanAttributes(t,r,n),r.error?(t.setStatus({code:2}),t.recordException(Error(r.error))):t.setStatus({code:1}),r.end_time&&t.end(new Date(r.end_time)),t}updateSpanForRun(t,r){try{let n=this.spans.get(t.id);if(!n){console.debug(`No span found for run ${t.id} during update`);return}this.setSpanAttributes(n,r,t),r.error?(n.setStatus({code:2}),n.recordException(Error(r.error))):n.setStatus({code:1});let i=r.end_time;i&&(n.end(new Date(i)),this.spans.delete(t.id))}catch(n){console.error(`Failed to update span for run ${t.id}:`,n)}}extractModelName(t){if(t.extra?.metadata){let r=t.extra.metadata;if(r.ls_model_name)return r.ls_model_name;if(r.invocation_params){let n=r.invocation_params;if(n.model)return n.model;if(n.model_name)return n.model_name}}}setSpanAttributes(t,r,n){if("run_type"in r&&r.run_type){t.setAttribute(OX,r.run_type);let l=nJ(r.run_type||"chain");t.setAttribute(uX,l)}"name"in r&&r.name&&t.setAttribute(RX,r.name),"session_id"in r&&r.session_id&&t.setAttribute(IX,r.session_id),"session_name"in r&&r.session_name&&t.setAttribute(MX,r.session_name),this.setGenAiSystem(t,r);let i=this.extractModelName(r);i&&t.setAttribute(n5,i),"prompt_tokens"in r&&typeof r.prompt_tokens=="number"&&t.setAttribute(i5,r.prompt_tokens),"completion_tokens"in r&&typeof r.completion_tokens=="number"&&t.setAttribute(a5,r.completion_tokens),"total_tokens"in r&&typeof r.total_tokens=="number"&&t.setAttribute(s5,r.total_tokens),this.setInvocationParameters(t,r);let s=r.extra?.metadata||{};for(let[l,u]of Object.entries(s))u!=null&&t.setAttribute(`${PX}.${l}`,String(u));let o=r.tags;if(o&&Array.isArray(o)?t.setAttribute(o5,o.join(", ")):o&&t.setAttribute(o5,String(o)),"serialized"in r&&typeof r.serialized=="object"){let l=r.serialized;l.name&&t.setAttribute(xX,String(l.name)),l.signature&&t.setAttribute(EX,String(l.signature)),l.doc&&t.setAttribute(SX,String(l.doc))}this.setIOAttributes(t,n)}setGenAiSystem(t,r){let n="langchain",i=this.extractModelName(r);if(i){let s=i.toLowerCase();s.includes("anthropic")||s.startsWith("claude")?n="anthropic":s.includes("bedrock")?n="aws.bedrock":s.includes("azure")&&s.includes("openai")?n="az.ai.openai":s.includes("azure")&&s.includes("inference")?n="az.ai.inference":s.includes("cohere")?n="cohere":s.includes("deepseek")?n="deepseek":s.includes("gemini")?n="gemini":s.includes("groq")?n="groq":s.includes("watson")||s.includes("ibm")?n="ibm.watsonx.ai":s.includes("mistral")?n="mistral_ai":s.includes("gpt")||s.includes("openai")?n="openai":s.includes("perplexity")||s.includes("sonar")?n="perplexity":s.includes("vertex")?n="vertex_ai":(s.includes("xai")||s.includes("grok"))&&(n="xai")}t.setAttribute(cX,n)}setInvocationParameters(t,r){if(!r.extra?.metadata?.invocation_params)return;let n=r.extra.metadata.invocation_params;n.max_tokens!==void 0&&t.setAttribute(hX,n.max_tokens),n.temperature!==void 0&&t.setAttribute(fX,n.temperature),n.top_p!==void 0&&t.setAttribute(pX,n.top_p),n.frequency_penalty!==void 0&&t.setAttribute(mX,n.frequency_penalty),n.presence_penalty!==void 0&&t.setAttribute(gX,n.presence_penalty)}setIOAttributes(t,r){if(r.run.inputs)try{let n=r.run.inputs;typeof n=="object"&&n!==null&&(n.model&&Array.isArray(n.messages)&&t.setAttribute(n5,n.model),n.stream!==void 0&&t.setAttribute(LX,n.stream),n.extra_headers&&t.setAttribute(DX,JSON.stringify(n.extra_headers)),n.extra_query&&t.setAttribute(wX,JSON.stringify(n.extra_query)),n.extra_body&&t.setAttribute(_X,JSON.stringify(n.extra_body))),t.setAttribute(bX,JSON.stringify(n))}catch(n){console.debug(`Failed to process inputs for run ${r.id}`,n)}if(r.run.outputs)try{let n=r.run.outputs,i=this.getUnifiedRunTokens(n);if(i&&(t.setAttribute(i5,i[0]),t.setAttribute(a5,i[1]),t.setAttribute(s5,i[0]+i[1])),n&&typeof n=="object"){if(n.model&&t.setAttribute(dX,String(n.model)),n.id&&t.setAttribute(kX,n.id),n.choices&&Array.isArray(n.choices)){let s=n.choices.map(o=>o.finish_reason).filter(o=>o).map(String);s.length>0&&t.setAttribute(vX,s.join(", "))}if(n.service_tier&&t.setAttribute(AX,n.service_tier),n.system_fingerprint&&t.setAttribute(TX,n.system_fingerprint),n.usage_metadata&&typeof n.usage_metadata=="object"){let s=n.usage_metadata;s.input_token_details&&t.setAttribute(NX,JSON.stringify(s.input_token_details)),s.output_token_details&&t.setAttribute(CX,JSON.stringify(s.output_token_details))}}t.setAttribute(yX,JSON.stringify(n))}catch(n){console.debug(`Failed to process outputs for run ${r.id}`,n)}}getUnifiedRunTokens(t){if(!t)return null;let r=this.extractUnifiedRunTokens(t.usage_metadata);if(r)return r;let n=Object.keys(t);for(let o of n){let l=t[o];if(!(!l||typeof l!="object")&&(r=this.extractUnifiedRunTokens(l.usage_metadata),r||l.lc===1&&l.kwargs&&typeof l.kwargs=="object"&&(r=this.extractUnifiedRunTokens(l.kwargs.usage_metadata),r)))return r}let i=t.generations||[];if(!Array.isArray(i))return null;let s=Array.isArray(i[0])?i.flat():i;for(let o of s)if(typeof o=="object"&&o.message&&typeof o.message=="object"&&o.message.kwargs&&typeof o.message.kwargs=="object"&&(r=this.extractUnifiedRunTokens(o.message.kwargs.usage_metadata),r))return r;return null}extractUnifiedRunTokens(t){return!t||typeof t!="object"||typeof t.input_tokens!="number"||typeof t.output_tokens!="number"?null:[t.input_tokens,t.output_tokens]}}var aJ=Fi(a4(),1),Sv=Fi(s4(),1),sJ=[429,500,502,503,504];class d5{static{a(this,"g1")}constructor(t){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=t.maxConcurrency??1/0,this.maxRetries=t.maxRetries??6,this.maxQueueSizeBytes=t.maxQueueSizeBytes,"default"in Sv.default?this.queue=new Sv.default.default({concurrency:this.maxConcurrency}):this.queue=new Sv.default({concurrency:this.maxConcurrency}),this.onFailedResponseHook=t?.onFailedResponseHook}call(t,...r){return this.callWithOptions({},t,...r)}callWithOptions(t,r,...n){let i=t.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&i>0&&this.queueSizeBytes+i>this.maxQueueSizeBytes)return Promise.reject(Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${i} bytes.`));i>0&&(this.queueSizeBytes+=i);let s=this.onFailedResponseHook,o=this.queue.add(()=>aJ.default(()=>r(...n).catch(l=>{throw l instanceof Error?l:Error(l)}),{async onFailedAttempt(l){if(l.message.startsWith("Cancel")||l.message.startsWith("TimeoutError")||l.name==="TimeoutError"||l.message.startsWith("AbortError")||l?.code==="ECONNABORTED")throw l;let u=l?.response;if(s&&await s(u))return;let c=u?.status??l?.status;if(c&&!sJ.includes(+c))throw l},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return i>0&&(o=o.finally(()=>{this.queueSizeBytes-=i})),t.signal?Promise.race([o,new Promise((l,u)=>{t.signal?.addEventListener("abort",()=>{u(Error("AbortError"))})})]):o}}function h5(e){return typeof e?._getType=="function"}a(h5,"v2");function f5(e){let t={type:e._getType(),data:{content:e.content}};return e?.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(t.data.additional_kwargs={...e.additional_kwargs}),t}a(f5,"z2");Fi(LV(),1);function co(e){if(!e||e.split("/").length>2||e.startsWith("/")||e.endsWith("/")||e.split(":").length>2)throw Error(`Invalid identifier format: ${e}`);let[t,r]=e.split(":"),n=r||"latest";if(t.includes("/")){let[i,s]=t.split("/",2);if(!i||!s)throw Error(`Invalid identifier format: ${e}`);return[i,s,n]}else{if(!t)throw Error(`Invalid identifier format: ${e}`);return["-",t,n]}}a(co,"YK");class oJ extends Error{static{a(this,"rZ")}constructor(t){super(t),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function Vt(e,t,r){let n;if(e.ok){r&&(n=await e.text());return}if(e.status===403)try{(await e.json())?.error==="org_scoped_key_requires_workspace"&&(n="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{let l=Error(`${e.status} ${e.statusText}`);throw l.status=e?.status,l}if(n===void 0)try{n=await e.text()}catch{n=""}let i=`Failed to ${t}. Received status [${e.status}]: ${e.statusText}. Message: ${n}`;if(e.status===409)throw new oJ(i);let s=Error(i);throw s.status=e.status,s}a(Vt,"$6");var QC="ERR_CONFLICTING_ENDPOINTS";class lJ extends Error{static{a(this,"C2")}constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:QC}),this.name="ConflictingEndpointsError"}}function uJ(e){return typeof e=="object"&&e!==null&&e.code===QC}a(uJ,"nZ");var p5="[...]",cJ={result:"[Circular]"},H0=[],_u=[],dJ=new TextEncoder;function hJ(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}a(hJ,"ZR");function Ef(e){return dJ.encode(e)}a(Ef,"t1");function qC(e){if(e&&typeof e=="object"&&e!==null){if(e instanceof Map)return Object.fromEntries(e);if(e instanceof Set)return Array.from(e);if(e instanceof Date)return e.toISOString();if(e instanceof RegExp)return e.toString();if(e instanceof Error)return{name:e.name,message:e.message}}else if(typeof e=="bigint")return e.toString();return e}a(qC,"tZ");function fJ(e){return function(t,r){return qC(r)}}a(fJ,"XR");function Ni(e,t,r,n,i){try{let s=JSON.stringify(e,fJ(r),n);return Ef(s)}catch(s){if(!s.message?.includes("Converting circular structure to JSON"))return console.warn(`[WARNING]: LangSmith received unserializable value.${t?`
Context: ${t}`:""}`),Ef("[Unserializable]");gi("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${t?`
Context: ${t}`:""}`),typeof i>"u"&&(i=hJ()),u1(e,"",0,[],void 0,0,i);let o;try{_u.length===0?o=JSON.stringify(e,r,n):o=JSON.stringify(e,pJ(r),n)}catch{return Ef("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;H0.length!==0;){let l=H0.pop();l.length===4?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return Ef(o)}}a(Ni,"tq");function kv(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:e}),H0.push([n,r,t,i])):_u.push([t,r,e]):(n[r]=e,H0.push([n,r,t]))}a(kv,"h2");function u1(e,t,r,n,i,s,o){s+=1;var l;if(typeof e=="object"&&e!==null){for(l=0;l<n.length;l++)if(n[l]===e){kv(cJ,e,t,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){kv(p5,e,t,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){kv(p5,e,t,i);return}if(n.push(e),Array.isArray(e))for(l=0;l<e.length;l++)u1(e[l],l,l,n,e,s,o);else{e=qC(e);var u=Object.keys(e);for(l=0;l<u.length;l++){var c=u[l];u1(e[c],c,l,n,e,s,o)}}n.pop()}}a(u1,"E2");function pJ(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(_u.length>0)for(var n=0;n<_u.length;n++){var i=_u[n];if(i[1]===t&&i[0]===r){r=i[2],_u.splice(n,1);break}}return e.call(this,t,r)}}a(pJ,"AR");function m5(e,t){let r=XC(),n=t??JC(),i=e.extra??{},s=i.metadata;return e.extra={...i,runtime:{...r,...i?.runtime},metadata:{...n,...n.revision_id||"revision_id"in e&&e.revision_id?{revision_id:("revision_id"in e?e.revision_id:void 0)??n.revision_id}:{},...s}},e}a(m5,"BZ");var mJ=a(e=>{let t=e?.toString()??gi("TRACING_SAMPLING_RATE");if(t===void 0)return;let r=parseFloat(t);if(r<0||r>1)throw Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${r}`);return r},"kR"),gJ=a(e=>{let t=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return t==="localhost"||t==="127.0.0.1"||t==="::1"},"GR");async function vJ(e){let t=[];for await(let r of e)t.push(r);return t}a(vJ,"VR");function Sf(e){if(e!==void 0)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}a(Sf,"U1");var bJ=a(async e=>{if(e?.status===429){let t=parseInt(e.headers.get("retry-after")??"10",10)*1e3;if(t>0)return await new Promise(r=>setTimeout(r,t)),!0}return!1},"SR");function g5(e){return typeof e=="number"?Number(e.toFixed(4)):e}a(g5,"UZ");var yJ=25165824,eI=1073741824,wJ=1e4,_J=100,v5="https://api.smith.langchain.com";class xJ{static{a(this,"eZ")}constructor(t){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=t??eI}peek(){return this.items[0]}push(t){let r,n=new Promise(s=>{r=s}),i=Ni(t.item,`Serializing run with id: ${t.item.id}`).length;return this.sizeBytes+i>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${t.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${i} bytes.`),r(),n):(this.items.push({action:t.action,payload:t.item,otelContext:t.otelContext,apiKey:t.apiKey,apiUrl:t.apiUrl,itemPromiseResolve:r,itemPromise:n,size:i}),this.sizeBytes+=i,n)}pop({upToSizeBytes:t,upToSize:r}){if(t<1)throw Error("Number of bytes to pop off may not be less than 1.");let n=[],i=0;for(;i+(this.peek()?.size??0)<t&&this.items.length>0&&n.length<r;){let s=this.items.shift();s&&(n.push(s),i+=s.size,this.sizeBytes-=s.size)}if(n.length===0&&this.items.length>0){let s=this.items.shift();n.push(s),i+=s.size,this.sizeBytes-=s.size}return[n.map(s=>({action:s.action,item:s.payload,otelContext:s.otelContext,apiKey:s.apiKey,apiUrl:s.apiUrl,size:s.size})),()=>n.forEach(s=>s.itemPromiseResolve())]}}class Gd{static{a(this,"uK")}get _fetch(){return this.fetchImplementation||zX(this.debug)}constructor(t={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:os("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:os("LANGSMITH_DEBUG")==="true"});let r=Gd.getDefaultClientConfig();if(this.tracingSampleRate=mJ(t.tracingSamplingRate),this.apiUrl=Sf(t.apiUrl??r.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=Sf(t.apiKey??r.apiKey),this.webUrl=Sf(t.webUrl??r.webUrl),this.webUrl?.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=Sf(t.workspaceId??gi("WORKSPACE_ID")),this.timeout_ms=t.timeout_ms??9e4,this.caller=new d5({...t.callerOptions??{},maxRetries:4,debug:t.debug??this.debug}),this.traceBatchConcurrency=t.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw Error("Trace batch concurrency must be positive.");this.debug=t.debug??this.debug,this.fetchImplementation=t.fetchImplementation;let n=t.maxIngestMemoryBytes??eI;this.batchIngestCaller=new d5({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:n,...t.callerOptions??{},onFailedResponseHook:bJ,debug:t.debug??this.debug}),this.hideInputs=t.hideInputs??t.anonymizer??r.hideInputs,this.hideOutputs=t.hideOutputs??t.anonymizer??r.hideOutputs,this.autoBatchTracing=t.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new xJ(n),this.blockOnRootRunFinalization=t.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=t.batchSizeBytesLimit,this.batchSizeLimit=t.batchSizeLimit,this.fetchOptions=t.fetchOptions||{},this.manualFlushMode=t.manualFlushMode??this.manualFlushMode,KC()&&(this.langSmithToOTELTranslator=new iJ),this.cachedLSEnvVarsForMetadata=JC()}static getDefaultClientConfig(){let t=gi("API_KEY"),r=gi("ENDPOINT")??v5,n=gi("HIDE_INPUTS")==="true",i=gi("HIDE_OUTPUTS")==="true";return{apiUrl:r,apiKey:t,webUrl:void 0,hideInputs:n,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:gJ(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){let t={"User-Agent":`langsmith-js/${YC}`};return this.apiKey&&(t["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(t["x-tenant-id"]=this.workspaceId),t}_getPlatformEndpointPath(t){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${t}`:`/platform/${t}`}async processInputs(t){return this.hideInputs===!1?t:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(t):t}async processOutputs(t){return this.hideOutputs===!1?t:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(t):t}async prepareRunCreateOrUpdateInputs(t){let r={...t};return r.inputs!==void 0&&(r.inputs=await this.processInputs(r.inputs)),r.outputs!==void 0&&(r.outputs=await this.processOutputs(r.outputs)),r}async _getResponse(t,r){let n=r?.toString()??"",i=`${this.apiUrl}${t}?${n}`;return await this.caller.call(async()=>{let s=await this._fetch(i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(s,`fetch ${t}`),s})}async _get(t,r){return(await this._getResponse(t,r)).json()}async*_getPaginated(t,r=new URLSearchParams,n){let i=Number(r.get("offset"))||0,s=Number(r.get("limit"))||100;for(;;){r.set("offset",String(i)),r.set("limit",String(s));let o=`${this.apiUrl}${t}?${r}`,l=await this.caller.call(async()=>{let c=await this._fetch(o,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(c,`fetch ${t}`),c}),u=n?n(await l.json()):await l.json();if(u.length===0||(yield u,u.length<s))break;i+=u.length}}async*_getCursorPaginatedList(t,r=null,n="POST",i="runs"){let s=r?{...r}:{};for(;;){let o=JSON.stringify(s),l=await(await this.caller.call(async()=>{let c=await this._fetch(`${this.apiUrl}${t}`,{method:n,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(c,`fetch ${t}`),c})).json();if(!l||!l[i])break;yield l[i];let u=l.cursors;if(!u||!u.next)break;s.cursor=u.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(t,r=!1){if(this.tracingSampleRate===void 0)return t;if(r){let n=[];for(let i of t)this.filteredPostUuids.has(i.trace_id)?i.id===i.trace_id&&this.filteredPostUuids.delete(i.trace_id):n.push(i);return n}else{let n=[];for(let i of t){let s=i.trace_id??i.id;this.filteredPostUuids.has(s)||(i.id===s?this._shouldSample()?n.push(i):this.filteredPostUuids.add(s):n.push(i))}return n}}async _getBatchSizeLimitBytes(){let t=await this._ensureServerInfo();return this.batchSizeBytesLimit??t.batch_ingest_config?.size_limit_bytes??yJ}async _getBatchSizeLimit(){let t=await this._ensureServerInfo();return this.batchSizeLimit??t.batch_ingest_config?.size_limit??_J}async _getDatasetExamplesMultiPartSupport(){return(await this._ensureServerInfo()).instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue({batchSizeLimitBytes:t,batchSizeLimit:r}){let n=[];for(;this.autoBatchQueue.items.length>0;){let[i,s]=this.autoBatchQueue.pop({upToSizeBytes:t,upToSize:r});if(!i.length){s();break}let o=i.reduce((c,h)=>{let d=h.apiUrl??this.apiUrl,g=h.apiKey??this.apiKey,m=h.apiKey===this.apiKey&&h.apiUrl===this.apiUrl?"default":`${d}|${g}`;return c[m]||(c[m]=[]),c[m].push(h),c},{}),l=[];for(let[c,h]of Object.entries(o)){let d=this._processBatch(h,{apiUrl:c==="default"?void 0:c.split("|")[0],apiKey:c==="default"?void 0:c.split("|")[1]});l.push(d)}let u=Promise.all(l).finally(s);n.push(u)}return Promise.all(n)}async _processBatch(t,r){if(!t.length)return;let n=t.reduce((i,s)=>i+(s.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(t);else{let i={runCreates:t.filter(o=>o.action==="create").map(o=>o.item),runUpdates:t.filter(o=>o.action==="update").map(o=>o.item)},s=await this._ensureServerInfo();if(s?.batch_ingest_config?.use_multipart_endpoint){let o=s?.instance_flags?.gzip_body_enabled;await this.multipartIngestRuns(i,{...r,useGzip:o,sizeBytes:n})}else await this.batchIngestRuns(i,{...r,sizeBytes:n})}}catch(i){console.error("Error exporting batch:",i)}}_sendBatchToOTELTranslator(t){if(this.langSmithToOTELTranslator!==void 0){let r=new Map,n=[];for(let i of t)i.item.id&&i.otelContext&&(r.set(i.item.id,i.otelContext),i.action==="create"?n.push({operation:"post",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}):n.push({operation:"patch",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}));this.langSmithToOTELTranslator.exportBatch(n,r)}}async processRunOperation(t){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,t.item=m5(t.item,this.cachedLSEnvVarsForMetadata);let r=this.autoBatchQueue.push(t);if(this.manualFlushMode)return r;let n=await this._getBatchSizeLimitBytes(),i=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>n||this.autoBatchQueue.items.length>i)&&this.drainAutoBatchQueue({batchSizeLimitBytes:n,batchSizeLimit:i}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:n,batchSizeLimit:i})},this.autoBatchAggregationDelayMs)),r}async _getServerInfo(){let t=await(await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(wJ),...this.fetchOptions});return await Vt(r,"get server info"),r})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(t,null,2)+`
`),t}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(t){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${t.status??"Unspecified status code"} ${t.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(t=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),t))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){let t=await this._getBatchSizeLimitBytes(),r=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:t,batchSizeLimit:r})}_cloneCurrentOTELContext(){let t=WC(),r=eJ();if(this.langSmithToOTELTranslator!==void 0){let n=t.getActiveSpan();if(n)return t.setSpan(r.active(),n)}}async createRun(t,r){if(!this._filterForSampling([t]).length)return;let n={...this.headers,"Content-Type":"application/json"},i=t.project_name;delete t.project_name;let s=await this.prepareRunCreateOrUpdateInputs({session_name:i,...t,start_time:t.start_time??Date.now()});if(this.autoBatchTracing&&s.trace_id!==void 0&&s.dotted_order!==void 0){let u=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:s,otelContext:u,apiKey:r?.apiKey,apiUrl:r?.apiUrl}).catch(console.error);return}let o=m5(s,this.cachedLSEnvVarsForMetadata);r?.apiKey!==void 0&&(n["x-api-key"]=r.apiKey),r?.workspaceId!==void 0&&(n["x-tenant-id"]=r.workspaceId);let l=Ni(o,`Creating run with id: ${o.id}`);await this.caller.call(async()=>{let u=await this._fetch(`${r?.apiUrl??this.apiUrl}/runs`,{method:"POST",headers:n,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Vt(u,"create run",!0),u})}async batchIngestRuns({runCreates:t,runUpdates:r},n){if(t===void 0&&r===void 0)return;let i=await Promise.all(t?.map(u=>this.prepareRunCreateOrUpdateInputs(u))??[]),s=await Promise.all(r?.map(u=>this.prepareRunCreateOrUpdateInputs(u))??[]);if(i.length>0&&s.length>0){let u=i.reduce((h,d)=>(d.id&&(h[d.id]=d),h),{}),c=[];for(let h of s)h.id!==void 0&&u[h.id]?u[h.id]={...u[h.id],...h}:c.push(h);i=Object.values(u),s=c}let o={post:i,patch:s};if(!o.post.length&&!o.patch.length)return;let l={post:[],patch:[]};for(let u of["post","patch"]){let c=u,h=o[c].reverse(),d=h.pop();for(;d!==void 0;)l[c].push(d),d=h.pop()}if(l.post.length>0||l.patch.length>0){let u=l.post.map(c=>c.id).concat(l.patch.map(c=>c.id)).join(",");await this._postBatchIngestRuns(Ni(l,`Ingesting runs with ids: ${u}`),n)}}async _postBatchIngestRuns(t,r){let n={...this.headers,"Content-Type":"application/json",Accept:"application/json"};r?.apiKey!==void 0&&(n["x-api-key"]=r.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:r?.sizeBytes},async()=>{let i=await this._fetch(`${r?.apiUrl??this.apiUrl}/runs/batch`,{method:"POST",headers:n,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:t});return await Vt(i,"batch create run",!0),i})}async multipartIngestRuns({runCreates:t,runUpdates:r},n){if(t===void 0&&r===void 0)return;let i={},s=[];for(let c of t??[]){let h=await this.prepareRunCreateOrUpdateInputs(c);h.id!==void 0&&h.attachments!==void 0&&(i[h.id]=h.attachments),delete h.attachments,s.push(h)}let o=[];for(let c of r??[])o.push(await this.prepareRunCreateOrUpdateInputs(c));if(s.find(c=>c.trace_id===void 0||c.dotted_order===void 0)!==void 0)throw Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(o.find(c=>c.trace_id===void 0||c.dotted_order===void 0)!==void 0)throw Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(s.length>0&&o.length>0){let c=s.reduce((d,g)=>(g.id&&(d[g.id]=g),d),{}),h=[];for(let d of o)d.id!==void 0&&c[d.id]?c[d.id]={...c[d.id],...d}:h.push(d);s=Object.values(c),o=h}if(s.length===0&&o.length===0)return;let l=[],u=[];for(let[c,h]of[["post",s],["patch",o]])for(let d of h){let{inputs:g,outputs:m,events:y,extra:x,error:A,serialized:C,attachments:M,...R}=d,P={inputs:g,outputs:m,events:y,extra:x,error:A,serialized:C},L=Ni(R,`Serializing for multipart ingestion of run with id: ${R.id}`);u.push({name:`${c}.${R.id}`,payload:new Blob([L],{type:`application/json; length=${L.length}`})});for(let[z,Z]of Object.entries(P)){if(Z===void 0)continue;let Y=Ni(Z,`Serializing ${z} for multipart ingestion of run with id: ${R.id}`);u.push({name:`${c}.${R.id}.${z}`,payload:new Blob([Y],{type:`application/json; length=${Y.length}`})})}if(R.id!==void 0){let z=i[R.id];if(z){delete i[R.id];for(let[Z,Y]of Object.entries(z)){let ae,F;if(Array.isArray(Y)?[ae,F]=Y:(ae=Y.mimeType,F=Y.data),Z.includes(".")){console.warn(`Skipping attachment '${Z}' for run ${R.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}u.push({name:`attachment.${R.id}.${Z}`,payload:new Blob([F],{type:`${ae}; length=${F.byteLength}`})})}}}l.push(`trace=${R.trace_id},id=${R.id}`)}await this._sendMultipartRequest(u,l.join("; "),n)}async _createNodeFetchBody(t,r){let n=[];for(let i of t)n.push(new Blob([`--${r}\r
`])),n.push(new Blob([`Content-Disposition: form-data; name="${i.name}"\r
`,`Content-Type: ${i.payload.type}\r
\r
`])),n.push(i.payload),n.push(new Blob([`\r
`]));return n.push(new Blob([`--${r}--\r
`])),await new Blob(n).arrayBuffer()}async _createMultipartStream(t,r){let n=new TextEncoder;return new ReadableStream({async start(i){let s=a(async o=>{typeof o=="string"?i.enqueue(n.encode(o)):i.enqueue(o)},"Y");for(let o of t){await s(`--${r}\r
`),await s(`Content-Disposition: form-data; name="${o.name}"\r
`),await s(`Content-Type: ${o.payload.type}\r
\r
`);let l=o.payload.stream().getReader();try{let u;for(;!(u=await l.read()).done;)i.enqueue(u.value)}finally{l.releaseLock()}await s(`\r
`)}await s(`--${r}--\r
`),i.close()}})}async _sendMultipartRequest(t,r,n){let i="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),s=BX(),o=a(()=>this._createNodeFetchBody(t,i),"Y"),l=a(()=>this._createMultipartStream(t,i),"O"),u=a(async c=>this.batchIngestCaller.callWithOptions({sizeBytes:n?.sizeBytes},async()=>{let h=await c(),d={...this.headers,"Content-Type":`multipart/form-data; boundary=${i}`};n?.apiKey!==void 0&&(d["x-api-key"]=n.apiKey);let g=h;n?.useGzip&&typeof h=="object"&&"pipeThrough"in h&&(g=h.pipeThrough(new CompressionStream("gzip")),d["Content-Encoding"]="gzip");let m=await this._fetch(`${n?.apiUrl??this.apiUrl}/runs/multipart`,{method:"POST",headers:d,body:g,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(m,"Failed to send multipart request",!0),m}),"z");try{let c,h=!1;!s&&!this.multipartStreamingDisabled&&$C()!=="bun"?(h=!0,c=await u(l)):c=await u(o),(!this.multipartStreamingDisabled||h)&&c.status===422&&(n?.apiUrl??this.apiUrl)!==v5&&(console.warn(`Streaming multipart upload to ${n?.apiUrl??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${r}".`),this.multipartStreamingDisabled=!0,c=await u(o))}catch(c){console.warn(`${c.message.trim()}

Context: ${r}`)}}async updateRun(t,r,n){er(t),r.inputs&&(r.inputs=await this.processInputs(r.inputs)),r.outputs&&(r.outputs=await this.processOutputs(r.outputs));let i={...r,id:t};if(!this._filterForSampling([i],!0).length)return;if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){let l=this._cloneCurrentOTELContext();if(r.end_time!==void 0&&i.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:i,otelContext:l,apiKey:n?.apiKey,apiUrl:n?.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:i,otelContext:l,apiKey:n?.apiKey,apiUrl:n?.apiUrl}).catch(console.error);return}let s={...this.headers,"Content-Type":"application/json"};n?.apiKey!==void 0&&(s["x-api-key"]=n.apiKey),n?.workspaceId!==void 0&&(s["x-tenant-id"]=n.workspaceId);let o=Ni(r,`Serializing payload to update run with id: ${t}`);await this.caller.call(async()=>{let l=await this._fetch(`${n?.apiUrl??this.apiUrl}/runs/${t}`,{method:"PATCH",headers:s,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,"update run",!0),l})}async readRun(t,{loadChildRuns:r}={loadChildRuns:!1}){er(t);let n=await this._get(`/runs/${t}`);return r&&(n=await this._loadChildRuns(n)),n}async getRunUrl({runId:t,run:r,projectOpts:n}){if(r!==void 0){let i;r.session_id?i=r.session_id:n?.projectName?i=(await this.readProject({projectName:n?.projectName})).id:n?.projectId?i=n?.projectId:i=(await this.readProject({projectName:gi("PROJECT")||"default"})).id;let s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/projects/p/${i}/r/${r.id}?poll=true`}else if(t!==void 0){let i=await this.readRun(t);if(!i.app_path)throw Error(`Run ${t} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw Error("Must provide either runId or run")}async _loadChildRuns(t){let r=await vJ(this.listRuns({isRoot:!1,projectId:t.session_id,traceId:t.trace_id})),n={},i={};r.sort((s,o)=>(s?.dotted_order??"").localeCompare(o?.dotted_order??""));for(let s of r){if(s.parent_run_id===null||s.parent_run_id===void 0)throw Error(`Child run ${s.id} has no parent`);s.dotted_order?.startsWith(t.dotted_order??"")&&s.id!==t.id&&(s.parent_run_id in n||(n[s.parent_run_id]=[]),n[s.parent_run_id].push(s),i[s.id]=s)}t.child_runs=n[t.id]||[];for(let s in n)s!==t.id&&(i[s].child_runs=n[s]);return t}async*listRuns(t){let{projectId:r,projectName:n,parentRunId:i,traceId:s,referenceExampleId:o,startTime:l,executionOrder:u,isRoot:c,runType:h,error:d,id:g,query:m,filter:y,traceFilter:x,treeFilter:A,limit:C,select:M,order:R}=t,P=[];if(r&&(P=Array.isArray(r)?r:[r]),n){let Y=Array.isArray(n)?n:[n],ae=await Promise.all(Y.map(F=>this.readProject({projectName:F}).then(W=>W.id)));P.push(...ae)}let L=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],z={session:P.length?P:null,run_type:h,reference_example:o,query:m,filter:y,trace_filter:x,tree_filter:A,execution_order:u,parent_run:i,start_time:l?l.toISOString():null,error:d,id:g,limit:C,trace:s,select:M||L,is_root:c,order:R};z.select.includes("child_run_ids")&&U0("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let Z=0;for await(let Y of this._getCursorPaginatedList("/runs/query",z))if(C){if(Z>=C)break;if(Y.length+Z>C){yield*Y.slice(0,C-Z);break}Z+=Y.length,yield*Y}else yield*Y}async*listGroupRuns(t){let{projectId:r,projectName:n,groupBy:i,filter:s,startTime:o,endTime:l,limit:u,offset:c}=t,h={session_id:r||(await this.readProject({projectName:n})).id,group_by:i,filter:s,start_time:o?o.toISOString():null,end_time:l?l.toISOString():null,limit:Number(u)||100},d=Number(c)||0,g="/runs/group",m=`${this.apiUrl}${g}`;for(;;){let y={...h,offset:d},x=Object.fromEntries(Object.entries(y).filter(([P,L])=>L!==void 0)),A=JSON.stringify(x),C=await(await this.caller.call(async()=>{let P=await this._fetch(m,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:A});return await Vt(P,`Failed to fetch ${g}`),P})).json(),{groups:M,total:R}=C;if(M.length===0)break;for(let P of M)yield P;if(d+=M.length,d>=R)break}}async getRunStats({id:t,trace:r,parentRun:n,runType:i,projectNames:s,projectIds:o,referenceExampleIds:l,startTime:u,endTime:c,error:h,query:d,filter:g,traceFilter:m,treeFilter:y,isRoot:x,dataSourceType:A}){let C=o||[];s&&(C=[...o||[],...await Promise.all(s.map(P=>this.readProject({projectName:P}).then(L=>L.id)))]);let M=Object.fromEntries(Object.entries({id:t,trace:r,parent_run:n,run_type:i,session:C,reference_example:l,start_time:u,end_time:c,error:h,query:d,filter:g,trace_filter:m,tree_filter:y,is_root:x,data_source_type:A}).filter(([P,L])=>L!==void 0)),R=JSON.stringify(M);return await(await this.caller.call(async()=>{let P=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:R});return await Vt(P,"get run stats"),P})).json()}async shareRun(t,{shareId:r}={}){let n={run_id:t,share_token:r||Sc()};er(t);let i=JSON.stringify(n),s=await(await this.caller.call(async()=>{let o=await this._fetch(`${this.apiUrl}/runs/${t}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Vt(o,"share run"),o})).json();if(s===null||!("share_token"in s))throw Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(t){er(t),await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/runs/${t}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"unshare run",!0),r})}async readRunSharedLink(t){er(t);let r=await(await this.caller.call(async()=>{let n=await this._fetch(`${this.apiUrl}/runs/${t}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(n,"read run shared link"),n})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(t,{runIds:r}={}){let n=new URLSearchParams({share_token:t});if(r!==void 0)for(let i of r)n.append("id",i);return er(t),await(await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}/public/${t}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(i,"list shared runs"),i})).json()}async readDatasetSharedSchema(t,r){if(!t&&!r)throw Error("Either datasetId or datasetName must be given");t||(t=(await this.readDataset({datasetName:r})).id),er(t);let n=await(await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}/datasets/${t}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(i,"read dataset shared schema"),i})).json();return n.url=`${this.getHostUrl()}/public/${n.share_token}/d`,n}async shareDataset(t,r){if(!t&&!r)throw Error("Either datasetId or datasetName must be given");t||(t=(await this.readDataset({datasetName:r})).id);let n={dataset_id:t};er(t);let i=JSON.stringify(n),s=await(await this.caller.call(async()=>{let o=await this._fetch(`${this.apiUrl}/datasets/${t}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Vt(o,"share dataset"),o})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(t){er(t),await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/datasets/${t}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"unshare dataset",!0),r})}async readSharedDataset(t){return er(t),await(await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/public/${t}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"read shared dataset"),r})).json()}async listSharedExamples(t,r){let n={};r?.exampleIds&&(n.id=r.exampleIds);let i=new URLSearchParams;Object.entries(n).forEach(([l,u])=>{Array.isArray(u)?u.forEach(c=>i.append(l,c)):i.append(l,u)});let s=await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/public/${t}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(l,"list shared examples"),l}),o=await s.json();if(!s.ok)throw"detail"in o?Error(`Failed to list shared examples.
Status: ${s.status}
Message: ${Array.isArray(o.detail)?o.detail.join(`
`):"Unspecified error"}`):Error(`Failed to list shared examples: ${s.status} ${s.statusText}`);return o.map(l=>({...l,_hostUrl:this.getHostUrl()}))}async createProject({projectName:t,description:r=null,metadata:n=null,upsert:i=!1,projectExtra:s=null,referenceDatasetId:o=null}){let l=i?"?upsert=true":"",u=`${this.apiUrl}/sessions${l}`,c=s||{};n&&(c.metadata=n);let h={name:t,extra:c,description:r};o!==null&&(h.reference_dataset_id=o);let d=JSON.stringify(h);return await(await this.caller.call(async()=>{let g=await this._fetch(u,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:d});return await Vt(g,"create project"),g})).json()}async updateProject(t,{name:r=null,description:n=null,metadata:i=null,projectExtra:s=null,endTime:o=null}){let l=`${this.apiUrl}/sessions/${t}`,u=s;i&&(u={...u||{},metadata:i});let c=JSON.stringify({name:r,extra:u,description:n,end_time:o?new Date(o).toISOString():null});return await(await this.caller.call(async()=>{let h=await this._fetch(l,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Vt(h,"update project"),h})).json()}async hasProject({projectId:t,projectName:r}){let n="/sessions",i=new URLSearchParams;if(t!==void 0&&r!==void 0)throw Error("Must provide either projectName or projectId, not both");if(t!==void 0)er(t),n+=`/${t}`;else if(r!==void 0)i.append("name",r);else throw Error("Must provide projectName or projectId");let s=await this.caller.call(async()=>{let o=await this._fetch(`${this.apiUrl}${n}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(o,"has project"),o});try{let o=await s.json();return s.ok?Array.isArray(o)?o.length>0:!0:!1}catch{return!1}}async readProject({projectId:t,projectName:r,includeStats:n}){let i="/sessions",s=new URLSearchParams;if(t!==void 0&&r!==void 0)throw Error("Must provide either projectName or projectId, not both");if(t!==void 0)er(t),i+=`/${t}`;else if(r!==void 0)s.append("name",r);else throw Error("Must provide projectName or projectId");n!==void 0&&s.append("include_stats",n.toString());let o=await this._get(i,s),l;if(Array.isArray(o)){if(o.length===0)throw Error(`Project[id=${t}, name=${r}] not found`);l=o[0]}else l=o;return l}async getProjectUrl({projectId:t,projectName:r}){if(t===void 0&&r===void 0)throw Error("Must provide either projectName or projectId");let n=await this.readProject({projectId:t,projectName:r}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${n.id}`}async getDatasetUrl({datasetId:t,datasetName:r}){if(t===void 0&&r===void 0)throw Error("Must provide either datasetName or datasetId");let n=await this.readDataset({datasetId:t,datasetName:r}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${n.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;let t=new URLSearchParams({limit:"1"});for await(let r of this._getPaginated("/sessions",t))return this._tenantId=r[0].tenant_id,r[0].tenant_id;throw Error("No projects found to resolve tenant.")}async*listProjects({projectIds:t,name:r,nameContains:n,referenceDatasetId:i,referenceDatasetName:s,includeStats:o,datasetVersion:l,referenceFree:u,metadata:c}={}){let h=new URLSearchParams;if(t!==void 0)for(let d of t)h.append("id",d);if(r!==void 0&&h.append("name",r),n!==void 0&&h.append("name_contains",n),i!==void 0)h.append("reference_dataset",i);else if(s!==void 0){let d=await this.readDataset({datasetName:s});h.append("reference_dataset",d.id)}o!==void 0&&h.append("include_stats",o.toString()),l!==void 0&&h.append("dataset_version",l),u!==void 0&&h.append("reference_free",u.toString()),c!==void 0&&h.append("metadata",JSON.stringify(c));for await(let d of this._getPaginated("/sessions",h))yield*d}async deleteProject({projectId:t,projectName:r}){let n;if(t===void 0&&r===void 0)throw Error("Must provide projectName or projectId");if(t!==void 0&&r!==void 0)throw Error("Must provide either projectName or projectId, not both");t===void 0?n=(await this.readProject({projectName:r})).id:n=t,er(n),await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(i,`delete session ${n} (${r})`,!0),i})}async uploadCsv({csvFile:t,fileName:r,inputKeys:n,outputKeys:i,description:s,dataType:o,name:l}){let u=`${this.apiUrl}/datasets/upload`,c=new FormData;return c.append("file",t,r),n.forEach(h=>{c.append("input_keys",h)}),i.forEach(h=>{c.append("output_keys",h)}),s&&c.append("description",s),o&&c.append("data_type",o),l&&c.append("name",l),await(await this.caller.call(async()=>{let h=await this._fetch(u,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Vt(h,"upload CSV"),h})).json()}async createDataset(t,{description:r,dataType:n,inputsSchema:i,outputsSchema:s,metadata:o}={}){let l={name:t,description:r,extra:o?{metadata:o}:void 0};n&&(l.data_type=n),i&&(l.inputs_schema_definition=i),s&&(l.outputs_schema_definition=s);let u=JSON.stringify(l);return await(await this.caller.call(async()=>{let c=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Vt(c,"create dataset"),c})).json()}async readDataset({datasetId:t,datasetName:r}){let n="/datasets",i=new URLSearchParams({limit:"1"});if(t&&r)throw Error("Must provide either datasetName or datasetId, not both");if(t)er(t),n+=`/${t}`;else if(r)i.append("name",r);else throw Error("Must provide datasetName or datasetId");let s=await this._get(n,i),o;if(Array.isArray(s)){if(s.length===0)throw Error(`Dataset[id=${t}, name=${r}] not found`);o=s[0]}else o=s;return o}async hasDataset({datasetId:t,datasetName:r}){try{return await this.readDataset({datasetId:t,datasetName:r}),!0}catch(n){if(n instanceof Error&&n.message.toLocaleLowerCase().includes("not found"))return!1;throw n}}async diffDatasetVersions({datasetId:t,datasetName:r,fromVersion:n,toVersion:i}){let s=t;if(s===void 0&&r===void 0)throw Error("Must provide either datasetName or datasetId");if(s!==void 0&&r!==void 0)throw Error("Must provide either datasetName or datasetId, not both");s===void 0&&(s=(await this.readDataset({datasetName:r})).id);let o=new URLSearchParams({from_version:typeof n=="string"?n:n.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${s}/versions/diff`,o)}async readDatasetOpenaiFinetuning({datasetId:t,datasetName:r}){if(t===void 0)if(r!==void 0)t=(await this.readDataset({datasetName:r})).id;else throw Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`/datasets/${t}/openai_ft`)).text()).trim().split(`
`).map(n=>JSON.parse(n))}async*listDatasets({limit:t=100,offset:r=0,datasetIds:n,datasetName:i,datasetNameContains:s,metadata:o}={}){let l=new URLSearchParams({limit:t.toString(),offset:r.toString()});if(n!==void 0)for(let u of n)l.append("id",u);i!==void 0&&l.append("name",i),s!==void 0&&l.append("name_contains",s),o!==void 0&&l.append("metadata",JSON.stringify(o));for await(let u of this._getPaginated("/datasets",l))yield*u}async updateDataset(t){let{datasetId:r,datasetName:n,...i}=t;if(!r&&!n)throw Error("Must provide either datasetName or datasetId");let s=r??(await this.readDataset({datasetName:n})).id;er(s);let o=JSON.stringify(i);return await(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/datasets/${s}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,"update dataset"),l})).json()}async updateDatasetTag(t){let{datasetId:r,datasetName:n,asOf:i,tag:s}=t;if(!r&&!n)throw Error("Must provide either datasetName or datasetId");let o=r??(await this.readDataset({datasetName:n})).id;er(o);let l=JSON.stringify({as_of:typeof i=="string"?i:i.toISOString(),tag:s});await this.caller.call(async()=>{let u=await this._fetch(`${this.apiUrl}/datasets/${o}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Vt(u,"update dataset tags",!0),u})}async deleteDataset({datasetId:t,datasetName:r}){let n="/datasets",i=t;if(t!==void 0&&r!==void 0)throw Error("Must provide either datasetName or datasetId, not both");if(r!==void 0&&(i=(await this.readDataset({datasetName:r})).id),i!==void 0)er(i),n+=`/${i}`;else throw Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{let s=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(s,`delete ${n}`,!0),s})}async indexDataset({datasetId:t,datasetName:r,tag:n}){let i=t;if(!i&&!r)throw Error("Must provide either datasetName or datasetId");if(i&&r)throw Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:r})).id),er(i);let s=JSON.stringify({tag:n});await(await this.caller.call(async()=>{let o=await this._fetch(`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Vt(o,"index dataset"),o})).json()}async similarExamples(t,r,n,{filter:i}={}){let s={limit:n,inputs:t};i!==void 0&&(s.filter=i),er(r);let o=JSON.stringify(s);return(await(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/datasets/${r}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:o});return await Vt(l,"fetch similar examples"),l})).json()).examples}async createExample(t,r,n){if(b5(t)&&(r!==void 0||n!==void 0))throw Error("Cannot provide outputs or options when using ExampleCreate object");let i=r?n?.datasetId:t.dataset_id,s=r?n?.datasetName:t.dataset_name;if(i===void 0&&s===void 0)throw Error("Must provide either datasetName or datasetId");if(i!==void 0&&s!==void 0)throw Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:s})).id);let o=(r?n?.createdAt:t.created_at)||new Date,l;b5(t)?l=t:l={inputs:t,outputs:r,created_at:o?.toISOString(),id:n?.exampleId,metadata:n?.metadata,split:n?.split,source_run_id:n?.sourceRunId,use_source_run_io:n?.useSourceRunIO,use_source_run_attachments:n?.useSourceRunAttachments,attachments:n?.attachments};let u=await this._uploadExamplesMultipart(i,[l]);return await this.readExample(u.example_ids?.[0]??Sc())}async createExamples(t){if(Array.isArray(t)){if(t.length===0)return[];let C=t,M=C[0].dataset_id,R=C[0].dataset_name;if(M===void 0&&R===void 0)throw Error("Must provide either datasetName or datasetId");if(M!==void 0&&R!==void 0)throw Error("Must provide either datasetName or datasetId, not both");M===void 0&&(M=(await this.readDataset({datasetName:R})).id);let P=await this._uploadExamplesMultipart(M,C);return await Promise.all(P.example_ids.map(L=>this.readExample(L)))}let{inputs:r,outputs:n,metadata:i,splits:s,sourceRunIds:o,useSourceRunIOs:l,useSourceRunAttachments:u,attachments:c,exampleIds:h,datasetId:d,datasetName:g}=t;if(r===void 0)throw Error("Must provide inputs when using legacy parameters");let m=d,y=g;if(m===void 0&&y===void 0)throw Error("Must provide either datasetName or datasetId");if(m!==void 0&&y!==void 0)throw Error("Must provide either datasetName or datasetId, not both");m===void 0&&(m=(await this.readDataset({datasetName:y})).id);let x=r.map((C,M)=>({dataset_id:m,inputs:C,outputs:n?.[M],metadata:i?.[M],split:s?.[M],id:h?.[M],attachments:c?.[M],source_run_id:o?.[M],use_source_run_io:l?.[M],use_source_run_attachments:u?.[M]})),A=await this._uploadExamplesMultipart(m,x);return await Promise.all(A.example_ids.map(C=>this.readExample(C)))}async createLLMExample(t,r,n){return this.createExample({input:t},{output:r},n)}async createChatExample(t,r,n){let i=t.map(o=>h5(o)?f5(o):o),s=h5(r)?f5(r):r;return this.createExample({input:i},{output:s},n)}async readExample(t){er(t);let r=`/examples/${t}`,n=await this._get(r),{attachment_urls:i,...s}=n,o=s;return i&&(o.attachments=Object.entries(i).reduce((l,[u,c])=>(l[u.slice(11)]={presigned_url:c.presigned_url,mime_type:c.mime_type},l),{})),o}async*listExamples({datasetId:t,datasetName:r,exampleIds:n,asOf:i,splits:s,inlineS3Urls:o,metadata:l,limit:u,offset:c,filter:h,includeAttachments:d}={}){let g;if(t!==void 0&&r!==void 0)throw Error("Must provide either datasetName or datasetId, not both");if(t!==void 0)g=t;else if(r!==void 0)g=(await this.readDataset({datasetName:r})).id;else throw Error("Must provide a datasetName or datasetId");let m=new URLSearchParams({dataset:g}),y=i?typeof i=="string"?i:i?.toISOString():void 0;y&&m.append("as_of",y);let x=o??!0;if(m.append("inline_s3_urls",x.toString()),n!==void 0)for(let C of n)m.append("id",C);if(s!==void 0)for(let C of s)m.append("splits",C);if(l!==void 0){let C=JSON.stringify(l);m.append("metadata",C)}u!==void 0&&m.append("limit",u.toString()),c!==void 0&&m.append("offset",c.toString()),h!==void 0&&m.append("filter",h),d===!0&&["attachment_urls","outputs","metadata"].forEach(C=>m.append("select",C));let A=0;for await(let C of this._getPaginated("/examples",m)){for(let M of C){let{attachment_urls:R,...P}=M,L=P;R&&(L.attachments=Object.entries(R).reduce((z,[Z,Y])=>(z[Z.slice(11)]={presigned_url:Y.presigned_url,mime_type:Y.mime_type||void 0},z),{})),yield L,A++}if(u!==void 0&&A>=u)break}}async deleteExample(t){er(t);let r=`/examples/${t}`;await this.caller.call(async()=>{let n=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(n,`delete ${r}`,!0),n})}async updateExample(t,r){let n;r?n=t:n=t.id,er(n);let i;r?i={id:n,...r}:i=t;let s;return i.dataset_id!==void 0?s=i.dataset_id:s=(await this.readExample(n)).dataset_id,this._updateExamplesMultipart(s,[i])}async updateExamples(t){let r;return t[0].dataset_id===void 0?r=(await this.readExample(t[0].id)).dataset_id:r=t[0].dataset_id,this._updateExamplesMultipart(r,t)}async readDatasetVersion({datasetId:t,datasetName:r,asOf:n,tag:i}){let s;if(t?s=t:s=(await this.readDataset({datasetName:r})).id,er(s),n&&i||!n&&!i)throw Error("Exactly one of asOf and tag must be specified.");let o=new URLSearchParams;return n!==void 0&&o.append("as_of",typeof n=="string"?n:n.toISOString()),i!==void 0&&o.append("tag",i),await(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/datasets/${s}/version?${o.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(l,"read dataset version"),l})).json()}async listDatasetSplits({datasetId:t,datasetName:r,asOf:n}){let i;if(t===void 0&&r===void 0)throw Error("Must provide dataset name or ID");if(t!==void 0&&r!==void 0)throw Error("Must provide either datasetName or datasetId, not both");t===void 0?i=(await this.readDataset({datasetName:r})).id:i=t,er(i);let s=new URLSearchParams,o=n?typeof n=="string"?n:n?.toISOString():void 0;return o&&s.append("as_of",o),await this._get(`/datasets/${i}/splits`,s)}async updateDatasetSplits({datasetId:t,datasetName:r,splitName:n,exampleIds:i,remove:s=!1}){let o;if(t===void 0&&r===void 0)throw Error("Must provide dataset name or ID");if(t!==void 0&&r!==void 0)throw Error("Must provide either datasetName or datasetId, not both");t===void 0?o=(await this.readDataset({datasetName:r})).id:o=t,er(o);let l={split_name:n,examples:i.map(c=>(er(c),c)),remove:s},u=JSON.stringify(l);await this.caller.call(async()=>{let c=await this._fetch(`${this.apiUrl}/datasets/${o}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Vt(c,"update dataset splits",!0),c})}async evaluateRun(t,r,{sourceInfo:n,loadChildRuns:i,referenceExample:s}={loadChildRuns:!1}){U0("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let o;if(typeof t=="string")o=await this.readRun(t,{loadChildRuns:i});else if(typeof t=="object"&&"id"in t)o=t;else throw Error(`Invalid run type: ${typeof t}`);o.reference_example_id!==null&&o.reference_example_id!==void 0&&(s=await this.readExample(o.reference_example_id));let l=await r.evaluateRun(o,s),[u,c]=await this._logEvaluationFeedback(l,o,n);return c[0]}async createFeedback(t,r,{score:n,value:i,correction:s,comment:o,sourceInfo:l,feedbackSourceType:u="api",sourceRunId:c,feedbackId:h,feedbackConfig:d,projectId:g,comparativeExperimentId:m}){if(!t&&!g)throw Error("One of runId or projectId must be provided");if(t&&g)throw Error("Only one of runId or projectId can be provided");let y={type:u??"api",metadata:l??{}};c!==void 0&&y?.metadata!==void 0&&!y.metadata.__run&&(y.metadata.__run={run_id:c}),y?.metadata!==void 0&&y.metadata.__run?.run_id!==void 0&&er(y.metadata.__run.run_id);let x={id:h??Sc(),run_id:t,key:r,score:g5(n),value:i,correction:s,comment:o,feedback_source:y,comparative_experiment_id:m,feedbackConfig:d,session_id:g},A=JSON.stringify(x),C=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{let M=await this._fetch(C,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:A});return await Vt(M,"create feedback",!0),M}),x}async updateFeedback(t,{score:r,value:n,correction:i,comment:s}){let o={};r!=null&&(o.score=g5(r)),n!=null&&(o.value=n),i!=null&&(o.correction=i),s!=null&&(o.comment=s),er(t);let l=JSON.stringify(o);await this.caller.call(async()=>{let u=await this._fetch(`${this.apiUrl}/feedback/${t}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Vt(u,"update feedback",!0),u})}async readFeedback(t){er(t);let r=`/feedback/${t}`;return await this._get(r)}async deleteFeedback(t){er(t);let r=`/feedback/${t}`;await this.caller.call(async()=>{let n=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(n,`delete ${r}`,!0),n})}async*listFeedback({runIds:t,feedbackKeys:r,feedbackSourceTypes:n}={}){let i=new URLSearchParams;if(t)for(let s of t)er(s),i.append("run",s);if(r)for(let s of r)i.append("key",s);if(n)for(let s of n)i.append("source",s);for await(let s of this._getPaginated("/feedback",i))yield*s}async createPresignedFeedbackToken(t,r,{expiration:n,feedbackConfig:i}={}){let s={run_id:t,feedback_key:r,feedback_config:i};n?typeof n=="string"?s.expires_at=n:(n?.hours||n?.minutes||n?.days)&&(s.expires_in=n):s.expires_in={hours:3};let o=JSON.stringify(s);return await(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,"create presigned feedback token"),l})).json()}async createComparativeExperiment({name:t,experimentIds:r,referenceDatasetId:n,createdAt:i,description:s,metadata:o,id:l}){if(r.length===0)throw Error("At least one experiment is required");if(n||(n=(await this.readProject({projectId:r[0]})).reference_dataset_id),!n==null)throw Error("A reference dataset is required");let u={id:l,name:t,experiment_ids:r,reference_dataset_id:n,description:s,created_at:(i??new Date)?.toISOString(),extra:{}};o&&(u.extra.metadata=o);let c=JSON.stringify(u);return(await this.caller.call(async()=>{let h=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Vt(h,"create comparative experiment"),h})).json()}async*listPresignedFeedbackTokens(t){er(t);let r=new URLSearchParams({run_id:t});for await(let n of this._getPaginated("/feedback/tokens",r))yield*n}_selectEvalResults(t){let r;return"results"in t?r=t.results:Array.isArray(t)?r=t:r=[t],r}async _logEvaluationFeedback(t,r,n){let i=this._selectEvalResults(t),s=[];for(let o of i){let l=n||{};o.evaluatorInfo&&(l={...o.evaluatorInfo,...l});let u=null;o.targetRunId?u=o.targetRunId:r&&(u=r.id),s.push(await this.createFeedback(u,o.key,{score:o.score,value:o.value,comment:o.comment,correction:o.correction,sourceInfo:l,sourceRunId:o.sourceRunId,feedbackConfig:o.feedbackConfig,feedbackSourceType:"model"}))}return[i,s]}async logEvaluationFeedback(t,r,n){let[i]=await this._logEvaluationFeedback(t,r,n);return i}async*listAnnotationQueues(t={}){let{queueIds:r,name:n,nameContains:i,limit:s}=t,o=new URLSearchParams;r&&r.forEach((u,c)=>{er(u,`queueIds[${c}]`),o.append("ids",u)}),n&&o.append("name",n),i&&o.append("name_contains",i),o.append("limit",(s!==void 0?Math.min(s,100):100).toString());let l=0;for await(let u of this._getPaginated("/annotation-queues",o))if(yield*u,l++,s!==void 0&&l>=s)break}async createAnnotationQueue(t){let{name:r,description:n,queueId:i,rubricInstructions:s}=t,o={name:r,description:n,id:i||Sc(),rubric_instructions:s},l=JSON.stringify(Object.fromEntries(Object.entries(o).filter(([u,c])=>c!==void 0)));return(await this.caller.call(async()=>{let u=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Vt(u,"create annotation queue"),u})).json()}async readAnnotationQueue(t){return(await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/annotation-queues/${er(t,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"read annotation queue"),r})).json()}async updateAnnotationQueue(t,r){let{name:n,description:i,rubricInstructions:s}=r,o=JSON.stringify({name:n,description:i,rubric_instructions:s});await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/annotation-queues/${er(t,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,"update annotation queue",!0),l})}async deleteAnnotationQueue(t){await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/annotation-queues/${er(t,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"delete annotation queue",!0),r})}async addRunsToAnnotationQueue(t,r){let n=JSON.stringify(r.map((i,s)=>er(i,`runIds[${s}]`).toString()));await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}/annotation-queues/${er(t,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:n});return await Vt(i,"add runs to annotation queue",!0),i})}async getRunFromAnnotationQueue(t,r){let n=`/annotation-queues/${er(t,"queueId")}/run`;return(await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(i,"get run from annotation queue"),i})).json()}async deleteRunFromAnnotationQueue(t,r){await this.caller.call(async()=>{let n=await this._fetch(`${this.apiUrl}/annotation-queues/${er(t,"queueId")}/runs/${er(r,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(n,"delete run from annotation queue",!0),n})}async getSizeFromAnnotationQueue(t){return(await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/annotation-queues/${er(t,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"get size from annotation queue"),r})).json()}async _currentTenantIsOwner(t){let r=await this._getSettings();return t=="-"||r.tenant_handle===t}async _ownerConflictError(t,r){let n=await this._getSettings();return Error(`Cannot ${t} for another tenant.

      Current tenant: ${n.tenant_handle}

      Requested tenant: ${r}`)}async _getLatestCommitHash(t){let r=await(await this.caller.call(async()=>{let n=await this._fetch(`${this.apiUrl}/commits/${t}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(n,"get latest commit hash"),n})).json();if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(t,r){let[n,i,s]=co(t),o=JSON.stringify({like:r});return(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/likes/${n}/${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,`${r?"like":"unlike"} prompt`),l})).json()}async _getPromptUrl(t){let[r,n,i]=co(t);if(await this._currentTenantIsOwner(r)){let s=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${n}/${i.substring(0,8)}?organizationId=${s.id}`:`${this.getHostUrl()}/prompts/${n}?organizationId=${s.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${r}/${n}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${r}/${n}`}async promptExists(t){return!!await this.getPrompt(t)}async likePrompt(t){return this._likeOrUnlikePrompt(t,!0)}async unlikePrompt(t){return this._likeOrUnlikePrompt(t,!1)}async*listCommits(t){for await(let r of this._getPaginated(`/commits/${t}/`,new URLSearchParams,n=>n.commits))yield*r}async*listPrompts(t){let r=new URLSearchParams;r.append("sort_field",t?.sortField??"updated_at"),r.append("sort_direction","desc"),r.append("is_archived",(!!t?.isArchived).toString()),t?.isPublic!==void 0&&r.append("is_public",t.isPublic.toString()),t?.query&&r.append("query",t.query);for await(let n of this._getPaginated("/repos",r,i=>i.repos))yield*n}async getPrompt(t){let[r,n,i]=co(t),s=await(await this.caller.call(async()=>{let o=await this._fetch(`${this.apiUrl}/repos/${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return o?.status===404?null:(await Vt(o,"get prompt"),o)}))?.json();return s?.repo?s.repo:null}async createPrompt(t,r){let n=await this._getSettings();if(r?.isPublic&&!n.tenant_handle)throw Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);let[i,s,o]=co(t);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);let l={repo_handle:s,...r?.description&&{description:r.description},...r?.readme&&{readme:r.readme},...r?.tags&&{tags:r.tags},is_public:!!r?.isPublic},u=JSON.stringify(l),c=await this.caller.call(async()=>{let d=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Vt(d,"create prompt"),d}),{repo:h}=await c.json();return h}async createCommit(t,r,n){if(!await this.promptExists(t))throw Error("Prompt does not exist, you must create it first.");let[i,s,o]=co(t),l=n?.parentCommitHash==="latest"||!n?.parentCommitHash?await this._getLatestCommitHash(`${i}/${s}`):n?.parentCommitHash,u={manifest:JSON.parse(JSON.stringify(r)),parent_commit:l},c=JSON.stringify(u),h=await(await this.caller.call(async()=>{let d=await this._fetch(`${this.apiUrl}/commits/${i}/${s}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Vt(d,"create commit"),d})).json();return this._getPromptUrl(`${i}/${s}${h.commit_hash?`:${h.commit_hash}`:""}`)}async updateExamplesMultipart(t,r=[]){return this._updateExamplesMultipart(t,r)}async _updateExamplesMultipart(t,r=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");let n=new FormData;for(let s of r){let o=s.id,l={...s.metadata&&{metadata:s.metadata},...s.split&&{split:s.split}},u=Ni(l,`Serializing body for example with id: ${o}`),c=new Blob([u],{type:"application/json"});if(n.append(o,c),s.inputs){let h=Ni(s.inputs,`Serializing inputs for example with id: ${o}`),d=new Blob([h],{type:"application/json"});n.append(`${o}.inputs`,d)}if(s.outputs){let h=Ni(s.outputs,`Serializing outputs whle updating example with id: ${o}`),d=new Blob([h],{type:"application/json"});n.append(`${o}.outputs`,d)}if(s.attachments)for(let[h,d]of Object.entries(s.attachments)){let g,m;Array.isArray(d)?[g,m]=d:(g=d.mimeType,m=d.data);let y=new Blob([m],{type:`${g}; length=${m.byteLength}`});n.append(`${o}.attachment.${h}`,y)}if(s.attachments_operations){let h=Ni(s.attachments_operations,`Serializing attachments while updating example with id: ${o}`),d=new Blob([h],{type:"application/json"});n.append(`${o}.attachments_operations`,d)}}let i=t??r[0]?.dataset_id;return(await this.caller.call(async()=>{let s=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${i}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:n});return await Vt(s,"update examples"),s})).json()}async uploadExamplesMultipart(t,r=[]){return this._uploadExamplesMultipart(t,r)}async _uploadExamplesMultipart(t,r=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");let n=new FormData;for(let i of r){let s=(i.id??Sc()).toString(),o={created_at:i.created_at,...i.metadata&&{metadata:i.metadata},...i.split&&{split:i.split},...i.source_run_id&&{source_run_id:i.source_run_id},...i.use_source_run_io&&{use_source_run_io:i.use_source_run_io},...i.use_source_run_attachments&&{use_source_run_attachments:i.use_source_run_attachments}},l=Ni(o,`Serializing body for uploaded example with id: ${s}`),u=new Blob([l],{type:"application/json"});if(n.append(s,u),i.inputs){let c=Ni(i.inputs,`Serializing inputs for uploaded example with id: ${s}`),h=new Blob([c],{type:"application/json"});n.append(`${s}.inputs`,h)}if(i.outputs){let c=Ni(i.outputs,`Serializing outputs for uploaded example with id: ${s}`),h=new Blob([c],{type:"application/json"});n.append(`${s}.outputs`,h)}if(i.attachments)for(let[c,h]of Object.entries(i.attachments)){let d,g;Array.isArray(h)?[d,g]=h:(d=h.mimeType,g=h.data);let m=new Blob([g],{type:`${d}; length=${g.byteLength}`});n.append(`${s}.attachment.${c}`,m)}}return(await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${t}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:n});return await Vt(i,"upload examples"),i})).json()}async updatePrompt(t,r){if(!await this.promptExists(t))throw Error("Prompt does not exist, you must create it first.");let[n,i]=co(t);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("update a prompt",n);let s={};if(r?.description!==void 0&&(s.description=r.description),r?.readme!==void 0&&(s.readme=r.readme),r?.tags!==void 0&&(s.tags=r.tags),r?.isPublic!==void 0&&(s.is_public=r.isPublic),r?.isArchived!==void 0&&(s.is_archived=r.isArchived),Object.keys(s).length===0)throw Error("No valid update options provided");let o=JSON.stringify(s);return(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/repos/${n}/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,"update prompt"),l})).json()}async deletePrompt(t){if(!await this.promptExists(t))throw Error("Prompt does not exist, you must create it first.");let[r,n,i]=co(t);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("delete a prompt",r);return(await this.caller.call(async()=>{let s=await this._fetch(`${this.apiUrl}/repos/${r}/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(s,"delete prompt"),s})).json()}async pullPromptCommit(t,r){let[n,i,s]=co(t),o=await(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/commits/${n}/${i}/${s}${r?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(l,"pull prompt commit"),l})).json();return{owner:n,repo:i,commit_hash:o.commit_hash,manifest:o.manifest,examples:o.examples}}async _pullPrompt(t,r){let n=await this.pullPromptCommit(t,{includeModel:r?.includeModel});return JSON.stringify(n.manifest)}async pushPrompt(t,r){return await this.promptExists(t)?r&&Object.keys(r).some(n=>n!=="object")&&await this.updatePrompt(t,{description:r?.description,readme:r?.readme,tags:r?.tags,isPublic:r?.isPublic}):await this.createPrompt(t,{description:r?.description,readme:r?.readme,tags:r?.tags,isPublic:r?.isPublic}),r?.object?await this.createCommit(t,r?.object,{parentCommitHash:r?.parentCommitHash}):await this._getPromptUrl(t)}async clonePublicDataset(t,r={}){let{sourceApiUrl:n=this.apiUrl,datasetName:i}=r,[s,o]=this.parseTokenOrUrl(t,n),l=new Gd({apiUrl:s,apiKey:"placeholder"}),u=await l.readSharedDataset(o),c=i||u.name;try{if(await this.hasDataset({datasetId:c})){console.log(`Dataset ${c} already exists in your tenant. Skipping.`);return}}catch{}let h=await l.listSharedExamples(o),d=await this.createDataset(c,{description:u.description,dataType:u.data_type||"kv",inputsSchema:u.inputs_schema_definition??void 0,outputsSchema:u.outputs_schema_definition??void 0});try{await this.createExamples({inputs:h.map(g=>g.inputs),outputs:h.flatMap(g=>g.outputs?[g.outputs]:[]),datasetId:d.id})}catch(g){throw console.error(`An error occurred while creating dataset ${c}. You should delete it manually.`),g}}parseTokenOrUrl(t,r,n=2,i="dataset"){try{return er(t),[r,t]}catch{}try{let s=new URL(t).pathname.split("/").filter(o=>o!=="");if(s.length>=n){let o=s[s.length-n];return[r,o]}else throw Error(`Invalid public ${i} URL: ${t}`)}catch{throw Error(`Invalid public ${i} URL or token: ${t}`)}}async awaitPendingTraceBatches(){if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:t})=>t),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await tJ()?.DEFAULT_LANGSMITH_SPAN_PROCESSOR?.forceFlush()}}function b5(e){return"dataset_id"in e||"dataset_name"in e}a(b5,"aZ");var EJ=a(e=>!!["TRACING_V2","TRACING"].find(t=>gi(t)==="true"),"sZ"),Av=Symbol.for("lc:context_variables");function SJ(e){return e.replace(/[-:.]/g,"")}a(SJ,"hR");function tI(e,t=1){let r=t.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${r}Z`}a(tI,"qX");function rI(e,t,r=1){let n=tI(e,r);return{dottedOrder:SJ(n)+t,microsecondPrecisionDatestring:n}}a(rI,"R2");class G0{static{a(this,"a1")}constructor(t,r,n,i){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=t,this.tags=r,this.project_name=n,this.replicas=i}static fromHeader(t){let r=t.split(","),n={},i=[],s,o;for(let l of r){let[u,c]=l.split("="),h=decodeURIComponent(c);u==="langsmith-metadata"?n=JSON.parse(h):u==="langsmith-tags"?i=h.split(","):u==="langsmith-project"?s=h:u==="langsmith-replicas"&&(o=JSON.parse(h))}return new G0(n,i,s,o)}toHeader(){let t=[];return this.metadata&&Object.keys(this.metadata).length>0&&t.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&t.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&t.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),t.join(",")}}class pi{static{a(this,"Yq")}constructor(t){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),kJ(t)){Object.assign(this,{...t});return}let r=pi.getDefaultConfig(),{metadata:n,...i}=t,s=i.client??pi.getSharedClient(),o={...n,...i?.extra?.metadata};if(i.extra={...i.extra,metadata:o},"id"in i&&i.id==null&&delete i.id,Object.assign(this,{...r,...i,client:s}),this.execution_order??=1,this.child_execution_order??=1,!this.dotted_order&&(this._serialized_start_time=tI(this.start_time,this.execution_order)),this.id||(this.id=FX(this._serialized_start_time??this.start_time)),i.id&&yv(i.id),this.trace_id?i.trace_id&&yv(i.trace_id):this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id,i.parent_run_id&&yv(i.parent_run_id),this.replicas=CJ(this.replicas),!this.dotted_order){let{dottedOrder:l}=rI(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+l:this.dotted_order=l}}set metadata(t){this.extra={...this.extra,metadata:{...this.extra?.metadata,...t}}}get metadata(){return this.extra?.metadata}static getDefaultConfig(){let t=Date.now();return{run_type:"chain",project_name:GC(),child_runs:[],api_url:os("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:os("LANGCHAIN_API_KEY"),caller_options:{},start_time:t,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return pi.sharedClient||(pi.sharedClient=new Gd),pi.sharedClient}createChild(t){let r=this.child_execution_order+1,n=new pi({...t,parent_run:this,project_name:this.project_name,replicas:this.replicas,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:r,child_execution_order:r});Av in this&&(n[Av]=this[Av]);let i=Symbol.for("lc:child_config"),s=t.extra?.[i]??this.extra[i];if(TJ(s)){let u={...s},c=AJ(u.callbacks)?u.callbacks.copy?.():void 0;c&&(Object.assign(c,{_parentRunId:n.id}),c.handlers?.find(nI)?.updateFromRunTree?.(n),u.callbacks=c),n.extra[i]=u}let o=new Set,l=this;for(;l!=null&&!o.has(l.id);)o.add(l.id),l.child_execution_order=Math.max(l.child_execution_order,r),l=l.parent_run;return this.child_runs.push(n),n}async end(t,r,n=Date.now(),i){this.outputs=this.outputs??t,this.error=this.error??r,this.end_time=this.end_time??n,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(t,r,n=!0){let i=t.extra??{};if(i?.runtime?.library===void 0&&(i.runtime||(i.runtime={}),r))for(let[l,u]of Object.entries(r))i.runtime[l]||(i.runtime[l]=u);let s,o;return n?(o=t.parent_run?.id??t.parent_run_id,s=[]):(s=t.child_runs.map(l=>this._convertToCreate(l,r,n)),o=void 0),{id:t.id,name:t.name,start_time:t._serialized_start_time??t.start_time,end_time:t.end_time,run_type:t.run_type,reference_example_id:t.reference_example_id,extra:i,serialized:t.serialized,error:t.error,inputs:t.inputs,outputs:t.outputs,session_name:t.project_name,child_runs:s,parent_run_id:o,trace_id:t.trace_id,dotted_order:t.dotted_order,tags:t.tags,attachments:t.attachments,events:t.events}}_remapForProject(t,r,n=!0){return{...this._convertToCreate(this,r,n),session_name:t}}async postRun(t=!0){try{let r=XC();if(this.replicas&&this.replicas.length>0)for(let{projectName:n,apiKey:i,apiUrl:s,workspaceId:o}of this.replicas){let l=this._remapForProject(n??this.project_name,r,!0);await this.client.createRun(l,{apiKey:i,apiUrl:s,workspaceId:o})}else{let n=this._convertToCreate(this,r,t);await this.client.createRun(n)}if(!t){U0("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(let n of this.child_runs)await n.postRun(!1)}}catch(r){console.error(`Error in postRun for run ${this.id}:`,r)}}async patchRun(t){if(this.replicas&&this.replicas.length>0)for(let{projectName:r,apiKey:n,apiUrl:i,workspaceId:s,updates:o}of this.replicas){let l=this._remapForProject(r??this.project_name),u={id:l.id,name:l.name,run_type:l.run_type,start_time:l.start_time,outputs:l.outputs,error:l.error,parent_run_id:l.parent_run_id,session_name:l.session_name,reference_example_id:l.reference_example_id,end_time:l.end_time,dotted_order:l.dotted_order,trace_id:l.trace_id,events:l.events,tags:l.tags,extra:l.extra,attachments:this.attachments,...o};t?.excludeInputs||(u.inputs=l.inputs),await this.client.updateRun(l.id,u,{apiKey:n,apiUrl:i,workspaceId:s})}else try{let r={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:this.parent_run?.id??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};t?.excludeInputs||(r.inputs=this.inputs),await this.client.updateRun(this.id,r)}catch(r){console.error(`Error in patchRun for run ${this.id}`,r)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(t){this.events||(this.events=[]),typeof t=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:t}):this.events.push({...t,time:t.time??new Date().toISOString()})}static fromRunnableConfig(t,r){let n=t?.callbacks,i,s,o,l=EJ();if(n){let u=n?.getParentRunId?.()??"",c=n?.handlers?.find(h=>h?.name=="langchain_tracer");i=c?.getRun?.(u),s=c?.projectName,o=c?.client,l=l||!!c}return i?new pi({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:o,tracingEnabled:l,project_name:s,tags:[...new Set((i?.tags??[]).concat(t?.tags??[]))],extra:{metadata:{...i?.extra?.metadata,...t?.metadata}}}).createChild(r):new pi({...r,client:o,tracingEnabled:l,project_name:s})}static fromDottedOrder(t){return this.fromHeaders({"langsmith-trace":t})}static fromHeaders(t,r){let n="get"in t&&typeof t.get=="function"?{"langsmith-trace":t.get("langsmith-trace"),baggage:t.get("baggage")}:t,i=n["langsmith-trace"];if(!i||typeof i!="string")return;let s=i.trim(),o=s.split(".").map(c=>{let[h,d]=c.split("Z");return{strTime:h,time:Date.parse(h+"Z"),uuid:d}}),l=o[0].uuid,u={...r,name:r?.name??"parent",run_type:r?.run_type??"chain",start_time:r?.start_time??Date.now(),id:o.at(-1)?.uuid,trace_id:l,dotted_order:s};if(n.baggage&&typeof n.baggage=="string"){let c=G0.fromHeader(n.baggage);u.metadata=c.metadata,u.tags=c.tags,u.project_name=c.project_name,u.replicas=c.replicas}return new pi(u)}toHeaders(t){let r={"langsmith-trace":this.dotted_order,baggage:new G0(this.extra?.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(t)for(let[n,i]of Object.entries(r))t.set(n,i);return r}}Object.defineProperty(pi,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function kJ(e){return e!=null&&typeof e.createChild=="function"&&typeof e.postRun=="function"}a(kJ,"KX");function nI(e){return typeof e=="object"&&e!=null&&typeof e.name=="string"&&e.name==="langchain_tracer"}a(nI,"_X");function y5(e){return Array.isArray(e)&&e.some(t=>nI(t))}a(y5,"$X");function AJ(e){return typeof e=="object"&&e!=null&&Array.isArray(e.handlers)}a(AJ,"ER");function TJ(e){return e!=null&&typeof e.callbacks=="object"&&(y5(e.callbacks?.handlers)||y5(e.callbacks))}a(TJ,"RR");function NJ(){let e=os("LANGSMITH_RUNS_ENDPOINTS");if(!e)return[];try{let t=JSON.parse(e);if(Array.isArray(t)){let r=[];for(let n of t){if(typeof n!="object"||n===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof n}`);continue}if(typeof n.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof n.api_url}`);continue}if(typeof n.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof n.api_key}`);continue}r.push({apiUrl:n.api_url.replace(/\/$/,""),apiKey:n.api_key})}return r}else if(typeof t=="object"&&t!==null){IJ(t);let r=[];for(let[n,i]of Object.entries(t)){let s=n.replace(/\/$/,"");if(typeof i=="string")r.push({apiUrl:s,apiKey:i});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${n}: expected string, got ${typeof i}`);continue}}return r}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof t}`),[]}catch(t){if(uJ(t))throw t;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}a(NJ,"IR");function CJ(e){return e?e.map(t=>Array.isArray(t)?{projectName:t[0],updates:t[1]}:t):NJ()}a(CJ,"DR");function IJ(e){if(Object.keys(e).length>0&&gi("ENDPOINT"))throw new lJ}a(IJ,"LR");var MJ={};An(MJ,{BaseTracer:a(()=>tc,"BaseTracer"),isBaseTracer:a(()=>pu,"isBaseTracer")});var OJ=a(e=>{if(e)return e.events=e.events??[],e.child_runs=e.child_runs??[],e},"bR");function c1(e,t){if(e)return new pi({...e,start_time:e._serialized_start_time??e.start_time,parent_run:c1(t),child_runs:e.child_runs.map(r=>c1(r)).filter(r=>r!==void 0),extra:{...e.extra,runtime:BC()},tracingEnabled:!1})}a(c1,"D2");function Tv(e,t){return e&&!Array.isArray(e)&&typeof e=="object"?e:{[t]:e}}a(Tv,"I2");function pu(e){return typeof e._addRunToRunMap=="function"}a(pu,"W_");var tc=class extends Ih{static{a(this,"E8")}runMap=new Map;runTreeMap=new Map;usesRunTreeMap=!1;constructor(e){super(...arguments)}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?OJ(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,t){e.child_runs.push(t)}_addRunToRunMap(e){let{dottedOrder:t,microsecondPrecisionDatestring:r}=rI(new Date(e.start_time).getTime(),e.id,e.execution_order),n={...e},i=this.getRunById(n.parent_run_id);if(n.parent_run_id!==void 0?i&&(this._addChildRun(i,n),i.child_execution_order=Math.max(i.child_execution_order,n.child_execution_order),n.trace_id=i.trace_id,i.dotted_order!==void 0&&(n.dotted_order=[i.dotted_order,t].join("."),n._serialized_start_time=r)):(n.trace_id=n.id,n.dotted_order=t,n._serialized_start_time=r),this.usesRunTreeMap){let s=c1(n,i);s!==void 0&&this.runTreeMap.set(n.id,s)}else this.runMap.set(n.id,n);return n}async _endTrace(e){let t=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),await this.onRunUpdate?.(e),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){let t=e!==void 0&&this.getRunById(e);return t?t.child_execution_order+1:1}_createRunForLLMStart(e,t,r,n,i,s,o,l){let u=this._getExecutionOrder(n),c=Date.now(),h=o?{...i,metadata:o}:i,d={id:r,name:l??e.id[e.id.length-1],parent_run_id:n,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:t},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:h??{},tags:s||[]};return this._addRunToRunMap(d)}async handleLLMStart(e,t,r,n,i,s,o,l){let u=this.getRunById(r)??this._createRunForLLMStart(e,t,r,n,i,s,o,l);return await this.onRunCreate?.(u),await this.onLLMStart?.(u),u}_createRunForChatModelStart(e,t,r,n,i,s,o,l){let u=this._getExecutionOrder(n),c=Date.now(),h=o?{...i,metadata:o}:i,d={id:r,name:l??e.id[e.id.length-1],parent_run_id:n,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:t},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:h??{},tags:s||[]};return this._addRunToRunMap(d)}async handleChatModelStart(e,t,r,n,i,s,o,l){let u=this.getRunById(r)??this._createRunForChatModelStart(e,t,r,n,i,s,o,l);return await this.onRunCreate?.(u),await this.onLLMStart?.(u),u}async handleLLMEnd(e,t,r,n,i){let s=this.getRunById(t);if(!s||s?.run_type!=="llm")throw Error("No LLM run to end.");return s.end_time=Date.now(),s.outputs=e,s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...i},await this.onLLMEnd?.(s),await this._endTrace(s),s}async handleLLMError(e,t,r,n,i){let s=this.getRunById(t);if(!s||s?.run_type!=="llm")throw Error("No LLM run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...i},await this.onLLMError?.(s),await this._endTrace(s),s}_createRunForChainStart(e,t,r,n,i,s,o,l){let u=this._getExecutionOrder(n),c=Date.now(),h={id:r,name:l??e.id[e.id.length-1],parent_run_id:n,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:t,execution_order:u,child_execution_order:u,run_type:o??"chain",child_runs:[],extra:s?{metadata:s}:{},tags:i||[]};return this._addRunToRunMap(h)}async handleChainStart(e,t,r,n,i,s,o,l){let u=this.getRunById(r)??this._createRunForChainStart(e,t,r,n,i,s,o,l);return await this.onRunCreate?.(u),await this.onChainStart?.(u),u}async handleChainEnd(e,t,r,n,i){let s=this.getRunById(t);if(!s)throw Error("No chain run to end.");return s.end_time=Date.now(),s.outputs=Tv(e,"output"),s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),i?.inputs!==void 0&&(s.inputs=Tv(i.inputs,"input")),await this.onChainEnd?.(s),await this._endTrace(s),s}async handleChainError(e,t,r,n,i){let s=this.getRunById(t);if(!s)throw Error("No chain run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),i?.inputs!==void 0&&(s.inputs=Tv(i.inputs,"input")),await this.onChainError?.(s),await this._endTrace(s),s}_createRunForToolStart(e,t,r,n,i,s,o){let l=this._getExecutionOrder(n),u=Date.now(),c={id:r,name:o??e.id[e.id.length-1],parent_run_id:n,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{input:t},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:s?{metadata:s}:{},tags:i||[]};return this._addRunToRunMap(c)}async handleToolStart(e,t,r,n,i,s,o){let l=this.getRunById(r)??this._createRunForToolStart(e,t,r,n,i,s,o);return await this.onRunCreate?.(l),await this.onToolStart?.(l),l}async handleToolEnd(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="tool")throw Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await this.onToolEnd?.(r),await this._endTrace(r),r}async handleToolError(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="tool")throw Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await this.onToolError?.(r),await this._endTrace(r),r}async handleAgentAction(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="chain")return;let n=r;n.actions=n.actions||[],n.actions.push(e),n.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentAction?.(r)}async handleAgentEnd(e,t){let r=this.getRunById(t);!r||r?.run_type!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentEnd?.(r))}_createRunForRetrieverStart(e,t,r,n,i,s,o){let l=this._getExecutionOrder(n),u=Date.now(),c={id:r,name:o??e.id[e.id.length-1],parent_run_id:n,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{query:t},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:s?{metadata:s}:{},tags:i||[]};return this._addRunToRunMap(c)}async handleRetrieverStart(e,t,r,n,i,s,o){let l=this.getRunById(r)??this._createRunForRetrieverStart(e,t,r,n,i,s,o);return await this.onRunCreate?.(l),await this.onRetrieverStart?.(l),l}async handleRetrieverEnd(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="retriever")throw Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await this.onRetrieverEnd?.(r),await this._endTrace(r),r}async handleRetrieverError(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="retriever")throw Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await this.onRetrieverError?.(r),await this._endTrace(r),r}async handleText(e,t){let r=this.getRunById(t);!r||r?.run_type!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await this.onText?.(r))}async handleLLMNewToken(e,t,r,n,i,s){let o=this.getRunById(r);if(!o||o?.run_type!=="llm")throw Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:t,chunk:s?.chunk}}),await this.onLLMNewToken?.(o,e,{chunk:s?.chunk}),o}},iI=Fi(DV(),1),RJ={};An(RJ,{ConsoleCallbackHandler:a(()=>d1,"ConsoleCallbackHandler")});function Kn(e,t){return`${e.open}${t}${e.close}`}a(Kn,"yq");function Yi(e,t){try{return JSON.stringify(e,null,2)}catch{return t}}a(Yi,"w8");function w5(e){return typeof e=="string"?e.trim():e==null?e:Yi(e,e.toString())}a(w5,"vX");function ho(e){if(!e.end_time)return"";let t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}a(ho,"xK");var{color:ci}=iI.default,d1=class extends tc{static{a(this,"Q1")}name="console_callback_handler";persistRun(e){return Promise.resolve()}getParents(e){let t=[],r=e;for(;r.parent_run_id;){let n=this.runMap.get(r.parent_run_id);if(n)t.push(n),r=n;else break}return t}getBreadcrumbs(e){let t=[...this.getParents(e).reverse(),e].map((r,n,i)=>{let s=`${r.execution_order}:${r.run_type}:${r.name}`;return n===i.length-1?Kn(iI.default.bold,s):s}).join(" > ");return Kn(ci.grey,t)}onChainStart(e){let t=this.getBreadcrumbs(e);console.log(`${Kn(ci.green,"[chain/start]")} [${t}] Entering Chain run with input: ${Yi(e.inputs,"[inputs]")}`)}onChainEnd(e){let t=this.getBreadcrumbs(e);console.log(`${Kn(ci.cyan,"[chain/end]")} [${t}] [${ho(e)}] Exiting Chain run with output: ${Yi(e.outputs,"[outputs]")}`)}onChainError(e){let t=this.getBreadcrumbs(e);console.log(`${Kn(ci.red,"[chain/error]")} [${t}] [${ho(e)}] Chain run errored with error: ${Yi(e.error,"[error]")}`)}onLLMStart(e){let t=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(n=>n.trim())}:e.inputs;console.log(`${Kn(ci.green,"[llm/start]")} [${t}] Entering LLM run with input: ${Yi(r,"[inputs]")}`)}onLLMEnd(e){let t=this.getBreadcrumbs(e);console.log(`${Kn(ci.cyan,"[llm/end]")} [${t}] [${ho(e)}] Exiting LLM run with output: ${Yi(e.outputs,"[response]")}`)}onLLMError(e){let t=this.getBreadcrumbs(e);console.log(`${Kn(ci.red,"[llm/error]")} [${t}] [${ho(e)}] LLM run errored with error: ${Yi(e.error,"[error]")}`)}onToolStart(e){let t=this.getBreadcrumbs(e);console.log(`${Kn(ci.green,"[tool/start]")} [${t}] Entering Tool run with input: "${w5(e.inputs.input)}"`)}onToolEnd(e){let t=this.getBreadcrumbs(e);console.log(`${Kn(ci.cyan,"[tool/end]")} [${t}] [${ho(e)}] Exiting Tool run with output: "${w5(e.outputs?.output)}"`)}onToolError(e){let t=this.getBreadcrumbs(e);console.log(`${Kn(ci.red,"[tool/error]")} [${t}] [${ho(e)}] Tool run errored with error: ${Yi(e.error,"[error]")}`)}onRetrieverStart(e){let t=this.getBreadcrumbs(e);console.log(`${Kn(ci.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${Yi(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){let t=this.getBreadcrumbs(e);console.log(`${Kn(ci.cyan,"[retriever/end]")} [${t}] [${ho(e)}] Exiting Retriever run with output: ${Yi(e.outputs,"[outputs]")}`)}onRetrieverError(e){let t=this.getBreadcrumbs(e);console.log(`${Kn(ci.red,"[retriever/error]")} [${t}] [${ho(e)}] Retriever run errored with error: ${Yi(e.error,"[error]")}`)}onAgentAction(e){let t=e,r=this.getBreadcrumbs(e);console.log(`${Kn(ci.blue,"[agent/action]")} [${r}] Agent selected action: ${Yi(t.actions[t.actions.length-1],"[action]")}`)}},Nv,aI=a(()=>{if(Nv===void 0){let e=yl("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};Nv=new Gd(e)}return Nv},"e1");class PJ{static{a(this,"zX")}getStore(){}run(t,r){return r()}}var Cv=Symbol.for("ls:tracing_async_local_storage"),LJ=new PJ;class DJ{static{a(this,"WX")}getInstance(){return globalThis[Cv]??LJ}initializeGlobalInstance(t){globalThis[Cv]===void 0&&(globalThis[Cv]=t)}}var jJ=new DJ;function BJ(e=!1){let t=jJ.getInstance().getStore();if(!e&&t===void 0)throw Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return t}a(BJ,"HX");function k4(e){return typeof e=="function"&&"langsmith:traceable"in e}a(k4,"s1");var zJ={};An(zJ,{LangChainTracer:a(()=>b0,"LangChainTracer")});var b0=class sI extends tc{static{a(this,"$3")}name="langchain_tracer";projectName;exampleId;client;replicas;usesRunTreeMap=!0;constructor(t={}){super(t);let{exampleId:r,projectName:n,client:i,replicas:s}=t;this.projectName=n??GC(),this.replicas=s,this.exampleId=r,this.client=i??aI();let o=sI.getTraceableRunTree();o&&this.updateFromRunTree(o)}async persistRun(t){}async onRunCreate(t){await this.getRunTreeWithTracingConfig(t.id)?.postRun()}async onRunUpdate(t){await this.getRunTreeWithTracingConfig(t.id)?.patchRun()}getRun(t){return this.runTreeMap.get(t)}updateFromRunTree(t){this.runTreeMap.set(t.id,t);let r=t,n=new Set;for(;r.parent_run&&!(n.has(r.id)||(n.add(r.id),!r.parent_run));)r=r.parent_run;n.clear();let i=[r];for(;i.length>0;){let s=i.shift();!s||n.has(s.id)||(n.add(s.id),this.runTreeMap.set(s.id,s),s.child_runs&&i.push(...s.child_runs))}this.client=t.client??this.client,this.replicas=t.replicas??this.replicas,this.projectName=t.project_name??this.projectName,this.exampleId=t.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(t){let r=this.runTreeMap.get(t);if(r)return new pi({...r,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return BJ(!0)}catch{return}}},Iv=Fi(s4(),1),wl;function FJ(){return new("default"in Iv.default?Iv.default.default:Iv.default)({autoStart:!0,concurrency:1})}a(FJ,"mR");function UJ(){return typeof wl>"u"&&(wl=FJ()),wl}a(UJ,"dR");async function mn(e,t){if(t===!0){let r=Fd();r!==void 0?await r.run(void 0,async()=>e()):await e()}else wl=UJ(),wl.add(async()=>{let r=Fd();r!==void 0?await r.run(void 0,async()=>e()):await e()})}a(mn,"c6");async function HJ(){let e=aI();await Promise.allSettled([typeof wl<"u"?wl.onIdle():Promise.resolve(),e.awaitPendingTraceBatches()])}a(HJ,"JX");var GJ={};An(GJ,{awaitAllCallbacks:a(()=>HJ,"awaitAllCallbacks"),consumeCallback:a(()=>mn,"consumeCallback")});var VJ=a(e=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(t=>yl(t)==="true"),"TX");function oI(e){let t=Fd();if(t!==void 0)return t.getStore()?.[fd]?.[e]}a(oI,"y2");var YJ=Symbol("lc:configure_hooks"),ZJ=a(()=>oI(YJ)||[],"wX"),$J={};An($J,{BaseCallbackManager:a(()=>lI,"BaseCallbackManager"),BaseRunManager:a(()=>Mh,"BaseRunManager"),CallbackManager:a(()=>Hl,"CallbackManager"),CallbackManagerForChainRun:a(()=>cI,"CallbackManagerForChainRun"),CallbackManagerForLLMRun:a(()=>h1,"CallbackManagerForLLMRun"),CallbackManagerForRetrieverRun:a(()=>uI,"CallbackManagerForRetrieverRun"),CallbackManagerForToolRun:a(()=>dI,"CallbackManagerForToolRun"),ensureHandler:a(()=>Vd,"ensureHandler"),parseCallbackConfigArg:a(()=>XJ,"parseCallbackConfigArg")});function XJ(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}a(XJ,"nR");var lI=class{static{a(this,"fX")}setHandler(e){return this.setHandlers([e])}},Mh=class{static{a(this,"VP")}constructor(e,t,r,n,i,s,o,l){this.runId=e,this.handlers=t,this.inheritableHandlers=r,this.tags=n,this.inheritableTags=i,this.metadata=s,this.inheritableMetadata=o,this._parentRunId=l}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(t=>mn(async()=>{try{await t.handleText?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleText: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleCustomEvent(e,t,r,n,i){await Promise.all(this.handlers.map(s=>mn(async()=>{try{await s.handleCustomEvent?.(e,t,this.runId,this.tags,this.metadata)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleCustomEvent: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}},uI=class extends Mh{static{a(this,"ZX")}getChild(e){let t=new Hl(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(t=>mn(async()=>{if(!t.ignoreRetriever)try{await t.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetriever`),t.raiseError)throw r}},t.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(t=>mn(async()=>{if(!t.ignoreRetriever)try{await t.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetrieverError: ${r}`),t.raiseError)throw e}},t.awaitHandlers)))}},h1=class extends Mh{static{a(this,"u2")}async handleLLMNewToken(e,t,r,n,i,s){await Promise.all(this.handlers.map(o=>mn(async()=>{if(!o.ignoreLLM)try{await o.handleLLMNewToken?.(e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,s)}catch(l){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleLLMNewToken: ${l}`),o.raiseError)throw l}},o.awaitHandlers)))}async handleLLMError(e,t,r,n,i){await Promise.all(this.handlers.map(s=>mn(async()=>{if(!s.ignoreLLM)try{await s.handleLLMError?.(e,this.runId,this._parentRunId,this.tags,i)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMError: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}async handleLLMEnd(e,t,r,n,i){await Promise.all(this.handlers.map(s=>mn(async()=>{if(!s.ignoreLLM)try{await s.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags,i)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMEnd: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}},cI=class extends Mh{static{a(this,"XX")}getChild(e){let t=new Hl(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,r,n,i){await Promise.all(this.handlers.map(s=>mn(async()=>{if(!s.ignoreChain)try{await s.handleChainError?.(e,this.runId,this._parentRunId,this.tags,i)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleChainError: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}async handleChainEnd(e,t,r,n,i){await Promise.all(this.handlers.map(s=>mn(async()=>{if(!s.ignoreChain)try{await s.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,i)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleChainEnd: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>mn(async()=>{if(!t.ignoreAgent)try{await t.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentAction: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>mn(async()=>{if(!t.ignoreAgent)try{await t.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},dI=class extends Mh{static{a(this,"AX")}getChild(e){let t=new Hl(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>mn(async()=>{if(!t.ignoreAgent)try{await t.handleToolError?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolError: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>mn(async()=>{if(!t.ignoreAgent)try{await t.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},Hl=class rd extends lI{static{a(this,"$4")}handlers=[];inheritableHandlers=[];tags=[];inheritableTags=[];metadata={};inheritableMetadata={};name="callback_manager";_parentRunId;constructor(t,r){super(),this.handlers=r?.handlers??this.handlers,this.inheritableHandlers=r?.inheritableHandlers??this.inheritableHandlers,this.tags=r?.tags??this.tags,this.inheritableTags=r?.inheritableTags??this.inheritableTags,this.metadata=r?.metadata??this.metadata,this.inheritableMetadata=r?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=t}getParentRunId(){return this._parentRunId}async handleLLMStart(t,r,n=void 0,i=void 0,s=void 0,o=void 0,l=void 0,u=void 0){return Promise.all(r.map(async(c,h)=>{let d=h===0&&n?n:Ls();return await Promise.all(this.handlers.map(g=>{if(!g.ignoreLLM)return pu(g)&&g._createRunForLLMStart(t,[c],d,this._parentRunId,s,this.tags,this.metadata,u),mn(async()=>{try{await g.handleLLMStart?.(t,[c],d,this._parentRunId,s,this.tags,this.metadata,u)}catch(m){if((g.raiseError?console.error:console.warn)(`Error in handler ${g.constructor.name}, handleLLMStart: ${m}`),g.raiseError)throw m}},g.awaitHandlers)})),new h1(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(t,r,n=void 0,i=void 0,s=void 0,o=void 0,l=void 0,u=void 0){return Promise.all(r.map(async(c,h)=>{let d=h===0&&n?n:Ls();return await Promise.all(this.handlers.map(g=>{if(!g.ignoreLLM)return pu(g)&&g._createRunForChatModelStart(t,[c],d,this._parentRunId,s,this.tags,this.metadata,u),mn(async()=>{try{if(g.handleChatModelStart)await g.handleChatModelStart?.(t,[c],d,this._parentRunId,s,this.tags,this.metadata,u);else if(g.handleLLMStart){let m=Z$(c);await g.handleLLMStart?.(t,[m],d,this._parentRunId,s,this.tags,this.metadata,u)}}catch(m){if((g.raiseError?console.error:console.warn)(`Error in handler ${g.constructor.name}, handleLLMStart: ${m}`),g.raiseError)throw m}},g.awaitHandlers)})),new h1(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(t,r,n=Ls(),i=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreChain)return pu(u)&&u._createRunForChainStart(t,r,n,this._parentRunId,this.tags,this.metadata,i,l),mn(async()=>{try{await u.handleChainStart?.(t,r,n,this._parentRunId,this.tags,this.metadata,i,l)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleChainStart: ${c}`),u.raiseError)throw c}},u.awaitHandlers)})),new cI(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(t,r,n=Ls(),i=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreAgent)return pu(u)&&u._createRunForToolStart(t,r,n,this._parentRunId,this.tags,this.metadata,l),mn(async()=>{try{await u.handleToolStart?.(t,r,n,this._parentRunId,this.tags,this.metadata,l)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleToolStart: ${c}`),u.raiseError)throw c}},u.awaitHandlers)})),new dI(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(t,r,n=Ls(),i=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreRetriever)return pu(u)&&u._createRunForRetrieverStart(t,r,n,this._parentRunId,this.tags,this.metadata,l),mn(async()=>{try{await u.handleRetrieverStart?.(t,r,n,this._parentRunId,this.tags,this.metadata,l)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleRetrieverStart: ${c}`),u.raiseError)throw c}},u.awaitHandlers)})),new uI(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(t,r,n,i,s){await Promise.all(this.handlers.map(o=>mn(async()=>{if(!o.ignoreCustomEvent)try{await o.handleCustomEvent?.(t,r,n,this.tags,this.metadata)}catch(l){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${l}`),o.raiseError)throw l}},o.awaitHandlers)))}addHandler(t,r=!0){this.handlers.push(t),r&&this.inheritableHandlers.push(t)}removeHandler(t){this.handlers=this.handlers.filter(r=>r!==t),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==t)}setHandlers(t,r=!0){this.handlers=[],this.inheritableHandlers=[];for(let n of t)this.addHandler(n,r)}addTags(t,r=!0){this.removeTags(t),this.tags.push(...t),r&&this.inheritableTags.push(...t)}removeTags(t){this.tags=this.tags.filter(r=>!t.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!t.includes(r))}addMetadata(t,r=!0){this.metadata={...this.metadata,...t},r&&(this.inheritableMetadata={...this.inheritableMetadata,...t})}removeMetadata(t){for(let r of Object.keys(t))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(t=[],r=!0){let n=new rd(this._parentRunId);for(let i of this.handlers){let s=this.inheritableHandlers.includes(i);n.addHandler(i,s)}for(let i of this.tags){let s=this.inheritableTags.includes(i);n.addTags([i],s)}for(let i of Object.keys(this.metadata)){let s=Object.keys(this.inheritableMetadata).includes(i);n.addMetadata({[i]:this.metadata[i]},s)}for(let i of t)n.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===i.name)||n.addHandler(i,r);return n}static fromHandlers(t){class r extends Ih{static{a(this,"K")}name=Ls();constructor(){super(),Object.assign(this,t)}}let n=new this;return n.addHandler(new r),n}static configure(t,r,n,i,s,o,l){return this._configureSync(t,r,n,i,s,o,l)}static _configureSync(t,r,n,i,s,o,l){let u;(t||r)&&(Array.isArray(t)||!t?(u=new rd,u.setHandlers(t?.map(Vd)??[],!0)):u=t,u=u.copy(Array.isArray(r)?r.map(Vd):r?.handlers,!1));let c=yl("LANGCHAIN_VERBOSE")==="true"||l?.verbose,h=b0.getTraceableRunTree()?.tracingEnabled||VJ(),d=h||(yl("LANGCHAIN_TRACING")??!1);if(c||d){if(u||(u=new rd),c&&!u.handlers.some(g=>g.name===d1.prototype.name)){let g=new d1;u.addHandler(g,!0)}if(d&&!u.handlers.some(g=>g.name==="langchain_tracer")&&h){let g=new b0;u.addHandler(g,!0)}if(h){let g=b0.getTraceableRunTree();g&&u._parentRunId===void 0&&(u._parentRunId=g.id,u.handlers.find(m=>m.name==="langchain_tracer")?.updateFromRunTree(g))}}for(let{contextVar:g,inheritable:m=!0,handlerClass:y,envVar:x}of ZJ()){let A=x&&yl(x)==="true"&&y,C,M=g!==void 0?oI(g):void 0;M&&zC(M)?C=M:A&&(C=new y({})),C!==void 0&&(u||(u=new rd),u.handlers.some(R=>R.name===C.name)||u.addHandler(C,m))}return(n||i)&&u&&(u.addTags(n??[]),u.addTags(i??[],!1)),(s||o)&&u&&(u.addMetadata(s??{}),u.addMetadata(o??{},!1)),u}};function Vd(e){return"name"in e?e:Ih.fromMethods(e)}a(Vd,"n_");var hI=class{static{a(this,"x2")}getStore(){}run(e,t){return t()}enterWith(e){}},JJ=new hI,_5=Symbol.for("lc:child_config"),KJ=class{static{a(this,"tR")}getInstance(){return Fd()??JJ}getRunnableConfig(){return this.getInstance().getStore()?.extra?.[_5]}runWithConfig(e,t,r){let n=Hl._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata),i=this.getInstance(),s=i.getStore(),o=n?.getParentRunId(),l=n?.handlers?.find(c=>c?.name==="langchain_tracer"),u;return l&&o?u=l.getRunTreeWithTracingConfig(o):r||(u=new pi({name:"<runnable_lambda>",tracingEnabled:!1})),u&&(u.extra={...u.extra,[_5]:e}),s!==void 0&&s[fd]!==void 0&&(u===void 0&&(u={}),u[fd]=s[fd]),i.run(u,t)}initializeGlobalInstance(e){Fd()===void 0&&i$(e)}},Ws=new KJ,WJ={};An(WJ,{AsyncLocalStorageProviderSingleton:a(()=>Ws,"AsyncLocalStorageProviderSingleton"),MockAsyncLocalStorage:a(()=>hI,"MockAsyncLocalStorage"),_CONTEXT_VARIABLES_KEY:a(()=>fd,"_CONTEXT_VARIABLES_KEY")});var Mv=25;async function Sa(e){return Hl._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)}a(Sa,"f8");function x5(...e){let t={};for(let r of e.filter(n=>!!n))for(let n of Object.keys(r))if(n==="metadata")t[n]={...t[n],...r[n]};else if(n==="tags"){let i=t[n]??[];t[n]=[...new Set(i.concat(r[n]??[]))]}else if(n==="configurable")t[n]={...t[n],...r[n]};else if(n==="timeout")t.timeout===void 0?t.timeout=r.timeout:r.timeout!==void 0&&(t.timeout=Math.min(t.timeout,r.timeout));else if(n==="signal")t.signal===void 0?t.signal=r.signal:r.signal!==void 0&&("any"in AbortSignal?t.signal=AbortSignal.any([t.signal,r.signal]):t.signal=r.signal);else if(n==="callbacks"){let i=t.callbacks,s=r.callbacks;if(Array.isArray(s))if(!i)t.callbacks=s;else if(Array.isArray(i))t.callbacks=i.concat(s);else{let o=i.copy();for(let l of s)o.addHandler(Vd(l),!0);t.callbacks=o}else if(s)if(!i)t.callbacks=s;else if(Array.isArray(i)){let o=s.copy();for(let l of i)o.addHandler(Vd(l),!0);t.callbacks=o}else t.callbacks=new Hl(s._parentRunId,{handlers:i.handlers.concat(s.handlers),inheritableHandlers:i.inheritableHandlers.concat(s.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(s.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(s.inheritableTags))),metadata:{...i.metadata,...s.metadata}})}else{let i=n;t[i]=r[i]??t[i]}return t}a(x5,"p2");var QJ=new Set(["string","number","boolean"]);function Ir(e){let t=Ws.getRunnableConfig(),r={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(t){let{runId:n,runName:i,...s}=t;r=Object.entries(s).reduce((o,[l,u])=>(u!==void 0&&(o[l]=u),o),r)}if(e&&(r=Object.entries(e).reduce((n,[i,s])=>(s!==void 0&&(n[i]=s),n),r)),r?.configurable)for(let n of Object.keys(r.configurable))QJ.has(typeof r.configurable[n])&&!r.metadata?.[n]&&(r.metadata||(r.metadata={}),r.metadata[n]=r.configurable[n]);if(r.timeout!==void 0){if(r.timeout<=0)throw Error("Timeout must be a positive number");let n=AbortSignal.timeout(r.timeout);r.signal!==void 0?"any"in AbortSignal&&(r.signal=AbortSignal.any([r.signal,n])):r.signal=n,delete r.timeout}return r}a(Ir,"N6");function ei(e={},{callbacks:t,maxConcurrency:r,recursionLimit:n,runName:i,configurable:s,runId:o}={}){let l=Ir(e);return t!==void 0&&(delete l.runName,l.callbacks=t),n!==void 0&&(l.recursionLimit=n),r!==void 0&&(l.maxConcurrency=r),i!==void 0&&(l.runName=i),s!==void 0&&(l.configurable={...l.configurable,...s}),o!==void 0&&delete l.runId,l}a(ei,"Rq");function Bu(e){if(e)return{configurable:e.configurable,recursionLimit:e.recursionLimit,callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,maxConcurrency:e.maxConcurrency,timeout:e.timeout,signal:e.signal,store:e.store}}a(Bu,"vK");async function Co(e,t){if(t===void 0)return e;let r;return Promise.race([e.catch(n=>{if(!t?.aborted)throw n}),new Promise((n,i)=>{r=a(()=>{i(V0(t))},"K"),t.addEventListener("abort",r),t.aborted&&i(V0(t))})]).finally(()=>t.removeEventListener("abort",r))}a(Co,"l8");function V0(e){return e?.reason instanceof Error?e.reason:typeof e?.reason=="string"?Error(e.reason):Error("Aborted")}a(V0,"i_");var qJ={};An(qJ,{AsyncGeneratorWithSetup:a(()=>Gl,"AsyncGeneratorWithSetup"),IterableReadableStream:a(()=>Na,"IterableReadableStream"),atee:a(()=>A4,"atee"),concat:a(()=>T4,"concat"),pipeGeneratorWithSetup:a(()=>fI,"pipeGeneratorWithSetup")});var Na=class f1 extends ReadableStream{static{a(this,"$5")}reader;ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{let t=await this.reader.read();return t.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:t.value}}catch(t){throw this.reader.releaseLock(),t}}async return(){if(this.ensureReader(),this.locked){let t=this.reader.cancel();this.reader.releaseLock(),await t}return{done:!0,value:void 0}}async throw(t){if(this.ensureReader(),this.locked){let r=this.reader.cancel();this.reader.releaseLock(),await r}throw t}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(t){let r=t.getReader();return new f1({start(n){return i();function i(){return r.read().then(({done:s,value:o})=>{if(s){n.close();return}return n.enqueue(o),i()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(t){return new f1({async pull(r){let{value:n,done:i}=await t.next();i&&r.close(),r.enqueue(n)},async cancel(r){await t.return(r)}})}};function A4(e,t=2){let r=Array.from({length:t},()=>[]);return r.map(async function*(n){for(;;)if(n.length===0){let i=await e.next();for(let s of r)s.push(i)}else{if(n[0].done)return;yield n.shift().value}})}a(A4,"K9");function T4(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if(typeof e=="string"&&typeof t=="string")return e+t;if(typeof e=="number"&&typeof t=="number")return e+t;if("concat"in e&&typeof e.concat=="function")return e.concat(t);if(typeof e=="object"&&typeof t=="object"){let r={...e};for(let[n,i]of Object.entries(t))n in r&&!Array.isArray(r[n])?r[n]=T4(r[n],i):r[n]=i;return r}else throw Error(`Cannot concat ${typeof e} and ${typeof t}`)}a(T4,"_9");var Gl=class{static{a(this,"pK")}generator;setup;config;signal;firstResult;firstResultUsed=!1;constructor(e){this.generator=e.generator,this.config=e.config,this.signal=e.signal??this.config?.signal,this.setup=new Promise((t,r)=>{Ws.runWithConfig(Bu(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(t,r):this.firstResult.then(n=>t(void 0),r)},!0)})}async next(...e){return this.signal?.throwIfAborted(),this.firstResultUsed?Ws.runWithConfig(Bu(this.config),this.signal?async()=>Co(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function fI(e,t,r,n,...i){let s=new Gl({generator:t,startSetup:r,signal:n}),o=await s.setup;return{output:e(s,o,...i),setup:o}}a(fI,"c2");var eK=Object.prototype.hasOwnProperty;function tK(e,t){return eK.call(e,t)}a(tK,"VX");function rK(e){if(Array.isArray(e)){let r=Array(e.length);for(let n=0;n<r.length;n++)r[n]=""+n;return r}if(Object.keys)return Object.keys(e);let t=[];for(let r in e)tK(e,r)&&t.push(r);return t}a(rK,"SX");function Ml(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}a(Ml,"R8");function p1(e){let t=0,r=e.length,n;for(;t<r;){if(n=e.charCodeAt(t),n>=48&&n<=57){t++;continue}return!1}return!0}a(p1,"O9");function nK(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}a(nK,"Y9");function m1(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(m1(e[r]))return!0}else if(typeof e=="object"){let r=rK(e),n=r.length;for(var t=0;t<n;t++)if(m1(e[r[t]]))return!0}}return!1}a(m1,"P9");function E5(e,t){let r=[e];for(let n in t){let i=typeof t[n]=="object"?JSON.stringify(t[n],null,2):t[n];typeof i<"u"&&r.push(`${n}: ${i}`)}return r.join(`
`)}a(E5,"GX");var iK=class extends Error{static{a(this,"j9")}constructor(e,t,r,n,i){super(E5(e,{name:t,index:r,operation:n,tree:i})),this.name=t,this.index=r,this.operation=n,this.tree=i,Object.setPrototypeOf(this,new.target.prototype),this.message=E5(e,{name:t,index:r,operation:n,tree:i})}},pI={};An(pI,{JsonPatchError:a(()=>rn,"JsonPatchError"),_areEquals:a(()=>Zd,"_areEquals"),applyOperation:a(()=>_l,"applyOperation"),applyPatch:a(()=>Yd,"applyPatch"),applyReducer:a(()=>oK,"applyReducer"),deepClone:a(()=>aK,"deepClone"),getValueByPointer:a(()=>Y0,"getValueByPointer"),validate:a(()=>mI,"validate"),validator:a(()=>Z0,"validator")});var rn=iK,aK=Ml,xu={add:a(function(e,t,r){return e[t]=this.value,{newDocument:r}},"add"),remove:a(function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},"remove"),replace:a(function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},"replace"),move:a(function(e,t,r){let n=Y0(r,this.path);n&&(n=Ml(n));let i=_l(r,{op:"remove",path:this.from}).removed;return _l(r,{op:"add",path:this.path,value:i}),{newDocument:r,removed:n}},"move"),copy:a(function(e,t,r){let n=Y0(r,this.from);return _l(r,{op:"add",path:this.path,value:Ml(n)}),{newDocument:r}},"copy"),test:a(function(e,t,r){return{newDocument:r,test:Zd(e[t],this.value)}},"test"),_get:a(function(e,t,r){return this.value=e[t],{newDocument:r}},"_get")},sK={add:a(function(e,t,r){return p1(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},"add"),remove:a(function(e,t,r){var n=e.splice(t,1);return{newDocument:r,removed:n[0]}},"remove"),replace:a(function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},"replace"),move:xu.move,copy:xu.copy,test:xu.test,_get:xu._get};function Y0(e,t){if(t=="")return e;var r={op:"_get",path:t};return _l(e,r),r.value}a(Y0,"SP");function _l(e,t,r=!1,n=!0,i=!0,s=0){if(r&&(typeof r=="function"?r(t,0,e,t.path):Z0(t,0)),t.path===""){let o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=Y0(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Zd(e,t.value),o.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(r)throw new rn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{n||(e=Ml(e));let o=(t.path||"").split("/"),l=e,u=1,c=o.length,h,d,g;for(typeof r=="function"?g=r:g=Z0;;){if(d=o[u],d&&d.indexOf("~")!=-1&&(d=nK(d)),i&&(d=="__proto__"||d=="prototype"&&u>0&&o[u-1]=="constructor"))throw TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&h===void 0&&(l[d]===void 0?h=o.slice(0,u).join("/"):u==c-1&&(h=t.path),h!==void 0&&g(t,0,e,h)),u++,Array.isArray(l)){if(d==="-")d=l.length;else{if(r&&!p1(d))throw new rn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);p1(d)&&(d=~~d)}if(u>=c){if(r&&t.op==="add"&&d>l.length)throw new rn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);let m=sK[t.op].call(t,l,d,e);if(m.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return m}}else if(u>=c){let m=xu[t.op].call(t,l,d,e);if(m.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return m}if(l=l[d],r&&u<c&&(!l||typeof l!="object"))throw new rn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}a(_l,"cK");function Yd(e,t,r,n=!0,i=!0){if(r&&!Array.isArray(t))throw new rn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=Ml(e));let s=Array(t.length);for(let o=0,l=t.length;o<l;o++)s[o]=_l(e,t[o],r,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}a(Yd,"J_");function oK(e,t,r){let n=_l(e,t);if(n.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument}a(oK,"MX");function Z0(e,t,r,n){if(typeof e!="object"||e===null||Array.isArray(e))throw new rn("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(xu[e.op]){if(typeof e.path!="string")throw new rn("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new rn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new rn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new rn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&m1(e.value))throw new rn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r){if(e.op=="add"){var i=e.path.split("/").length,s=n.split("/").length;if(i!==s+1&&i!==s)throw new rn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==n)throw new rn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},l=mI([o],r);if(l&&l.name==="OPERATION_PATH_UNRESOLVABLE")throw new rn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}}else throw new rn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r)}a(Z0,"MP");function mI(e,t,r){try{if(!Array.isArray(e))throw new rn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Yd(Ml(t),Ml(e),r||!0);else{r=r||Z0;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(i){if(i instanceof rn)return i;throw i}}a(mI,"l2");function Zd(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),n=Array.isArray(t),i,s,o;if(r&&n){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Zd(e[i],t[i]))return!1;return!0}if(r!=n)return!1;var l=Object.keys(e);if(s=l.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(l[i]))return!1;for(i=s;i--!==0;)if(o=l[i],!Zd(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}a(Zd,"B_");({...pI});var lK={};An(lK,{LogStreamCallbackHandler:a(()=>v1,"LogStreamCallbackHandler"),RunLog:a(()=>N4,"RunLog"),RunLogPatch:a(()=>Ds,"RunLogPatch"),isLogStreamHandler:a(()=>gI,"isLogStreamHandler")});var Ds=class{static{a(this,"r8")}ops;constructor(e){this.ops=e.ops??[]}concat(e){let t=this.ops.concat(e.ops),r=Yd({},t);return new N4({ops:t,state:r[r.length-1].newDocument})}},N4=class g1 extends Ds{static{a(this,"$7")}state;constructor(t){super(t),this.state=t.state}concat(t){let r=this.ops.concat(t.ops),n=Yd(this.state,t.ops);return new g1({ops:r,state:n[n.length-1].newDocument})}static fromRunLogPatch(t){let r=Yd({},t.ops);return new g1({ops:t.ops,state:r[r.length-1].newDocument})}},gI=a(e=>e.name==="log_stream_tracer","r2");async function S5(e,t){if(t==="original")throw Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");let{inputs:r}=e;if(["retriever","llm","prompt"].includes(e.run_type))return r;if(!(Object.keys(r).length===1&&r?.input===""))return r.input}a(S5,"NX");async function k5(e,t){let{outputs:r}=e;return t==="original"||["retriever","llm","prompt"].includes(e.run_type)?r:r!==void 0&&Object.keys(r).length===1&&r?.output!==void 0?r.output:r}a(k5,"CX");function uK(e){return e!==void 0&&e.message!==void 0}a(uK,"$I");var v1=class extends tc{static{a(this,"z9")}autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;_schemaFormat="original";rootId;keyMapByRunId={};counterMapByRunName={};transformStream;writer;receiveStream;name="log_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Na.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;let t=e.tags??[],r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||t.find(n=>this.includeTags?.includes(n))!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&t.every(n=>!this.excludeTags?.includes(n))),r}async*tapOutputIterable(e,t){for await(let r of t){if(e!==this.rootId){let n=this.keyMapByRunId[e];n&&await this.writer.write(new Ds({ops:[{op:"add",path:`/logs/${n}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Ds({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;let t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=t===1?e.name:`${e.name}:${t}`;let r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await S5(e,this._schemaFormat)),await this.writer.write(new Ds({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{let t=this.keyMapByRunId[e.id];if(t===void 0)return;let r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${t}/inputs`,value:await S5(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${t}/final_output`,value:await k5(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});let n=new Ds({ops:r});await this.writer.write(n)}finally{if(e.id===this.rootId){let t=new Ds({ops:[{op:"replace",path:"/final_output",value:await k5(e,this._schemaFormat)}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t,r){let n=this.keyMapByRunId[e.id];if(n===void 0)return;let i=e.inputs.messages!==void 0,s;i?uK(r?.chunk)?s=r?.chunk:s=new OC({id:`run-${e.id}`,content:t}):s=t;let o=new Ds({ops:[{op:"add",path:`/logs/${n}/streamed_output_str/-`,value:t},{op:"add",path:`/logs/${n}/streamed_output/-`,value:s}]});await this.writer.write(o)}},cK={};An(cK,{ChatGenerationChunk:a(()=>hK,"ChatGenerationChunk"),GenerationChunk:a(()=>$0,"GenerationChunk"),RUN_KEY:a(()=>dK,"RUN_KEY")});var dK="__run",$0=class vI{static{a(this,"$8")}text;generationInfo;constructor(t){this.text=t.text,this.generationInfo=t.generationInfo}concat(t){return new vI({text:this.text+t.text,generationInfo:{...this.generationInfo,...t.generationInfo}})}},hK=class bI extends $0{static{a(this,"$10")}message;constructor(t){super(t),this.message=t.message}concat(t){return new bI({text:this.text+t.text,generationInfo:{...this.generationInfo,...t.generationInfo},message:this.message.concat(t.message)})}};function kf({name:e,serialized:t}){return e!==void 0?e:t?.name!==void 0?t.name:t?.id!==void 0&&Array.isArray(t?.id)?t.id[t.id.length-1]:"Unnamed"}a(kf,"W9");var fK=a(e=>e.name==="event_stream_tracer","hX"),pK=class extends tc{static{a(this,"EX")}autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;runInfoMap=new Map;tappedPromises=new Map;transformStream;writer;receiveStream;name="event_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Na.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){let t=e.tags??[],r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||t.find(n=>this.includeTags?.includes(n))!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&t.every(n=>!this.excludeTags?.includes(n))),r}async*tapOutputIterable(e,t){let r=await t.next();if(r.done)return;let n=this.runInfoMap.get(e);if(n===void 0){yield r.value;return}function i(o,l){return o==="llm"&&typeof l=="string"?new $0({text:l}):l}a(i,"_");let s=this.tappedPromises.get(e);if(s===void 0){let o;s=new Promise(l=>{o=l}),this.tappedPromises.set(e,s);try{let l={event:`on_${n.runType}_stream`,run_id:e,name:n.name,tags:n.tags,metadata:n.metadata,data:{}};await this.send({...l,data:{chunk:i(n.runType,r.value)}},n),yield r.value;for await(let u of t)n.runType!=="tool"&&n.runType!=="retriever"&&await this.send({...l,data:{chunk:i(n.runType,u)}},n),yield u}finally{o?.()}}else{yield r.value;for await(let o of t)yield o}}async send(e,t){this._includeRun(t)&&await this.writer.write(e)}async sendEndEvent(e,t){let r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,t)}):await this.send(e,t)}async onLLMStart(e){let t=kf(e),r=e.inputs.messages!==void 0?"chat_model":"llm",n={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,n);let i=`on_${r}_start`;await this.send({event:i,data:{input:e.inputs},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},n)}async onLLMNewToken(e,t,r){let n=this.runInfoMap.get(e.id),i,s;if(n===void 0)throw Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(n.runType==="chat_model")s="on_chat_model_stream",r?.chunk===void 0?i=new OC({content:t,id:`run-${e.id}`}):i=r.chunk.message;else if(n.runType==="llm")s="on_llm_stream",r?.chunk===void 0?i=new $0({text:t}):i=r.chunk;else throw Error(`Unexpected run type ${n.runType}`);await this.send({event:s,data:{chunk:i},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}}async onLLMEnd(e){let t=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(t===void 0)throw Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);let n=e.outputs?.generations,i;if(t.runType==="chat_model"){for(let s of n??[]){if(i!==void 0)break;i=s[0]?.message}r="on_chat_model_end"}else if(t.runType==="llm")i={generations:n?.map(s=>s.map(o=>({text:o.text,generationInfo:o.generationInfo}))),llmOutput:e.outputs?.llmOutput??{}},r="on_llm_end";else throw Error(`onLLMEnd: Unexpected run type: ${t.runType}`);await this.sendEndEvent({event:r,data:{output:i,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onChainStart(e){let t=kf(e),r=e.run_type??"chain",n={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:e.run_type},i={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(i={},n.inputs={}):e.inputs.input!==void 0?(i.input=e.inputs.input,n.inputs=e.inputs.input):(i.input=e.inputs,n.inputs=e.inputs),this.runInfoMap.set(e.id,n),await this.send({event:`on_${r}_start`,data:i,name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},n)}async onChainEnd(e){let t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),t===void 0)throw Error(`onChainEnd: Run ID ${e.id} not found in run map.`);let r=`on_${e.run_type}_end`,n=e.inputs??t.inputs??{},i={output:e.outputs?.output??e.outputs,input:n};n.input&&Object.keys(n).length===1&&(i.input=n.input,t.inputs=n.input),await this.sendEndEvent({event:r,data:i,run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata??{}},t)}async onToolStart(e){let t=kf(e),r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:t,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},r)}async onToolEnd(e){let t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),t===void 0)throw Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(t.inputs===void 0)throw Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);let r=e.outputs?.output===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onRetrieverStart(e){let t=kf(e),r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,r),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},r)}async onRetrieverEnd(e){let t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),t===void 0)throw Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async handleCustomEvent(e,t,r){let n=this.runInfoMap.get(r);if(n===void 0)throw Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:n.tags,metadata:n.metadata,data:t},n)}async finish(){let e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}},mK=Fi(a4(),1),Ov=Fi(s4(),1),gK={};An(gK,{AsyncCaller:a(()=>C4,"AsyncCaller")});var vK=[400,401,402,403,404,405,406,407,409],bK=a(e=>{if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||e.name==="AbortError"||e?.code==="ECONNABORTED")throw e;let t=e?.response?.status??e?.status;if(t&&vK.includes(+t))throw e;if(e?.error?.code==="insufficient_quota"){let r=Error(e?.message);throw r.name="InsufficientQuotaError",r}},"YI"),C4=class{static{a(this,"CP")}maxConcurrency;maxRetries;onFailedAttempt;queue;constructor(e){this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??bK;let t="default"in Ov.default?Ov.default.default:Ov.default;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>mK.default(()=>e(...t).catch(r=>{throw r instanceof Error?r:Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...r){if(e.signal){let n;return Promise.race([this.call(t,...r),new Promise((i,s)=>{n=a(()=>{s(V0(e.signal))},"P"),e.signal?.addEventListener("abort",n)})]).finally(()=>{e.signal&&n&&e.signal.removeEventListener("abort",n)})}return this.call(t,...r)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}},yI=class extends tc{static{a(this,"o2")}name="RootListenersTracer";rootId;config;argOnStart;argOnEnd;argOnError;constructor({config:e,onStart:t,onEnd:r,onError:n}){super({_awaitHandler:!0}),this.config=e,this.argOnStart=t,this.argOnEnd=r,this.argOnError=n}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function I4(e){return e?e.lc_runnable:!1}a(I4,"hP");var yK=class{static{a(this,"IX")}includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;constructor(e){this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,t){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0,n=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(t)),this.includeTags!==void 0&&(r=r||n.some(i=>this.includeTags?.includes(i))),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(t)),this.excludeTags!==void 0&&(r=r&&n.every(i=>!this.excludeTags?.includes(i))),r}},wI={};_i(wI,{version:a(()=>DM,"version"),util:a(()=>gr,"util"),treeifyError:a(()=>RI,"treeifyError"),toJSONSchema:a(()=>tp,"toJSONSchema"),toDotPath:a(()=>PI,"toDotPath"),safeParseAsync:a(()=>jI,"safeParseAsync"),safeParse:a(()=>DI,"safeParse"),safeEncodeAsync:a(()=>QK,"safeEncodeAsync"),safeEncode:a(()=>KK,"safeEncode"),safeDecodeAsync:a(()=>qK,"safeDecodeAsync"),safeDecode:a(()=>WK,"safeDecode"),registry:a(()=>n6,"registry"),regexes:a(()=>Yl,"regexes"),prettifyError:a(()=>LI,"prettifyError"),parseAsync:a(()=>Q0,"parseAsync"),parse:a(()=>y1,"parse"),locales:a(()=>t6,"locales"),isValidJWT:a(()=>s8,"isValidJWT"),isValidBase64URL:a(()=>n8,"isValidBase64URL"),isValidBase64:a(()=>$4,"isValidBase64"),globalRegistry:a(()=>vi,"globalRegistry"),globalConfig:a(()=>X0,"globalConfig"),formatError:a(()=>L4,"formatError"),flattenError:a(()=>P4,"flattenError"),encodeAsync:a(()=>XK,"encodeAsync"),encode:a(()=>ZK,"encode"),decodeAsync:a(()=>JK,"decodeAsync"),decode:a(()=>$K,"decode"),config:a(()=>ni,"config"),clone:a(()=>Zn,"clone"),_xid:a(()=>p6,"_xid"),_void:a(()=>EO,"_void"),_uuidv7:a(()=>l6,"_uuidv7"),_uuidv6:a(()=>o6,"_uuidv6"),_uuidv4:a(()=>s6,"_uuidv4"),_uuid:a(()=>a6,"_uuid"),_url:a(()=>Om,"_url"),_uppercase:a(()=>N6,"_uppercase"),_unknown:a(()=>xO,"_unknown"),_union:a(()=>cq,"_union"),_undefined:a(()=>yO,"_undefined"),_ulid:a(()=>f6,"_ulid"),_uint64:a(()=>vO,"_uint64"),_uint32:a(()=>dO,"_uint32"),_tuple:a(()=>fq,"_tuple"),_trim:a(()=>P6,"_trim"),_transform:a(()=>wq,"_transform"),_toUpperCase:a(()=>D6,"_toUpperCase"),_toLowerCase:a(()=>L6,"_toLowerCase"),_templateLiteral:a(()=>Cq,"_templateLiteral"),_symbol:a(()=>bO,"_symbol"),_superRefine:a(()=>DO,"_superRefine"),_success:a(()=>kq,"_success"),_stringbool:a(()=>BO,"_stringbool"),_stringFormat:a(()=>Uh,"_stringFormat"),_string:a(()=>Q8,"_string"),_startsWith:a(()=>I6,"_startsWith"),_size:a(()=>k6,"_size"),_set:a(()=>gq,"_set"),_safeParseAsync:a(()=>Dh,"_safeParseAsync"),_safeParse:a(()=>Lh,"_safeParse"),_safeEncodeAsync:a(()=>H4,"_safeEncodeAsync"),_safeEncode:a(()=>F4,"_safeEncode"),_safeDecodeAsync:a(()=>G4,"_safeDecodeAsync"),_safeDecode:a(()=>U4,"_safeDecode"),_regex:a(()=>A6,"_regex"),_refine:a(()=>LO,"_refine"),_record:a(()=>pq,"_record"),_readonly:a(()=>Nq,"_readonly"),_property:a(()=>MO,"_property"),_promise:a(()=>Mq,"_promise"),_positive:a(()=>TO,"_positive"),_pipe:a(()=>Tq,"_pipe"),_parseAsync:a(()=>Ph,"_parseAsync"),_parse:a(()=>Rh,"_parse"),_overwrite:a(()=>Zl,"_overwrite"),_optional:a(()=>_q,"_optional"),_number:a(()=>aO,"_number"),_nullable:a(()=>xq,"_nullable"),_null:a(()=>wO,"_null"),_normalize:a(()=>R6,"_normalize"),_nonpositive:a(()=>CO,"_nonpositive"),_nonoptional:a(()=>Sq,"_nonoptional"),_nonnegative:a(()=>IO,"_nonnegative"),_never:a(()=>S6,"_never"),_negative:a(()=>NO,"_negative"),_nativeEnum:a(()=>bq,"_nativeEnum"),_nanoid:a(()=>c6,"_nanoid"),_nan:a(()=>AO,"_nan"),_multipleOf:a(()=>$d,"_multipleOf"),_minSize:a(()=>Xd,"_minSize"),_minLength:a(()=>Uu,"_minLength"),_min:a(()=>Oi,"_min"),_mime:a(()=>O6,"_mime"),_maxSize:a(()=>Rm,"_maxSize"),_maxLength:a(()=>Pm,"_maxLength"),_max:a(()=>ka,"_max"),_map:a(()=>mq,"_map"),_lte:a(()=>ka,"_lte"),_lt:a(()=>Rl,"_lt"),_lowercase:a(()=>T6,"_lowercase"),_literal:a(()=>yq,"_literal"),_length:a(()=>Lm,"_length"),_lazy:a(()=>Iq,"_lazy"),_ksuid:a(()=>m6,"_ksuid"),_jwt:a(()=>E6,"_jwt"),_isoTime:a(()=>nO,"_isoTime"),_isoDuration:a(()=>iO,"_isoDuration"),_isoDateTime:a(()=>tO,"_isoDateTime"),_isoDate:a(()=>rO,"_isoDate"),_ipv6:a(()=>v6,"_ipv6"),_ipv4:a(()=>g6,"_ipv4"),_intersection:a(()=>hq,"_intersection"),_int64:a(()=>gO,"_int64"),_int32:a(()=>cO,"_int32"),_int:a(()=>oO,"_int"),_includes:a(()=>C6,"_includes"),_guid:a(()=>ep,"_guid"),_gte:a(()=>Oi,"_gte"),_gt:a(()=>Pl,"_gt"),_float64:a(()=>uO,"_float64"),_float32:a(()=>lO,"_float32"),_file:a(()=>RO,"_file"),_enum:a(()=>vq,"_enum"),_endsWith:a(()=>M6,"_endsWith"),_encodeAsync:a(()=>B4,"_encodeAsync"),_encode:a(()=>D4,"_encode"),_emoji:a(()=>u6,"_emoji"),_email:a(()=>i6,"_email"),_e164:a(()=>x6,"_e164"),_discriminatedUnion:a(()=>dq,"_discriminatedUnion"),_default:a(()=>Eq,"_default"),_decodeAsync:a(()=>z4,"_decodeAsync"),_decode:a(()=>j4,"_decode"),_date:a(()=>SO,"_date"),_custom:a(()=>PO,"_custom"),_cuid2:a(()=>h6,"_cuid2"),_cuid:a(()=>d6,"_cuid"),_coercedString:a(()=>q8,"_coercedString"),_coercedNumber:a(()=>sO,"_coercedNumber"),_coercedDate:a(()=>kO,"_coercedDate"),_coercedBoolean:a(()=>fO,"_coercedBoolean"),_coercedBigint:a(()=>mO,"_coercedBigint"),_cidrv6:a(()=>y6,"_cidrv6"),_cidrv4:a(()=>b6,"_cidrv4"),_check:a(()=>jO,"_check"),_catch:a(()=>Aq,"_catch"),_boolean:a(()=>hO,"_boolean"),_bigint:a(()=>pO,"_bigint"),_base64url:a(()=>_6,"_base64url"),_base64:a(()=>w6,"_base64"),_array:a(()=>OO,"_array"),_any:a(()=>_O,"_any"),TimePrecision:a(()=>eO,"TimePrecision"),NEVER:a(()=>_I,"NEVER"),JSONSchemaGenerator:a(()=>_1,"JSONSchemaGenerator"),JSONSchema:a(()=>Oq,"JSONSchema"),Doc:a(()=>LM,"Doc"),$output:a(()=>K8,"$output"),$input:a(()=>W8,"$input"),$constructor:a(()=>He,"$constructor"),$brand:a(()=>xI,"$brand"),$ZodXID:a(()=>ZM,"$ZodXID"),$ZodVoid:a(()=>g8,"$ZodVoid"),$ZodUnknown:a(()=>m8,"$ZodUnknown"),$ZodUnion:a(()=>Q4,"$ZodUnion"),$ZodUndefined:a(()=>h8,"$ZodUndefined"),$ZodUUID:a(()=>BM,"$ZodUUID"),$ZodURL:a(()=>FM,"$ZodURL"),$ZodULID:a(()=>YM,"$ZodULID"),$ZodType:a(()=>qt,"$ZodType"),$ZodTuple:a(()=>q4,"$ZodTuple"),$ZodTransform:a(()=>M8,"$ZodTransform"),$ZodTemplateLiteral:a(()=>H8,"$ZodTemplateLiteral"),$ZodSymbol:a(()=>d8,"$ZodSymbol"),$ZodSuccess:a(()=>j8,"$ZodSuccess"),$ZodStringFormat:a(()=>zr,"$ZodStringFormat"),$ZodString:a(()=>Fh,"$ZodString"),$ZodSet:a(()=>T8,"$ZodSet"),$ZodRegistry:a(()=>r6,"$ZodRegistry"),$ZodRecord:a(()=>k8,"$ZodRecord"),$ZodRealError:a(()=>Ui,"$ZodRealError"),$ZodReadonly:a(()=>U8,"$ZodReadonly"),$ZodPromise:a(()=>V8,"$ZodPromise"),$ZodPrefault:a(()=>L8,"$ZodPrefault"),$ZodPipe:a(()=>F8,"$ZodPipe"),$ZodOptional:a(()=>O8,"$ZodOptional"),$ZodObjectJIT:a(()=>x8,"$ZodObjectJIT"),$ZodObject:a(()=>_8,"$ZodObject"),$ZodNumberFormat:a(()=>u8,"$ZodNumberFormat"),$ZodNumber:a(()=>X4,"$ZodNumber"),$ZodNullable:a(()=>R8,"$ZodNullable"),$ZodNull:a(()=>f8,"$ZodNull"),$ZodNonOptional:a(()=>D8,"$ZodNonOptional"),$ZodNever:a(()=>W4,"$ZodNever"),$ZodNanoID:a(()=>HM,"$ZodNanoID"),$ZodNaN:a(()=>z8,"$ZodNaN"),$ZodMap:a(()=>A8,"$ZodMap"),$ZodLiteral:a(()=>C8,"$ZodLiteral"),$ZodLazy:a(()=>Y8,"$ZodLazy"),$ZodKSUID:a(()=>$M,"$ZodKSUID"),$ZodJWT:a(()=>o8,"$ZodJWT"),$ZodIntersection:a(()=>S8,"$ZodIntersection"),$ZodISOTime:a(()=>KM,"$ZodISOTime"),$ZodISODuration:a(()=>WM,"$ZodISODuration"),$ZodISODateTime:a(()=>XM,"$ZodISODateTime"),$ZodISODate:a(()=>JM,"$ZodISODate"),$ZodIPv6:a(()=>qM,"$ZodIPv6"),$ZodIPv4:a(()=>QM,"$ZodIPv4"),$ZodGUID:a(()=>jM,"$ZodGUID"),$ZodFunction:a(()=>G8,"$ZodFunction"),$ZodFile:a(()=>I8,"$ZodFile"),$ZodError:a(()=>R4,"$ZodError"),$ZodEnum:a(()=>N8,"$ZodEnum"),$ZodEncodeError:a(()=>Nm,"$ZodEncodeError"),$ZodEmoji:a(()=>UM,"$ZodEmoji"),$ZodEmail:a(()=>zM,"$ZodEmail"),$ZodE164:a(()=>a8,"$ZodE164"),$ZodDiscriminatedUnion:a(()=>E8,"$ZodDiscriminatedUnion"),$ZodDefault:a(()=>P8,"$ZodDefault"),$ZodDate:a(()=>v8,"$ZodDate"),$ZodCustomStringFormat:a(()=>l8,"$ZodCustomStringFormat"),$ZodCustom:a(()=>Z8,"$ZodCustom"),$ZodCodec:a(()=>e6,"$ZodCodec"),$ZodCheckUpperCase:a(()=>NM,"$ZodCheckUpperCase"),$ZodCheckStringFormat:a(()=>zh,"$ZodCheckStringFormat"),$ZodCheckStartsWith:a(()=>IM,"$ZodCheckStartsWith"),$ZodCheckSizeEquals:a(()=>xM,"$ZodCheckSizeEquals"),$ZodCheckRegex:a(()=>AM,"$ZodCheckRegex"),$ZodCheckProperty:a(()=>OM,"$ZodCheckProperty"),$ZodCheckOverwrite:a(()=>PM,"$ZodCheckOverwrite"),$ZodCheckNumberFormat:a(()=>bM,"$ZodCheckNumberFormat"),$ZodCheckMultipleOf:a(()=>vM,"$ZodCheckMultipleOf"),$ZodCheckMinSize:a(()=>_M,"$ZodCheckMinSize"),$ZodCheckMinLength:a(()=>SM,"$ZodCheckMinLength"),$ZodCheckMimeType:a(()=>RM,"$ZodCheckMimeType"),$ZodCheckMaxSize:a(()=>wM,"$ZodCheckMaxSize"),$ZodCheckMaxLength:a(()=>EM,"$ZodCheckMaxLength"),$ZodCheckLowerCase:a(()=>TM,"$ZodCheckLowerCase"),$ZodCheckLessThan:a(()=>Y4,"$ZodCheckLessThan"),$ZodCheckLengthEquals:a(()=>kM,"$ZodCheckLengthEquals"),$ZodCheckIncludes:a(()=>CM,"$ZodCheckIncludes"),$ZodCheckGreaterThan:a(()=>Z4,"$ZodCheckGreaterThan"),$ZodCheckEndsWith:a(()=>MM,"$ZodCheckEndsWith"),$ZodCheckBigIntFormat:a(()=>yM,"$ZodCheckBigIntFormat"),$ZodCheck:a(()=>an,"$ZodCheck"),$ZodCatch:a(()=>B8,"$ZodCatch"),$ZodCUID2:a(()=>VM,"$ZodCUID2"),$ZodCUID:a(()=>GM,"$ZodCUID"),$ZodCIDRv6:a(()=>t8,"$ZodCIDRv6"),$ZodCIDRv4:a(()=>e8,"$ZodCIDRv4"),$ZodBoolean:a(()=>J4,"$ZodBoolean"),$ZodBigIntFormat:a(()=>c8,"$ZodBigIntFormat"),$ZodBigInt:a(()=>K4,"$ZodBigInt"),$ZodBase64URL:a(()=>i8,"$ZodBase64URL"),$ZodBase64:a(()=>r8,"$ZodBase64"),$ZodAsyncError:a(()=>xl,"$ZodAsyncError"),$ZodArray:a(()=>b8,"$ZodArray"),$ZodAny:a(()=>p8,"$ZodAny")});var _I=Object.freeze({status:"aborted"});function He(e,t,r){function n(l,u){var c;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(c=l._zod).traits??(c.traits=new Set),l._zod.traits.add(e),t(l,u);for(let h in o.prototype)h in l||Object.defineProperty(l,h,{value:o.prototype[h].bind(l)});l._zod.constr=o,l._zod.def=u}a(n,"P");let i=r?.Parent??Object;class s extends i{static{a(this,"Y")}}Object.defineProperty(s,"name",{value:e});function o(l){var u;let c=r?.Parent?new s:this;n(c,l),(u=c._zod).deferred??(u.deferred=[]);for(let h of c._zod.deferred)h();return c}return a(o,"O"),Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:a(l=>r?.Parent&&l instanceof r.Parent?!0:l?._zod?.traits?.has(e),"value")}),Object.defineProperty(o,"name",{value:e}),o}a(He,"O$");var xI=Symbol("zod_brand");class xl extends Error{static{a(this,"o8")}constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Nm extends Error{static{a(this,"T_")}constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}var X0={};function ni(e){return e&&Object.assign(X0,e),X0}a(ni,"o6");var gr={};_i(gr,{unwrapMessage:a(()=>nd,"unwrapMessage"),uint8ArrayToHex:a(()=>VK,"uint8ArrayToHex"),uint8ArrayToBase64url:a(()=>HK,"uint8ArrayToBase64url"),uint8ArrayToBase64:a(()=>MI,"uint8ArrayToBase64"),stringifyPrimitive:a(()=>Wt,"stringifyPrimitive"),shallowClone:a(()=>kI,"shallowClone"),safeExtend:a(()=>DK,"safeExtend"),required:a(()=>zK,"required"),randomString:a(()=>CK,"randomString"),propertyKeyTypes:a(()=>K0,"propertyKeyTypes"),promiseAllObject:a(()=>NK,"promiseAllObject"),primitiveTypes:a(()=>AI,"primitiveTypes"),prefixIssues:a(()=>xa,"prefixIssues"),pick:a(()=>RK,"pick"),partial:a(()=>BK,"partial"),optionalKeys:a(()=>TI,"optionalKeys"),omit:a(()=>PK,"omit"),objectClone:a(()=>kK,"objectClone"),numKeys:a(()=>IK,"numKeys"),nullish:a(()=>Vl,"nullish"),normalizeParams:a(()=>kt,"normalizeParams"),mergeDefs:a(()=>Uo,"mergeDefs"),merge:a(()=>jK,"merge"),jsonStringifyReplacer:a(()=>J0,"jsonStringifyReplacer"),joinValues:a(()=>St,"joinValues"),issue:a(()=>W0,"issue"),isPlainObject:a(()=>Ol,"isPlainObject"),isObject:a(()=>zu,"isObject"),hexToUint8Array:a(()=>GK,"hexToUint8Array"),getSizableOrigin:a(()=>Im,"getSizableOrigin"),getParsedType:a(()=>MK,"getParsedType"),getLengthableOrigin:a(()=>Mm,"getLengthableOrigin"),getEnumValues:a(()=>M4,"getEnumValues"),getElementAtPath:a(()=>TK,"getElementAtPath"),floatSafeRemainder:a(()=>EI,"floatSafeRemainder"),finalizeIssue:a(()=>Ca,"finalizeIssue"),extend:a(()=>LK,"extend"),escapeRegex:a(()=>Io,"escapeRegex"),esc:a(()=>b1,"esc"),defineLazy:a(()=>fr,"defineLazy"),createTransparentProxy:a(()=>OK,"createTransparentProxy"),cloneDef:a(()=>AK,"cloneDef"),clone:a(()=>Zn,"clone"),cleanRegex:a(()=>Cm,"cleanRegex"),cleanEnum:a(()=>FK,"cleanEnum"),captureStackTrace:a(()=>O4,"captureStackTrace"),cached:a(()=>Oh,"cached"),base64urlToUint8Array:a(()=>UK,"base64urlToUint8Array"),base64ToUint8Array:a(()=>II,"base64ToUint8Array"),assignProp:a(()=>Fo,"assignProp"),assertNotEqual:a(()=>_K,"assertNotEqual"),assertNever:a(()=>EK,"assertNever"),assertIs:a(()=>xK,"assertIs"),assertEqual:a(()=>wK,"assertEqual"),assert:a(()=>SK,"assert"),allowsEval:a(()=>SI,"allowsEval"),aborted:a(()=>cl,"aborted"),NUMBER_FORMAT_RANGES:a(()=>NI,"NUMBER_FORMAT_RANGES"),Class:a(()=>YK,"Class"),BIGINT_FORMAT_RANGES:a(()=>CI,"BIGINT_FORMAT_RANGES")});function wK(e){return e}a(wK,"jI");function _K(e){return e}a(_K,"vI");function xK(e){}a(xK,"zI");function EK(e){throw Error()}a(EK,"WI");function SK(e){}a(SK,"HI");function M4(e){let t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,n])=>t.indexOf(+r)===-1).map(([r,n])=>n)}a(M4,"IP");function St(e,t="|"){return e.map(r=>Wt(r)).join(t)}a(St,"T$");function J0(e,t){return typeof t=="bigint"?t.toString():t}a(J0,"U_");function Oh(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}a(Oh,"F_");function Vl(e){return e==null}a(Vl,"mK");function Cm(e){let t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}a(Cm,"DP");function EI(e,t){let r=(e.toString().split(".")[1]||"").length,n=t.toString(),i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){let u=n.match(/\d?e-(\d?)/);u?.[1]&&(i=Number.parseInt(u[1]))}let s=r>i?r:i,o=Number.parseInt(e.toFixed(s).replace(".","")),l=Number.parseInt(t.toFixed(s).replace(".",""));return o%l/10**s}a(EI,"B2");var A5=Symbol("evaluating");function fr(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==A5)return n===void 0&&(n=A5,n=r()),n},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}a(fr,"A6");function kK(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}a(kK,"JI");function Fo(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}a(Fo,"dK");function Uo(...e){let t={};for(let r of e){let n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}a(Uo,"lK");function AK(e){return Uo(e._zod.def)}a(AK,"TI");function TK(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}a(TK,"wI");function NK(e){let t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{let i={};for(let s=0;s<t.length;s++)i[t[s]]=n[s];return i})}a(NK,"fI");function CK(e=10){let t="";for(let r=0;r<e;r++)t+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return t}a(CK,"ZI");function b1(e){return JSON.stringify(e)}a(b1,"J9");var O4="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function zu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}a(zu,"w_");var SI=Oh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch{return!1}});function Ol(e){if(zu(e)===!1)return!1;let t=e.constructor;if(t===void 0)return!0;let r=t.prototype;return!(zu(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}a(Ol,"rK");function kI(e){return Ol(e)?{...e}:Array.isArray(e)?[...e]:e}a(kI,"F2");function IK(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}a(IK,"XI");var MK=a(e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw Error(`Unknown data type: ${t}`)}},"AI"),K0=new Set(["string","number","symbol"]),AI=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Io(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}a(Io,"n8");function Zn(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}a(Zn,"n6");function kt(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:a(()=>t,"error")};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:a(()=>t.error,"error")}:t}a(kt,"d$");function OK(e){let t;return new Proxy({},{get(r,n,i){return t??(t=e()),Reflect.get(t,n,i)},set(r,n,i,s){return t??(t=e()),Reflect.set(t,n,i,s)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,i){return t??(t=e()),Reflect.defineProperty(t,n,i)}})}a(OK,"kI");function Wt(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}a(Wt,"m$");function TI(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}a(TI,"Q2");var NI={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},CI={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function RK(e,t){let r=e._zod.def,n=Uo(e._zod.def,{get shape(){let i={};for(let s in t){if(!(s in r.shape))throw Error(`Unrecognized key: "${s}"`);t[s]&&(i[s]=r.shape[s])}return Fo(this,"shape",i),i},checks:[]});return Zn(e,n)}a(RK,"GI");function PK(e,t){let r=e._zod.def,n=Uo(e._zod.def,{get shape(){let i={...e._zod.def.shape};for(let s in t){if(!(s in r.shape))throw Error(`Unrecognized key: "${s}"`);t[s]&&delete i[s]}return Fo(this,"shape",i),i},checks:[]});return Zn(e,n)}a(PK,"VI");function LK(e,t){if(!Ol(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let n=Uo(e._zod.def,{get shape(){let i={...e._zod.def.shape,...t};return Fo(this,"shape",i),i},checks:[]});return Zn(e,n)}a(LK,"SI");function DK(e,t){if(!Ol(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return Fo(this,"shape",n),n},checks:e._zod.def.checks};return Zn(e,r)}a(DK,"MI");function jK(e,t){let r=Uo(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t._zod.def.shape};return Fo(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Zn(e,r)}a(jK,"NI");function BK(e,t,r){let n=Uo(t._zod.def,{get shape(){let i=t._zod.def.shape,s={...i};if(r)for(let o in r){if(!(o in i))throw Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=e?new e({type:"optional",innerType:i[o]}):i[o])}else for(let o in i)s[o]=e?new e({type:"optional",innerType:i[o]}):i[o];return Fo(this,"shape",s),s},checks:[]});return Zn(t,n)}a(BK,"CI");function zK(e,t,r){let n=Uo(t._zod.def,{get shape(){let i=t._zod.def.shape,s={...i};if(r)for(let o in r){if(!(o in s))throw Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=new e({type:"nonoptional",innerType:i[o]}))}else for(let o in i)s[o]=new e({type:"nonoptional",innerType:i[o]});return Fo(this,"shape",s),s},checks:[]});return Zn(t,n)}a(zK,"hI");function cl(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}a(cl,"oK");function xa(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}a(xa,"O8");function nd(e){return typeof e=="string"?e:e?.message}a(nd,"RP");function Ca(e,t,r){let n={...e,path:e.path??[]};if(!e.message){let i=nd(e.inst?._zod.def?.error?.(e))??nd(t?.error?.(e))??nd(r.customError?.(e))??nd(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,!t?.reportInput&&delete n.input,n}a(Ca,"Y8");function Im(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}a(Im,"gP");function Mm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}a(Mm,"bP");function W0(...e){let[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}a(W0,"a_");function FK(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}a(FK,"EI");function II(e){let t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}a(II,"LX");function MI(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}a(MI,"gX");function UK(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return II(t+r)}a(UK,"RI");function HK(e){return MI(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}a(HK,"II");function GK(e){let t=e.replace(/^0x/,"");if(t.length%2!==0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)r[n/2]=Number.parseInt(t.slice(n,n+2),16);return r}a(GK,"DI");function VK(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}a(VK,"LI");class YK{static{a(this,"bX")}constructor(...t){}}var OI=a((e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,J0,2),Object.defineProperty(e,"toString",{value:a(()=>e.message,"value"),enumerable:!1})},"yX"),R4=He("$ZodError",OI),Ui=He("$ZodError",OI,{Parent:Error});function P4(e,t=r=>r.message){let r={},n=[];for(let i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}a(P4,"uP");function L4(e,t){let r=t||function(s){return s.message},n={_errors:[]},i=a(s=>{for(let o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(l=>i({issues:l}));else if(o.code==="invalid_key")i({issues:o.issues});else if(o.code==="invalid_element")i({issues:o.issues});else if(o.path.length===0)n._errors.push(r(o));else{let l=n,u=0;for(;u<o.path.length;){let c=o.path[u];u!==o.path.length-1?l[c]=l[c]||{_errors:[]}:(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(o))),l=l[c],u++}}},"_");return i(e),n}a(L4,"xP");function RI(e,t){let r=t||function(s){return s.message},n={errors:[]},i=a((s,o=[])=>{var l,u;for(let c of s.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(h=>i({issues:h},c.path));else if(c.code==="invalid_key")i({issues:c.issues},c.path);else if(c.code==="invalid_element")i({issues:c.issues},c.path);else{let h=[...o,...c.path];if(h.length===0){n.errors.push(r(c));continue}let d=n,g=0;for(;g<h.length;){let m=h[g],y=g===h.length-1;typeof m=="string"?(d.properties??(d.properties={}),(l=d.properties)[m]??(l[m]={errors:[]}),d=d.properties[m]):(d.items??(d.items=[]),(u=d.items)[m]??(u[m]={errors:[]}),d=d.items[m]),y&&d.errors.push(r(c)),g++}}},"_");return i(e),n}a(RI,"$Y");function PI(e){let t=[],r=e.map(n=>typeof n=="object"?n.key:n);for(let n of r)typeof n=="number"?t.push(`[${n}]`):typeof n=="symbol"?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}a(PI,"uX");function LI(e){let t=[],r=[...e.issues].sort((n,i)=>(n.path??[]).length-(i.path??[]).length);for(let n of r)t.push(` ${n.message}`),n.path?.length&&t.push(`   at ${PI(n.path)}`);return t.join(`
`)}a(LI,"qY");var Rh=a(e=>(t,r,n,i)=>{let s=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new xl;if(o.issues.length){let l=new(i?.Err??e)(o.issues.map(u=>Ca(u,s,ni())));throw O4(l,i?.callee),l}return o.value},"Q_"),y1=Rh(Ui),Ph=a(e=>async(t,r,n,i)=>{let s=n?Object.assign(n,{async:!0}):{async:!0},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){let l=new(i?.Err??e)(o.issues.map(u=>Ca(u,s,ni())));throw O4(l,i?.callee),l}return o.value},"e_"),Q0=Ph(Ui),Lh=a(e=>(t,r,n)=>{let i=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new xl;return s.issues.length?{success:!1,error:new(e??R4)(s.issues.map(o=>Ca(o,i,ni())))}:{success:!0,data:s.value}},"$42"),DI=Lh(Ui),Dh=a(e=>async(t,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>Ca(o,i,ni())))}:{success:!0,data:s.value}},"q4"),jI=Dh(Ui),D4=a(e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Rh(e)(t,r,i)},"w9"),ZK=D4(Ui),j4=a(e=>(t,r,n)=>Rh(e)(t,r,n),"f9"),$K=j4(Ui),B4=a(e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Ph(e)(t,r,i)},"Z9"),XK=B4(Ui),z4=a(e=>async(t,r,n)=>Ph(e)(t,r,n),"X9"),JK=z4(Ui),F4=a(e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Lh(e)(t,r,i)},"A9"),KK=F4(Ui),U4=a(e=>(t,r,n)=>Lh(e)(t,r,n),"k9"),WK=U4(Ui),H4=a(e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Dh(e)(t,r,i)},"G9"),QK=H4(Ui),G4=a(e=>async(t,r,n)=>Dh(e)(t,r,n),"V9"),qK=G4(Ui),Yl={};_i(Yl,{xid:a(()=>UI,"xid"),uuid7:a(()=>nW,"uuid7"),uuid6:a(()=>rW,"uuid6"),uuid4:a(()=>tW,"uuid4"),uuid:a(()=>Fu,"uuid"),uppercase:a(()=>mM,"uppercase"),unicodeEmail:a(()=>$I,"unicodeEmail"),undefined:a(()=>fM,"undefined"),ulid:a(()=>FI,"ulid"),time:a(()=>aM,"time"),string:a(()=>oM,"string"),sha512_hex:a(()=>xW,"sha512_hex"),sha512_base64url:a(()=>SW,"sha512_base64url"),sha512_base64:a(()=>EW,"sha512_base64"),sha384_hex:a(()=>yW,"sha384_hex"),sha384_base64url:a(()=>_W,"sha384_base64url"),sha384_base64:a(()=>wW,"sha384_base64"),sha256_hex:a(()=>gW,"sha256_hex"),sha256_base64url:a(()=>bW,"sha256_base64url"),sha256_base64:a(()=>vW,"sha256_base64"),sha1_hex:a(()=>fW,"sha1_hex"),sha1_base64url:a(()=>mW,"sha1_base64url"),sha1_base64:a(()=>pW,"sha1_base64"),rfc5322Email:a(()=>aW,"rfc5322Email"),number:a(()=>cM,"number"),null:a(()=>hM,"null"),nanoid:a(()=>GI,"nanoid"),md5_hex:a(()=>cW,"md5_hex"),md5_base64url:a(()=>hW,"md5_base64url"),md5_base64:a(()=>dW,"md5_base64"),lowercase:a(()=>pM,"lowercase"),ksuid:a(()=>HI,"ksuid"),ipv6:a(()=>KI,"ipv6"),ipv4:a(()=>JI,"ipv4"),integer:a(()=>uM,"integer"),idnEmail:a(()=>sW,"idnEmail"),html5Email:a(()=>iW,"html5Email"),hostname:a(()=>eM,"hostname"),hex:a(()=>uW,"hex"),guid:a(()=>YI,"guid"),extendedDuration:a(()=>eW,"extendedDuration"),emoji:a(()=>XI,"emoji"),email:a(()=>ZI,"email"),e164:a(()=>tM,"e164"),duration:a(()=>VI,"duration"),domain:a(()=>lW,"domain"),datetime:a(()=>sM,"datetime"),date:a(()=>nM,"date"),cuid2:a(()=>zI,"cuid2"),cuid:a(()=>BI,"cuid"),cidrv6:a(()=>QI,"cidrv6"),cidrv4:a(()=>WI,"cidrv4"),browserEmail:a(()=>oW,"browserEmail"),boolean:a(()=>dM,"boolean"),bigint:a(()=>lM,"bigint"),base64url:a(()=>V4,"base64url"),base64:a(()=>qI,"base64")});var BI=/^[cC][^\s-]{8,}$/,zI=/^[0-9a-z]+$/,FI=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,UI=/^[0-9a-vA-V]{20}$/,HI=/^[A-Za-z0-9]{27}$/,GI=/^[a-zA-Z0-9_-]{21}$/,VI=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,eW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,YI=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Fu=a(e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,"f_"),tW=Fu(4),rW=Fu(6),nW=Fu(7),ZI=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,iW=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,aW=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,$I=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,sW=$I,oW=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function XI(){return new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}a(XI,"TY");var JI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KI=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,WI=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,QI=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qI=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,V4=/^[A-Za-z0-9_-]*$/,eM=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,lW=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,tM=/^\+(?:[0-9]){6,14}[0-9]$/,rM="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",nM=new RegExp(`^${rM}$`);function iM(e){return typeof e.precision=="number"?e.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":e.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${e.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}a(iM,"cX");function aM(e){return new RegExp(`^${iM(e)}$`)}a(aM,"SY");function sM(e){let t=iM({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${t}(?:${r.join("|")})`;return new RegExp(`^${rM}T(?:${n})$`)}a(sM,"MY");var oM=a(e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},"NY"),lM=/^-?\d+n?$/,uM=/^-?\d+$/,cM=/^-?\d+(?:\.\d+)?/,dM=/^(?:true|false)$/i,hM=/^null$/i,fM=/^undefined$/i,pM=/^[^A-Z]*$/,mM=/^[^a-z]*$/,uW=/^[0-9a-fA-F]*$/;function jh(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}a(jh,"cP");function Bh(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}a(Bh,"mP");var cW=/^[0-9a-fA-F]{32}$/,dW=jh(22,"=="),hW=Bh(22),fW=/^[0-9a-fA-F]{40}$/,pW=jh(27,"="),mW=Bh(27),gW=/^[0-9a-fA-F]{64}$/,vW=jh(43,"="),bW=Bh(43),yW=/^[0-9a-fA-F]{96}$/,wW=jh(64,""),_W=Bh(64),xW=/^[0-9a-fA-F]{128}$/,EW=jh(86,"=="),SW=Bh(86),an=He("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),gM={number:"number",bigint:"bigint",object:"date"},Y4=He("$ZodCheckLessThan",(e,t)=>{an.init(e,t);let r=gM[typeof t.value];e._zod.onattach.push(n=>{let i=n._zod.bag,s=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Z4=He("$ZodCheckGreaterThan",(e,t)=>{an.init(e,t);let r=gM[typeof t.value];e._zod.onattach.push(n=>{let i=n._zod.bag,s=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),vM=He("$ZodCheckMultipleOf",(e,t)=>{an.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):EI(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),bM=He("$ZodCheckNumberFormat",(e,t)=>{an.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[i,s]=NI[t.format];e._zod.onattach.push(o=>{let l=o._zod.bag;l.format=t.format,l.minimum=i,l.maximum=s,r&&(l.pattern=uM)}),e._zod.check=o=>{let l=o.value;if(r){if(!Number.isInteger(l)){o.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}l<i&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),l>s&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inst:e})}}),yM=He("$ZodCheckBigIntFormat",(e,t)=>{an.init(e,t);let[r,n]=CI[t.format];e._zod.onattach.push(i=>{let s=i._zod.bag;s.format=t.format,s.minimum=r,s.maximum=n}),e._zod.check=i=>{let s=i.value;s<r&&i.issues.push({origin:"bigint",input:s,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),s>n&&i.issues.push({origin:"bigint",input:s,code:"too_big",maximum:n,inst:e})}}),wM=He("$ZodCheckMaxSize",(e,t)=>{var r;an.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Vl(i)&&i.size!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let i=n.value;i.size<=t.maximum||n.issues.push({origin:Im(i),code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),_M=He("$ZodCheckMinSize",(e,t)=>{var r;an.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Vl(i)&&i.size!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let i=n.value;i.size>=t.minimum||n.issues.push({origin:Im(i),code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),xM=He("$ZodCheckSizeEquals",(e,t)=>{var r;an.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Vl(i)&&i.size!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=t.size,i.maximum=t.size,i.size=t.size}),e._zod.check=n=>{let i=n.value,s=i.size;if(s===t.size)return;let o=s>t.size;n.issues.push({origin:Im(i),...o?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),EM=He("$ZodCheckMaxLength",(e,t)=>{var r;an.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Vl(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let i=n.value;if(i.length<=t.maximum)return;let s=Mm(i);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),SM=He("$ZodCheckMinLength",(e,t)=>{var r;an.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Vl(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let i=n.value;if(i.length>=t.minimum)return;let s=Mm(i);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),kM=He("$ZodCheckLengthEquals",(e,t)=>{var r;an.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Vl(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=n=>{let i=n.value,s=i.length;if(s===t.length)return;let o=Mm(i),l=s>t.length;n.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),zh=He("$ZodCheckStringFormat",(e,t)=>{var r,n;an.init(e,t),e._zod.onattach.push(i=>{let s=i._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),AM=He("$ZodCheckRegex",(e,t)=>{zh.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),TM=He("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=pM),zh.init(e,t)}),NM=He("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=mM),zh.init(e,t)}),CM=He("$ZodCheckIncludes",(e,t)=>{an.init(e,t);let r=Io(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(i=>{let s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),IM=He("$ZodCheckStartsWith",(e,t)=>{an.init(e,t);let r=new RegExp(`^${Io(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),MM=He("$ZodCheckEndsWith",(e,t)=>{an.init(e,t);let r=new RegExp(`.*${Io(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function T5(e,t,r){e.issues.length&&t.issues.push(...xa(r,e.issues))}a(T5,"mX");var OM=He("$ZodCheckProperty",(e,t)=>{an.init(e,t),e._zod.check=r=>{let n=t.schema._zod.run({value:r.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(i=>T5(i,r,t.property));T5(n,r,t.property)}}),RM=He("$ZodCheckMimeType",(e,t)=>{an.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(n=>{n._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),PM=He("$ZodCheckOverwrite",(e,t)=>{an.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class LM{static{a(this,"C9")}constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}let r=t.split(`
`).filter(s=>s),n=Math.min(...r.map(s=>s.length-s.trimStart().length)),i=r.map(s=>s.slice(n)).map(s=>" ".repeat(this.indent*2)+s);for(let s of i)this.content.push(s)}compile(){let t=Function,r=this?.args,n=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,n.join(`
`))}}var DM={major:4,minor:1,patch:11},qt=He("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=DM;let n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(let i of n)for(let s of i._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let i=a((o,l,u)=>{let c=cl(o),h;for(let d of l){if(d._zod.def.when){if(!d._zod.def.when(o))continue}else if(c)continue;let g=o.issues.length,m=d._zod.check(o);if(m instanceof Promise&&u?.async===!1)throw new xl;if(h||m instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await m,o.issues.length!==g&&(c||(c=cl(o,g)))});else{if(o.issues.length===g)continue;c||(c=cl(o,g))}}return h?h.then(()=>o):o},"_"),s=a((o,l,u)=>{if(cl(o))return o.aborted=!0,o;let c=i(l,n,u);if(c instanceof Promise){if(u.async===!1)throw new xl;return c.then(h=>e._zod.parse(h,u))}return e._zod.parse(c,u)},"Y");e._zod.run=(o,l)=>{if(l.skipChecks)return e._zod.parse(o,l);if(l.direction==="backward"){let c=e._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return c instanceof Promise?c.then(h=>s(h,o,l)):s(c,o,l)}let u=e._zod.parse(o,l);if(u instanceof Promise){if(l.async===!1)throw new xl;return u.then(c=>i(c,n,l))}return i(u,n,l)}}e["~standard"]={validate:a(i=>{try{let s=DI(e,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return jI(e,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},"validate"),vendor:"zod",version:1}}),Fh=He("$ZodString",(e,t)=>{qt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??oM(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),zr=He("$ZodStringFormat",(e,t)=>{zh.init(e,t),Fh.init(e,t)}),jM=He("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=YI),zr.init(e,t)}),BM=He("$ZodUUID",(e,t)=>{if(t.version){let r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Fu(r))}else t.pattern??(t.pattern=Fu());zr.init(e,t)}),zM=He("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=ZI),zr.init(e,t)}),FM=He("$ZodURL",(e,t)=>{zr.init(e,t),e._zod.check=r=>{try{let n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,!t.hostname.test(i.hostname)&&r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:eM.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,!t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)&&r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),UM=He("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=XI()),zr.init(e,t)}),HM=He("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=GI),zr.init(e,t)}),GM=He("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=BI),zr.init(e,t)}),VM=He("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=zI),zr.init(e,t)}),YM=He("$ZodULID",(e,t)=>{t.pattern??(t.pattern=FI),zr.init(e,t)}),ZM=He("$ZodXID",(e,t)=>{t.pattern??(t.pattern=UI),zr.init(e,t)}),$M=He("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=HI),zr.init(e,t)}),XM=He("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=sM(t)),zr.init(e,t)}),JM=He("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=nM),zr.init(e,t)}),KM=He("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=aM(t)),zr.init(e,t)}),WM=He("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=VI),zr.init(e,t)}),QM=He("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=JI),zr.init(e,t),e._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv4"})}),qM=He("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=KI),zr.init(e,t),e._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),e8=He("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=WI),zr.init(e,t)}),t8=He("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=QI),zr.init(e,t),e._zod.check=r=>{let n=r.value.split("/");try{if(n.length!==2)throw Error();let[i,s]=n;if(!s)throw Error();let o=Number(s);if(`${o}`!==s||o<0||o>128)throw Error();new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function $4(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}a($4,"Aj");var r8=He("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=qI),zr.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{$4(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function n8(e){if(!V4.test(e))return!1;let t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return $4(r)}a(n8,"eX");var i8=He("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=V4),zr.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{n8(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),a8=He("$ZodE164",(e,t)=>{t.pattern??(t.pattern=tM),zr.init(e,t)});function s8(e,t=null){try{let r=e.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}a(s8,"sX");var o8=He("$ZodJWT",(e,t)=>{zr.init(e,t),e._zod.check=r=>{s8(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),l8=He("$ZodCustomStringFormat",(e,t)=>{zr.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),X4=He("$ZodNumber",(e,t)=>{qt.init(e,t),e._zod.pattern=e._zod.bag.pattern??cM,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}let i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;let s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),r}}),u8=He("$ZodNumber",(e,t)=>{bM.init(e,t),X4.init(e,t)}),J4=He("$ZodBoolean",(e,t)=>{qt.init(e,t),e._zod.pattern=dM,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}let i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),r}}),K4=He("$ZodBigInt",(e,t)=>{qt.init(e,t),e._zod.pattern=lM,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),c8=He("$ZodBigInt",(e,t)=>{yM.init(e,t),K4.init(e,t)}),d8=He("$ZodSymbol",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;return typeof i=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),r}}),h8=He("$ZodUndefined",(e,t)=>{qt.init(e,t),e._zod.pattern=fM,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),r}}),f8=He("$ZodNull",(e,t)=>{qt.init(e,t),e._zod.pattern=hM,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{let i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),r}}),p8=He("$ZodAny",(e,t)=>{qt.init(e,t),e._zod.parse=r=>r}),m8=He("$ZodUnknown",(e,t)=>{qt.init(e,t),e._zod.parse=r=>r}),W4=He("$ZodNever",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),g8=He("$ZodVoid",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),r}}),v8=He("$ZodDate",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}let i=r.value,s=i instanceof Date;return s&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...s?{received:"Invalid Date"}:{},inst:e}),r}});function N5(e,t,r){e.issues.length&&t.issues.push(...xa(r,e.issues)),t.value[r]=e.value}a(N5,"rX");var b8=He("$ZodArray",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);let s=[];for(let o=0;o<i.length;o++){let l=i[o],u=t.element._zod.run({value:l,issues:[]},n);u instanceof Promise?s.push(u.then(c=>N5(c,r,o))):N5(u,r,o)}return s.length?Promise.all(s).then(()=>r):r}});function q0(e,t,r,n){e.issues.length&&t.issues.push(...xa(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}a(q0,"D9");function y8(e){let t=Object.keys(e.shape);for(let n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${n}": expected a Zod schema`);let r=TI(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}a(y8,"$A");function w8(e,t,r,n,i,s){let o=[],l=i.keySet,u=i.catchall._zod,c=u.def.type;for(let h of Object.keys(t)){if(l.has(h))continue;if(c==="never"){o.push(h);continue}let d=u.run({value:t[h],issues:[]},n);d instanceof Promise?e.push(d.then(g=>q0(g,r,h,t))):q0(d,r,h,t)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}a(w8,"qA");var _8=He("$ZodObject",(e,t)=>{if(qt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){let o=t.shape;Object.defineProperty(t,"shape",{get:a(()=>{let l={...o};return Object.defineProperty(t,"shape",{value:l}),l},"get")})}let r=Oh(()=>y8(t));fr(e._zod,"propValues",()=>{let o=t.shape,l={};for(let u in o){let c=o[u]._zod;if(c.values){l[u]??(l[u]=new Set);for(let h of c.values)l[u].add(h)}}return l});let n=zu,i=t.catchall,s;e._zod.parse=(o,l)=>{s??(s=r.value);let u=o.value;if(!n(u))return o.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),o;o.value={};let c=[],h=s.shape;for(let d of s.keys){let g=h[d]._zod.run({value:u[d],issues:[]},l);g instanceof Promise?c.push(g.then(m=>q0(m,o,d,u))):q0(g,o,d,u)}return i?w8(c,u,o,l,r.value,e):c.length?Promise.all(c).then(()=>o):o}}),x8=He("$ZodObjectJIT",(e,t)=>{_8.init(e,t);let r=e._zod.parse,n=Oh(()=>y8(t)),i=a(d=>{let g=new LM(["shape","payload","ctx"]),m=n.value,y=a(M=>{let R=b1(M);return`shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`},"E");g.write("const input = payload.value;");let x=Object.create(null),A=0;for(let M of m.keys)x[M]=`key_${A++}`;g.write("const newResult = {};");for(let M of m.keys){let R=x[M],P=b1(M);g.write(`const ${R} = ${y(M)};`),g.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${P}, ...iss.path] : [${P}]
          })));
        }
        
        
        if (${R}.value === undefined) {
          if (${P} in input) {
            newResult[${P}] = undefined;
          }
        } else {
          newResult[${P}] = ${R}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");let C=g.compile();return(M,R)=>C(d,M,R)},"_"),s,o=zu,l=!X0.jitless,u=l&&SI.value,c=t.catchall,h;e._zod.parse=(d,g)=>{h??(h=n.value);let m=d.value;return o(m)?l&&u&&g?.async===!1&&g.jitless!==!0?(s||(s=i(t.shape)),d=s(d,g),c?w8([],m,d,g,h,e):d):r(d,g):(d.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),d)}});function C5(e,t,r,n){for(let s of e)if(s.issues.length===0)return t.value=s.value,t;let i=e.filter(s=>!cl(s));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(o=>Ca(o,n,ni())))}),t)}a(C5,"oX");var Q4=He("$ZodUnion",(e,t)=>{qt.init(e,t),fr(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),fr(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),fr(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),fr(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){let i=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>Cm(s.source)).join("|")})$`)}});let r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(r)return n(i,s);let o=!1,l=[];for(let u of t.options){let c=u._zod.run({value:i.value,issues:[]},s);if(c instanceof Promise)l.push(c),o=!0;else{if(c.issues.length===0)return c;l.push(c)}}return o?Promise.all(l).then(u=>C5(u,i,e,s)):C5(l,i,e,s)}}),E8=He("$ZodDiscriminatedUnion",(e,t)=>{Q4.init(e,t);let r=e._zod.parse;fr(e._zod,"propValues",()=>{let i={};for(let s of t.options){let o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(let[l,u]of Object.entries(o)){i[l]||(i[l]=new Set);for(let c of u)i[l].add(c)}}return i});let n=Oh(()=>{let i=t.options,s=new Map;for(let o of i){let l=o._zod.propValues?.[t.discriminator];if(!l||l.size===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(let u of l){if(s.has(u))throw Error(`Duplicate discriminator value "${String(u)}"`);s.set(u,o)}}return s});e._zod.parse=(i,s)=>{let o=i.value;if(!zu(o))return i.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),i;let l=n.value.get(o?.[t.discriminator]);return l?l._zod.run(i,s):t.unionFallback?r(i,s):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),i)}}),S8=He("$ZodIntersection",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value,s=t.left._zod.run({value:i,issues:[]},n),o=t.right._zod.run({value:i,issues:[]},n);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([l,u])=>I5(r,l,u)):I5(r,s,o)}});function w1(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ol(e)&&Ol(t)){let r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),i={...e,...t};for(let s of n){let o=w1(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<e.length;n++){let i=e[n],s=t[n],o=w1(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[n,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}a(w1,"eY");function I5(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),cl(e))return e;let n=w1(t.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}a(I5,"nX");var q4=He("$ZodTuple",(e,t)=>{qt.init(e,t);let r=t.items,n=r.length-[...r].reverse().findIndex(i=>i._zod.optin!=="optional");e._zod.parse=(i,s)=>{let o=i.value;if(!Array.isArray(o))return i.issues.push({input:o,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];let l=[];if(!t.rest){let c=o.length>r.length,h=o.length<n-1;if(c||h)return i.issues.push({...c?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:o,inst:e,origin:"array"}),i}let u=-1;for(let c of r){if(u++,u>=o.length&&u>=n)continue;let h=c._zod.run({value:o[u],issues:[]},s);h instanceof Promise?l.push(h.then(d=>Af(d,i,u))):Af(h,i,u)}if(t.rest){let c=o.slice(r.length);for(let h of c){u++;let d=t.rest._zod.run({value:h,issues:[]},s);d instanceof Promise?l.push(d.then(g=>Af(g,i,u))):Af(d,i,u)}}return l.length?Promise.all(l).then(()=>i):i}});function Af(e,t,r){e.issues.length&&t.issues.push(...xa(r,e.issues)),t.value[r]=e.value}a(Af,"h9");var k8=He("$ZodRecord",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!Ol(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),r;let s=[];if(t.keyType._zod.values){let o=t.keyType._zod.values;r.value={};for(let u of o)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){let c=t.valueType._zod.run({value:i[u],issues:[]},n);c instanceof Promise?s.push(c.then(h=>{h.issues.length&&r.issues.push(...xa(u,h.issues)),r.value[u]=h.value})):(c.issues.length&&r.issues.push(...xa(u,c.issues)),r.value[u]=c.value)}let l;for(let u in i)o.has(u)||(l=l??[],l.push(u));l&&l.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:l})}else{r.value={};for(let o of Reflect.ownKeys(i)){if(o==="__proto__")continue;let l=t.keyType._zod.run({value:o,issues:[]},n);if(l instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(l.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(c=>Ca(c,n,ni())),input:o,path:[o],inst:e}),r.value[l.value]=l.value;continue}let u=t.valueType._zod.run({value:i[o],issues:[]},n);u instanceof Promise?s.push(u.then(c=>{c.issues.length&&r.issues.push(...xa(o,c.issues)),r.value[l.value]=c.value})):(u.issues.length&&r.issues.push(...xa(o,u.issues)),r.value[l.value]=u.value)}}return s.length?Promise.all(s).then(()=>r):r}}),A8=He("$ZodMap",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),r;let s=[];r.value=new Map;for(let[o,l]of i){let u=t.keyType._zod.run({value:o,issues:[]},n),c=t.valueType._zod.run({value:l,issues:[]},n);u instanceof Promise||c instanceof Promise?s.push(Promise.all([u,c]).then(([h,d])=>{M5(h,d,r,o,i,e,n)})):M5(u,c,r,o,i,e,n)}return s.length?Promise.all(s).then(()=>r):r}});function M5(e,t,r,n,i,s,o){e.issues.length&&(K0.has(typeof n)?r.issues.push(...xa(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:i,inst:s,issues:e.issues.map(l=>Ca(l,o,ni()))})),t.issues.length&&(K0.has(typeof n)?r.issues.push(...xa(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:s,key:n,issues:t.issues.map(l=>Ca(l,o,ni()))})),r.value.set(e.value,t.value)}a(M5,"iX");var T8=He("$ZodSet",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),r;let s=[];r.value=new Set;for(let o of i){let l=t.valueType._zod.run({value:o,issues:[]},n);l instanceof Promise?s.push(l.then(u=>O5(u,r))):O5(l,r)}return s.length?Promise.all(s).then(()=>r):r}});function O5(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}a(O5,"tX");var N8=He("$ZodEnum",(e,t)=>{qt.init(e,t);let r=M4(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(i=>K0.has(typeof i)).map(i=>typeof i=="string"?Io(i):i.toString()).join("|")})$`),e._zod.parse=(i,s)=>{let o=i.value;return n.has(o)||i.issues.push({code:"invalid_value",values:r,input:o,inst:e}),i}}),C8=He("$ZodLiteral",(e,t)=>{if(qt.init(e,t),t.values.length===0)throw Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Io(r):r?Io(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,n)=>{let i=r.value;return e._zod.values.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),I8=He("$ZodFile",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;return i instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),r}}),M8=He("$ZodTransform",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Nm(e.constructor.name);let i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new xl;return r.value=i,r}});function R5(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}a(R5,"BX");var O8=He("$ZodOptional",(e,t)=>{qt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",fr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),fr(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${Cm(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>R5(s,r.value)):R5(i,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),R8=He("$ZodNullable",(e,t)=>{qt.init(e,t),fr(e._zod,"optin",()=>t.innerType._zod.optin),fr(e._zod,"optout",()=>t.innerType._zod.optout),fr(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${Cm(r.source)}|null)$`):void 0}),fr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),P8=He("$ZodDefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",fr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>P5(s,t)):P5(i,t)}});function P5(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}a(P5,"UX");var L8=He("$ZodPrefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",fr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),D8=He("$ZodNonOptional",(e,t)=>{qt.init(e,t),fr(e._zod,"values",()=>{let r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>L5(s,e)):L5(i,e)}});function L5(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}a(L5,"FX");var j8=He("$ZodSuccess",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Nm("ZodSuccess");let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>(r.value=s.issues.length===0,r)):(r.value=i.issues.length===0,r)}}),B8=He("$ZodCatch",(e,t)=>{qt.init(e,t),fr(e._zod,"optin",()=>t.innerType._zod.optin),fr(e._zod,"optout",()=>t.innerType._zod.optout),fr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(o=>Ca(o,n,ni()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(s=>Ca(s,n,ni()))},input:r.value}),r.issues=[]),r)}}),z8=He("$ZodNaN",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:e,expected:"nan",code:"invalid_type"}),r)}),F8=He("$ZodPipe",(e,t)=>{qt.init(e,t),fr(e._zod,"values",()=>t.in._zod.values),fr(e._zod,"optin",()=>t.in._zod.optin),fr(e._zod,"optout",()=>t.out._zod.optout),fr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){let s=t.out._zod.run(r,n);return s instanceof Promise?s.then(o=>Tf(o,t.in,n)):Tf(s,t.in,n)}let i=t.in._zod.run(r,n);return i instanceof Promise?i.then(s=>Tf(s,t.out,n)):Tf(i,t.out,n)}});function Tf(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}a(Tf,"E9");var e6=He("$ZodCodec",(e,t)=>{qt.init(e,t),fr(e._zod,"values",()=>t.in._zod.values),fr(e._zod,"optin",()=>t.in._zod.optin),fr(e._zod,"optout",()=>t.out._zod.optout),fr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){let i=t.in._zod.run(r,n);return i instanceof Promise?i.then(s=>Nf(s,t,n)):Nf(i,t,n)}else{let i=t.out._zod.run(r,n);return i instanceof Promise?i.then(s=>Nf(s,t,n)):Nf(i,t,n)}}});function Nf(e,t,r){if(e.issues.length)return e.aborted=!0,e;if((r.direction||"forward")==="forward"){let n=t.transform(e.value,e);return n instanceof Promise?n.then(i=>Cf(e,i,t.out,r)):Cf(e,n,t.out,r)}else{let n=t.reverseTransform(e.value,e);return n instanceof Promise?n.then(i=>Cf(e,i,t.in,r)):Cf(e,n,t.in,r)}}a(Nf,"R9");function Cf(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}a(Cf,"I9");var U8=He("$ZodReadonly",(e,t)=>{qt.init(e,t),fr(e._zod,"propValues",()=>t.innerType._zod.propValues),fr(e._zod,"values",()=>t.innerType._zod.values),fr(e._zod,"optin",()=>t.innerType._zod.optin),fr(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(D5):D5(i)}});function D5(e){return e.value=Object.freeze(e.value),e}a(D5,"aX");var H8=He("$ZodTemplateLiteral",(e,t)=>{qt.init(e,t);let r=[];for(let n of t.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let i=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!i)throw Error(`Invalid template literal part: ${n._zod.traits}`);let s=i.startsWith("^")?1:0,o=i.endsWith("$")?i.length-1:i.length;r.push(i.slice(s,o))}else if(n===null||AI.has(typeof n))r.push(Io(`${n}`));else throw Error(`Invalid template literal part: ${n}`);e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(n,i)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:e,expected:"template_literal",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),G8=He("$ZodFunction",(e,t)=>(qt.init(e,t),e._def=t,e._zod.def=t,e.implement=r=>{if(typeof r!="function")throw Error("implement() must be called with a function");return function(...n){let i=e._def.input?y1(e._def.input,n):n,s=Reflect.apply(r,this,i);return e._def.output?y1(e._def.output,s):s}},e.implementAsync=r=>{if(typeof r!="function")throw Error("implementAsync() must be called with a function");return async function(...n){let i=e._def.input?await Q0(e._def.input,n):n,s=await Reflect.apply(r,this,i);return e._def.output?await Q0(e._def.output,s):s}},e._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:e}),r):(e._def.output&&e._def.output._zod.def.type==="promise"?r.value=e.implementAsync(r.value):r.value=e.implement(r.value),r),e.input=(...r)=>{let n=e.constructor;return Array.isArray(r[0])?new n({type:"function",input:new q4({type:"tuple",items:r[0],rest:r[1]}),output:e._def.output}):new n({type:"function",input:r[0],output:e._def.output})},e.output=r=>new e.constructor({type:"function",input:e._def.input,output:r}),e)),V8=He("$ZodPromise",(e,t)=>{qt.init(e,t),e._zod.parse=(r,n)=>Promise.resolve(r.value).then(i=>t.innerType._zod.run({value:i,issues:[]},n))}),Y8=He("$ZodLazy",(e,t)=>{qt.init(e,t),fr(e._zod,"innerType",()=>t.getter()),fr(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),fr(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),fr(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),fr(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),Z8=He("$ZodCustom",(e,t)=>{an.init(e,t),qt.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{let n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(s=>j5(s,r,n,e));j5(i,r,n,e)}});function j5(e,t,r,n){if(!e){let i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),t.issues.push(W0(i))}}a(j5,"QX");var t6={};_i(t6,{zhTW:a(()=>oq,"zhTW"),zhCN:a(()=>aq,"zhCN"),yo:a(()=>uq,"yo"),vi:a(()=>nq,"vi"),ur:a(()=>tq,"ur"),uk:a(()=>J8,"uk"),ua:a(()=>qQ,"ua"),tr:a(()=>WQ,"tr"),th:a(()=>XQ,"th"),ta:a(()=>ZQ,"ta"),sv:a(()=>VQ,"sv"),sl:a(()=>HQ,"sl"),ru:a(()=>FQ,"ru"),pt:a(()=>BQ,"pt"),ps:a(()=>PQ,"ps"),pl:a(()=>DQ,"pl"),ota:a(()=>OQ,"ota"),no:a(()=>IQ,"no"),nl:a(()=>NQ,"nl"),ms:a(()=>AQ,"ms"),mk:a(()=>SQ,"mk"),lt:a(()=>xQ,"lt"),ko:a(()=>yQ,"ko"),km:a(()=>X8,"km"),kh:a(()=>vQ,"kh"),ka:a(()=>mQ,"ka"),ja:a(()=>hQ,"ja"),it:a(()=>cQ,"it"),is:a(()=>lQ,"is"),id:a(()=>aQ,"id"),hu:a(()=>nQ,"hu"),he:a(()=>tQ,"he"),frCA:a(()=>qW,"frCA"),fr:a(()=>WW,"fr"),fi:a(()=>JW,"fi"),fa:a(()=>$W,"fa"),es:a(()=>YW,"es"),eo:a(()=>GW,"eo"),en:a(()=>$8,"en"),de:a(()=>BW,"de"),da:a(()=>DW,"da"),cs:a(()=>PW,"cs"),ca:a(()=>OW,"ca"),be:a(()=>IW,"be"),az:a(()=>NW,"az"),ar:a(()=>AW,"ar")});var kW=a(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  :   ${i.expected}    ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  :   ${Wt(i.values[0])}`:`  :     : ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`   :    ${i.origin??""} ${s} ${i.maximum.toString()} ${o.unit??""}`:`  :    ${i.origin??""} ${s} ${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`  :   ${i.origin}   ${s} ${i.minimum.toString()} ${o.unit}`:`  :   ${i.origin}   ${s} ${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`  :     "${i.prefix}"`:s.format==="ends_with"?`  :     "${s.suffix}"`:s.format==="includes"?`  :    "${s.includes}"`:s.format==="regex"?`  :     ${s.pattern}`:`${n[s.format]??i.format}  `}case"not_multiple_of":return`  :      ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""} ${i.keys.length>1?"":""}: ${St(i.keys," ")}`;case"invalid_key":return`    ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${i.origin}`;default:return"  "}}},"TD");function AW(){return{localeError:kW()}}a(AW,"_3");var TW=a(()=>{let e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Yanl dyr: gzlniln ${i.expected}, daxil olan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Yanl dyr: gzlniln ${Wt(i.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`ox byk: gzlniln ${i.origin??"dyr"} ${s}${i.maximum.toString()} ${o.unit??"element"}`:`ox byk: gzlniln ${i.origin??"dyr"} ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`ox kiik: gzlniln ${i.origin} ${s}${i.minimum.toString()} ${o.unit}`:`ox kiik: gzlniln ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Yanl mtn: "${s.prefix}" il balamaldr`:s.format==="ends_with"?`Yanl mtn: "${s.suffix}" il bitmlidir`:s.format==="includes"?`Yanl mtn: "${s.includes}" daxil olmaldr`:s.format==="regex"?`Yanl mtn: ${s.pattern} ablonuna uyun olmaldr`:`Yanl ${n[s.format]??i.format}`}case"not_multiple_of":return`Yanl dd: ${i.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${i.keys.length>1?"lar":""}: ${St(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${i.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}},"wD");function NW(){return{localeError:TW()}}a(NW,"P3");function B5(e,t,r,n){let i=Math.abs(e),s=i%10,o=i%100;return o>=11&&o<=19?n:s===1?t:s>=2&&s<=4?r:n}a(B5,"_A");var CW=a(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])}`:` :    ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);if(o){let l=Number(i.maximum),u=B5(l,o.unit.one,o.unit.few,o.unit.many);return` : ,  ${i.origin??""}  ${o.verb} ${s}${i.maximum.toString()} ${u}`}return` : ,  ${i.origin??""}   ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);if(o){let l=Number(i.minimum),u=B5(l,o.unit.one,o.unit.few,o.unit.many);return` : ,  ${i.origin}  ${o.verb} ${s}${i.minimum.toString()} ${u}`}return` : ,  ${i.origin}   ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${n[s.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${St(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}},"fD");function IW(){return{localeError:CW()}}a(IW,"O3");var MW=a(()=>{let e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipus invlid: s'esperava ${i.expected}, s'ha rebut ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Valor invlid: s'esperava ${Wt(i.values[0])}`:`Opci invlida: s'esperava una de ${St(i.values," o ")}`;case"too_big":{let s=i.inclusive?"com a mxim":"menys de",o=t(i.origin);return o?`Massa gran: s'esperava que ${i.origin??"el valor"} contingus ${s} ${i.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${s} ${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?"com a mnim":"ms de",o=t(i.origin);return o?`Massa petit: s'esperava que ${i.origin} contingus ${s} ${i.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${s} ${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Format invlid: ha de comenar amb "${s.prefix}"`:s.format==="ends_with"?`Format invlid: ha d'acabar amb "${s.suffix}"`:s.format==="includes"?`Format invlid: ha d'incloure "${s.includes}"`:s.format==="regex"?`Format invlid: ha de coincidir amb el patr ${s.pattern}`:`Format invlid per a ${n[s.format]??i.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${St(i.keys,", ")}`;case"invalid_key":return`Clau invlida a ${i.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${i.origin}`;default:return"Entrada invlida"}}},"ZD");function OW(){return{localeError:MW()}}a(OW,"Y3");var RW=a(()=>{let e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return i=>{switch(i.code){case"invalid_type":return`Neplatn vstup: oekvno ${i.expected}, obdreno ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neplatn vstup: oekvno ${Wt(i.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Hodnota je pli velk: ${i.origin??"hodnota"} mus mt ${s}${i.maximum.toString()} ${o.unit??"prvk"}`:`Hodnota je pli velk: ${i.origin??"hodnota"} mus bt ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Hodnota je pli mal: ${i.origin??"hodnota"} mus mt ${s}${i.minimum.toString()} ${o.unit??"prvk"}`:`Hodnota je pli mal: ${i.origin??"hodnota"} mus bt ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Neplatn etzec: mus zanat na "${s.prefix}"`:s.format==="ends_with"?`Neplatn etzec: mus konit na "${s.suffix}"`:s.format==="includes"?`Neplatn etzec: mus obsahovat "${s.includes}"`:s.format==="regex"?`Neplatn etzec: mus odpovdat vzoru ${s.pattern}`:`Neplatn formt ${n[s.format]??i.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${i.divisor}`;case"unrecognized_keys":return`Neznm kle: ${St(i.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${i.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${i.origin}`;default:return"Neplatn vstup"}}},"XD");function PW(){return{localeError:RW()}}a(PW,"j3");var LW=a(()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};function r(o){return e[o]??null}a(r,"K");function n(o){return t[o]??o}a(n,"P");let i=a(o=>{let l=typeof o;switch(l){case"number":return Number.isNaN(o)?"NaN":"tal";case"object":return Array.isArray(o)?"liste":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype&&o.constructor?o.constructor.name:"objekt"}return l},"_"),s={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Ugyldigt input: forventede ${n(o.expected)}, fik ${n(i(o.input))}`;case"invalid_value":return o.values.length===1?`Ugyldig vrdi: forventede ${Wt(o.values[0])}`:`Ugyldigt valg: forventede en af flgende ${St(o.values,"|")}`;case"too_big":{let l=o.inclusive?"<=":"<",u=r(o.origin),c=n(o.origin);return u?`For stor: forventede ${c??"value"} ${u.verb} ${l} ${o.maximum.toString()} ${u.unit??"elementer"}`:`For stor: forventede ${c??"value"} havde ${l} ${o.maximum.toString()}`}case"too_small":{let l=o.inclusive?">=":">",u=r(o.origin),c=n(o.origin);return u?`For lille: forventede ${c} ${u.verb} ${l} ${o.minimum.toString()} ${u.unit}`:`For lille: forventede ${c} havde ${l} ${o.minimum.toString()}`}case"invalid_format":{let l=o;return l.format==="starts_with"?`Ugyldig streng: skal starte med "${l.prefix}"`:l.format==="ends_with"?`Ugyldig streng: skal ende med "${l.suffix}"`:l.format==="includes"?`Ugyldig streng: skal indeholde "${l.includes}"`:l.format==="regex"?`Ugyldig streng: skal matche mnsteret ${l.pattern}`:`Ugyldig ${s[l.format]??o.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${St(o.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${o.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${o.origin}`;default:return"Ugyldigt input"}}},"AD");function DW(){return{localeError:LW()}}a(DW,"v3");var jW=a(()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":{if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return i=>{switch(i.code){case"invalid_type":return`Ungltige Eingabe: erwartet ${i.expected}, erhalten ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ungltige Eingabe: erwartet ${Wt(i.values[0])}`:`Ungltige Option: erwartet eine von ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Zu gro: erwartet, dass ${i.origin??"Wert"} ${s}${i.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${i.origin??"Wert"} ${s}${i.maximum.toString()} ist`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Zu klein: erwartet, dass ${i.origin} ${s}${i.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${s}${i.minimum.toString()} ist`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Ungltiger String: muss mit "${s.prefix}" beginnen`:s.format==="ends_with"?`Ungltiger String: muss mit "${s.suffix}" enden`:s.format==="includes"?`Ungltiger String: muss "${s.includes}" enthalten`:s.format==="regex"?`Ungltiger String: muss dem Muster ${s.pattern} entsprechen`:`Ungltig: ${n[s.format]??i.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${St(i.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${i.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${i.origin}`;default:return"Ungltige Eingabe"}}},"kD");function BW(){return{localeError:jW()}}a(BW,"z3");var zW=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"GD"),FW=a(()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(n){return e[n]??null}a(t,"q");let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${zW(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${Wt(n.values[0])}`:`Invalid option: expected one of ${St(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=t(n.origin);return s?`Too big: expected ${n.origin??"value"} to have ${i}${n.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=t(n.origin);return s?`Too small: expected ${n.origin} to have ${i}${n.minimum.toString()} ${s.unit}`:`Too small: expected ${n.origin} to be ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${r[i.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${St(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}},"VD");function $8(){return{localeError:FW()}}a($8,"oP");var UW=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":{if(Array.isArray(e))return"tabelo";if(e===null)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"SD"),HW=a(()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(n){return e[n]??null}a(t,"q");let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return n=>{switch(n.code){case"invalid_type":return`Nevalida enigo: atendiis ${n.expected}, riceviis ${UW(n.input)}`;case"invalid_value":return n.values.length===1?`Nevalida enigo: atendiis ${Wt(n.values[0])}`:`Nevalida opcio: atendiis unu el ${St(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=t(n.origin);return s?`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=t(n.origin);return s?`Tro malgranda: atendiis ke ${n.origin} havu ${i}${n.minimum.toString()} ${s.unit}`:`Tro malgranda: atendiis ke ${n.origin} estu ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Nevalida karaktraro: devas komencii per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas finii per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${r[i.format]??n.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${n.divisor}`;case"unrecognized_keys":return`Nekonata${n.keys.length>1?"j":""} losilo${n.keys.length>1?"j":""}: ${St(n.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${n.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${n.origin}`;default:return"Nevalida enigo"}}},"MD");function GW(){return{localeError:HW()}}a(GW,"W3");var VW=a(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(o){return e[o]??null}a(r,"K");function n(o){return t[o]??o}a(n,"P");let i=a(o=>{let l=typeof o;switch(l){case"number":return Number.isNaN(o)?"NaN":"number";case"object":return Array.isArray(o)?"array":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype?o.constructor.name:"object"}return l},"_"),s={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Entrada invlida: se esperaba ${n(o.expected)}, recibido ${n(i(o.input))}`;case"invalid_value":return o.values.length===1?`Entrada invlida: se esperaba ${Wt(o.values[0])}`:`Opcin invlida: se esperaba una de ${St(o.values,"|")}`;case"too_big":{let l=o.inclusive?"<=":"<",u=r(o.origin),c=n(o.origin);return u?`Demasiado grande: se esperaba que ${c??"valor"} tuviera ${l}${o.maximum.toString()} ${u.unit??"elementos"}`:`Demasiado grande: se esperaba que ${c??"valor"} fuera ${l}${o.maximum.toString()}`}case"too_small":{let l=o.inclusive?">=":">",u=r(o.origin),c=n(o.origin);return u?`Demasiado pequeo: se esperaba que ${c} tuviera ${l}${o.minimum.toString()} ${u.unit}`:`Demasiado pequeo: se esperaba que ${c} fuera ${l}${o.minimum.toString()}`}case"invalid_format":{let l=o;return l.format==="starts_with"?`Cadena invlida: debe comenzar con "${l.prefix}"`:l.format==="ends_with"?`Cadena invlida: debe terminar en "${l.suffix}"`:l.format==="includes"?`Cadena invlida: debe incluir "${l.includes}"`:l.format==="regex"?`Cadena invlida: debe coincidir con el patrn ${l.pattern}`:`Invlido ${s[l.format]??o.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${o.divisor}`;case"unrecognized_keys":return`Llave${o.keys.length>1?"s":""} desconocida${o.keys.length>1?"s":""}: ${St(o.keys,", ")}`;case"invalid_key":return`Llave invlida en ${n(o.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${n(o.origin)}`;default:return"Entrada invlida"}}},"ND");function YW(){return{localeError:VW()}}a(YW,"H3");var ZW=a(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected}  ${r(i.input)}  `;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])} `:` :    ${St(i.values,"|")} `;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ${i.origin??""}  ${s}${i.maximum.toString()} ${o.unit??""} `:` : ${i.origin??""}  ${s}${i.maximum.toString()} `}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` : ${i.origin}  ${s}${i.minimum.toString()} ${o.unit} `:` : ${i.origin}  ${s}${i.minimum.toString()} `}case"invalid_format":{let s=i;return s.format==="starts_with"?` :   "${s.prefix}"  `:s.format==="ends_with"?` :   "${s.suffix}"  `:s.format==="includes"?` :   "${s.includes}" `:s.format==="regex"?` :    ${s.pattern}   `:`${n[s.format]??i.format} `}case"not_multiple_of":return` :   ${i.divisor} `;case"unrecognized_keys":return`${i.keys.length>1?"":""} : ${St(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}},"CD");function $W(){return{localeError:ZW()}}a($W,"J3");var XW=a(()=>{let e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return i=>{switch(i.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${i.expected}, oli ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Virheellinen syte: tytyy olla ${Wt(i.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Liian suuri: ${o.subject} tytyy olla ${s}${i.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon tytyy olla ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Liian pieni: ${o.subject} tytyy olla ${s}${i.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon tytyy olla ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Virheellinen syte: tytyy alkaa "${s.prefix}"`:s.format==="ends_with"?`Virheellinen syte: tytyy loppua "${s.suffix}"`:s.format==="includes"?`Virheellinen syte: tytyy sislt "${s.includes}"`:s.format==="regex"?`Virheellinen syte: tytyy vastata snnllist lauseketta ${s.pattern}`:`Virheellinen ${n[s.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${St(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}},"hD");function JW(){return{localeError:XW()}}a(JW,"T3");var KW=a(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":{if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return i=>{switch(i.code){case"invalid_type":return`Entre invalide : ${i.expected} attendu, ${r(i.input)} reu`;case"invalid_value":return i.values.length===1?`Entre invalide : ${Wt(i.values[0])} attendu`:`Option invalide : une valeur parmi ${St(i.values,"|")} attendue`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Trop grand : ${i.origin??"valeur"} doit ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"lment(s)"}`:`Trop grand : ${i.origin??"valeur"} doit tre ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Trop petit : ${i.origin} doit ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Trop petit : ${i.origin} doit tre ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Chane invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chane invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chane invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chane invalide : doit correspondre au modle ${s.pattern}`:`${n[s.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${St(i.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${i.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entre invalide"}}},"ED");function WW(){return{localeError:KW()}}a(WW,"w3");var QW=a(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return i=>{switch(i.code){case"invalid_type":return`Entre invalide : attendu ${i.expected}, reu ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entre invalide : attendu ${Wt(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"":"<",o=t(i.origin);return o?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${s}${i.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?"":">",o=t(i.origin);return o?`Trop petit : attendu que ${i.origin} ait ${s}${i.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${i.origin} soit ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Chane invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chane invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chane invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chane invalide : doit correspondre au motif ${s.pattern}`:`${n[s.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${St(i.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${i.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entre invalide"}}},"RD");function qW(){return{localeError:QW()}}a(qW,"f3");var eQ=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  :  ${Wt(i.values[0])}`:`  :     ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ${i.origin??"value"}   ${s}${i.maximum.toString()} ${o.unit??"elements"}`:` : ${i.origin??"value"}   ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` : ${i.origin}   ${s}${i.minimum.toString()} ${o.unit}`:` : ${i.origin}   ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`  :   "${s.prefix}"`:s.format==="ends_with"?`  :    "${s.suffix}"`:s.format==="includes"?`  :   "${s.includes}"`:s.format==="regex"?`  :    ${s.pattern}`:`${n[s.format]??i.format}  `}case"not_multiple_of":return`  :     ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""}  ${i.keys.length>1?"":""}: ${St(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}},"ID");function tQ(){return{localeError:eQ()}}a(tQ,"Z3");var rQ=a(()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"szm";case"object":{if(Array.isArray(i))return"tmb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return i=>{switch(i.code){case"invalid_type":return`rvnytelen bemenet: a vrt rtk ${i.expected}, a kapott rtk ${r(i.input)}`;case"invalid_value":return i.values.length===1?`rvnytelen bemenet: a vrt rtk ${Wt(i.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Tl nagy: ${i.origin??"rtk"} mrete tl nagy ${s}${i.maximum.toString()} ${o.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${i.origin??"rtk"} tl nagy: ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Tl kicsi: a bemeneti rtk ${i.origin} mrete tl kicsi ${s}${i.minimum.toString()} ${o.unit}`:`Tl kicsi: a bemeneti rtk ${i.origin} tl kicsi ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`rvnytelen string: "${s.prefix}" rtkkel kell kezddnie`:s.format==="ends_with"?`rvnytelen string: "${s.suffix}" rtkkel kell vgzdnie`:s.format==="includes"?`rvnytelen string: "${s.includes}" rtket kell tartalmaznia`:s.format==="regex"?`rvnytelen string: ${s.pattern} mintnak kell megfelelnie`:`rvnytelen ${n[s.format]??i.format}`}case"not_multiple_of":return`rvnytelen szm: ${i.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${St(i.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${i.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${i.origin}`;default:return"rvnytelen bemenet"}}},"DD");function nQ(){return{localeError:rQ()}}a(nQ,"X3");var iQ=a(()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak valid: diharapkan ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${Wt(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${s}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Terlalu kecil: diharapkan ${i.origin} memiliki ${s}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`String tidak valid: harus dimulai dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak valid: harus berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak valid: harus menyertakan "${s.includes}"`:s.format==="regex"?`String tidak valid: harus sesuai pola ${s.pattern}`:`${n[s.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${St(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}},"LD");function aQ(){return{localeError:iQ()}}a(aQ,"A3");var sQ=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":{if(Array.isArray(e))return"fylki";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"gD"),oQ=a(()=>{let e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function t(n){return e[n]??null}a(t,"q");let r={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"};return n=>{switch(n.code){case"invalid_type":return`Rangt gildi:  slst inn ${sQ(n.input)} ar sem  a vera ${n.expected}`;case"invalid_value":return n.values.length===1?`Rangt gildi: gert r fyrir ${Wt(n.values[0])}`:`gilt val: m vera eitt af eftirfarandi ${St(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=t(n.origin);return s?`Of strt: gert er r fyrir a ${n.origin??"gildi"} hafi ${i}${n.maximum.toString()} ${s.unit??"hluti"}`:`Of strt: gert er r fyrir a ${n.origin??"gildi"} s ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=t(n.origin);return s?`Of lti: gert er r fyrir a ${n.origin} hafi ${i}${n.minimum.toString()} ${s.unit}`:`Of lti: gert er r fyrir a ${n.origin} s ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`gildur strengur: verur a byrja  "${i.prefix}"`:i.format==="ends_with"?`gildur strengur: verur a enda  "${i.suffix}"`:i.format==="includes"?`gildur strengur: verur a innihalda "${i.includes}"`:i.format==="regex"?`gildur strengur: verur a fylgja mynstri ${i.pattern}`:`Rangt ${r[i.format]??n.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${n.divisor}`;case"unrecognized_keys":return`ekkt ${n.keys.length>1?"ir lyklar":"ur lykill"}: ${St(n.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${n.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${n.origin}`;default:return"Rangt gildi"}}},"bD");function lQ(){return{localeError:oQ()}}a(lQ,"k3");var uQ=a(()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":{if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input non valido: atteso ${i.expected}, ricevuto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input non valido: atteso ${Wt(i.values[0])}`:`Opzione non valida: atteso uno tra ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Troppo grande: ${i.origin??"valore"} deve avere ${s}${i.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Troppo piccolo: ${i.origin} deve avere ${s}${i.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${i.origin} deve essere ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Stringa non valida: deve iniziare con "${s.prefix}"`:s.format==="ends_with"?`Stringa non valida: deve terminare con "${s.suffix}"`:s.format==="includes"?`Stringa non valida: deve includere "${s.includes}"`:s.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${s.pattern}`:`Invalid ${n[s.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${St(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}},"yD");function cQ(){return{localeError:uQ()}}a(cQ,"G3");var dQ=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`: ${i.expected}${r(i.input)}`;case"invalid_value":return i.values.length===1?`: ${Wt(i.values[0])}`:`: ${St(i.values,"")}`;case"too_big":{let s=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin??""}${i.maximum.toString()}${o.unit??""}${s}`:`: ${i.origin??""}${i.maximum.toString()}${s}`}case"too_small":{let s=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin}${i.minimum.toString()}${o.unit}${s}`:`: ${i.origin}${i.minimum.toString()}${s}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`: "${s.prefix}"`:s.format==="ends_with"?`: "${s.suffix}"`:s.format==="includes"?`: "${s.includes}"`:s.format==="regex"?`: ${s.pattern}`:`${n[s.format]??i.format}`}case"not_multiple_of":return`: ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""}: ${St(i.keys,"")}`;case"invalid_key":return`${i.origin}`;case"invalid_union":return"";case"invalid_element":return`${i.origin}`;default:return""}}},"uD");function hQ(){return{localeError:dQ()}}a(hQ,"V3");var fQ=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":{if(Array.isArray(e))return"";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return{string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""}[t]??t},"xD"),pQ=a(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(n){return e[n]??null}a(t,"q");let r={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${fQ(n.input)}`;case"invalid_value":return n.values.length===1?` :  ${Wt(n.values[0])}`:` :  - ${St(n.values,"|")}-`;case"too_big":{let i=n.inclusive?"<=":"<",s=t(n.origin);return s?` :  ${n.origin??""} ${s.verb} ${i}${n.maximum.toString()} ${s.unit}`:` :  ${n.origin??""}  ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=t(n.origin);return s?` :  ${n.origin} ${s.verb} ${i}${n.minimum.toString()} ${s.unit}`:` :  ${n.origin}  ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?` :   "${i.prefix}"-`:i.format==="ends_with"?` :   "${i.suffix}"-`:i.format==="includes"?` :   "${i.includes}"-`:i.format==="regex"?` :    ${i.pattern}`:` ${r[i.format]??n.format}`}case"not_multiple_of":return` :   ${n.divisor}- `;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${St(n.keys,", ")}`;case"invalid_key":return`  ${n.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${n.origin}-`;default:return" "}}},"pD");function mQ(){return{localeError:pQ()}}a(mQ,"S3");var gQ=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?" (NaN)":"";case"object":{if(Array.isArray(i))return" (Array)";if(i===null)return" (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  ${i.expected}  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  ${Wt(i.values[0])}`:`  ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`  ${i.origin??""} ${s} ${i.maximum.toString()} ${o.unit??""}`:`  ${i.origin??""} ${s} ${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`  ${i.origin} ${s} ${i.minimum.toString()} ${o.unit}`:`  ${i.origin} ${s} ${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`  "${s.prefix}"`:s.format==="ends_with"?`  "${s.suffix}"`:s.format==="includes"?`  "${s.includes}"`:s.format==="regex"?`  ${s.pattern}`:` ${n[s.format]??i.format}`}case"not_multiple_of":return`  ${i.divisor}`;case"unrecognized_keys":return` ${St(i.keys,", ")}`;case"invalid_key":return` ${i.origin}`;case"invalid_union":return"";case"invalid_element":return` ${i.origin}`;default:return""}}},"cD");function X8(){return{localeError:gQ()}}a(X8,"nP");function vQ(){return X8()}a(vQ,"M3");var bQ=a(()=>{let e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :   ${i.expected},   ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])}  `:` : ${St(i.values," ")}   `;case"too_big":{let s=i.inclusive?"":"",o=s===""?" ":" ",l=t(i.origin),u=l?.unit??"";return l?`${i.origin??""}  : ${i.maximum.toString()}${u} ${s}${o}`:`${i.origin??""}  : ${i.maximum.toString()} ${s}${o}`}case"too_small":{let s=i.inclusive?"":"",o=s===""?" ":" ",l=t(i.origin),u=l?.unit??"";return l?`${i.origin??""}  : ${i.minimum.toString()}${u} ${s}${o}`:`${i.origin??""}  : ${i.minimum.toString()} ${s}${o}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` : "${s.prefix}"()  `:s.format==="ends_with"?` : "${s.suffix}"()  `:s.format==="includes"?` : "${s.includes}"()  `:s.format==="regex"?` :  ${s.pattern}   `:` ${n[s.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}  `;case"unrecognized_keys":return`   : ${St(i.keys,", ")}`;case"invalid_key":return` : ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${i.origin}`;default:return" "}}},"mD");function yQ(){return{localeError:bQ()}}a(yQ,"N3");var wQ=a(e=>id(typeof e,e),"dD"),id=a((e,t=void 0)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return t===void 0?"neinomas objektas":t===null?"nulin reikm":Array.isArray(t)?"masyvas":Object.getPrototypeOf(t)!==Object.prototype&&t.constructor?t.constructor.name:"objektas";case"null":return"nulin reikm"}return e},"tP"),kc=a(e=>e.charAt(0).toUpperCase()+e.slice(1),"iP");function z5(e){let t=Math.abs(e),r=t%10,n=t%100;return n>=11&&n<=19||r===0?"many":r===1?"one":"few"}a(z5,"PA");var _Q=a(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(n,i,s,o){let l=e[n]??null;return l===null?l:{unit:l.unit[i],verb:l.verb[o][s?"inclusive":"notInclusive"]}}a(t,"q");let r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return n=>{switch(n.code){case"invalid_type":return`Gautas tipas ${wQ(n.input)}, o tiktasi - ${id(n.expected)}`;case"invalid_value":return n.values.length===1?`Privalo bti ${Wt(n.values[0])}`:`Privalo bti vienas i ${St(n.values,"|")} pasirinkim`;case"too_big":{let i=id(n.origin),s=t(n.origin,z5(Number(n.maximum)),n.inclusive??!1,"smaller");if(s?.verb)return`${kc(i??n.origin??"reikm")} ${s.verb} ${n.maximum.toString()} ${s.unit??"element"}`;let o=n.inclusive?"ne didesnis kaip":"maesnis kaip";return`${kc(i??n.origin??"reikm")} turi bti ${o} ${n.maximum.toString()} ${s?.unit}`}case"too_small":{let i=id(n.origin),s=t(n.origin,z5(Number(n.minimum)),n.inclusive??!1,"bigger");if(s?.verb)return`${kc(i??n.origin??"reikm")} ${s.verb} ${n.minimum.toString()} ${s.unit??"element"}`;let o=n.inclusive?"ne maesnis kaip":"didesnis kaip";return`${kc(i??n.origin??"reikm")} turi bti ${o} ${n.minimum.toString()} ${s?.unit}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Eilut privalo prasidti "${i.prefix}"`:i.format==="ends_with"?`Eilut privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`Eilut privalo traukti "${i.includes}"`:i.format==="regex"?`Eilut privalo atitikti ${i.pattern}`:`Neteisingas ${r[i.format]??n.format}`}case"not_multiple_of":return`Skaiius privalo bti ${n.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${n.keys.length>1?"i":"as"} rakt${n.keys.length>1?"ai":"as"}: ${St(n.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga vestis";case"invalid_element":{let i=id(n.origin);return`${kc(i??n.origin??"reikm")} turi klaiding vest`}default:return"Klaidinga vestis"}}},"lD");function xQ(){return{localeError:_Q()}}a(xQ,"C3");var EQ=a(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :   ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${Wt(i.values[0])}`:` :    ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` :   ${i.origin??""}   ${s}${i.maximum.toString()} ${o.unit??""}`:` :   ${i.origin??""}   ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` :   ${i.origin}   ${s}${i.minimum.toString()} ${o.unit}`:` :   ${i.origin}   ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` :     "${s.prefix}"`:s.format==="ends_with"?` :     "${s.suffix}"`:s.format==="includes"?` :    "${s.includes}"`:s.format==="regex"?` :      ${s.pattern}`:`Invalid ${n[s.format]??i.format}`}case"not_multiple_of":return` :      ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?" ":" "}: ${St(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}},"rD");function SQ(){return{localeError:EQ()}}a(SQ,"h3");var kQ=a(()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak sah: dijangka ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${Wt(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Terlalu besar: dijangka ${i.origin??"nilai"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Terlalu kecil: dijangka ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`String tidak sah: mesti bermula dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak sah: mesti mengandungi "${s.includes}"`:s.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${s.pattern}`:`${n[s.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${St(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}},"oD");function AQ(){return{localeError:kQ()}}a(AQ,"E3");var TQ=a(()=>{let e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return i=>{switch(i.code){case"invalid_type":return`Ongeldige invoer: verwacht ${i.expected}, ontving ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${Wt(i.values[0])}`:`Ongeldige optie: verwacht n van ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Te lang: verwacht dat ${i.origin??"waarde"} ${s}${i.maximum.toString()} ${o.unit??"elementen"} bevat`:`Te lang: verwacht dat ${i.origin??"waarde"} ${s}${i.maximum.toString()} is`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Te kort: verwacht dat ${i.origin} ${s}${i.minimum.toString()} ${o.unit} bevat`:`Te kort: verwacht dat ${i.origin} ${s}${i.minimum.toString()} is`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Ongeldige tekst: moet met "${s.prefix}" beginnen`:s.format==="ends_with"?`Ongeldige tekst: moet op "${s.suffix}" eindigen`:s.format==="includes"?`Ongeldige tekst: moet "${s.includes}" bevatten`:s.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${s.pattern}`:`Ongeldig: ${n[s.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${St(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}},"nD");function NQ(){return{localeError:TQ()}}a(NQ,"R3");var CQ=a(()=>{let e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":{if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Ugyldig input: forventet ${i.expected}, fikk ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${Wt(i.values[0])}`:`Ugyldig valg: forventet en av ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`For stor(t): forventet ${i.origin??"value"} til  ha ${s}${i.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til  ha ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`For lite(n): forventet ${i.origin} til  ha ${s}${i.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${i.origin} til  ha ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Ugyldig streng: m starte med "${s.prefix}"`:s.format==="ends_with"?`Ugyldig streng: m ende med "${s.suffix}"`:s.format==="includes"?`Ugyldig streng: m inneholde "${s.includes}"`:s.format==="regex"?`Ugyldig streng: m matche mnsteret ${s.pattern}`:`Ugyldig ${n[s.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${St(i.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}},"iD");function IQ(){return{localeError:CQ()}}a(IQ,"I3");var MQ=a(()=>{let e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":{if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return i=>{switch(i.code){case"invalid_type":return`Fsit giren: umulan ${i.expected}, alnan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Fsit giren: umulan ${Wt(i.values[0])}`:`Fsit tercih: mteberler ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Fazla byk: ${i.origin??"value"}, ${s}${i.maximum.toString()} ${o.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${i.origin??"value"}, ${s}${i.maximum.toString()} olmalyd.`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Fazla kk: ${i.origin}, ${s}${i.minimum.toString()} ${o.unit} sahip olmalyd.`:`Fazla kk: ${i.origin}, ${s}${i.minimum.toString()} olmalyd.`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Fsit metin: "${s.prefix}" ile balamal.`:s.format==="ends_with"?`Fsit metin: "${s.suffix}" ile bitmeli.`:s.format==="includes"?`Fsit metin: "${s.includes}" ihtiv etmeli.`:s.format==="regex"?`Fsit metin: ${s.pattern} nakna uymal.`:`Fsit ${n[s.format]??i.format}`}case"not_multiple_of":return`Fsit say: ${i.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${i.keys.length>1?"s":""}: ${St(i.keys,", ")}`;case"invalid_key":return`${i.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${i.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}},"tD");function OQ(){return{localeError:MQ()}}a(OQ,"D3");var RQ=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected} ,  ${r(i.input)}  `;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])} `:` :    ${St(i.values,"|")}  `;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ${i.origin??""}  ${s}${i.maximum.toString()} ${o.unit??""} `:` : ${i.origin??""}  ${s}${i.maximum.toString()} `}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` : ${i.origin}  ${s}${i.minimum.toString()} ${o.unit} `:` : ${i.origin}  ${s}${i.minimum.toString()} `}case"invalid_format":{let s=i;return s.format==="starts_with"?` :   "${s.prefix}"   `:s.format==="ends_with"?` :   "${s.suffix}"    `:s.format==="includes"?` :  "${s.includes}" `:s.format==="regex"?` :   ${s.pattern}   `:`${n[s.format]??i.format}  `}case"not_multiple_of":return` :   ${i.divisor}  `;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${St(i.keys,", ")}`;case"invalid_key":return`   ${i.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin} `;default:return" "}}},"BD");function PQ(){return{localeError:RQ()}}a(PQ,"L3");var LQ=a(()=>{let e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":{if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return i=>{switch(i.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${i.expected}, otrzymano ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Nieprawidowe dane wejciowe: oczekiwano ${Wt(i.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Za dua warto: oczekiwano, e ${i.origin??"warto"} bdzie mie ${s}${i.maximum.toString()} ${o.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${i.origin??"warto"} bdzie wynosi ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Za maa warto: oczekiwano, e ${i.origin??"warto"} bdzie mie ${s}${i.minimum.toString()} ${o.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${i.origin??"warto"} bdzie wynosi ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Nieprawidowy cig znakw: musi zaczyna si od "${s.prefix}"`:s.format==="ends_with"?`Nieprawidowy cig znakw: musi koczy si na "${s.suffix}"`:s.format==="includes"?`Nieprawidowy cig znakw: musi zawiera "${s.includes}"`:s.format==="regex"?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${s.pattern}`:`Nieprawidow(y/a/e) ${n[s.format]??i.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${St(i.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${i.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${i.origin}`;default:return"Nieprawidowe dane wejciowe"}}},"UD");function DQ(){return{localeError:LQ()}}a(DQ,"g3");var jQ=a(()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nmero";case"object":{if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipo invlido: esperado ${i.expected}, recebido ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada invlida: esperado ${Wt(i.values[0])}`:`Opo invlida: esperada uma das ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${s}${i.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Muito pequeno: esperado que ${i.origin} tivesse ${s}${i.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Texto invlido: deve comear com "${s.prefix}"`:s.format==="ends_with"?`Texto invlido: deve terminar com "${s.suffix}"`:s.format==="includes"?`Texto invlido: deve incluir "${s.includes}"`:s.format==="regex"?`Texto invlido: deve corresponder ao padro ${s.pattern}`:`${n[s.format]??i.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${St(i.keys,", ")}`;case"invalid_key":return`Chave invlida em ${i.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${i.origin}`;default:return"Campo invlido"}}},"FD");function BQ(){return{localeError:jQ()}}a(BQ,"b3");function F5(e,t,r,n){let i=Math.abs(e),s=i%10,o=i%100;return o>=11&&o<=19?n:s===1?t:s>=2&&s<=4?r:n}a(F5,"OA");var zQ=a(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])}`:` :    ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);if(o){let l=Number(i.maximum),u=F5(l,o.unit.one,o.unit.few,o.unit.many);return`  : ,  ${i.origin??""}   ${s}${i.maximum.toString()} ${u}`}return`  : ,  ${i.origin??""}  ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);if(o){let l=Number(i.minimum),u=F5(l,o.unit.one,o.unit.few,o.unit.many);return`  : ,  ${i.origin}   ${s}${i.minimum.toString()} ${u}`}return`  : ,  ${i.origin}  ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${n[s.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""} ${i.keys.length>1?"":""}: ${St(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}},"aD");function FQ(){return{localeError:zQ()}}a(FQ,"y3");var UQ=a(()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"tevilo";case"object":{if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return i=>{switch(i.code){case"invalid_type":return`Neveljaven vnos: priakovano ${i.expected}, prejeto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neveljaven vnos: priakovano ${Wt(i.values[0])}`:`Neveljavna monost: priakovano eno izmed ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Preveliko: priakovano, da bo ${i.origin??"vrednost"} imelo ${s}${i.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: priakovano, da bo ${i.origin??"vrednost"} ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Premajhno: priakovano, da bo ${i.origin} imelo ${s}${i.minimum.toString()} ${o.unit}`:`Premajhno: priakovano, da bo ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Neveljaven niz: mora se zaeti z "${s.prefix}"`:s.format==="ends_with"?`Neveljaven niz: mora se konati z "${s.suffix}"`:s.format==="includes"?`Neveljaven niz: mora vsebovati "${s.includes}"`:s.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${s.pattern}`:`Neveljaven ${n[s.format]??i.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i kljui":" klju"}: ${St(i.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}},"QD");function HQ(){return{localeError:UQ()}}a(HQ,"u3");var GQ=a(()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":{if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return i=>{switch(i.code){case"invalid_type":return`Ogiltig inmatning: frvntat ${i.expected}, fick ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ogiltig inmatning: frvntat ${Wt(i.values[0])}`:`Ogiltigt val: frvntade en av ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Fr stor(t): frvntade ${i.origin??"vrdet"} att ha ${s}${i.maximum.toString()} ${o.unit??"element"}`:`Fr stor(t): frvntat ${i.origin??"vrdet"} att ha ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Fr lite(t): frvntade ${i.origin??"vrdet"} att ha ${s}${i.minimum.toString()} ${o.unit}`:`Fr lite(t): frvntade ${i.origin??"vrdet"} att ha ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Ogiltig strng: mste brja med "${s.prefix}"`:s.format==="ends_with"?`Ogiltig strng: mste sluta med "${s.suffix}"`:s.format==="includes"?`Ogiltig strng: mste innehlla "${s.includes}"`:s.format==="regex"?`Ogiltig strng: mste matcha mnstret "${s.pattern}"`:`Ogiltig(t) ${n[s.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${St(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${i.origin??"vrdet"}`;default:return"Ogiltig input"}}},"eD");function VQ(){return{localeError:GQ()}}a(VQ,"x3");var YQ=a(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?" ":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Wt(i.values[0])}`:` :  ${St(i.values,"|")}  `;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` :  ${i.origin??""} ${s}${i.maximum.toString()} ${o.unit??""}   `:` :  ${i.origin??""} ${s}${i.maximum.toString()}   `}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` :  ${i.origin} ${s}${i.minimum.toString()} ${o.unit}   `:` :  ${i.origin} ${s}${i.minimum.toString()}   `}case"invalid_format":{let s=i;return s.format==="starts_with"?` : "${s.prefix}"   `:s.format==="ends_with"?` : "${s.suffix}"   `:s.format==="includes"?` : "${s.includes}"   `:s.format==="regex"?` : ${s.pattern}   `:` ${n[s.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}    `;case"unrecognized_keys":return`  ${i.keys.length>1?"":""}: ${St(i.keys,", ")}`;case"invalid_key":return`${i.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${i.origin}   `;default:return" "}}},"sD");function ZQ(){return{localeError:YQ()}}a(ZQ,"p3");var $Q=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?" (NaN)":"";case"object":{if(Array.isArray(i))return" (Array)";if(i===null)return" (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`:  ${i.expected}  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`:  ${Wt(i.values[0])}`:`:  ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin??""} ${s} ${i.maximum.toString()} ${o.unit??""}`:`: ${i.origin??""} ${s} ${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin} ${s} ${i.minimum.toString()} ${o.unit}`:`: ${i.origin} ${s} ${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`:  "${s.prefix}"`:s.format==="ends_with"?`:  "${s.suffix}"`:s.format==="includes"?`:  "${s.includes}" `:s.format==="regex"?`:  ${s.pattern}`:`: ${n[s.format]??i.format}`}case"not_multiple_of":return`:  ${i.divisor} `;case"unrecognized_keys":return`: ${St(i.keys,", ")}`;case"invalid_key":return` ${i.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${i.origin}`;default:return""}}},"$L");function XQ(){return{localeError:$Q()}}a(XQ,"c3");var JQ=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"qL"),KQ=a(()=>{let e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function t(n){return e[n]??null}a(t,"q");let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return n=>{switch(n.code){case"invalid_type":return`Geersiz deer: beklenen ${n.expected}, alnan ${JQ(n.input)}`;case"invalid_value":return n.values.length===1?`Geersiz deer: beklenen ${Wt(n.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${St(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=t(n.origin);return s?`ok byk: beklenen ${n.origin??"deer"} ${i}${n.maximum.toString()} ${s.unit??"e"}`:`ok byk: beklenen ${n.origin??"deer"} ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=t(n.origin);return s?`ok kk: beklenen ${n.origin} ${i}${n.minimum.toString()} ${s.unit}`:`ok kk: beklenen ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Geersiz metin: "${i.prefix}" ile balamal`:i.format==="ends_with"?`Geersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Geersiz metin: "${i.includes}" iermeli`:i.format==="regex"?`Geersiz metin: ${i.pattern} desenine uymal`:`Geersiz ${r[i.format]??n.format}`}case"not_multiple_of":return`Geersiz say: ${n.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${n.keys.length>1?"lar":""}: ${St(n.keys,", ")}`;case"invalid_key":return`${n.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${n.origin} iinde geersiz deer`;default:return"Geersiz deer"}}},"KL");function WQ(){return{localeError:KQ()}}a(WQ,"m3");var QQ=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return i=>{switch(i.code){case"invalid_type":return`  :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  :  ${Wt(i.values[0])}`:` :    ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ,  ${i.origin??""} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??""}`:` : ,  ${i.origin??""}  ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` : ,  ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:` : ,  ${i.origin}  ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${n[s.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${St(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}},"_L");function J8(){return{localeError:QQ()}}a(J8,"BP");function qQ(){return J8()}a(qQ,"d3");var eq=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return i=>{switch(i.code){case"invalid_type":return`  : ${i.expected}   ${r(i.input)}  `;case"invalid_value":return i.values.length===1?`  : ${Wt(i.values[0])}  `:` : ${St(i.values,"|")}     `;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ${i.origin??""}  ${s}${i.maximum.toString()} ${o.unit??""}   `:` : ${i.origin??""}  ${s}${i.maximum.toString()}   `}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` : ${i.origin}  ${s}${i.minimum.toString()} ${o.unit}   `:` : ${i.origin}  ${s}${i.minimum.toString()}   `}case"invalid_format":{let s=i;return s.format==="starts_with"?` : "${s.prefix}"    `:s.format==="ends_with"?` : "${s.suffix}"    `:s.format==="includes"?` : "${s.includes}"   `:s.format==="regex"?` :  ${s.pattern}    `:` ${n[s.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}    `;case"unrecognized_keys":return`   ${i.keys.length>1?"":""}: ${St(i.keys," ")}`;case"invalid_key":return`${i.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${i.origin}   `;default:return"  "}}},"PL");function tq(){return{localeError:eq()}}a(tq,"l3");var rq=a(()=>{let e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"s";case"object":{if(Array.isArray(i))return"mng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return i=>{switch(i.code){case"invalid_type":return`u vo khng hp l: mong i ${i.expected}, nhn c ${r(i.input)}`;case"invalid_value":return i.values.length===1?`u vo khng hp l: mong i ${Wt(i.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Qu ln: mong i ${i.origin??"gi tr"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"phn t"}`:`Qu ln: mong i ${i.origin??"gi tr"} ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Qu nh: mong i ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Qu nh: mong i ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Chui khng hp l: phi bt u bng "${s.prefix}"`:s.format==="ends_with"?`Chui khng hp l: phi kt thc bng "${s.suffix}"`:s.format==="includes"?`Chui khng hp l: phi bao gm "${s.includes}"`:s.format==="regex"?`Chui khng hp l: phi khp vi mu ${s.pattern}`:`${n[s.format]??i.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${i.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${St(i.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${i.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${i.origin}`;default:return"u vo khng hp l"}}},"OL");function nq(){return{localeError:rq()}}a(nq,"r3");var iq=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"(NaN)":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` ${i.expected} ${r(i.input)}`;case"invalid_value":return i.values.length===1?` ${Wt(i.values[0])}`:` ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` ${i.origin??""} ${s}${i.maximum.toString()} ${o.unit??""}`:` ${i.origin??""} ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` ${i.origin} ${s}${i.minimum.toString()} ${o.unit}`:` ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` "${s.prefix}" `:s.format==="ends_with"?` "${s.suffix}" `:s.format==="includes"?` "${s.includes}"`:s.format==="regex"?` ${s.pattern}`:`${n[s.format]??i.format}`}case"not_multiple_of":return` ${i.divisor} `;case"unrecognized_keys":return`(key): ${St(i.keys,", ")}`;case"invalid_key":return`${i.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${i.origin} (value)`;default:return""}}},"YL");function aq(){return{localeError:iq()}}a(aq,"o3");var sq=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` ${i.expected} ${r(i.input)}`;case"invalid_value":return i.values.length===1?` ${Wt(i.values[0])}`:` ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` ${i.origin??""}  ${s}${i.maximum.toString()} ${o.unit??""}`:` ${i.origin??""}  ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` ${i.origin}  ${s}${i.minimum.toString()} ${o.unit}`:` ${i.origin}  ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` "${s.prefix}" `:s.format==="ends_with"?` "${s.suffix}" `:s.format==="includes"?` "${s.includes}"`:s.format==="regex"?` ${s.pattern}`:` ${n[s.format]??i.format}`}case"not_multiple_of":return` ${i.divisor} `;case"unrecognized_keys":return`${i.keys.length>1?"":""}${St(i.keys,"")}`;case"invalid_key":return`${i.origin} `;case"invalid_union":return"";case"invalid_element":return`${i.origin} `;default:return""}}},"jL");function oq(){return{localeError:sq()}}a(oq,"n3");var lq=a(()=>{let e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nmb";case"object":{if(Array.isArray(i))return"akop";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"K"),n={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"};return i=>{switch(i.code){case"invalid_type":return`bwl ae: a n lti fi ${i.expected}, m a r ${r(i.input)}`;case"invalid_value":return i.values.length===1?`bwl ae: a n lti fi ${Wt(i.values[0])}`:`yn ae: yan kan lra ${St(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`T p j: a n lti j p ${i.origin??"iye"} ${o.verb} ${s}${i.maximum} ${o.unit}`:`T p j: a n lti j ${s}${i.maximum}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Kr ju: a n lti j p ${i.origin} ${o.verb} ${s}${i.minimum} ${o.unit}`:`Kr ju: a n lti j ${s}${i.minimum}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`r ae: gbd br pl "${s.prefix}"`:s.format==="ends_with"?`r ae: gbd par pl "${s.suffix}"`:s.format==="includes"?`r ae: gbd n "${s.includes}"`:s.format==="regex"?`r ae: gbd b pr mu ${s.pattern}`:`Ae: ${n[s.format]??i.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${i.divisor}`;case"unrecognized_keys":return`Btn m: ${St(i.keys,", ")}`;case"invalid_key":return`Btn ae nn ${i.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${i.origin}`;default:return"bwl ae"}}},"vL");function uq(){return{localeError:lq()}}a(uq,"i3");var K8=Symbol("ZodOutput"),W8=Symbol("ZodInput");class r6{static{a(this,"FP")}constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){let n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){let r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){let r=t._zod.parent;if(r){let n={...this.get(r)??{}};delete n.id;let i={...n,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function n6(){return new r6}a(n6,"p9");var vi=n6();function Q8(e,t){return new e({type:"string",...kt(t)})}a(Q8,"U3");function q8(e,t){return new e({type:"string",coerce:!0,...kt(t)})}a(q8,"F3");function i6(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...kt(t)})}a(i6,"c9");function ep(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...kt(t)})}a(ep,"aP");function a6(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...kt(t)})}a(a6,"m9");function s6(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...kt(t)})}a(s6,"d9");function o6(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...kt(t)})}a(o6,"l9");function l6(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...kt(t)})}a(l6,"r9");function Om(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...kt(t)})}a(Om,"QP");function u6(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...kt(t)})}a(u6,"o9");function c6(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...kt(t)})}a(c6,"n9");function d6(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...kt(t)})}a(d6,"i9");function h6(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...kt(t)})}a(h6,"t9");function f6(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...kt(t)})}a(f6,"B9");function p6(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...kt(t)})}a(p6,"U9");function m6(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...kt(t)})}a(m6,"F9");function g6(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...kt(t)})}a(g6,"a9");function v6(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...kt(t)})}a(v6,"Q9");function b6(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...kt(t)})}a(b6,"e9");function y6(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...kt(t)})}a(y6,"s9");function w6(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...kt(t)})}a(w6,"$52");function _6(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...kt(t)})}a(_6,"q5");function x6(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...kt(t)})}a(x6,"K5");function E6(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...kt(t)})}a(E6,"_5");var eO={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function tO(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...kt(t)})}a(tO,"Q3");function rO(e,t){return new e({type:"string",format:"date",check:"string_format",...kt(t)})}a(rO,"e3");function nO(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...kt(t)})}a(nO,"s3");function iO(e,t){return new e({type:"string",format:"duration",check:"string_format",...kt(t)})}a(iO,"$v");function aO(e,t){return new e({type:"number",checks:[],...kt(t)})}a(aO,"qv");function sO(e,t){return new e({type:"number",coerce:!0,checks:[],...kt(t)})}a(sO,"Kv");function oO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...kt(t)})}a(oO,"_v");function lO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...kt(t)})}a(lO,"Pv");function uO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...kt(t)})}a(uO,"Ov");function cO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...kt(t)})}a(cO,"Yv");function dO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...kt(t)})}a(dO,"jv");function hO(e,t){return new e({type:"boolean",...kt(t)})}a(hO,"vv");function fO(e,t){return new e({type:"boolean",coerce:!0,...kt(t)})}a(fO,"zv");function pO(e,t){return new e({type:"bigint",...kt(t)})}a(pO,"Wv");function mO(e,t){return new e({type:"bigint",coerce:!0,...kt(t)})}a(mO,"Hv");function gO(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...kt(t)})}a(gO,"Jv");function vO(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...kt(t)})}a(vO,"Tv");function bO(e,t){return new e({type:"symbol",...kt(t)})}a(bO,"wv");function yO(e,t){return new e({type:"undefined",...kt(t)})}a(yO,"fv");function wO(e,t){return new e({type:"null",...kt(t)})}a(wO,"Zv");function _O(e){return new e({type:"any"})}a(_O,"Xv");function xO(e){return new e({type:"unknown"})}a(xO,"P5");function S6(e,t){return new e({type:"never",...kt(t)})}a(S6,"eP");function EO(e,t){return new e({type:"void",...kt(t)})}a(EO,"Av");function SO(e,t){return new e({type:"date",...kt(t)})}a(SO,"kv");function kO(e,t){return new e({type:"date",coerce:!0,...kt(t)})}a(kO,"Gv");function AO(e,t){return new e({type:"nan",...kt(t)})}a(AO,"Vv");function Rl(e,t){return new Y4({check:"less_than",...kt(t),value:e,inclusive:!1})}a(Rl,"zK");function ka(e,t){return new Y4({check:"less_than",...kt(t),value:e,inclusive:!0})}a(ka,"X8");function Pl(e,t){return new Z4({check:"greater_than",...kt(t),value:e,inclusive:!1})}a(Pl,"WK");function Oi(e,t){return new Z4({check:"greater_than",...kt(t),value:e,inclusive:!0})}a(Oi,"aq");function TO(e){return Pl(0,e)}a(TO,"Sv");function NO(e){return Rl(0,e)}a(NO,"Mv");function CO(e){return ka(0,e)}a(CO,"Nv");function IO(e){return Oi(0,e)}a(IO,"Cv");function $d(e,t){return new vM({check:"multiple_of",...kt(t),value:e})}a($d,"X_");function Rm(e,t){return new wM({check:"max_size",...kt(t),maximum:e})}a(Rm,"_4");function Xd(e,t){return new _M({check:"min_size",...kt(t),minimum:e})}a(Xd,"A_");function k6(e,t){return new xM({check:"size_equals",...kt(t),size:e})}a(k6,"sP");function Pm(e,t){return new EM({check:"max_length",...kt(t),maximum:e})}a(Pm,"P4");function Uu(e,t){return new SM({check:"min_length",...kt(t),minimum:e})}a(Uu,"nK");function Lm(e,t){return new kM({check:"length_equals",...kt(t),length:e})}a(Lm,"O4");function A6(e,t){return new AM({check:"string_format",format:"regex",...kt(t),pattern:e})}a(A6,"$72");function T6(e){return new TM({check:"string_format",format:"lowercase",...kt(e)})}a(T6,"q7");function N6(e){return new NM({check:"string_format",format:"uppercase",...kt(e)})}a(N6,"K7");function C6(e,t){return new CM({check:"string_format",format:"includes",...kt(t),includes:e})}a(C6,"_7");function I6(e,t){return new IM({check:"string_format",format:"starts_with",...kt(t),prefix:e})}a(I6,"P7");function M6(e,t){return new MM({check:"string_format",format:"ends_with",...kt(t),suffix:e})}a(M6,"O7");function MO(e,t,r){return new OM({check:"property",property:e,schema:t,...kt(r)})}a(MO,"hv");function O6(e,t){return new RM({check:"mime_type",mime:e,...kt(t)})}a(O6,"Y7");function Zl(e){return new PM({check:"overwrite",tx:e})}a(Zl,"HK");function R6(e){return Zl(t=>t.normalize(e))}a(R6,"j7");function P6(){return Zl(e=>e.trim())}a(P6,"v7");function L6(){return Zl(e=>e.toLowerCase())}a(L6,"z7");function D6(){return Zl(e=>e.toUpperCase())}a(D6,"W7");function OO(e,t,r){return new e({type:"array",element:t,...kt(r)})}a(OO,"Ev");function cq(e,t,r){return new e({type:"union",options:t,...kt(r)})}a(cq,"zL");function dq(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...kt(n)})}a(dq,"WL");function hq(e,t,r){return new e({type:"intersection",left:t,right:r})}a(hq,"HL");function fq(e,t,r,n){let i=r instanceof qt;return new e({type:"tuple",items:t,rest:i?r:null,...kt(i?n:r)})}a(fq,"JL");function pq(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...kt(n)})}a(pq,"TL");function mq(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...kt(n)})}a(mq,"wL");function gq(e,t,r){return new e({type:"set",valueType:t,...kt(r)})}a(gq,"fL");function vq(e,t,r){let n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new e({type:"enum",entries:n,...kt(r)})}a(vq,"ZL");function bq(e,t,r){return new e({type:"enum",entries:t,...kt(r)})}a(bq,"XL");function yq(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...kt(r)})}a(yq,"AL");function RO(e,t){return new e({type:"file",...kt(t)})}a(RO,"Rv");function wq(e,t){return new e({type:"transform",transform:t})}a(wq,"kL");function _q(e,t){return new e({type:"optional",innerType:t})}a(_q,"GL");function xq(e,t){return new e({type:"nullable",innerType:t})}a(xq,"VL");function Eq(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():kI(r)}})}a(Eq,"SL");function Sq(e,t,r){return new e({type:"nonoptional",innerType:t,...kt(r)})}a(Sq,"ML");function kq(e,t){return new e({type:"success",innerType:t})}a(kq,"NL");function Aq(e,t,r){return new e({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}a(Aq,"CL");function Tq(e,t,r){return new e({type:"pipe",in:t,out:r})}a(Tq,"hL");function Nq(e,t){return new e({type:"readonly",innerType:t})}a(Nq,"EL");function Cq(e,t,r){return new e({type:"template_literal",parts:t,...kt(r)})}a(Cq,"RL");function Iq(e,t){return new e({type:"lazy",getter:t})}a(Iq,"IL");function Mq(e,t){return new e({type:"promise",innerType:t})}a(Mq,"DL");function PO(e,t,r){let n=kt(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}a(PO,"Iv");function LO(e,t,r){return new e({type:"custom",check:"custom",fn:t,...kt(r)})}a(LO,"Dv");function DO(e){let t=jO(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(W0(n,r.value,t._zod.def));else{let i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(W0(i))}},e(r.value,r)));return t}a(DO,"Lv");function jO(e,t){let r=new an({check:"custom",...kt(t)});return r._zod.check=e,r}a(jO,"YA");function BO(e,t){let r=kt(t),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(g=>typeof g=="string"?g.toLowerCase():g),i=i.map(g=>typeof g=="string"?g.toLowerCase():g));let s=new Set(n),o=new Set(i),l=e.Codec??e6,u=e.Boolean??J4,c=new(e.String??Fh)({type:"string",error:r.error}),h=new u({type:"boolean",error:r.error}),d=new l({type:"pipe",in:c,out:h,transform:a((g,m)=>{let y=g;return r.case!=="sensitive"&&(y=y.toLowerCase()),s.has(y)?!0:o.has(y)?!1:(m.issues.push({code:"invalid_value",expected:"stringbool",values:[...s,...o],input:m.value,inst:d,continue:!1}),{})},"transform"),reverseTransform:a((g,m)=>g===!0?n[0]||"true":i[0]||"false","reverseTransform"),error:r.error});return d}a(BO,"gv");function Uh(e,t,r,n={}){let i=kt(n),s={...kt(n),check:"string_format",type:"string",format:t,fn:typeof r=="function"?r:o=>r.test(o),...i};return r instanceof RegExp&&(s.pattern=r),new e(s)}a(Uh,"Y4");class _1{static{a(this,"O5")}constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??vi,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,r={path:[],schemaPath:[]}){var n;let i=t._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(t);if(o)return o.count++,r.schemaPath.includes(t)&&(o.cycle=r.path),o.schema;let l={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(t,l);let u=t._zod.toJSONSchema?.();if(u)l.schema=u;else{let h={...r,schemaPath:[...r.schemaPath,t],path:r.path},d=t._zod.parent;if(d)l.ref=d,this.process(d,h),this.seen.get(d).isParent=!0;else{let g=l.schema;switch(i.type){case"string":{let m=g;m.type="string";let{minimum:y,maximum:x,format:A,patterns:C,contentEncoding:M}=t._zod.bag;if(typeof y=="number"&&(m.minLength=y),typeof x=="number"&&(m.maxLength=x),A&&(m.format=s[A]??A,m.format===""&&delete m.format),M&&(m.contentEncoding=M),C&&C.size>0){let R=[...C];R.length===1?m.pattern=R[0].source:R.length>1&&(l.schema.allOf=[...R.map(P=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:P.source}))])}break}case"number":{let m=g,{minimum:y,maximum:x,format:A,multipleOf:C,exclusiveMaximum:M,exclusiveMinimum:R}=t._zod.bag;typeof A=="string"&&A.includes("int")?m.type="integer":m.type="number",typeof R=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(m.minimum=R,m.exclusiveMinimum=!0):m.exclusiveMinimum=R),typeof y=="number"&&(m.minimum=y,typeof R=="number"&&this.target!=="draft-4"&&(R>=y?delete m.minimum:delete m.exclusiveMinimum)),typeof M=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(m.maximum=M,m.exclusiveMaximum=!0):m.exclusiveMaximum=M),typeof x=="number"&&(m.maximum=x,typeof M=="number"&&this.target!=="draft-4"&&(M<=x?delete m.maximum:delete m.exclusiveMaximum)),typeof C=="number"&&(m.multipleOf=C);break}case"boolean":{let m=g;m.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(g.type="string",g.nullable=!0,g.enum=[null]):g.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema");break}case"never":{g.not={};break}case"date":{if(this.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema");break}case"array":{let m=g,{minimum:y,maximum:x}=t._zod.bag;typeof y=="number"&&(m.minItems=y),typeof x=="number"&&(m.maxItems=x),m.type="array",m.items=this.process(i.element,{...h,path:[...h.path,"items"]});break}case"object":{let m=g;m.type="object",m.properties={};let y=i.shape;for(let C in y)m.properties[C]=this.process(y[C],{...h,path:[...h.path,"properties",C]});let x=new Set(Object.keys(y)),A=new Set([...x].filter(C=>{let M=i.shape[C]._zod;return this.io==="input"?M.optin===void 0:M.optout===void 0}));A.size>0&&(m.required=Array.from(A)),i.catchall?._zod.def.type==="never"?m.additionalProperties=!1:i.catchall?i.catchall&&(m.additionalProperties=this.process(i.catchall,{...h,path:[...h.path,"additionalProperties"]})):this.io==="output"&&(m.additionalProperties=!1);break}case"union":{let m=g,y=i.options.map((x,A)=>this.process(x,{...h,path:[...h.path,"anyOf",A]}));m.anyOf=y;break}case"intersection":{let m=g,y=this.process(i.left,{...h,path:[...h.path,"allOf",0]}),x=this.process(i.right,{...h,path:[...h.path,"allOf",1]}),A=a(M=>"allOf"in M&&Object.keys(M).length===1,"h"),C=[...A(y)?y.allOf:[y],...A(x)?x.allOf:[x]];m.allOf=C;break}case"tuple":{let m=g;m.type="array";let y=this.target==="draft-2020-12"?"prefixItems":"items",x=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",A=i.items.map((P,L)=>this.process(P,{...h,path:[...h.path,y,L]})),C=i.rest?this.process(i.rest,{...h,path:[...h.path,x,...this.target==="openapi-3.0"?[i.items.length]:[]]}):null;this.target==="draft-2020-12"?(m.prefixItems=A,C&&(m.items=C)):this.target==="openapi-3.0"?(m.items={anyOf:A},C&&m.items.anyOf.push(C),m.minItems=A.length,!C&&(m.maxItems=A.length)):(m.items=A,C&&(m.additionalItems=C));let{minimum:M,maximum:R}=t._zod.bag;typeof M=="number"&&(m.minItems=M),typeof R=="number"&&(m.maxItems=R);break}case"record":{let m=g;m.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(m.propertyNames=this.process(i.keyType,{...h,path:[...h.path,"propertyNames"]})),m.additionalProperties=this.process(i.valueType,{...h,path:[...h.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema");break}case"enum":{let m=g,y=M4(i.entries);y.every(x=>typeof x=="number")&&(m.type="number"),y.every(x=>typeof x=="string")&&(m.type="string"),m.enum=y;break}case"literal":{let m=g,y=[];for(let x of i.values)if(x===void 0){if(this.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof x=="bigint"){if(this.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");y.push(Number(x))}else y.push(x);if(y.length!==0)if(y.length===1){let x=y[0];m.type=x===null?"null":typeof x,this.target==="draft-4"||this.target==="openapi-3.0"?m.enum=[x]:m.const=x}else y.every(x=>typeof x=="number")&&(m.type="number"),y.every(x=>typeof x=="string")&&(m.type="string"),y.every(x=>typeof x=="boolean")&&(m.type="string"),y.every(x=>x===null)&&(m.type="null"),m.enum=y;break}case"file":{let m=g,y={type:"string",format:"binary",contentEncoding:"binary"},{minimum:x,maximum:A,mime:C}=t._zod.bag;x!==void 0&&(y.minLength=x),A!==void 0&&(y.maxLength=A),C?C.length===1?(y.contentMediaType=C[0],Object.assign(m,y)):m.anyOf=C.map(M=>({...y,contentMediaType:M})):Object.assign(m,y);break}case"transform":{if(this.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let m=this.process(i.innerType,h);this.target==="openapi-3.0"?(l.ref=i.innerType,g.nullable=!0):g.anyOf=[m,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,h),l.ref=i.innerType;break}case"success":{let m=g;m.type="boolean";break}case"default":{this.process(i.innerType,h),l.ref=i.innerType,g.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,h),l.ref=i.innerType,this.io==="input"&&(g._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,h),l.ref=i.innerType;let m;try{m=i.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}g.default=m;break}case"nan":{if(this.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let m=g,y=t._zod.pattern;if(!y)throw Error("Pattern not found in template literal");m.type="string",m.pattern=y.source;break}case"pipe":{let m=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(m,h),l.ref=m;break}case"readonly":{this.process(i.innerType,h),l.ref=i.innerType,g.readOnly=!0;break}case"promise":{this.process(i.innerType,h),l.ref=i.innerType;break}case"optional":{this.process(i.innerType,h),l.ref=i.innerType;break}case"lazy":{let m=t._zod.innerType;this.process(m,h),l.ref=m;break}case"custom":{if(this.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema");break}}}}let c=this.metadataRegistry.get(t);return c&&Object.assign(l.schema,c),this.io==="input"&&xn(t)&&(delete l.schema.examples,delete l.schema.default),this.io==="input"&&l.schema._prefault&&((n=l.schema).default??(n.default=l.schema._prefault)),delete l.schema._prefault,this.seen.get(t).schema}emit(t,r){let n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},i=this.seen.get(t);if(!i)throw Error("Unprocessed schema. This is a bug in Zod.");let s=a(h=>{let d=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){let y=n.external.registry.get(h[0])?.id,x=n.external.uri??(C=>C);if(y)return{ref:x(y)};let A=h[1].defId??h[1].schema.id??`schema${this.counter++}`;return h[1].defId=A,{defId:A,ref:`${x("__shared")}#/${d}/${A}`}}if(h[1]===i)return{ref:"#"};let g=`#/${d}/`,m=h[1].schema.id??`__schema${this.counter++}`;return{defId:m,ref:g+m}},"_"),o=a(h=>{if(h[1].schema.$ref)return;let d=h[1],{ref:g,defId:m}=s(h);d.def={...d.schema},m&&(d.defId=m);let y=d.schema;for(let x in y)delete y[x];y.$ref=g},"Y");if(n.cycles==="throw")for(let h of this.seen.entries()){let d=h[1];if(d.cycle)throw Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let h of this.seen.entries()){let d=h[1];if(t===h[0]){o(h);continue}if(n.external){let g=n.external.registry.get(h[0])?.id;if(t!==h[0]&&g){o(h);continue}}if(this.metadataRegistry.get(h[0])?.id){o(h);continue}if(d.cycle){o(h);continue}if(d.count>1&&n.reused==="ref"){o(h);continue}}let l=a((h,d)=>{let g=this.seen.get(h),m=g.def??g.schema,y={...m};if(g.ref===null)return;let x=g.ref;if(g.ref=null,x){l(x,d);let A=this.seen.get(x).schema;A.$ref&&(d.target==="draft-7"||d.target==="draft-4"||d.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(A)):(Object.assign(m,A),Object.assign(m,y))}g.isParent||this.override({zodSchema:h,jsonSchema:m,path:g.path??[]})},"O");for(let h of[...this.seen.entries()].reverse())l(h[0],{target:this.target});let u={};if(this.target==="draft-2020-12"?u.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?u.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?u.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),n.external?.uri){let h=n.external.registry.get(t)?.id;if(!h)throw Error("Schema is missing an `id` property");u.$id=n.external.uri(h)}Object.assign(u,i.def);let c=n.external?.defs??{};for(let h of this.seen.entries()){let d=h[1];d.def&&d.defId&&(c[d.defId]=d.def)}n.external||Object.keys(c).length>0&&(this.target==="draft-2020-12"?u.$defs=c:u.definitions=c);try{return JSON.parse(JSON.stringify(u))}catch{throw Error("Error converting schema to JSON.")}}}function tp(e,t){if(e instanceof r6){let n=new _1(t),i={};for(let l of e._idmap.entries()){let[u,c]=l;n.process(c)}let s={},o={registry:e,uri:t?.uri,defs:i};for(let l of e._idmap.entries()){let[u,c]=l;s[u]=n.emit(c,{...t,external:o})}if(Object.keys(i).length>0){let l=n.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[l]:i}}return{schemas:s}}let r=new _1(t);return r.process(e),r.emit(e,t)}a(tp,"j4");function xn(e,t){let r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);let n=e._zod.def;switch(n.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return xn(n.element,r);case"object":{for(let i in n.shape)if(xn(n.shape[i],r))return!0;return!1}case"union":{for(let i of n.options)if(xn(i,r))return!0;return!1}case"intersection":return xn(n.left,r)||xn(n.right,r);case"tuple":{for(let i of n.items)if(xn(i,r))return!0;return!!(n.rest&&xn(n.rest,r))}case"record":return xn(n.keyType,r)||xn(n.valueType,r);case"map":return xn(n.keyType,r)||xn(n.valueType,r);case"set":return xn(n.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return xn(n.innerType,r);case"lazy":return xn(n.getter(),r);case"default":return xn(n.innerType,r);case"prefault":return xn(n.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return xn(n.in,r)||xn(n.out,r);case"success":return!1;case"catch":return!1;case"function":return!1}throw Error(`Unknown schema type: ${n.type}`)}a(xn,"jq");var Oq={};function no(e){if(typeof e!="object"||e===null)return!1;let t=e;if(!("_zod"in t))return!1;let r=t._zod;return typeof r=="object"&&r!==null&&"def"in r}a(no,"i8");function Ho(e){if(typeof e!="object"||e===null)return!1;let t=e;if(!("_def"in t)||"_zod"in t)return!1;let r=t._def;return typeof r=="object"&&r!=null&&"typeName"in r}a(Ho,"TK");function Rq(e){return!e||typeof e!="object"||Array.isArray(e)?!1:!!(no(e)||Ho(e))}a(Rq,"LL");async function Pq(e,t){if(no(e))return await Q0(e,t);if(Ho(e))return await e.parseAsync(t);throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}a(Pq,"vA");function Lq(e){if(no(e))return vi.get(e)?.description;if(Ho(e)||"description"in e&&typeof e.description=="string")return e.description}a(Lq,"zA");function Dq(e){return Rq(e)?Ho(e)?e._def.typeName==="ZodString":no(e)?e._zod.def.type==="string":!1:!1}a(Dq,"WA");function pd(e){return no(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="object":!1}a(pd,"v4");function zO(e){return no(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="array":!1}a(zO,"HA");function x1(e,t=!1){if(Ho(e))return e.strict();if(pd(e)){let r=e._zod.def.shape;if(t)for(let[s,o]of Object.entries(e._zod.def.shape)){if(pd(o)){let u=x1(o,t);r[s]=u}else if(zO(o)){let u=o._zod.def.element;pd(u)&&(u=x1(u,t)),r[s]=Zn(o,{...o._zod.def,element:u})}else r[s]=o;let l=vi.get(o);l&&vi.add(r[s],l)}let n=Zn(e,{...e._zod.def,shape:r,catchall:S6(W4)}),i=vi.get(e);return i&&vi.add(n,i),n}throw Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}a(x1,"Y5");function jq(e){return Ho(e)&&"typeName"in e._def&&e._def.typeName==="ZodEffects"}a(jq,"gL");function Bq(e){return no(e)&&e._zod.def.type==="pipe"}a(Bq,"bL");function ad(e,t,r){let n=r.get(e);if(n!==void 0)return n;if(Ho(e))return jq(e)?ad(e._def.schema,t,r):e;if(no(e)){let i=e;if(Bq(e)&&(i=ad(e._zod.def.in,t,r)),t){if(pd(i)){let o=i._zod.def.shape;for(let[l,u]of Object.entries(i._zod.def.shape))o[l]=ad(u,t,r);i=Zn(i,{...i._zod.def,shape:o})}else if(zO(i)){let o=ad(i._zod.def.element,t,r);i=Zn(i,{...i._zod.def,element:o})}}let s=vi.get(e);return s&&vi.add(i,s),r.set(e,i),i}throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}a(ad,"H7");function zq(e,t=!1){return ad(e,t,new WeakMap)}a(zq,"JA");function Rv(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}a(Rv,"bv");var Fq=["*","_","`"];function Uq(e){let t="";for(let[r,n]of Object.entries(e))t+=`	classDef ${r} ${n};
`;return t}a(Uq,"uL");function Hq(e,t,r){let{firstNode:n,lastNode:i,nodeColors:s,withStyles:o=!0,curveStyle:l="linear",wrapLabelNWords:u=9}=r??{},c=o?`%%{init: {'flowchart': {'curve': '${l}'}}}%%
graph TD;
`:`graph TD;
`;if(o){let m={default:"{0}({1})"};n!==void 0&&(m[n]="{0}([{1}]):::first"),i!==void 0&&(m[i]="{0}([{1}]):::last");for(let[y,x]of Object.entries(e)){let A=x.name.split(":").pop()??"",C=Fq.some(R=>A.startsWith(R)&&A.endsWith(R))?`<p>${A}</p>`:A;Object.keys(x.metadata??{}).length&&(C+=`<hr/><small><em>${Object.entries(x.metadata??{}).map(([R,P])=>`${R} = ${P}`).join(`
`)}</em></small>`);let M=(m[y]??m.default).replace("{0}",Rv(y)).replace("{1}",C);c+=`	${M}
`}}let h={};for(let m of t){let y=m.source.split(":"),x=m.target.split(":"),A=y.filter((C,M)=>C===x[M]).join(":");h[A]||(h[A]=[]),h[A].push(m)}let d=new Set;function g(m,y){let x=m.length===1&&m[0].source===m[0].target;if(y&&!x){let A=y.split(":").pop();if(d.has(A))throw Error(`Found duplicate subgraph '${A}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);d.add(A),c+=`	subgraph ${A}
`}for(let A of m){let{source:C,target:M,data:R,conditional:P}=A,L="";if(R!==void 0){let z=R,Z=z.split(" ");Z.length>u&&(z=Array.from({length:Math.ceil(Z.length/u)},(Y,ae)=>Z.slice(ae*u,(ae+1)*u).join(" ")).join("&nbsp;<br>&nbsp;")),L=P?` -. &nbsp;${z}&nbsp; .-> `:` -- &nbsp;${z}&nbsp; --> `}else L=P?" -.-> ":" --> ";c+=`	${Rv(C)}${L}${Rv(M)};
`}for(let A in h)A.startsWith(`${y}:`)&&A!==y&&g(h[A],A);y&&!x&&(c+=`	end
`)}a(g,"V"),g(h[""]??[],"");for(let m in h)!m.includes(":")&&m!==""&&g(h[m],m);return o&&(c+=Uq(s??{})),c}a(Hq,"TA");async function Gq(e,t){let r=t?.backgroundColor??"white",n=t?.imageType??"png",i=btoa(e);r!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(r)||(r=`!${r}`));let s=`https://mermaid.ink/img/${i}?bgColor=${r}&type=${n}`,o=await fetch(s);if(!o.ok)throw Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${o.status}`,`Status text: ${o.statusText}`].join(`
`));return await o.blob()}a(Gq,"wA");var Vq=Symbol("Let zodToJsonSchema decide on which parser to use"),Yq={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},Zq=a(e=>({...Yq,...e}),"xv"),$q=a(e=>{let t=Zq(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"pv"),FO=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"J7");function zi(e){if(e.target!=="openAi")return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?FO(t,e.currentPath):t.join("/")}}a(zi,"D6");function UO(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}a(UO,"j5");function kr(e,t,r,n,i){e[t]=r,UO(e,t,n,i)}a(kr,"G6");var Jd={};_i(Jd,{void:a(()=>Mee,"void"),util:a(()=>vr,"util"),unknown:a(()=>Cee,"unknown"),union:a(()=>Lee,"union"),undefined:a(()=>Aee,"undefined"),tuple:a(()=>Bee,"tuple"),transformer:a(()=>G5,"transformer"),symbol:a(()=>kee,"symbol"),string:a(()=>XO,"string"),strictObject:a(()=>Pee,"strictObject"),setErrorMap:a(()=>Kq,"setErrorMap"),set:a(()=>Uee,"set"),record:a(()=>zee,"record"),quotelessJson:a(()=>Xq,"quotelessJson"),promise:a(()=>$ee,"promise"),preprocess:a(()=>Kee,"preprocess"),pipeline:a(()=>Wee,"pipeline"),ostring:a(()=>Qee,"ostring"),optional:a(()=>Xee,"optional"),onumber:a(()=>qee,"onumber"),oboolean:a(()=>ete,"oboolean"),objectUtil:a(()=>E1,"objectUtil"),object:a(()=>Ree,"object"),number:a(()=>JO,"number"),nullable:a(()=>Jee,"nullable"),null:a(()=>Tee,"null"),never:a(()=>Iee,"never"),nativeEnum:a(()=>Zee,"nativeEnum"),nan:a(()=>xee,"nan"),map:a(()=>Fee,"map"),makeIssue:a(()=>np,"makeIssue"),literal:a(()=>Vee,"literal"),lazy:a(()=>Gee,"lazy"),late:a(()=>wee,"late"),isValid:a(()=>Ll,"isValid"),isDirty:a(()=>k1,"isDirty"),isAsync:a(()=>Kd,"isAsync"),isAborted:a(()=>S1,"isAborted"),intersection:a(()=>jee,"intersection"),instanceof:a(()=>_ee,"instanceof"),getParsedType:a(()=>js,"getParsedType"),getErrorMap:a(()=>rp,"getErrorMap"),function:a(()=>Hee,"function"),enum:a(()=>Yee,"enum"),effect:a(()=>G5,"effect"),discriminatedUnion:a(()=>Dee,"discriminatedUnion"),defaultErrorMap:a(()=>Hu,"defaultErrorMap"),datetimeRegex:a(()=>YO,"datetimeRegex"),date:a(()=>See,"date"),custom:a(()=>$O,"custom"),coerce:a(()=>tte,"coerce"),boolean:a(()=>KO,"boolean"),bigint:a(()=>Eee,"bigint"),array:a(()=>Oee,"array"),any:a(()=>Nee,"any"),addIssueToContext:a(()=>It,"addIssueToContext"),ZodVoid:a(()=>ap,"ZodVoid"),ZodUnknown:a(()=>El,"ZodUnknown"),ZodUnion:a(()=>eh,"ZodUnion"),ZodUndefined:a(()=>Qd,"ZodUndefined"),ZodType:a(()=>or,"ZodType"),ZodTuple:a(()=>us,"ZodTuple"),ZodTransformer:a(()=>Ia,"ZodTransformer"),ZodSymbol:a(()=>ip,"ZodSymbol"),ZodString:a(()=>Ea,"ZodString"),ZodSet:a(()=>jl,"ZodSet"),ZodSchema:a(()=>or,"ZodSchema"),ZodRecord:a(()=>rh,"ZodRecord"),ZodReadonly:a(()=>lh,"ZodReadonly"),ZodPromise:a(()=>Vu,"ZodPromise"),ZodPipeline:a(()=>Hh,"ZodPipeline"),ZodParsedType:a(()=>Pt,"ZodParsedType"),ZodOptional:a(()=>ns,"ZodOptional"),ZodObject:a(()=>qr,"ZodObject"),ZodNumber:a(()=>Mo,"ZodNumber"),ZodNullable:a(()=>Po,"ZodNullable"),ZodNull:a(()=>qd,"ZodNull"),ZodNever:a(()=>Qs,"ZodNever"),ZodNativeEnum:a(()=>ah,"ZodNativeEnum"),ZodNaN:a(()=>op,"ZodNaN"),ZodMap:a(()=>sp,"ZodMap"),ZodLiteral:a(()=>ih,"ZodLiteral"),ZodLazy:a(()=>nh,"ZodLazy"),ZodIssueCode:a(()=>bt,"ZodIssueCode"),ZodIntersection:a(()=>th,"ZodIntersection"),ZodFunction:a(()=>Cu,"ZodFunction"),ZodFirstPartyTypeKind:a(()=>_t,"ZodFirstPartyTypeKind"),ZodError:a(()=>Li,"ZodError"),ZodEnum:a(()=>Ro,"ZodEnum"),ZodEffects:a(()=>Ia,"ZodEffects"),ZodDiscriminatedUnion:a(()=>Dm,"ZodDiscriminatedUnion"),ZodDefault:a(()=>sh,"ZodDefault"),ZodDate:a(()=>Dl,"ZodDate"),ZodCatch:a(()=>oh,"ZodCatch"),ZodBranded:a(()=>j6,"ZodBranded"),ZodBoolean:a(()=>Wd,"ZodBoolean"),ZodBigInt:a(()=>Oo,"ZodBigInt"),ZodArray:a(()=>Aa,"ZodArray"),ZodAny:a(()=>Gu,"ZodAny"),Schema:a(()=>or,"Schema"),ParseStatus:a(()=>$n,"ParseStatus"),OK:a(()=>ii,"OK"),NEVER:a(()=>rte,"NEVER"),INVALID:a(()=>Jt,"INVALID"),EMPTY_PATH:a(()=>Wq,"EMPTY_PATH"),DIRTY:a(()=>Eu,"DIRTY"),BRAND:a(()=>yee,"BRAND")});var vr;(function(e){e.assertEqual=i=>{};function t(i){}a(t,"q"),e.assertIs=t;function r(i){throw Error()}a(r,"K"),e.assertNever=r,e.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},e.getValidEnumValues=i=>{let s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(let l of s)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(let o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}a(n,"P"),e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(vr||(vr={}));var E1;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(E1||(E1={}));var Pt=vr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),js=a(e=>{switch(typeof e){case"undefined":return Pt.undefined;case"string":return Pt.string;case"number":return Number.isNaN(e)?Pt.nan:Pt.number;case"boolean":return Pt.boolean;case"function":return Pt.function;case"bigint":return Pt.bigint;case"symbol":return Pt.symbol;case"object":return Array.isArray(e)?Pt.array:e===null?Pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Pt.promise:typeof Map<"u"&&e instanceof Map?Pt.map:typeof Set<"u"&&e instanceof Set?Pt.set:typeof Date<"u"&&e instanceof Date?Pt.date:Pt.object;default:return Pt.unknown}},"t8"),bt=vr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Xq=a(e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),"xL");class Li extends Error{static{a(this,"Qq")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(s){return s.message},n={_errors:[]},i=a(s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,u=0;for(;u<o.path.length;){let c=o.path[u];u!==o.path.length-1?l[c]=l[c]||{_errors:[]}:(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(o))),l=l[c],u++}}},"P");return i(this),n}static assert(t){if(!(t instanceof Li))throw Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,vr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let i of this.issues)if(i.path.length>0){let s=i.path[0];r[s]=r[s]||[],r[s].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Li.create=e=>new Li(e);var Jq=a((e,t)=>{let r;switch(e.code){case bt.invalid_type:e.received===Pt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case bt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,vr.jsonStringifyReplacer)}`;break;case bt.unrecognized_keys:r=`Unrecognized key(s) in object: ${vr.joinValues(e.keys,", ")}`;break;case bt.invalid_union:r="Invalid input";break;case bt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${vr.joinValues(e.options)}`;break;case bt.invalid_enum_value:r=`Invalid enum value. Expected ${vr.joinValues(e.options)}, received '${e.received}'`;break;case bt.invalid_arguments:r="Invalid function arguments";break;case bt.invalid_return_type:r="Invalid function return type";break;case bt.invalid_date:r="Invalid date";break;case bt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:vr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case bt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case bt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case bt.custom:r="Invalid input";break;case bt.invalid_intersection_types:r="Intersection results could not be merged";break;case bt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case bt.not_finite:r="Number must be finite";break;default:r=t.defaultError,vr.assertNever(e)}return{message:r}},"pL"),Hu=Jq,HO=Hu;function Kq(e){HO=e}a(Kq,"cL");function rp(){return HO}a(rp,"z4");var np=a(e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)l=c(o,{data:t,defaultError:l}).message;return{...i,path:s,message:l}},"T7"),Wq=[];function It(e,t){let r=rp(),n=np({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Hu?void 0:Hu].filter(i=>!!i)});e.common.issues.push(n)}a(It,"t$");class $n{static{a(this,"Gq")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return Jt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let s=await i.key,o=await i.value;n.push({key:s,value:o})}return $n.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Jt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}var Jt=Object.freeze({status:"aborted"}),Eu=a(e=>({status:"dirty",value:e}),"k_"),ii=a(e=>({status:"valid",value:e}),"Iq"),S1=a(e=>e.status==="aborted","v5"),k1=a(e=>e.status==="dirty","z5"),Ll=a(e=>e.status==="valid","iK"),Kd=a(e=>typeof Promise<"u"&&e instanceof Promise,"W4"),Ht;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Ht||(Ht={}));class ls{static{a(this,"g8")}constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}var U5=a((e,t)=>{if(Ll(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Li(e.common.issues);return this._error=r,this._error}}},"ZA");function ir(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:a((s,o)=>{let{message:l}=e;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},"errorMap"),description:i}}a(ir,"z6");class or{static{a(this,"w6")}get description(){return this._def.description}_getType(t){return js(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:js(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $n,ctx:{common:t.parent.common,data:t.data,parsedType:js(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Kd(r))throw Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:js(t)},i=this._parseSync({data:t,path:n.path,parent:n});return U5(n,i)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:js(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return Ll(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>Ll(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:js(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(Kd(i)?i:Promise.resolve(i));return U5(n,s)}refine(t,r){let n=a(i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r,"K");return this._refinement((i,s)=>{let o=t(i),l=a(()=>s.addIssue({code:bt.custom,...n(i)}),"O");return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Ia({schema:this,typeName:_t.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a(r=>this["~validate"](r),"validate")}}optional(){return ns.create(this,this._def)}nullable(){return Po.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Aa.create(this)}promise(){return Vu.create(this,this._def)}or(t){return eh.create([this,t],this._def)}and(t){return th.create(this,t,this._def)}transform(t){return new Ia({...ir(this._def),schema:this,typeName:_t.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new sh({...ir(this._def),innerType:this,defaultValue:r,typeName:_t.ZodDefault})}brand(){return new j6({typeName:_t.ZodBranded,type:this,...ir(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new oh({...ir(this._def),innerType:this,catchValue:r,typeName:_t.ZodCatch})}describe(t){return new this.constructor({...this._def,description:t})}pipe(t){return Hh.create(this,t)}readonly(){return lh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var Qq=/^c[^\s-]{8,}$/i,qq=/^[0-9a-z]+$/,eee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,tee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ree=/^[a-z0-9_-]{21}$/i,nee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,iee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,see="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Pv,oee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,uee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,GO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fee=new RegExp(`^${GO}$`);function VO(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}a(VO,"kA");function pee(e){return new RegExp(`^${VO(e)}$`)}a(pee,"Kg");function YO(e){let t=`${GO}T${VO(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}a(YO,"GA");function mee(e,t){return!!((t==="v4"||!t)&&oee.test(e)||(t==="v6"||!t)&&uee.test(e))}a(mee,"_g");function gee(e,t){if(!nee.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}a(gee,"Pg");function vee(e,t){return!!((t==="v4"||!t)&&lee.test(e)||(t==="v6"||!t)&&cee.test(e))}a(vee,"Og");class Ea extends or{static{a(this,"I8")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Pt.string){let i=this._getOrReturnCtx(t);return It(i,{code:bt.invalid_type,expected:Pt.string,received:i.parsedType}),Jt}let r=new $n,n;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),It(n,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),It(n,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){let s=t.data.length>i.value,o=t.data.length<i.value;(s||o)&&(n=this._getOrReturnCtx(t,n),s?It(n,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&It(n,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")aee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"email",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Pv||(Pv=new RegExp(see,"u")),Pv.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"emoji",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")tee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"uuid",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")ree.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"nanoid",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Qq.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"cuid",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")qq.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"cuid2",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")eee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"ulid",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),It(n,{validation:"url",code:bt.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,!i.regex.test(t.data)&&(n=this._getOrReturnCtx(t,n),It(n,{validation:"regex",code:bt.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),It(n,{code:bt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),It(n,{code:bt.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),It(n,{code:bt.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?YO(i).test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{code:bt.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?fee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{code:bt.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?pee(i).test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{code:bt.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?iee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"duration",code:bt.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?mee(t.data,i.version)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"ip",code:bt.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?gee(t.data,i.alg)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"jwt",code:bt.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?vee(t.data,i.version)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"cidr",code:bt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?dee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"base64",code:bt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?hee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"base64url",code:bt.invalid_string,message:i.message}),r.dirty()):vr.assertNever(i);return{status:r.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:bt.invalid_string,...Ht.errToObj(n)})}_addCheck(t){return new Ea({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ht.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ht.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ht.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ht.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ht.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ht.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ht.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ht.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ht.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ht.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ht.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ht.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ht.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Ht.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Ht.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Ht.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ht.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Ht.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ht.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ht.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ht.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ht.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ht.errToObj(r)})}nonempty(t){return this.min(1,Ht.errToObj(t))}trim(){return new Ea({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ea({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ea({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ea.create=e=>new Ea({checks:[],typeName:_t.ZodString,coerce:e?.coerce??!1,...ir(e)});function bee(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}a(bee,"Yg");class Mo extends or{static{a(this,"BK")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Pt.number){let i=this._getOrReturnCtx(t);return It(i,{code:bt.invalid_type,expected:Pt.number,received:i.parsedType}),Jt}let r,n=new $n;for(let i of this._def.checks)i.kind==="int"?vr.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),It(r,{code:bt.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),It(r,{code:bt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),It(r,{code:bt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?bee(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),It(r,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),It(r,{code:bt.not_finite,message:i.message}),n.dirty()):vr.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ht.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ht.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ht.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ht.toString(r))}setLimit(t,r,n,i){return new Mo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ht.toString(i)}]})}_addCheck(t){return new Mo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ht.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ht.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ht.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ht.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ht.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ht.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&vr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Mo.create=e=>new Mo({checks:[],typeName:_t.ZodNumber,coerce:e?.coerce||!1,...ir(e)});class Oo extends or{static{a(this,"UK")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Pt.bigint)return this._getInvalidInput(t);let r,n=new $n;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),It(r,{code:bt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),It(r,{code:bt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),It(r,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):vr.assertNever(i);return{status:n.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return It(r,{code:bt.invalid_type,expected:Pt.bigint,received:r.parsedType}),Jt}gte(t,r){return this.setLimit("min",t,!0,Ht.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ht.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ht.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ht.toString(r))}setLimit(t,r,n,i){return new Oo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ht.toString(i)}]})}_addCheck(t){return new Oo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ht.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ht.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Oo.create=e=>new Oo({checks:[],typeName:_t.ZodBigInt,coerce:e?.coerce??!1,...ir(e)});class Wd extends or{static{a(this,"T4")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Pt.boolean){let r=this._getOrReturnCtx(t);return It(r,{code:bt.invalid_type,expected:Pt.boolean,received:r.parsedType}),Jt}return ii(t.data)}}Wd.create=e=>new Wd({typeName:_t.ZodBoolean,coerce:e?.coerce||!1,...ir(e)});class Dl extends or{static{a(this,"G_")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Pt.date){let i=this._getOrReturnCtx(t);return It(i,{code:bt.invalid_type,expected:Pt.date,received:i.parsedType}),Jt}if(Number.isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return It(i,{code:bt.invalid_date}),Jt}let r=new $n,n;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(n=this._getOrReturnCtx(t,n),It(n,{code:bt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(n=this._getOrReturnCtx(t,n),It(n,{code:bt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):vr.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Dl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ht.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ht.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Dl.create=e=>new Dl({checks:[],coerce:e?.coerce||!1,typeName:_t.ZodDate,...ir(e)});class ip extends or{static{a(this,"w7")}_parse(t){if(this._getType(t)!==Pt.symbol){let r=this._getOrReturnCtx(t);return It(r,{code:bt.invalid_type,expected:Pt.symbol,received:r.parsedType}),Jt}return ii(t.data)}}ip.create=e=>new ip({typeName:_t.ZodSymbol,...ir(e)});class Qd extends or{static{a(this,"w4")}_parse(t){if(this._getType(t)!==Pt.undefined){let r=this._getOrReturnCtx(t);return It(r,{code:bt.invalid_type,expected:Pt.undefined,received:r.parsedType}),Jt}return ii(t.data)}}Qd.create=e=>new Qd({typeName:_t.ZodUndefined,...ir(e)});class qd extends or{static{a(this,"f4")}_parse(t){if(this._getType(t)!==Pt.null){let r=this._getOrReturnCtx(t);return It(r,{code:bt.invalid_type,expected:Pt.null,received:r.parsedType}),Jt}return ii(t.data)}}qd.create=e=>new qd({typeName:_t.ZodNull,...ir(e)});class Gu extends or{static{a(this,"V_")}constructor(){super(...arguments),this._any=!0}_parse(t){return ii(t.data)}}Gu.create=e=>new Gu({typeName:_t.ZodAny,...ir(e)});class El extends or{static{a(this,"tK")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return ii(t.data)}}El.create=e=>new El({typeName:_t.ZodUnknown,...ir(e)});class Qs extends or{static{a(this,"B8")}_parse(t){let r=this._getOrReturnCtx(t);return It(r,{code:bt.invalid_type,expected:Pt.never,received:r.parsedType}),Jt}}Qs.create=e=>new Qs({typeName:_t.ZodNever,...ir(e)});class ap extends or{static{a(this,"f7")}_parse(t){if(this._getType(t)!==Pt.undefined){let r=this._getOrReturnCtx(t);return It(r,{code:bt.invalid_type,expected:Pt.void,received:r.parsedType}),Jt}return ii(t.data)}}ap.create=e=>new ap({typeName:_t.ZodVoid,...ir(e)});class Aa extends or{static{a(this,"D8")}_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Pt.array)return It(r,{code:bt.invalid_type,expected:Pt.array,received:r.parsedType}),Jt;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(It(r,{code:o?bt.too_big:bt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(It(r,{code:bt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(It(r,{code:bt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new ls(r,o,r.path,l)))).then(o=>$n.mergeArray(n,o));let s=[...r.data].map((o,l)=>i.type._parseSync(new ls(r,o,r.path,l)));return $n.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Aa({...this._def,minLength:{value:t,message:Ht.toString(r)}})}max(t,r){return new Aa({...this._def,maxLength:{value:t,message:Ht.toString(r)}})}length(t,r){return new Aa({...this._def,exactLength:{value:t,message:Ht.toString(r)}})}nonempty(t){return this.min(1,t)}}Aa.create=(e,t)=>new Aa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:_t.ZodArray,...ir(t)});function mu(e){if(e instanceof qr){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=ns.create(mu(n))}return new qr({...e._def,shape:a(()=>t,"shape")})}else return e instanceof Aa?new Aa({...e._def,type:mu(e.element)}):e instanceof ns?ns.create(mu(e.unwrap())):e instanceof Po?Po.create(mu(e.unwrap())):e instanceof us?us.create(e.items.map(t=>mu(t))):e}a(mu,"H4");class qr extends or{static{a(this,"y6")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=vr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Pt.object){let u=this._getOrReturnCtx(t);return It(u,{code:bt.invalid_type,expected:Pt.object,received:u.parsedType}),Jt}let{status:r,ctx:n}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Qs&&this._def.unknownKeys==="strip"))for(let u in n.data)s.includes(u)||o.push(u);let l=[];for(let u of s){let c=i[u],h=n.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ls(n,h,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof Qs){let u=this._def.unknownKeys;if(u==="passthrough")for(let c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:n.data[c]}});else if(u==="strict")o.length>0&&(It(n,{code:bt.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let c of o){let h=n.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ls(n,h,n.path,c)),alwaysSet:c in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let u=[];for(let c of l){let h=await c.key,d=await c.value;u.push({key:h,value:d,alwaysSet:c.alwaysSet})}return u}).then(u=>$n.mergeObjectSync(r,u)):$n.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return Ht.errToObj,new qr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:a((r,n)=>{let i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ht.errToObj(t).message??i}:{message:i}},"errorMap")}:{}})}strip(){return new qr({...this._def,unknownKeys:"strip"})}passthrough(){return new qr({...this._def,unknownKeys:"passthrough"})}extend(t){return new qr({...this._def,shape:a(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new qr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:a(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:_t.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new qr({...this._def,catchall:t})}pick(t){let r={};for(let n of vr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new qr({...this._def,shape:a(()=>r,"shape")})}omit(t){let r={};for(let n of vr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new qr({...this._def,shape:a(()=>r,"shape")})}deepPartial(){return mu(this)}partial(t){let r={};for(let n of vr.objectKeys(this.shape)){let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new qr({...this._def,shape:a(()=>r,"shape")})}required(t){let r={};for(let n of vr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ns;)i=i._def.innerType;r[n]=i}return new qr({...this._def,shape:a(()=>r,"shape")})}keyof(){return ZO(vr.objectKeys(this.shape))}}qr.create=(e,t)=>new qr({shape:a(()=>e,"shape"),unknownKeys:"strip",catchall:Qs.create(),typeName:_t.ZodObject,...ir(t)});qr.strictCreate=(e,t)=>new qr({shape:a(()=>e,"shape"),unknownKeys:"strict",catchall:Qs.create(),typeName:_t.ZodObject,...ir(t)});qr.lazycreate=(e,t)=>new qr({shape:e,unknownKeys:"strip",catchall:Qs.create(),typeName:_t.ZodObject,...ir(t)});class eh extends or{static{a(this,"Z4")}_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(let l of s)if(l.result.status==="valid")return l.result;for(let l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;let o=s.map(l=>new Li(l.ctx.common.issues));return It(r,{code:bt.invalid_union,unionErrors:o}),Jt}if(a(i,"P"),r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},h=u._parseSync({data:r.data,path:r.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let l=o.map(u=>new Li(u));return It(r,{code:bt.invalid_union,unionErrors:l}),Jt}}get options(){return this._def.options}}eh.create=(e,t)=>new eh({options:e,typeName:_t.ZodUnion,...ir(t)});var Os=a(e=>e instanceof nh?Os(e.schema):e instanceof Ia?Os(e.innerType()):e instanceof ih?[e.value]:e instanceof Ro?e.options:e instanceof ah?vr.objectValues(e.enum):e instanceof sh?Os(e._def.innerType):e instanceof Qd?[void 0]:e instanceof qd?[null]:e instanceof ns?[void 0,...Os(e.unwrap())]:e instanceof Po?[null,...Os(e.unwrap())]:e instanceof j6||e instanceof lh?Os(e.unwrap()):e instanceof oh?Os(e._def.innerType):[],"fK");class Dm extends or{static{a(this,"W5")}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Pt.object)return It(r,{code:bt.invalid_type,expected:Pt.object,received:r.parsedType}),Jt;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(It(r,{code:bt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Jt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let s of r){let o=Os(s.shape[t]);if(!o.length)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let l of o){if(i.has(l))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,s)}}return new Dm({typeName:_t.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...ir(n)})}}function A1(e,t){let r=js(e),n=js(t);if(e===t)return{valid:!0,data:e};if(r===Pt.object&&n===Pt.object){let i=vr.objectKeys(t),s=vr.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(let l of s){let u=A1(e[l],t[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(r===Pt.array&&n===Pt.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let s=0;s<e.length;s++){let o=e[s],l=t[s],u=A1(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===Pt.date&&n===Pt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}a(A1,"dv");class th extends or{static{a(this,"X4")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=a((s,o)=>{if(S1(s)||S1(o))return Jt;let l=A1(s.value,o.value);return l.valid?((k1(s)||k1(o))&&r.dirty(),{status:r.value,value:l.data}):(It(n,{code:bt.invalid_intersection_types}),Jt)},"P");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}th.create=(e,t,r)=>new th({left:e,right:t,typeName:_t.ZodIntersection,...ir(r)});class us extends or{static{a(this,"U8")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pt.array)return It(n,{code:bt.invalid_type,expected:Pt.array,received:n.parsedType}),Jt;if(n.data.length<this._def.items.length)return It(n,{code:bt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Jt;!this._def.rest&&n.data.length>this._def.items.length&&(It(n,{code:bt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((s,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new ls(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>$n.mergeArray(r,s)):$n.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new us({...this._def,rest:t})}}us.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new us({items:e,typeName:_t.ZodTuple,rest:null,...ir(t)})};class rh extends or{static{a(this,"Z7")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pt.object)return It(n,{code:bt.invalid_type,expected:Pt.object,received:n.parsedType}),Jt;let i=[],s=this._def.keyType,o=this._def.valueType;for(let l in n.data)i.push({key:s._parse(new ls(n,l,n.path,l)),value:o._parse(new ls(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?$n.mergeObjectAsync(r,i):$n.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof or?new rh({keyType:t,valueType:r,typeName:_t.ZodRecord,...ir(n)}):new rh({keyType:Ea.create(),valueType:t,typeName:_t.ZodRecord,...ir(r)})}}class sp extends or{static{a(this,"X7")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pt.map)return It(n,{code:bt.invalid_type,expected:Pt.map,received:n.parsedType}),Jt;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,u],c)=>({key:i._parse(new ls(n,l,n.path,[c,"key"])),value:s._parse(new ls(n,u,n.path,[c,"value"]))}));if(n.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let u of o){let c=await u.key,h=await u.value;if(c.status==="aborted"||h.status==="aborted")return Jt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(c.value,h.value)}return{status:r.value,value:l}})}else{let l=new Map;for(let u of o){let{key:c,value:h}=u;if(c.status==="aborted"||h.status==="aborted")return Jt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(c.value,h.value)}return{status:r.value,value:l}}}}sp.create=(e,t,r)=>new sp({valueType:t,keyType:e,typeName:_t.ZodMap,...ir(r)});class jl extends or{static{a(this,"S_")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pt.set)return It(n,{code:bt.invalid_type,expected:Pt.set,received:n.parsedType}),Jt;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(It(n,{code:bt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(It(n,{code:bt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(u){let c=new Set;for(let h of u){if(h.status==="aborted")return Jt;h.status==="dirty"&&r.dirty(),c.add(h.value)}return{status:r.value,value:c}}a(o,"Y");let l=[...n.data.values()].map((u,c)=>s._parse(new ls(n,u,n.path,c)));return n.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(t,r){return new jl({...this._def,minSize:{value:t,message:Ht.toString(r)}})}max(t,r){return new jl({...this._def,maxSize:{value:t,message:Ht.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}jl.create=(e,t)=>new jl({valueType:e,minSize:null,maxSize:null,typeName:_t.ZodSet,...ir(t)});class Cu extends or{static{a(this,"J4")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Pt.function)return It(r,{code:bt.invalid_type,expected:Pt.function,received:r.parsedType}),Jt;function n(l,u){return np({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,rp(),Hu].filter(c=>!!c),issueData:{code:bt.invalid_arguments,argumentsError:u}})}a(n,"K");function i(l,u){return np({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,rp(),Hu].filter(c=>!!c),issueData:{code:bt.invalid_return_type,returnTypeError:u}})}a(i,"P");let s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Vu){let l=this;return ii(async function(...u){let c=new Li([]),h=await l._def.args.parseAsync(u,s).catch(g=>{throw c.addIssue(n(u,g)),c}),d=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(d,s).catch(g=>{throw c.addIssue(i(d,g)),c})})}else{let l=this;return ii(function(...u){let c=l._def.args.safeParse(u,s);if(!c.success)throw new Li([n(u,c.error)]);let h=Reflect.apply(o,this,c.data),d=l._def.returns.safeParse(h,s);if(!d.success)throw new Li([i(h,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Cu({...this._def,args:us.create(t).rest(El.create())})}returns(t){return new Cu({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Cu({args:t||us.create([]).rest(El.create()),returns:r||El.create(),typeName:_t.ZodFunction,...ir(n)})}}class nh extends or{static{a(this,"A4")}get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}nh.create=(e,t)=>new nh({getter:e,typeName:_t.ZodLazy,...ir(t)});class ih extends or{static{a(this,"k4")}_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return It(r,{received:r.data,code:bt.invalid_literal,expected:this._def.value}),Jt}return{status:"valid",value:t.data}}get value(){return this._def.value}}ih.create=(e,t)=>new ih({value:e,typeName:_t.ZodLiteral,...ir(t)});function ZO(e,t){return new Ro({values:e,typeName:_t.ZodEnum,...ir(t)})}a(ZO,"VA");class Ro extends or{static{a(this,"FK")}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return It(r,{expected:vr.joinValues(n),received:r.parsedType,code:bt.invalid_type}),Jt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return It(r,{received:r.data,code:bt.invalid_enum_value,options:n}),Jt}return ii(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ro.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ro.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ro.create=ZO;class ah extends or{static{a(this,"G4")}_parse(t){let r=vr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Pt.string&&n.parsedType!==Pt.number){let i=vr.objectValues(r);return It(n,{expected:vr.joinValues(i),received:n.parsedType,code:bt.invalid_type}),Jt}if(this._cache||(this._cache=new Set(vr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let i=vr.objectValues(r);return It(n,{received:n.data,code:bt.invalid_enum_value,options:i}),Jt}return ii(t.data)}get enum(){return this._def.values}}ah.create=(e,t)=>new ah({values:e,typeName:_t.ZodNativeEnum,...ir(t)});class Vu extends or{static{a(this,"M_")}unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Pt.promise&&r.common.async===!1)return It(r,{code:bt.invalid_type,expected:Pt.promise,received:r.parsedType}),Jt;let n=r.parsedType===Pt.promise?r.data:Promise.resolve(r.data);return ii(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Vu.create=(e,t)=>new Vu({type:e,typeName:_t.ZodPromise,...ir(t)});class Ia extends or{static{a(this,"b8")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_t.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:a(o=>{It(n,o),o.fatal?r.abort():r.dirty()},"addIssue"),get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){let o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Jt;let u=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return u.status==="aborted"?Jt:u.status==="dirty"||r.value==="dirty"?Eu(u.value):u});{if(r.value==="aborted")return Jt;let l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Jt:l.status==="dirty"||r.value==="dirty"?Eu(l.value):l}}if(i.type==="refinement"){let o=a(l=>{let u=i.refinement(l,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"Y");if(n.common.async===!1){let l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Jt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Jt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ll(o))return Jt;let l=i.transform(o.value,s);if(l instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ll(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:r.value,value:l})):Jt);vr.assertNever(i)}}Ia.create=(e,t,r)=>new Ia({schema:e,typeName:_t.ZodEffects,effect:t,...ir(r)});Ia.createWithPreprocess=(e,t,r)=>new Ia({schema:t,effect:{type:"preprocess",transform:e},typeName:_t.ZodEffects,...ir(r)});class ns extends or{static{a(this,"L8")}_parse(t){return this._getType(t)===Pt.undefined?ii(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ns.create=(e,t)=>new ns({innerType:e,typeName:_t.ZodOptional,...ir(t)});class Po extends or{static{a(this,"ZK")}_parse(t){return this._getType(t)===Pt.null?ii(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Po.create=(e,t)=>new Po({innerType:e,typeName:_t.ZodNullable,...ir(t)});class sh extends or{static{a(this,"V4")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===Pt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}sh.create=(e,t)=>new sh({innerType:e,typeName:_t.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ir(t)});class oh extends or{static{a(this,"S4")}_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Kd(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Li(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Li(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}oh.create=(e,t)=>new oh({innerType:e,typeName:_t.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ir(t)});class op extends or{static{a(this,"A7")}_parse(t){if(this._getType(t)!==Pt.nan){let r=this._getOrReturnCtx(t);return It(r,{code:bt.invalid_type,expected:Pt.nan,received:r.parsedType}),Jt}return{status:"valid",value:t.data}}}op.create=e=>new op({typeName:_t.ZodNaN,...ir(e)});var yee=Symbol("zod_brand");class j6 extends or{static{a(this,"H5")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Hh extends or{static{a(this,"k7")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Jt:i.status==="dirty"?(r.dirty(),Eu(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Jt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Hh({in:t,out:r,typeName:_t.ZodPipeline})}}class lh extends or{static{a(this,"M4")}_parse(t){let r=this._def.innerType._parse(t),n=a(i=>(Ll(i)&&(i.value=Object.freeze(i.value)),i),"K");return Kd(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}lh.create=(e,t)=>new lh({innerType:e,typeName:_t.ZodReadonly,...ir(t)});function H5(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}a(H5,"XA");function $O(e,t={},r){return e?Gu.create().superRefine((n,i)=>{let s=e(n);if(s instanceof Promise)return s.then(o=>{if(!o){let l=H5(t,n),u=l.fatal??r??!0;i.addIssue({code:"custom",...l,fatal:u})}});if(!s){let o=H5(t,n),l=o.fatal??r??!0;i.addIssue({code:"custom",...o,fatal:l})}}):Gu.create()}a($O,"SA");var wee={object:qr.lazycreate},_t;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(_t||(_t={}));var _ee=a((e,t={message:`Input not instance of ${e.name}`})=>$O(r=>r instanceof e,t),"zg"),XO=Ea.create,JO=Mo.create,xee=op.create,Eee=Oo.create,KO=Wd.create,See=Dl.create,kee=ip.create,Aee=Qd.create,Tee=qd.create,Nee=Gu.create,Cee=El.create,Iee=Qs.create,Mee=ap.create,Oee=Aa.create,Ree=qr.create,Pee=qr.strictCreate,Lee=eh.create,Dee=Dm.create,jee=th.create,Bee=us.create,zee=rh.create,Fee=sp.create,Uee=jl.create,Hee=Cu.create,Gee=nh.create,Vee=ih.create,Yee=Ro.create,Zee=ah.create,$ee=Vu.create,G5=Ia.create,Xee=ns.create,Jee=Po.create,Kee=Ia.createWithPreprocess,Wee=Hh.create,Qee=a(()=>XO().optional(),"lg"),qee=a(()=>JO().optional(),"rg"),ete=a(()=>KO().optional(),"og"),tte={string:a(e=>Ea.create({...e,coerce:!0}),"string"),number:a(e=>Mo.create({...e,coerce:!0}),"number"),boolean:a(e=>Wd.create({...e,coerce:!0}),"boolean"),bigint:a(e=>Oo.create({...e,coerce:!0}),"bigint"),date:a(e=>Dl.create({...e,coerce:!0}),"date")},rte=Jt;function nte(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==_t.ZodAny&&(r.items=Er(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&kr(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&kr(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(kr(r,"minItems",e.exactLength.value,e.exactLength.message,t),kr(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}a(nte,"lv");function ite(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?kr(r,"minimum",n.value,n.message,t):kr(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),kr(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?kr(r,"maximum",n.value,n.message,t):kr(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),kr(r,"maximum",n.value,n.message,t));break;case"multipleOf":kr(r,"multipleOf",n.value,n.message,t);break}return r}a(ite,"rv");function ate(){return{type:"boolean"}}a(ate,"ov");function WO(e,t){return Er(e.type._def,t)}a(WO,"G7");var ste=a((e,t)=>Er(e.innerType._def,t),"nv");function QO(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map(i=>QO(e,t,i))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return ote(e,t)}}a(QO,"J5");var ote=a((e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":kr(r,"minimum",n.value,n.message,t);break;case"max":kr(r,"maximum",n.value,n.message,t);break}return r},"tg");function lte(e,t){return{...Er(e.innerType._def,t),default:e.defaultValue()}}a(lte,"iv");function ute(e,t){return t.effectStrategy==="input"?Er(e.schema._def,t):zi(t)}a(ute,"tv");function cte(e){return{type:"string",enum:Array.from(e.values)}}a(cte,"Bv");var dte=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"Bg");function hte(e,t){let r=[Er(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Er(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(s=>!!s),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,i=[];return r.forEach(s=>{if(dte(s))i.push(...s.allOf),s.unevaluatedProperties===void 0&&(n=void 0);else{let o=s;if("additionalProperties"in s&&s.additionalProperties===!1){let{additionalProperties:l,...u}=s;o=u}else n=void 0;i.push(o)}}),i.length?{allOf:i,...n}:void 0}a(hte,"Uv");function fte(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}a(fte,"Fv");var Lv=void 0,ua={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(Lv===void 0&&(Lv=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Lv),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function qO(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":kr(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":kr(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":ca(r,"email",n.message,t);break;case"format:idn-email":ca(r,"idn-email",n.message,t);break;case"pattern:zod":Wn(r,ua.email,n.message,t);break}break;case"url":ca(r,"uri",n.message,t);break;case"uuid":ca(r,"uuid",n.message,t);break;case"regex":Wn(r,n.regex,n.message,t);break;case"cuid":Wn(r,ua.cuid,n.message,t);break;case"cuid2":Wn(r,ua.cuid2,n.message,t);break;case"startsWith":Wn(r,RegExp(`^${Dv(n.value,t)}`),n.message,t);break;case"endsWith":Wn(r,RegExp(`${Dv(n.value,t)}$`),n.message,t);break;case"datetime":ca(r,"date-time",n.message,t);break;case"date":ca(r,"date",n.message,t);break;case"time":ca(r,"time",n.message,t);break;case"duration":ca(r,"duration",n.message,t);break;case"length":kr(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),kr(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":Wn(r,RegExp(Dv(n.value,t)),n.message,t);break;case"ip":n.version!=="v6"&&ca(r,"ipv4",n.message,t),n.version!=="v4"&&ca(r,"ipv6",n.message,t);break;case"base64url":Wn(r,ua.base64url,n.message,t);break;case"jwt":Wn(r,ua.jwt,n.message,t);break;case"cidr":n.version!=="v6"&&Wn(r,ua.ipv4Cidr,n.message,t),n.version!=="v4"&&Wn(r,ua.ipv6Cidr,n.message,t);break;case"emoji":Wn(r,ua.emoji(),n.message,t);break;case"ulid":Wn(r,ua.ulid,n.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":ca(r,"binary",n.message,t);break;case"contentEncoding:base64":kr(r,"contentEncoding","base64",n.message,t);break;case"pattern:zod":Wn(r,ua.base64,n.message,t);break}break;case"nanoid":Wn(r,ua.nanoid,n.message,t);break}return r}a(qO,"V7");function Dv(e,t){return t.patternStrategy==="escape"?mte(e):e}a(Dv,"Qv");var pte=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function mte(e){let t="";for(let r=0;r<e.length;r++)pte.has(e[r])||(t+="\\"),t+=e[r];return t}a(mte,"Fg");function ca(e,t,r,n){e.format||e.anyOf?.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):kr(e,"format",t,r,n)}a(ca,"y8");function Wn(e,t,r,n){e.pattern||e.allOf?.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:V5(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):kr(e,"pattern",V5(t,n),r,n)}a(Wn,"xq");function V5(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,i="",s=!1,o=!1,l=!1;for(let u=0;u<n.length;u++){if(s){i+=n[u],s=!1;continue}if(r.i){if(o){if(n[u].match(/[a-z]/)){l?(i+=n[u],i+=`${n[u-2]}-${n[u]}`.toUpperCase(),l=!1):n[u+1]==="-"&&n[u+2]?.match(/[a-z]/)?(i+=n[u],l=!0):i+=`${n[u]}${n[u].toUpperCase()}`;continue}}else if(n[u].match(/[a-z]/)){i+=`[${n[u]}${n[u].toUpperCase()}]`;continue}}if(r.m){if(n[u]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(n[u]==="$"){i+=`($|(?=[\r
]))`;continue}}if(r.s&&n[u]==="."){i+=o?`${n[u]}\r
`:`[${n[u]}\r
]`;continue}i+=n[u],n[u]==="\\"?s=!0:o&&n[u]==="]"?o=!1:!o&&n[u]==="["&&(o=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}a(V5,"hA");function eR(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===_t.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,i)=>({...n,[i]:Er(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",i]})??zi(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:Er(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return r;if(e.keyType?._def.typeName===_t.ZodString&&e.keyType._def.checks?.length){let{type:n,...i}=qO(e.keyType._def,t);return{...r,propertyNames:i}}else{if(e.keyType?._def.typeName===_t.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===_t.ZodBranded&&e.keyType._def.type._def.typeName===_t.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...i}=WO(e.keyType._def,t);return{...r,propertyNames:i}}}return r}a(eR,"S7");function gte(e,t){if(t.mapStrategy==="record")return eR(e,t);let r=Er(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||zi(t),n=Er(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||zi(t);return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(gte,"ev");function vte(e){let t=e.values,r=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),n=Array.from(new Set(r.map(i=>typeof i)));return{type:n.length===1?n[0]==="string"?"string":"number":["string","number"],enum:r}}a(vte,"sv");function bte(e){return e.target==="openAi"?void 0:{not:zi({...e,currentPath:[...e.currentPath,"not"]})}}a(bte,"$z");function yte(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}a(yte,"qz");var lp={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function wte(e,t){if(t.target==="openApi3")return Y5(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in lp&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((i,s)=>{let o=lp[s._def.typeName];return o&&!i.includes(o)?[...i,o]:i},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((i,s)=>{let o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...i,o];case"bigint":return[...i,"integer"];case"object":return s._def.value===null?[...i,"null"]:i;case"symbol":case"undefined":case"function":default:return i}},[]);if(n.length===r.length){let i=n.filter((s,o,l)=>l.indexOf(s)===o);return{type:i.length>1?i:i[0],enum:r.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,i)=>[...n,...i._def.values.filter(s=>!n.includes(s))],[])};return Y5(e,t)}a(wte,"Kz");var Y5=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,i)=>Er(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"EA");function _te(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:lp[e.innerType._def.typeName],nullable:!0}:{type:[lp[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=Er(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=Er(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(_te,"_z");function xte(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",UO(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?kr(r,"minimum",n.value,n.message,t):kr(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),kr(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?kr(r,"maximum",n.value,n.message,t):kr(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),kr(r,"maximum",n.value,n.message,t));break;case"multipleOf":kr(r,"multipleOf",n.value,n.message,t);break}return r}a(xte,"Pz");function Ete(e,t){let r=t.target==="openAi",n={type:"object",properties:{}},i=[],s=e.shape();for(let l in s){let u=s[l];if(u===void 0||u._def===void 0)continue;let c=kte(u);c&&r&&(u._def.typeName==="ZodOptional"&&(u=u._def.innerType),u.isNullable()||(u=u.nullable()),c=!1);let h=Er(u._def,{...t,currentPath:[...t.currentPath,"properties",l],propertyPath:[...t.currentPath,"properties",l]});h!==void 0&&(n.properties[l]=h,!c&&i.push(l))}i.length&&(n.required=i);let o=Ste(e,t);return o!==void 0&&(n.additionalProperties=o),n}a(Ete,"Oz");function Ste(e,t){if(e.catchall._def.typeName!=="ZodNever")return Er(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(Ste,"ag");function kte(e){try{return e.isOptional()}catch{return!0}}a(kte,"Qg");var Ate=a((e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return Er(e.innerType._def,t);let r=Er(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:zi(t)},r]}:zi(t)},"Yz"),Tte=a((e,t)=>{if(t.pipeStrategy==="input")return Er(e.in._def,t);if(t.pipeStrategy==="output")return Er(e.out._def,t);let r=Er(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Er(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(i=>i!==void 0)}},"jz");function Nte(e,t){return Er(e.type._def,t)}a(Nte,"vz");function Cte(e,t){let r={type:"array",uniqueItems:!0,items:Er(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&kr(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&kr(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}a(Cte,"zz");function Ite(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Er(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Er(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Er(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(Ite,"Wz");function Mte(e){return{not:zi(e)}}a(Mte,"Hz");function Ote(e){return zi(e)}a(Ote,"Jz");var Rte=a((e,t)=>Er(e.innerType._def,t),"Tz"),Pte=a((e,t,r)=>{switch(t){case _t.ZodString:return qO(e,r);case _t.ZodNumber:return xte(e,r);case _t.ZodObject:return Ete(e,r);case _t.ZodBigInt:return ite(e,r);case _t.ZodBoolean:return ate();case _t.ZodDate:return QO(e,r);case _t.ZodUndefined:return Mte(r);case _t.ZodNull:return yte(r);case _t.ZodArray:return nte(e,r);case _t.ZodUnion:case _t.ZodDiscriminatedUnion:return wte(e,r);case _t.ZodIntersection:return hte(e,r);case _t.ZodTuple:return Ite(e,r);case _t.ZodRecord:return eR(e,r);case _t.ZodLiteral:return fte(e,r);case _t.ZodEnum:return cte(e);case _t.ZodNativeEnum:return vte(e);case _t.ZodNullable:return _te(e,r);case _t.ZodOptional:return Ate(e,r);case _t.ZodMap:return gte(e,r);case _t.ZodSet:return Cte(e,r);case _t.ZodLazy:return()=>e.getter()._def;case _t.ZodPromise:return Nte(e,r);case _t.ZodNaN:case _t.ZodNever:return bte(r);case _t.ZodEffects:return ute(e,r);case _t.ZodAny:return zi(r);case _t.ZodUnknown:return Ote(r);case _t.ZodDefault:return lte(e,r);case _t.ZodBranded:return WO(e,r);case _t.ZodReadonly:return Rte(e,r);case _t.ZodCatch:return ste(e,r);case _t.ZodPipeline:return Tte(e,r);case _t.ZodFunction:case _t.ZodVoid:case _t.ZodSymbol:return;default:return(n=>{})()}},"wz");function Er(e,t,r=!1){let n=t.seen.get(e);if(t.override){let l=t.override?.(e,t,n,r);if(l!==Vq)return l}if(n&&!r){let l=Lte(n,t);if(l!==void 0)return l}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let s=Pte(e,e.typeName,t),o=typeof s=="function"?Er(s(),t):s;if(o&&Dte(e,t,o),t.postProcess){let l=t.postProcess(o,e,t);return i.jsonSchema=o,l}return i.jsonSchema=o,o}a(Er,"K6");var Lte=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:FO(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),zi(t)):t.$refStrategy==="seen"?zi(t):void 0}},"eg"),Dte=a((e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),"sg"),jte=a((e,t)=>{let r=$q(t),n,i=Er(e._def,r,!1)??zi(r);r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let s=n?{...i,[r.definitionPath]:n}:i;return r.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s},"fz");function Iu(e,t){let r=typeof e;if(r!==typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(!Iu(e[i],t[i]))return!1;return!0}if(r==="object"){if(!e||!t)return e===t;let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let s of n)if(!Iu(e[s],t[s]))return!1;return!0}return e===t}a(Iu,"aK");function fa(e){return encodeURI(Bte(e))}a(fa,"j8");function Bte(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}a(Bte,"$b");var zte={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},Fte={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},Ute={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0},Hte=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function xo(e,t=Object.create(null),r=Hte,n=""){if(e&&typeof e=="object"&&!Array.isArray(e)){let s=e.$id||e.id;if(s){let o=new URL(s,r.href);o.hash.length>1?t[o.href]=e:(o.hash="",n===""?r=o:xo(e,t,r))}}else if(e!==!0&&e!==!1)return t;let i=r.href+(n?"#"+n:"");if(t[i]!==void 0)throw Error(`Duplicate schema URI "${i}".`);if(t[i]=e,e===!0||e===!1)return t;if(e.__absolute_uri__===void 0&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:i}),e.$ref&&e.__absolute_ref__===void 0){let s=new URL(e.$ref,r.href);s.hash=s.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:s.href})}if(e.$recursiveRef&&e.__absolute_recursive_ref__===void 0){let s=new URL(e.$recursiveRef,r.href);s.hash=s.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:s.href})}if(e.$anchor){let s=new URL("#"+e.$anchor,r.href);t[s.href]=e}for(let s in e){if(Ute[s])continue;let o=`${n}/${fa(s)}`,l=e[s];if(Array.isArray(l)){if(zte[s]){let u=l.length;for(let c=0;c<u;c++)xo(l[c],t,r,`${o}/${c}`)}}else if(Fte[s])for(let u in l)xo(l[u],t,r,`${o}/${fa(u)}`);else xo(l,t,r,o)}return t}a(xo,"u8");var Gte=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Vte=[0,31,28,31,30,31,30,31,31,30,31,30,31],Yte=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Zte=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,$te=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Xte=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Jte=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,Kte=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Wte=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Qte=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,qte=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,ere=a(e=>{if(e[0]==='"')return!1;let[t,r,...n]=e.split("@");return!t||!r||n.length!==0||t.length>64||r.length>253||t[0]==="."||t.endsWith(".")||t.includes("..")||!/^[a-z0-9.-]+$/i.test(r)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t)?!1:r.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},"Zb"),tre=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,rre=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,nre=a(e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e)),"kb");function Fa(e){return e.test.bind(e)}a(Fa,"F8");var Z5={date:tR,time:rR.bind(void 0,!1),"date-time":sre,duration:nre,uri:ure,"uri-reference":Fa($te),"uri-template":Fa(Xte),url:Fa(Jte),email:ere,hostname:Fa(Zte),ipv4:Fa(tre),ipv6:Fa(rre),regex:dre,uuid:Fa(Kte),"json-pointer":Fa(Wte),"json-pointer-uri-fragment":Fa(Qte),"relative-json-pointer":Fa(qte)};function ire(e){return e%4===0&&(e%100!==0||e%400===0)}a(ire,"Gb");function tR(e){let t=e.match(Gte);if(!t)return!1;let r=+t[1],n=+t[2],i=+t[3];return n>=1&&n<=12&&i>=1&&i<=(n==2&&ire(r)?29:Vte[n])}a(tR,"RA");function rR(e,t){let r=t.match(Yte);if(!r)return!1;let n=+r[1],i=+r[2],s=+r[3],o=!!r[5];return(n<=23&&i<=59&&s<=59||n==23&&i==59&&s==60)&&(!e||o)}a(rR,"IA");var are=/t|\s/i;function sre(e){let t=e.split(are);return t.length==2&&tR(t[0])&&rR(!0,t[1])}a(sre,"Sb");var ore=/\/|:/,lre=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function ure(e){return ore.test(e)&&lre.test(e)}a(ure,"Cb");var cre=/[^\\]\\Z/;function dre(e){if(cre.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}}a(dre,"Eb");function hre(e){let t=0,r=e.length,n=0,i;for(;n<r;)t++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<r&&(i=e.charCodeAt(n),(i&64512)==56320&&n++);return t}a(hre,"DA");function Wr(e,t,r="2019-09",n=xo(t),i=!0,s=null,o="#",l="#",u=Object.create(null)){if(t===!0)return{valid:!0,errors:[]};if(t===!1)return{valid:!1,errors:[{instanceLocation:o,keyword:"false",keywordLocation:o,error:"False boolean schema."}]};let c=typeof e,h;switch(c){case"boolean":case"number":case"string":h=c;break;case"object":e===null?h="null":Array.isArray(e)?h="array":h="object";break;default:throw Error(`Instances of "${c}" type are not supported.`)}let{$ref:d,$recursiveRef:g,$recursiveAnchor:m,type:y,const:x,enum:A,required:C,not:M,anyOf:R,allOf:P,oneOf:L,if:z,then:Z,else:Y,format:ae,properties:F,patternProperties:W,additionalProperties:f,unevaluatedProperties:w,minProperties:v,maxProperties:_,propertyNames:S,dependentRequired:T,dependentSchemas:N,dependencies:k,prefixItems:p,items:E,additionalItems:I,unevaluatedItems:O,contains:B,minContains:H,maxContains:G,minItems:J,maxItems:ce,uniqueItems:ne,minimum:se,maximum:Ye,exclusiveMinimum:Te,exclusiveMaximum:ye,multipleOf:Me,minLength:X,maxLength:oe,pattern:ee,__absolute_ref__:te,__absolute_recursive_ref__:fe}=t,xe=[];if(m===!0&&s===null&&(s=t),g==="#"){let de=s===null?n[fe]:s,$=`${l}/$recursiveRef`,q=Wr(e,s===null?t:s,r,n,i,de,o,$,u);q.valid||xe.push({instanceLocation:o,keyword:"$recursiveRef",keywordLocation:$,error:"A subschema had errors."},...q.errors)}if(d!==void 0){let de=n[te||d];if(de===void 0){let K=`Unresolved $ref "${d}".`;throw te&&te!==d&&(K+=`  Absolute URI "${te}".`),K+=`
Known schemas:
- ${Object.keys(n).join(`
- `)}`,Error(K)}let $=`${l}/$ref`,q=Wr(e,de,r,n,i,s,o,$,u);if(q.valid||xe.push({instanceLocation:o,keyword:"$ref",keywordLocation:$,error:"A subschema had errors."},...q.errors),r==="4"||r==="7")return{valid:xe.length===0,errors:xe}}if(Array.isArray(y)){let de=y.length,$=!1;for(let q=0;q<de;q++)if(h===y[q]||y[q]==="integer"&&h==="number"&&e%1===0&&e===e){$=!0;break}$||xe.push({instanceLocation:o,keyword:"type",keywordLocation:`${l}/type`,error:`Instance type "${h}" is invalid. Expected "${y.join('", "')}".`})}else y==="integer"?(h!=="number"||e%1||e!==e)&&xe.push({instanceLocation:o,keyword:"type",keywordLocation:`${l}/type`,error:`Instance type "${h}" is invalid. Expected "${y}".`}):y!==void 0&&h!==y&&xe.push({instanceLocation:o,keyword:"type",keywordLocation:`${l}/type`,error:`Instance type "${h}" is invalid. Expected "${y}".`});if(x!==void 0&&(h==="object"||h==="array"?Iu(e,x)||xe.push({instanceLocation:o,keyword:"const",keywordLocation:`${l}/const`,error:`Instance does not match ${JSON.stringify(x)}.`}):e!==x&&xe.push({instanceLocation:o,keyword:"const",keywordLocation:`${l}/const`,error:`Instance does not match ${JSON.stringify(x)}.`})),A!==void 0&&(h==="object"||h==="array"?A.some(de=>Iu(e,de))||xe.push({instanceLocation:o,keyword:"enum",keywordLocation:`${l}/enum`,error:`Instance does not match any of ${JSON.stringify(A)}.`}):A.some(de=>e===de)||xe.push({instanceLocation:o,keyword:"enum",keywordLocation:`${l}/enum`,error:`Instance does not match any of ${JSON.stringify(A)}.`})),M!==void 0){let de=`${l}/not`;Wr(e,M,r,n,i,s,o,de).valid&&xe.push({instanceLocation:o,keyword:"not",keywordLocation:de,error:'Instance matched "not" schema.'})}let Re=[];if(R!==void 0){let de=`${l}/anyOf`,$=xe.length,q=!1;for(let K=0;K<R.length;K++){let le=R[K],ue=Object.create(u),ie=Wr(e,le,r,n,i,m===!0?s:null,o,`${de}/${K}`,ue);xe.push(...ie.errors),q=q||ie.valid,ie.valid&&Re.push(ue)}q?xe.length=$:xe.splice($,0,{instanceLocation:o,keyword:"anyOf",keywordLocation:de,error:"Instance does not match any subschemas."})}if(P!==void 0){let de=`${l}/allOf`,$=xe.length,q=!0;for(let K=0;K<P.length;K++){let le=P[K],ue=Object.create(u),ie=Wr(e,le,r,n,i,m===!0?s:null,o,`${de}/${K}`,ue);xe.push(...ie.errors),q=q&&ie.valid,ie.valid&&Re.push(ue)}q?xe.length=$:xe.splice($,0,{instanceLocation:o,keyword:"allOf",keywordLocation:de,error:"Instance does not match every subschema."})}if(L!==void 0){let de=`${l}/oneOf`,$=xe.length,q=L.filter((K,le)=>{let ue=Object.create(u),ie=Wr(e,K,r,n,i,m===!0?s:null,o,`${de}/${le}`,ue);return xe.push(...ie.errors),ie.valid&&Re.push(ue),ie.valid}).length;q===1?xe.length=$:xe.splice($,0,{instanceLocation:o,keyword:"oneOf",keywordLocation:de,error:`Instance does not match exactly one subschema (${q} matches).`})}if((h==="object"||h==="array")&&Object.assign(u,...Re),z!==void 0){let de=`${l}/if`;if(Wr(e,z,r,n,i,s,o,de,u).valid){if(Z!==void 0){let $=Wr(e,Z,r,n,i,s,o,`${l}/then`,u);$.valid||xe.push({instanceLocation:o,keyword:"if",keywordLocation:de,error:'Instance does not match "then" schema.'},...$.errors)}}else if(Y!==void 0){let $=Wr(e,Y,r,n,i,s,o,`${l}/else`,u);$.valid||xe.push({instanceLocation:o,keyword:"if",keywordLocation:de,error:'Instance does not match "else" schema.'},...$.errors)}}if(h==="object"){if(C!==void 0)for(let K of C)K in e||xe.push({instanceLocation:o,keyword:"required",keywordLocation:`${l}/required`,error:`Instance does not have required property "${K}".`});let de=Object.keys(e);if(v!==void 0&&de.length<v&&xe.push({instanceLocation:o,keyword:"minProperties",keywordLocation:`${l}/minProperties`,error:`Instance does not have at least ${v} properties.`}),_!==void 0&&de.length>_&&xe.push({instanceLocation:o,keyword:"maxProperties",keywordLocation:`${l}/maxProperties`,error:`Instance does not have at least ${_} properties.`}),S!==void 0){let K=`${l}/propertyNames`;for(let le in e){let ue=`${o}/${fa(le)}`,ie=Wr(le,S,r,n,i,s,ue,K);ie.valid||xe.push({instanceLocation:o,keyword:"propertyNames",keywordLocation:K,error:`Property name "${le}" does not match schema.`},...ie.errors)}}if(T!==void 0){let K=`${l}/dependantRequired`;for(let le in T)if(le in e){let ue=T[le];for(let ie of ue)ie in e||xe.push({instanceLocation:o,keyword:"dependentRequired",keywordLocation:K,error:`Instance has "${le}" but does not have "${ie}".`})}}if(N!==void 0)for(let K in N){let le=`${l}/dependentSchemas`;if(K in e){let ue=Wr(e,N[K],r,n,i,s,o,`${le}/${fa(K)}`,u);ue.valid||xe.push({instanceLocation:o,keyword:"dependentSchemas",keywordLocation:le,error:`Instance has "${K}" but does not match dependant schema.`},...ue.errors)}}if(k!==void 0){let K=`${l}/dependencies`;for(let le in k)if(le in e){let ue=k[le];if(Array.isArray(ue))for(let ie of ue)ie in e||xe.push({instanceLocation:o,keyword:"dependencies",keywordLocation:K,error:`Instance has "${le}" but does not have "${ie}".`});else{let ie=Wr(e,ue,r,n,i,s,o,`${K}/${fa(le)}`);ie.valid||xe.push({instanceLocation:o,keyword:"dependencies",keywordLocation:K,error:`Instance has "${le}" but does not match dependant schema.`},...ie.errors)}}}let $=Object.create(null),q=!1;if(F!==void 0){let K=`${l}/properties`;for(let le in F){if(!(le in e))continue;let ue=`${o}/${fa(le)}`,ie=Wr(e[le],F[le],r,n,i,s,ue,`${K}/${fa(le)}`);if(ie.valid)u[le]=$[le]=!0;else if(q=i,xe.push({instanceLocation:o,keyword:"properties",keywordLocation:K,error:`Property "${le}" does not match schema.`},...ie.errors),q)break}}if(!q&&W!==void 0){let K=`${l}/patternProperties`;for(let le in W){let ue=new RegExp(le,"u"),ie=W[le];for(let et in e){if(!ue.test(et))continue;let Pe=`${o}/${fa(et)}`,Ke=Wr(e[et],ie,r,n,i,s,Pe,`${K}/${fa(le)}`);Ke.valid?u[et]=$[et]=!0:(q=i,xe.push({instanceLocation:o,keyword:"patternProperties",keywordLocation:K,error:`Property "${et}" matches pattern "${le}" but does not match associated schema.`},...Ke.errors))}}}if(!q&&f!==void 0){let K=`${l}/additionalProperties`;for(let le in e){if($[le])continue;let ue=`${o}/${fa(le)}`,ie=Wr(e[le],f,r,n,i,s,ue,K);ie.valid?u[le]=!0:(q=i,xe.push({instanceLocation:o,keyword:"additionalProperties",keywordLocation:K,error:`Property "${le}" does not match additional properties schema.`},...ie.errors))}}else if(!q&&w!==void 0){let K=`${l}/unevaluatedProperties`;for(let le in e)if(!u[le]){let ue=`${o}/${fa(le)}`,ie=Wr(e[le],w,r,n,i,s,ue,K);ie.valid?u[le]=!0:xe.push({instanceLocation:o,keyword:"unevaluatedProperties",keywordLocation:K,error:`Property "${le}" does not match unevaluated properties schema.`},...ie.errors)}}}else if(h==="array"){ce!==void 0&&e.length>ce&&xe.push({instanceLocation:o,keyword:"maxItems",keywordLocation:`${l}/maxItems`,error:`Array has too many items (${e.length} > ${ce}).`}),J!==void 0&&e.length<J&&xe.push({instanceLocation:o,keyword:"minItems",keywordLocation:`${l}/minItems`,error:`Array has too few items (${e.length} < ${J}).`});let de=e.length,$=0,q=!1;if(p!==void 0){let K=`${l}/prefixItems`,le=Math.min(p.length,de);for(;$<le;$++){let ue=Wr(e[$],p[$],r,n,i,s,`${o}/${$}`,`${K}/${$}`);if(u[$]=!0,!ue.valid&&(q=i,xe.push({instanceLocation:o,keyword:"prefixItems",keywordLocation:K,error:"Items did not match schema."},...ue.errors),q))break}}if(E!==void 0){let K=`${l}/items`;if(Array.isArray(E)){let le=Math.min(E.length,de);for(;$<le;$++){let ue=Wr(e[$],E[$],r,n,i,s,`${o}/${$}`,`${K}/${$}`);if(u[$]=!0,!ue.valid&&(q=i,xe.push({instanceLocation:o,keyword:"items",keywordLocation:K,error:"Items did not match schema."},...ue.errors),q))break}}else for(;$<de;$++){let le=Wr(e[$],E,r,n,i,s,`${o}/${$}`,K);if(u[$]=!0,!le.valid&&(q=i,xe.push({instanceLocation:o,keyword:"items",keywordLocation:K,error:"Items did not match schema."},...le.errors),q))break}if(!q&&I!==void 0){let le=`${l}/additionalItems`;for(;$<de;$++){let ue=Wr(e[$],I,r,n,i,s,`${o}/${$}`,le);u[$]=!0,!ue.valid&&(q=i,xe.push({instanceLocation:o,keyword:"additionalItems",keywordLocation:le,error:"Items did not match additional items schema."},...ue.errors))}}}if(B!==void 0)if(de===0&&H===void 0)xe.push({instanceLocation:o,keyword:"contains",keywordLocation:`${l}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(H!==void 0&&de<H)xe.push({instanceLocation:o,keyword:"minContains",keywordLocation:`${l}/minContains`,error:`Array has less items (${de}) than minContains (${H}).`});else{let K=`${l}/contains`,le=xe.length,ue=0;for(let ie=0;ie<de;ie++){let et=Wr(e[ie],B,r,n,i,s,`${o}/${ie}`,K);et.valid?(u[ie]=!0,ue++):xe.push(...et.errors)}ue>=(H||0)&&(xe.length=le),H===void 0&&G===void 0&&ue===0?xe.splice(le,0,{instanceLocation:o,keyword:"contains",keywordLocation:K,error:"Array does not contain item matching schema."}):H!==void 0&&ue<H?xe.push({instanceLocation:o,keyword:"minContains",keywordLocation:`${l}/minContains`,error:`Array must contain at least ${H} items matching schema. Only ${ue} items were found.`}):G!==void 0&&ue>G&&xe.push({instanceLocation:o,keyword:"maxContains",keywordLocation:`${l}/maxContains`,error:`Array may contain at most ${G} items matching schema. ${ue} items were found.`})}if(!q&&O!==void 0){let K=`${l}/unevaluatedItems`;for($;$<de;$++){if(u[$])continue;let le=Wr(e[$],O,r,n,i,s,`${o}/${$}`,K);u[$]=!0,!le.valid&&xe.push({instanceLocation:o,keyword:"unevaluatedItems",keywordLocation:K,error:"Items did not match unevaluated items schema."},...le.errors)}}if(ne)for(let K=0;K<de;K++){let le=e[K],ue=typeof le=="object"&&le!==null;for(let ie=0;ie<de;ie++){if(K===ie)continue;let et=e[ie];(le===et||ue&&typeof et=="object"&&et!==null&&Iu(le,et))&&(xe.push({instanceLocation:o,keyword:"uniqueItems",keywordLocation:`${l}/uniqueItems`,error:`Duplicate items at indexes ${K} and ${ie}.`}),K=Number.MAX_SAFE_INTEGER,ie=Number.MAX_SAFE_INTEGER)}}}else if(h==="number"){if(r==="4"?(se!==void 0&&(Te===!0&&e<=se||e<se)&&xe.push({instanceLocation:o,keyword:"minimum",keywordLocation:`${l}/minimum`,error:`${e} is less than ${Te?"or equal to ":""} ${se}.`}),Ye!==void 0&&(ye===!0&&e>=Ye||e>Ye)&&xe.push({instanceLocation:o,keyword:"maximum",keywordLocation:`${l}/maximum`,error:`${e} is greater than ${ye?"or equal to ":""} ${Ye}.`})):(se!==void 0&&e<se&&xe.push({instanceLocation:o,keyword:"minimum",keywordLocation:`${l}/minimum`,error:`${e} is less than ${se}.`}),Ye!==void 0&&e>Ye&&xe.push({instanceLocation:o,keyword:"maximum",keywordLocation:`${l}/maximum`,error:`${e} is greater than ${Ye}.`}),Te!==void 0&&e<=Te&&xe.push({instanceLocation:o,keyword:"exclusiveMinimum",keywordLocation:`${l}/exclusiveMinimum`,error:`${e} is less than ${Te}.`}),ye!==void 0&&e>=ye&&xe.push({instanceLocation:o,keyword:"exclusiveMaximum",keywordLocation:`${l}/exclusiveMaximum`,error:`${e} is greater than or equal to ${ye}.`})),Me!==void 0){let de=e%Me;Math.abs(0-de)>=11920929e-14&&Math.abs(Me-de)>=11920929e-14&&xe.push({instanceLocation:o,keyword:"multipleOf",keywordLocation:`${l}/multipleOf`,error:`${e} is not a multiple of ${Me}.`})}}else if(h==="string"){let de=X===void 0&&oe===void 0?0:hre(e);X!==void 0&&de<X&&xe.push({instanceLocation:o,keyword:"minLength",keywordLocation:`${l}/minLength`,error:`String is too short (${de} < ${X}).`}),oe!==void 0&&de>oe&&xe.push({instanceLocation:o,keyword:"maxLength",keywordLocation:`${l}/maxLength`,error:`String is too long (${de} > ${oe}).`}),ee!==void 0&&!new RegExp(ee,"u").test(e)&&xe.push({instanceLocation:o,keyword:"pattern",keywordLocation:`${l}/pattern`,error:"String does not match pattern."}),ae!==void 0&&Z5[ae]&&!Z5[ae](e)&&xe.push({instanceLocation:o,keyword:"format",keywordLocation:`${l}/format`,error:`String does not match format "${ae}".`})}return{valid:xe.length===0,errors:xe}}a(Wr,"b6");class fre{static{a(this,"Xz")}schema;draft;shortCircuit;lookup;constructor(t,r="2019-09",n=!0){this.schema=t,this.draft=r,this.shortCircuit=n,this.lookup=xo(t)}validate(t){return Wr(t,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(t,r){r&&(t={...t,$id:r}),xo(t,this.lookup)}}var pre={};An(pre,{Validator:a(()=>fre,"Validator"),deepCompareStrict:a(()=>Iu,"deepCompareStrict"),toJsonSchema:a(()=>nR,"toJsonSchema"),validatesOnlyStrings:a(()=>y0,"validatesOnlyStrings")});function nR(e){if(no(e)){let t=zq(e,!0);if(pd(t)){let r=x1(t,!0);return tp(r)}else return tp(e)}return Ho(e)?jte(e):e}a(nR,"Az");function y0(e){if(!e||typeof e!="object"||Object.keys(e).length===0||Array.isArray(e))return!1;if("type"in e)return typeof e.type=="string"?e.type==="string":Array.isArray(e.type)?e.type.every(t=>t==="string"):!1;if("enum"in e)return Array.isArray(e.enum)&&e.enum.length>0&&e.enum.every(t=>typeof t=="string");if("const"in e)return typeof e.const=="string";if("allOf"in e&&Array.isArray(e.allOf))return e.allOf.some(t=>y0(t));if("anyOf"in e&&Array.isArray(e.anyOf)||"oneOf"in e&&Array.isArray(e.oneOf)){let t="anyOf"in e?e.anyOf:e.oneOf;return t.length>0&&t.every(r=>y0(r))}if("not"in e)return!1;if("$ref"in e&&typeof e.$ref=="string"){let t=e.$ref,r=xo(e);return r[t]?y0(r[t]):!1}return!1}a(y0,"T5");var mre={};An(mre,{Graph:a(()=>B6,"Graph")});function gre(e,t){if(e!==void 0&&!v0(e))return e;if(I4(t))try{let r=t.getName();return r=r.startsWith("Runnable")?r.slice(8):r,r}catch{return t.getName()}else return t.name??"UnknownSchema"}a(gre,"Db");function vre(e){return I4(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...nR(e.data.schema),title:e.data.name}}}a(vre,"Lb");var B6=class iR{static{a(this,"$11")}nodes={};edges=[];constructor(t){this.nodes=t?.nodes??this.nodes,this.edges=t?.edges??this.edges}toJSON(){let t={};return Object.values(this.nodes).forEach((r,n)=>{t[r.id]=v0(r.id)?n:r.id}),{nodes:Object.values(this.nodes).map(r=>({id:t[r.id],...vre(r)})),edges:this.edges.map(r=>{let n={source:t[r.source],target:t[r.target]};return typeof r.data<"u"&&(n.data=r.data),typeof r.conditional<"u"&&(n.conditional=r.conditional),n})}}addNode(t,r,n){if(r!==void 0&&this.nodes[r]!==void 0)throw Error(`Node with id ${r} already exists`);let i=r??Ls(),s={id:i,data:t,name:gre(r,t),metadata:n};return this.nodes[i]=s,s}removeNode(t){delete this.nodes[t.id],this.edges=this.edges.filter(r=>r.source!==t.id&&r.target!==t.id)}addEdge(t,r,n,i){if(this.nodes[t.id]===void 0)throw Error(`Source node ${t.id} not in graph`);if(this.nodes[r.id]===void 0)throw Error(`Target node ${r.id} not in graph`);let s={source:t.id,target:r.id,data:n,conditional:i};return this.edges.push(s),s}firstNode(){return $5(this)}lastNode(){return X5(this)}extend(t,r=""){let n=r;Object.values(t.nodes).map(u=>u.id).every(v0)&&(n="");let i=a(u=>n?`${n}:${u}`:u,"Y");Object.entries(t.nodes).forEach(([u,c])=>{this.nodes[i(u)]={...c,id:i(u)}});let s=t.edges.map(u=>({...u,source:i(u.source),target:i(u.target)}));this.edges=[...this.edges,...s];let o=t.firstNode(),l=t.lastNode();return[o?{id:i(o.id),data:o.data}:void 0,l?{id:i(l.id),data:l.data}:void 0]}trimFirstNode(){let t=this.firstNode();t&&$5(this,[t.id])&&this.removeNode(t)}trimLastNode(){let t=this.lastNode();t&&X5(this,[t.id])&&this.removeNode(t)}reid(){let t=Object.fromEntries(Object.values(this.nodes).map(i=>[i.id,i.name])),r=new Map;Object.values(t).forEach(i=>{r.set(i,(r.get(i)||0)+1)});let n=a(i=>{let s=t[i];return v0(i)&&r.get(s)===1?s:i},"P");return new iR({nodes:Object.fromEntries(Object.entries(this.nodes).map(([i,s])=>[n(i),{...s,id:n(i)}])),edges:this.edges.map(i=>({...i,source:n(i.source),target:n(i.target)}))})}drawMermaid(t){let{withStyles:r,curveStyle:n,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:s}=t??{},o=this.reid(),l=o.firstNode(),u=o.lastNode();return Hq(o.nodes,o.edges,{firstNode:l?.id,lastNode:u?.id,withStyles:r,curveStyle:n,nodeColors:i,wrapLabelNWords:s})}async drawMermaidPng(t){let r=this.drawMermaid(t);return Gq(r,{backgroundColor:t?.backgroundColor})}};function $5(e,t=[]){let r=new Set(e.edges.filter(i=>!t.includes(i.source)).map(i=>i.target)),n=[];for(let i of Object.values(e.nodes))!t.includes(i.id)&&!r.has(i.id)&&n.push(i);return n.length===1?n[0]:void 0}a($5,"LA");function X5(e,t=[]){let r=new Set(e.edges.filter(i=>!t.includes(i.target)).map(i=>i.source)),n=[];for(let i of Object.values(e.nodes))!t.includes(i.id)&&!r.has(i.id)&&n.push(i);return n.length===1?n[0]:void 0}a(X5,"gA");function bre(e){let t=new TextEncoder,r=new ReadableStream({async start(n){for await(let i of e)n.enqueue(t.encode(`event: data
data: ${JSON.stringify(i)}

`));n.enqueue(t.encode(`event: end

`)),n.close()}});return Na.fromReadableStream(r)}a(bre,"bA");function J5(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.iterator]=="function"&&typeof e.next=="function"}a(J5,"kz");var yre=a(e=>e!=null&&typeof e=="object"&&"next"in e&&typeof e.next=="function","yA");function T1(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.asyncIterator]=="function"}a(T1,"f5");function*K5(e,t){for(;;){let{value:r,done:n}=Ws.runWithConfig(Bu(e),t.next.bind(t),!0);if(n)break;yield r}}a(K5,"Gz");async function*N1(e,t){let r=t[Symbol.asyncIterator]();for(;;){let{value:n,done:i}=await Ws.runWithConfig(Bu(e),r.next.bind(t),!0);if(i)break;yield n}}a(N1,"Z5");var W5=Fi(a4(),1);function On(e,t){return e&&!Array.isArray(e)&&!(e instanceof Date)&&typeof e=="object"?e:{[t]:e}}a(On,"Jq");var bi=class extends zd{static{a(this,"pq")}lc_runnable=!0;name;getName(e){let t=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${t}${e}`:t}withRetry(e){return new sR({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new up({bound:this,config:e,kwargs:{}})}withFallbacks(e){let t=Array.isArray(e)?e:e.fallbacks;return new xre({runnable:this,fallbacks:t})}_getOptionsList(e,t=0){if(Array.isArray(e)&&e.length!==t)throw Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);if(Array.isArray(e))return e.map(Ir);if(t>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");let r=Object.fromEntries(Object.entries(e).filter(([n])=>n!=="runId"));return Array.from({length:t},(n,i)=>Ir(i===0?e:r))}return Array.from({length:t},()=>Ir(e))}async batch(e,t,r){let n=this._getOptionsList(t??{},e.length),i=n[0]?.maxConcurrency??r?.maxConcurrency,s=new C4({maxConcurrency:i,onFailedAttempt:a(l=>{throw l},"onFailedAttempt")}),o=e.map((l,u)=>s.call(async()=>{try{return await this.invoke(l,n[u])}catch(c){if(r?.returnExceptions)return c;throw c}}));return Promise.all(o)}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){let r=Ir(t),n=new Gl({generator:this._streamIterator(e,r),config:r});return await n.setup,Na.fromAsyncGenerator(n)}_separateRunnableConfigFromCallOptions(e){let t;e===void 0?t=Ir(e):t=Ir({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});let r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[t,r]}async _callWithConfig(e,t,r){let n=Ir(r),i=await(await Sa(n))?.handleChainStart(this.toJSON(),On(t,"input"),n.runId,n?.runType,void 0,void 0,n?.runName??this.getName());delete n.runId;let s;try{let o=e.call(this,t,n,i);s=await Co(o,r?.signal)}catch(o){throw await i?.handleChainError(o),o}return await i?.handleChainEnd(On(s,"output")),s}async _batchWithConfig(e,t,r,n){let i=this._getOptionsList(r??{},t.length),s=await Promise.all(i.map(Sa)),o=await Promise.all(s.map(async(u,c)=>{let h=await u?.handleChainStart(this.toJSON(),On(t[c],"input"),i[c].runId,i[c].runType,void 0,void 0,i[c].runName??this.getName());return delete i[c].runId,h})),l;try{let u=e.call(this,t,i,o,n);l=await Co(u,i?.[0]?.signal)}catch(u){throw await Promise.all(o.map(c=>c?.handleChainError(u))),u}return await Promise.all(o.map(u=>u?.handleChainEnd(On(l,"output")))),l}_concatOutputChunks(e,t){return T4(e,t)}async*_transformStreamWithConfig(e,t,r){let n,i=!0,s,o=!0,l=Ir(r),u=await Sa(l),c=this;async function*h(){for await(let g of e){if(i)if(n===void 0)n=g;else try{n=c._concatOutputChunks(n,g)}catch{n=void 0,i=!1}yield g}}a(h,"X");let d;try{let g=await fI(t.bind(this),h(),async()=>u?.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),r?.signal,l);delete l.runId,d=g.setup;let m=d?.handlers.find(fK),y=g.output;m!==void 0&&d!==void 0&&(y=m.tapOutputIterable(d.runId,y));let x=d?.handlers.find(gI);x!==void 0&&d!==void 0&&(y=x.tapOutputIterable(d.runId,y));for await(let A of y)if(yield A,o)if(s===void 0)s=A;else try{s=this._concatOutputChunks(s,A)}catch{s=void 0,o=!1}}catch(g){throw await d?.handleChainError(g,void 0,void 0,void 0,{inputs:On(n,"input")}),g}await d?.handleChainEnd(s??{},void 0,void 0,void 0,{inputs:On(n,"input")})}getGraph(e){let t=new B6,r=t.addNode({name:`${this.getName()}Input`,schema:Jd.any()}),n=t.addNode(this),i=t.addNode({name:`${this.getName()}Output`,schema:Jd.any()});return t.addEdge(r,n),t.addEdge(n,i),t}pipe(e){return new oR({first:this,last:dl(e)})}pick(e){return this.pipe(new Sre(e))}assign(e){return this.pipe(new Ere(new z6({steps:e})))}async*transform(e,t){let r;for await(let n of e)r===void 0?r=n:r=this._concatOutputChunks(r,n);yield*this._streamIterator(r,Ir(t))}async*streamLog(e,t,r){let n=new v1({...r,autoClose:!1,_schemaFormat:"original"}),i=Ir(t);yield*this._streamLog(e,n,i)}async*_streamLog(e,t,r){let{callbacks:n}=r;if(n===void 0)r.callbacks=[t];else if(Array.isArray(n))r.callbacks=n.concat([t]);else{let l=n.copy();l.addHandler(t,!0),r.callbacks=l}let i=this.stream(e,r);async function s(){try{let l=await i;for await(let u of l){let c=new Ds({ops:[{op:"add",path:"/streamed_output/-",value:u}]});await t.writer.write(c)}}finally{await t.writer.close()}}a(s,"Y");let o=s();try{for await(let l of t)yield l}finally{await o}}streamEvents(e,t,r){let n;if(t.version==="v1")n=this._streamEventsV1(e,t,r);else if(t.version==="v2")n=this._streamEventsV2(e,t,r);else throw Error('Only versions "v1" and "v2" of the schema are currently supported.');return t.encoding==="text/event-stream"?bre(n):Na.fromAsyncGenerator(n)}async*_streamEventsV2(e,t,r){let n=new pK({...r,autoClose:!1}),i=Ir(t),s=i.runId??Ls();i.runId=s;let o=i.callbacks;if(o===void 0)i.callbacks=[n];else if(Array.isArray(o))i.callbacks=o.concat(n);else{let m=o.copy();m.addHandler(n,!0),i.callbacks=m}let l=new AbortController,u=this;async function c(){let m,y=null;try{t?.signal?"any"in AbortSignal?m=AbortSignal.any([l.signal,t.signal]):(m=t.signal,y=a(()=>{l.abort()},"N"),t.signal.addEventListener("abort",y,{once:!0})):m=l.signal;let x=await u.stream(e,{...i,signal:m}),A=n.tapOutputIterable(s,x);for await(let C of A)if(l.signal.aborted)break}finally{await n.finish(),m&&y&&m.removeEventListener("abort",y)}}a(c,"T");let h=c(),d=!1,g;try{for await(let m of n){if(!d){m.data.input=e,d=!0,g=m.run_id,yield m;continue}m.run_id===g&&m.event.endsWith("_end")&&m.data?.input&&delete m.data.input,yield m}}finally{l.abort(),await h}}async*_streamEventsV1(e,t,r){let n,i=!1,s=Ir(t),o=s.tags??[],l=s.metadata??{},u=s.runName??this.getName(),c=new v1({...r,autoClose:!1,_schemaFormat:"streaming_events"}),h=new yK({...r}),d=this._streamLog(e,c,s);for await(let m of d){if(n?n=n.concat(m):n=N4.fromRunLogPatch(m),n.state===void 0)throw Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!i){i=!0;let C={...n.state},M={run_id:C.id,event:`on_${C.type}_start`,name:u,tags:o,metadata:l,data:{input:e}};h.includeEvent(M,C.type)&&(yield M)}let y=m.ops.filter(C=>C.path.startsWith("/logs/")).map(C=>C.path.split("/")[2]),x=[...new Set(y)];for(let C of x){let M,R={},P=n.state.logs[C];if(P.end_time===void 0?P.streamed_output.length>0?M="stream":M="start":M="end",M==="start")P.inputs!==void 0&&(R.input=P.inputs);else if(M==="end")P.inputs!==void 0&&(R.input=P.inputs),R.output=P.final_output;else if(M==="stream"){let L=P.streamed_output.length;if(L!==1)throw Error(`Expected exactly one chunk of streamed output, got ${L} instead. Encountered in: "${P.name}"`);R={chunk:P.streamed_output[0]},P.streamed_output=[]}yield{event:`on_${P.type}_${M}`,name:P.name,run_id:P.id,tags:P.tags,metadata:P.metadata,data:R}}let{state:A}=n;if(A.streamed_output.length>0){let C=A.streamed_output.length;if(C!==1)throw Error(`Expected exactly one chunk of streamed output, got ${C} instead. Encountered in: "${A.name}"`);let M={chunk:A.streamed_output[0]};A.streamed_output=[];let R={event:`on_${A.type}_stream`,run_id:A.id,tags:o,metadata:l,name:u,data:M};h.includeEvent(R,A.type)&&(yield R)}}let g=n?.state;if(g!==void 0){let m={event:`on_${g.type}_end`,name:u,run_id:g.id,tags:o,metadata:l,data:{output:g.final_output}};h.includeEvent(m,g.type)&&(yield m)}}static isRunnable(e){return I4(e)}withListeners({onStart:e,onEnd:t,onError:r}){return new up({bound:this,config:{},configFactories:[n=>({callbacks:[new yI({config:n,onStart:e,onEnd:t,onError:r})]})]})}asTool(e){return kre(this,e)}},up=class aR extends bi{static{a(this,"$12")}static lc_name(){return"RunnableBinding"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;bound;config;kwargs;configFactories;constructor(t){super(t),this.bound=t.bound,this.kwargs=t.kwargs,this.config=t.config,this.configFactories=t.configFactories}getName(t){return this.bound.getName(t)}async _mergeConfig(...t){let r=x5(this.config,...t);return x5(r,...this.configFactories?await Promise.all(this.configFactories.map(async n=>await n(r))):[])}withConfig(t){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...t}})}withRetry(t){return new sR({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:t?.stopAfterAttempt,...t})}async invoke(t,r){return this.bound.invoke(t,await this._mergeConfig(r,this.kwargs))}async batch(t,r,n){let i=Array.isArray(r)?await Promise.all(r.map(async s=>this._mergeConfig(Ir(s),this.kwargs))):await this._mergeConfig(Ir(r),this.kwargs);return this.bound.batch(t,i,n)}_concatOutputChunks(t,r){return this.bound._concatOutputChunks(t,r)}async*_streamIterator(t,r){yield*this.bound._streamIterator(t,await this._mergeConfig(Ir(r),this.kwargs))}async stream(t,r){return this.bound.stream(t,await this._mergeConfig(Ir(r),this.kwargs))}async*transform(t,r){yield*this.bound.transform(t,await this._mergeConfig(Ir(r),this.kwargs))}streamEvents(t,r,n){let i=this,s=a(async function*(){yield*i.bound.streamEvents(t,{...await i._mergeConfig(Ir(r),i.kwargs),version:r.version},n)},"Y");return Na.fromAsyncGenerator(s())}static isRunnableBinding(t){return t.bound&&bi.isRunnable(t.bound)}withListeners({onStart:t,onEnd:r,onError:n}){return new aR({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[i=>({callbacks:[new yI({config:i,onStart:t,onEnd:r,onError:n})]})]})}},sR=class extends up{static{a(this,"xA")}static lc_name(){return"RunnableRetry"}lc_namespace=["langchain_core","runnables"];maxAttemptNumber=3;onFailedAttempt=a(()=>{},"onFailedAttempt");constructor(e){super(e),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,r){let n=e>1?`retry:attempt:${e}`:void 0;return ei(t,{callbacks:r?.getChild(n)})}async _invoke(e,t,r){return W5.default(n=>super.invoke(e,this._patchConfigForRetry(n,t,r)),{onFailedAttempt:a(n=>this.onFailedAttempt(n,e),"onFailedAttempt"),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async _batch(e,t,r,n){let i={};try{await W5.default(async s=>{let o=e.map((d,g)=>g).filter(d=>i[d.toString()]===void 0||i[d.toString()]instanceof Error),l=o.map(d=>e[d]),u=o.map(d=>this._patchConfigForRetry(s,t?.[d],r?.[d])),c=await super.batch(l,u,{...n,returnExceptions:!0}),h;for(let d=0;d<c.length;d+=1){let g=c[d],m=o[d];g instanceof Error&&h===void 0&&(h=g,h.input=l[d]),i[m.toString()]=g}if(h)throw h;return c},{onFailedAttempt:a(s=>this.onFailedAttempt(s,s.input),"onFailedAttempt"),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(s){if(n?.returnExceptions!==!0)throw s}return Object.keys(i).sort((s,o)=>parseInt(s,10)-parseInt(o,10)).map(s=>i[parseInt(s,10)])}async batch(e,t,r){return this._batchWithConfig(this._batch.bind(this),e,t,r)}},oR=class sd extends bi{static{a(this,"$13")}static lc_name(){return"RunnableSequence"}first;middle=[];last;omitSequenceTags=!1;lc_serializable=!0;lc_namespace=["langchain_core","runnables"];constructor(t){super(t),this.first=t.first,this.middle=t.middle??this.middle,this.last=t.last,this.name=t.name,this.omitSequenceTags=t.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(t,r){let n=Ir(r),i=await(await Sa(n))?.handleChainStart(this.toJSON(),On(t,"input"),n.runId,void 0,void 0,void 0,n?.runName);delete n.runId;let s=t,o;try{let l=[this.first,...this.middle];for(let u=0;u<l.length;u+=1){let c=l[u].invoke(s,ei(n,{callbacks:i?.getChild(this.omitSequenceTags?void 0:`seq:step:${u+1}`)}));s=await Co(c,r?.signal)}if(r?.signal?.aborted)throw V0(r.signal);o=await this.last.invoke(s,ei(n,{callbacks:i?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(l){throw await i?.handleChainError(l),l}return await i?.handleChainEnd(On(o,"output")),o}async batch(t,r,n){let i=this._getOptionsList(r??{},t.length),s=await Promise.all(i.map(Sa)),o=await Promise.all(s.map(async(u,c)=>{let h=await u?.handleChainStart(this.toJSON(),On(t[c],"input"),i[c].runId,void 0,void 0,void 0,i[c].runName);return delete i[c].runId,h})),l=t;try{for(let u=0;u<this.steps.length;u+=1){let c=this.steps[u].batch(l,o.map((h,d)=>{let g=h?.getChild(this.omitSequenceTags?void 0:`seq:step:${u+1}`);return ei(i[d],{callbacks:g})}),n);l=await Co(c,i[0]?.signal)}}catch(u){throw await Promise.all(o.map(c=>c?.handleChainError(u))),u}return await Promise.all(o.map(u=>u?.handleChainEnd(On(l,"output")))),l}_concatOutputChunks(t,r){return this.last._concatOutputChunks(t,r)}async*_streamIterator(t,r){let n=await Sa(r),{runId:i,...s}=r??{},o=await n?.handleChainStart(this.toJSON(),On(t,"input"),i,void 0,void 0,void 0,s?.runName),l=[this.first,...this.middle,this.last],u=!0,c;async function*h(){yield t}a(h,"X");try{let d=l[0].transform(h(),ei(s,{callbacks:o?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let g=1;g<l.length;g+=1)d=await l[g].transform(d,ei(s,{callbacks:o?.getChild(this.omitSequenceTags?void 0:`seq:step:${g+1}`)}));for await(let g of d)if(r?.signal?.throwIfAborted(),yield g,u)if(c===void 0)c=g;else try{c=this._concatOutputChunks(c,g)}catch{c=void 0,u=!1}}catch(d){throw await o?.handleChainError(d),d}await o?.handleChainEnd(On(c,"output"))}getGraph(t){let r=new B6,n=null;return this.steps.forEach((i,s)=>{let o=i.getGraph(t);s!==0&&o.trimFirstNode(),s!==this.steps.length-1&&o.trimLastNode(),r.extend(o);let l=o.firstNode();if(!l)throw Error(`Runnable ${i} has no first node`);n&&r.addEdge(n,l),n=o.lastNode()}),r}pipe(t){return sd.isRunnableSequence(t)?new sd({first:this.first,middle:this.middle.concat([this.last,t.first,...t.middle]),last:t.last,name:this.name??t.name}):new sd({first:this.first,middle:[...this.middle,this.last],last:dl(t),name:this.name})}static isRunnableSequence(t){return Array.isArray(t.middle)&&bi.isRunnable(t)}static from([t,...r],n){let i={};return typeof n=="string"?i.name=n:n!==void 0&&(i=n),new sd({...i,first:dl(t),middle:r.slice(0,-1).map(dl),last:dl(r[r.length-1])})}},z6=class lR extends bi{static{a(this,"$14")}static lc_name(){return"RunnableMap"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;steps;getStepsKeys(){return Object.keys(this.steps)}constructor(t){super(t),this.steps={};for(let[r,n]of Object.entries(t.steps))this.steps[r]=dl(n)}static from(t){return new lR({steps:t})}async invoke(t,r){let n=Ir(r),i=await(await Sa(n))?.handleChainStart(this.toJSON(),{input:t},n.runId,void 0,void 0,void 0,n?.runName);delete n.runId;let s={};try{let o=Object.entries(this.steps).map(async([l,u])=>{s[l]=await u.invoke(t,ei(n,{callbacks:i?.getChild(`map:key:${l}`)}))});await Co(Promise.all(o),r?.signal)}catch(o){throw await i?.handleChainError(o),o}return await i?.handleChainEnd(s),s}async*_transform(t,r,n){let i={...this.steps},s=A4(t,Object.keys(i).length),o=new Map(Object.entries(i).map(([l,u],c)=>{let h=u.transform(s[c],ei(n,{callbacks:r?.getChild(`map:key:${l}`)}));return[l,h.next().then(d=>({key:l,gen:h,result:d}))]}));for(;o.size;){let l=Promise.race(o.values()),{key:u,result:c,gen:h}=await Co(l,n?.signal);o.delete(u),!c.done&&(yield{[u]:c.value},o.set(u,h.next().then(d=>({key:u,gen:h,result:d}))))}}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}a(n,"P");let i=Ir(r),s=new Gl({generator:this.transform(n(),i),config:i});return await s.setup,Na.fromAsyncGenerator(s)}},wre=class uR extends bi{static{a(this,"$15")}lc_serializable=!1;lc_namespace=["langchain_core","runnables"];func;constructor(t){if(super(t),!k4(t.func))throw Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=t.func}async invoke(t,r){let[n]=this._getOptionsList(r??{},1),i=await Sa(n),s=this.func(ei(n,{callbacks:i}),t);return Co(s,n?.signal)}async*_streamIterator(t,r){let[n]=this._getOptionsList(r??{},1),i=await this.invoke(t,r);if(T1(i)){for await(let s of i)n?.signal?.throwIfAborted(),yield s;return}if(yre(i)){for(;;){n?.signal?.throwIfAborted();let s=i.next();if(s.done)break;yield s.value}return}yield i}static from(t){return new uR({func:t})}};function _re(e){if(k4(e))throw Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}a(_re,"bb");var cR=class dR extends bi{static{a(this,"$16")}static lc_name(){return"RunnableLambda"}lc_namespace=["langchain_core","runnables"];func;constructor(t){if(k4(t.func))return wre.from(t.func);super(t),_re(t.func),this.func=t.func}static from(t){return new dR({func:t})}async _invoke(t,r,n){return new Promise((i,s)=>{let o=ei(r,{callbacks:n?.getChild(),recursionLimit:(r?.recursionLimit??Mv)-1});Ws.runWithConfig(Bu(o),async()=>{try{let l=await this.func(t,{...o});if(l&&bi.isRunnable(l)){if(r?.recursionLimit===0)throw Error("Recursion limit reached.");l=await l.invoke(t,{...o,recursionLimit:(o.recursionLimit??Mv)-1})}else if(T1(l)){let u;for await(let c of N1(o,l))if(r?.signal?.throwIfAborted(),u===void 0)u=c;else try{u=this._concatOutputChunks(u,c)}catch{u=c}l=u}else if(J5(l)){let u;for(let c of K5(o,l))if(r?.signal?.throwIfAborted(),u===void 0)u=c;else try{u=this._concatOutputChunks(u,c)}catch{u=c}l=u}i(l)}catch(l){s(l)}})})}async invoke(t,r){return this._callWithConfig(this._invoke.bind(this),t,r)}async*_transform(t,r,n){let i;for await(let l of t)if(i===void 0)i=l;else try{i=this._concatOutputChunks(i,l)}catch{i=l}let s=ei(n,{callbacks:r?.getChild(),recursionLimit:(n?.recursionLimit??Mv)-1}),o=await new Promise((l,u)=>{Ws.runWithConfig(Bu(s),async()=>{try{let c=await this.func(i,{...s,config:s});l(c)}catch(c){u(c)}})});if(o&&bi.isRunnable(o)){if(n?.recursionLimit===0)throw Error("Recursion limit reached.");let l=await o.stream(i,s);for await(let u of l)yield u}else if(T1(o))for await(let l of N1(s,o))n?.signal?.throwIfAborted(),yield l;else if(J5(o))for(let l of K5(s,o))n?.signal?.throwIfAborted(),yield l;else yield o}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}a(n,"P");let i=Ir(r),s=new Gl({generator:this.transform(n(),i),config:i});return await s.setup,Na.fromAsyncGenerator(s)}},xre=class extends bi{static{a(this,"yb")}static lc_name(){return"RunnableWithFallbacks"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnable;fallbacks;constructor(e){super(e),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(let e of this.fallbacks)yield e}async invoke(e,t){let r=Ir(t),n=await Sa(r),{runId:i,...s}=r,o=await n?.handleChainStart(this.toJSON(),On(e,"input"),i,void 0,void 0,void 0,s?.runName),l=ei(s,{callbacks:o?.getChild()});return await Ws.runWithConfig(l,async()=>{let u;for(let c of this.runnables()){r?.signal?.throwIfAborted();try{let h=await c.invoke(e,l);return await o?.handleChainEnd(On(h,"output")),h}catch(h){u===void 0&&(u=h)}}throw u===void 0?Error("No error stored at end of fallback."):(await o?.handleChainError(u),u)})}async*_streamIterator(e,t){let r=Ir(t),n=await Sa(r),{runId:i,...s}=r,o=await n?.handleChainStart(this.toJSON(),On(e,"input"),i,void 0,void 0,void 0,s?.runName),l,u;for(let h of this.runnables()){r?.signal?.throwIfAborted();let d=ei(s,{callbacks:o?.getChild()});try{let g=await h.stream(e,d);u=N1(d,g);break}catch(g){l===void 0&&(l=g)}}if(u===void 0){let h=l??Error("No error stored at end of fallback.");throw await o?.handleChainError(h),h}let c;try{for await(let h of u){yield h;try{c=c===void 0?c:this._concatOutputChunks(c,h)}catch{c=void 0}}}catch(h){throw await o?.handleChainError(h),h}await o?.handleChainEnd(On(c,"output"))}async batch(e,t,r){if(r?.returnExceptions)throw Error("Not implemented.");let n=this._getOptionsList(t??{},e.length),i=await Promise.all(n.map(l=>Sa(l))),s=await Promise.all(i.map(async(l,u)=>{let c=await l?.handleChainStart(this.toJSON(),On(e[u],"input"),n[u].runId,void 0,void 0,void 0,n[u].runName);return delete n[u].runId,c})),o;for(let l of this.runnables()){n[0].signal?.throwIfAborted();try{let u=await l.batch(e,s.map((c,h)=>ei(n[h],{callbacks:c?.getChild()})),r);return await Promise.all(s.map((c,h)=>c?.handleChainEnd(On(u[h],"output")))),u}catch(u){o===void 0&&(o=u)}}throw o?(await Promise.all(s.map(l=>l?.handleChainError(o))),o):Error("No error stored at end of fallbacks.")}};function dl(e){if(typeof e=="function")return new cR({func:e});if(bi.isRunnable(e))return e;if(!Array.isArray(e)&&typeof e=="object"){let t={};for(let[r,n]of Object.entries(e))t[r]=dl(n);return new z6({steps:t})}else throw Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}a(dl,"C_");var Ere=class extends bi{static{a(this,"ub")}static lc_name(){return"RunnableAssign"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;mapper;constructor(e){e instanceof z6&&(e={mapper:e}),super(e),this.mapper=e.mapper}async invoke(e,t){let r=await this.mapper.invoke(e,t);return{...e,...r}}async*_transform(e,t,r){let n=this.mapper.getStepsKeys(),[i,s]=A4(e),o=this.mapper.transform(s,ei(r,{callbacks:t?.getChild()})),l=o.next();for await(let u of i){if(typeof u!="object"||Array.isArray(u))throw Error(`RunnableAssign can only be used with objects as input, got ${typeof u}`);let c=Object.fromEntries(Object.entries(u).filter(([h])=>!n.includes(h)));Object.keys(c).length>0&&(yield c)}yield(await l).value;for await(let u of o)yield u}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}a(r,"K");let n=Ir(t),i=new Gl({generator:this.transform(r(),n),config:n});return await i.setup,Na.fromAsyncGenerator(i)}},Sre=class extends bi{static{a(this,"xb")}static lc_name(){return"RunnablePick"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;keys;constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{let t=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return t.length===0?void 0:Object.fromEntries(t)}}async invoke(e,t){return this._callWithConfig(this._pick.bind(this),e,t)}async*_transform(e){for await(let t of e){let r=await this._pick(t);r!==void 0&&(yield r)}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}a(r,"K");let n=Ir(t),i=new Gl({generator:this.transform(r(),n),config:n});return await i.setup,Na.fromAsyncGenerator(i)}},Q5=class extends up{static{a(this,"uA")}name;description;schema;constructor(e){let t=oR.from([cR.from(async r=>{let n;if(r$(r))try{n=await Pq(this.schema,r.args)}catch{throw new n$("Received tool input did not match expected schema",JSON.stringify(r.args))}else n=r;return n}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:t,config:e.config??{}}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};function kre(e,t){let r=t.name??e.getName(),n=t.description??Lq(t.schema);return Dq(t.schema)?new Q5({name:r,description:n,schema:Jd.object({input:Jd.string()}).transform(i=>i.input),bound:e}):new Q5({name:r,description:n,schema:t.schema,bound:e})}a(kre,"pb");var hR=class extends bi{static{a(this,"M7")}lc_namespace=["langchain_core","documents","transformers"];invoke(e,t){return this.transformDocuments(e)}},Are=class extends hR{static{a(this,"mA")}async transformDocuments(e){let t=[];for(let r of e){let n=await this._transformDocument(r);t.push(n)}return t}},Tre={};An(Tre,{BaseDocumentTransformer:a(()=>hR,"BaseDocumentTransformer"),Document:a(()=>KZ,"Document"),MappingDocumentTransformer:a(()=>Are,"MappingDocumentTransformer")});var Nre=Fi(jV(),1),Cre=Object.defineProperty,Ire=a((e,t,r)=>t in e?Cre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"Qb"),Mre=a((e,t,r)=>(Ire(e,t+"",r),r),"eb");function Ore(e,t){let r=Array.from({length:e.length},(n,i)=>({start:i,end:i+1}));for(;r.length>1;){let n=null;for(let i=0;i<r.length-1;i++){let s=e.slice(r[i].start,r[i+1].end),o=t.get(s.join(","));o!=null&&(n==null||o<n[0])&&(n=[o,i])}if(n!=null){let i=n[1];r[i]={start:r[i].start,end:r[i+1].end},r.splice(i+1,1)}else break}return r}a(Ore,"sb");function Rre(e,t){return e.length===1?[t.get(e.join(","))]:Ore(e,t).map(r=>t.get(e.slice(r.start,r.end).join(","))).filter(r=>r!=null)}a(Rre,"$y");function Pre(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}a(Pre,"qy");var C1=class{static{a(this,"Cz")}specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,t){this.patStr=e.pat_str;let r=e.bpe_ranks.split(`
`).filter(Boolean).reduce((n,i)=>{let[s,o,...l]=i.split(" "),u=Number.parseInt(o,10);return l.forEach((c,h)=>n[c]=u+h),n},{});for(let[n,i]of Object.entries(r)){let s=Nre.default.toByteArray(n);this.rankMap.set(s.join(","),i),this.textMap.set(i,s)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((n,[i,s])=>(n[s]=this.textEncoder.encode(i),n),{})}encode(e,t=[],r="all"){let n=new RegExp(this.patStr,"ug"),i=C1.specialTokenRegex(Object.keys(this.specialTokens)),s=[],o=new Set(t==="all"?Object.keys(this.specialTokens):t),l=new Set(r==="all"?Object.keys(this.specialTokens).filter(c=>!o.has(c)):r);if(l.size>0){let c=C1.specialTokenRegex([...l]),h=e.match(c);if(h!=null)throw Error(`The text contains a special token that is not allowed: ${h[0]}`)}let u=0;for(;;){let c=null,h=u;for(;i.lastIndex=h,c=i.exec(e),!(c==null||o.has(c[0]));)h=c.index+1;let d=c?.index??e.length;for(let m of e.substring(u,d).matchAll(n)){let y=this.textEncoder.encode(m[0]),x=this.rankMap.get(y.join(","));if(x!=null){s.push(x);continue}s.push(...Rre(y,this.rankMap))}if(c==null)break;let g=this.specialTokens[c[0]];s.push(g),u=c.index+c[0].length}return s}decode(e){let t=[],r=0;for(let s=0;s<e.length;++s){let o=e[s],l=this.textMap.get(o)??this.inverseSpecialTokens[o];l!=null&&(t.push(l),r+=l.length)}let n=new Uint8Array(r),i=0;for(let s of t)n.set(s,i),i+=s.length;return this.textDecoder.decode(n)}},fR=C1;Mre(fR,"specialTokenRegex",e=>new RegExp(e.map(t=>Pre(t)).join("|"),"g"));function Lre(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw Error("Unknown model")}}a(Lre,"hz");var Dre={};An(Dre,{encodingForModel:a(()=>Bre,"encodingForModel"),getEncoding:a(()=>pR,"getEncoding")});var If={},jre=new C4({});async function pR(e){return e in If||(If[e]=jre.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then(t=>t.json()).then(t=>new fR(t)).catch(t=>{throw delete If[e],t})),await If[e]}a(pR,"Ez");async function Bre(e){return pR(Lre(e))}a(Bre,"Py");Fi(pY(),1);var Nt={};_i(Nt,{xid:a(()=>qre,"xid"),void:a(()=>Ene,"void"),uuidv7:a(()=>Yre,"uuidv7"),uuidv6:a(()=>Vre,"uuidv6"),uuidv4:a(()=>Gre,"uuidv4"),uuid:a(()=>Hre,"uuid"),util:a(()=>gr,"util"),url:a(()=>Zre,"url"),uppercase:a(()=>N6,"uppercase"),unknown:a(()=>Yu,"unknown"),union:a(()=>dw,"union"),undefined:a(()=>_ne,"undefined"),ulid:a(()=>Qre,"ulid"),uint64:a(()=>yne,"uint64"),uint32:a(()=>gne,"uint32"),tuple:a(()=>XR,"tuple"),trim:a(()=>P6,"trim"),treeifyError:a(()=>RI,"treeifyError"),transform:a(()=>pw,"transform"),toUpperCase:a(()=>D6,"toUpperCase"),toLowerCase:a(()=>L6,"toLowerCase"),toJSONSchema:a(()=>tp,"toJSONSchema"),templateLiteral:a(()=>Fne,"templateLiteral"),symbol:a(()=>wne,"symbol"),superRefine:a(()=>yP,"superRefine"),success:a(()=>jne,"success"),stringbool:a(()=>Yne,"stringbool"),stringFormat:a(()=>une,"stringFormat"),string:a(()=>I1,"string"),strictObject:a(()=>Tne,"strictObject"),startsWith:a(()=>I6,"startsWith"),size:a(()=>k6,"size"),setErrorMap:a(()=>Jne,"setErrorMap"),set:a(()=>One,"set"),safeParseAsync:a(()=>SR,"safeParseAsync"),safeParse:a(()=>ER,"safeParse"),safeEncodeAsync:a(()=>MR,"safeEncodeAsync"),safeEncode:a(()=>CR,"safeEncode"),safeDecodeAsync:a(()=>OR,"safeDecodeAsync"),safeDecode:a(()=>IR,"safeDecode"),registry:a(()=>n6,"registry"),regexes:a(()=>Yl,"regexes"),regex:a(()=>A6,"regex"),refine:a(()=>bP,"refine"),record:a(()=>JR,"record"),readonly:a(()=>hP,"readonly"),property:a(()=>MO,"property"),promise:a(()=>Une,"promise"),prettifyError:a(()=>LI,"prettifyError"),preprocess:a(()=>$ne,"preprocess"),prefault:a(()=>aP,"prefault"),positive:a(()=>TO,"positive"),pipe:a(()=>fp,"pipe"),partialRecord:a(()=>Ine,"partialRecord"),parseAsync:a(()=>xR,"parseAsync"),parse:a(()=>_R,"parse"),overwrite:a(()=>Zl,"overwrite"),optional:a(()=>dp,"optional"),object:a(()=>Ane,"object"),number:a(()=>RR,"number"),nullish:a(()=>Dne,"nullish"),nullable:a(()=>hp,"nullable"),null:a(()=>BR,"null"),normalize:a(()=>R6,"normalize"),nonpositive:a(()=>CO,"nonpositive"),nonoptional:a(()=>sP,"nonoptional"),nonnegative:a(()=>IO,"nonnegative"),never:a(()=>lw,"never"),negative:a(()=>NO,"negative"),nativeEnum:a(()=>Rne,"nativeEnum"),nanoid:a(()=>Jre,"nanoid"),nan:a(()=>Bne,"nan"),multipleOf:a(()=>$d,"multipleOf"),minSize:a(()=>Xd,"minSize"),minLength:a(()=>Uu,"minLength"),mime:a(()=>O6,"mime"),maxSize:a(()=>Rm,"maxSize"),maxLength:a(()=>Pm,"maxLength"),map:a(()=>Mne,"map"),lte:a(()=>ka,"lte"),lt:a(()=>Rl,"lt"),lowercase:a(()=>T6,"lowercase"),looseObject:a(()=>Nne,"looseObject"),locales:a(()=>t6,"locales"),literal:a(()=>Pne,"literal"),length:a(()=>Lm,"length"),lazy:a(()=>mP,"lazy"),ksuid:a(()=>ene,"ksuid"),keyof:a(()=>kne,"keyof"),jwt:a(()=>lne,"jwt"),json:a(()=>Zne,"json"),iso:a(()=>mR,"iso"),ipv6:a(()=>rne,"ipv6"),ipv4:a(()=>tne,"ipv4"),intersection:a(()=>ZR,"intersection"),int64:a(()=>bne,"int64"),int32:a(()=>mne,"int32"),int:a(()=>M1,"int"),instanceof:a(()=>Vne,"instanceof"),includes:a(()=>C6,"includes"),httpUrl:a(()=>$re,"httpUrl"),hostname:a(()=>cne,"hostname"),hex:a(()=>dne,"hex"),hash:a(()=>hne,"hash"),guid:a(()=>Ure,"guid"),gte:a(()=>Oi,"gte"),gt:a(()=>Pl,"gt"),globalRegistry:a(()=>vi,"globalRegistry"),getErrorMap:a(()=>Kne,"getErrorMap"),function:a(()=>q5,"function"),formatError:a(()=>L4,"formatError"),float64:a(()=>pne,"float64"),float32:a(()=>fne,"float32"),flattenError:a(()=>P4,"flattenError"),file:a(()=>Lne,"file"),enum:a(()=>fw,"enum"),endsWith:a(()=>M6,"endsWith"),encodeAsync:a(()=>TR,"encodeAsync"),encode:a(()=>kR,"encode"),emoji:a(()=>Xre,"emoji"),email:a(()=>Fre,"email"),e164:a(()=>one,"e164"),discriminatedUnion:a(()=>Cne,"discriminatedUnion"),decodeAsync:a(()=>NR,"decodeAsync"),decode:a(()=>AR,"decode"),date:a(()=>Sne,"date"),custom:a(()=>Gne,"custom"),cuid2:a(()=>Wre,"cuid2"),cuid:a(()=>Kre,"cuid"),core:a(()=>wI,"core"),config:a(()=>ni,"config"),coerce:a(()=>wP,"coerce"),codec:a(()=>zne,"codec"),clone:a(()=>Zn,"clone"),cidrv6:a(()=>ine,"cidrv6"),cidrv4:a(()=>nne,"cidrv4"),check:a(()=>Hne,"check"),catch:a(()=>uP,"catch"),boolean:a(()=>PR,"boolean"),bigint:a(()=>vne,"bigint"),base64url:a(()=>sne,"base64url"),base64:a(()=>ane,"base64"),array:a(()=>Hm,"array"),any:a(()=>xne,"any"),_function:a(()=>q5,"_function"),_default:a(()=>nP,"_default"),_ZodString:a(()=>V6,"_ZodString"),ZodXID:a(()=>W6,"ZodXID"),ZodVoid:a(()=>HR,"ZodVoid"),ZodUnknown:a(()=>FR,"ZodUnknown"),ZodUnion:a(()=>cw,"ZodUnion"),ZodUndefined:a(()=>DR,"ZodUndefined"),ZodUUID:a(()=>Hs,"ZodUUID"),ZodURL:a(()=>Bm,"ZodURL"),ZodULID:a(()=>K6,"ZodULID"),ZodType:a(()=>lr,"ZodType"),ZodTuple:a(()=>$R,"ZodTuple"),ZodTransform:a(()=>eP,"ZodTransform"),ZodTemplateLiteral:a(()=>fP,"ZodTemplateLiteral"),ZodSymbol:a(()=>LR,"ZodSymbol"),ZodSuccess:a(()=>oP,"ZodSuccess"),ZodStringFormat:a(()=>Hr,"ZodStringFormat"),ZodString:a(()=>jm,"ZodString"),ZodSet:a(()=>WR,"ZodSet"),ZodRecord:a(()=>hw,"ZodRecord"),ZodRealError:a(()=>Hi,"ZodRealError"),ZodReadonly:a(()=>dP,"ZodReadonly"),ZodPromise:a(()=>gP,"ZodPromise"),ZodPrefault:a(()=>iP,"ZodPrefault"),ZodPipe:a(()=>vw,"ZodPipe"),ZodOptional:a(()=>mw,"ZodOptional"),ZodObject:a(()=>Gm,"ZodObject"),ZodNumberFormat:a(()=>rc,"ZodNumberFormat"),ZodNumber:a(()=>zm,"ZodNumber"),ZodNullable:a(()=>tP,"ZodNullable"),ZodNull:a(()=>jR,"ZodNull"),ZodNonOptional:a(()=>gw,"ZodNonOptional"),ZodNever:a(()=>UR,"ZodNever"),ZodNanoID:a(()=>$6,"ZodNanoID"),ZodNaN:a(()=>cP,"ZodNaN"),ZodMap:a(()=>KR,"ZodMap"),ZodLiteral:a(()=>QR,"ZodLiteral"),ZodLazy:a(()=>pP,"ZodLazy"),ZodKSUID:a(()=>Q6,"ZodKSUID"),ZodJWT:a(()=>sw,"ZodJWT"),ZodIssueCode:a(()=>Xne,"ZodIssueCode"),ZodIntersection:a(()=>YR,"ZodIntersection"),ZodISOTime:a(()=>H6,"ZodISOTime"),ZodISODuration:a(()=>G6,"ZodISODuration"),ZodISODateTime:a(()=>F6,"ZodISODateTime"),ZodISODate:a(()=>U6,"ZodISODate"),ZodIPv6:a(()=>ew,"ZodIPv6"),ZodIPv4:a(()=>q6,"ZodIPv4"),ZodGUID:a(()=>cp,"ZodGUID"),ZodFunction:a(()=>vP,"ZodFunction"),ZodFirstPartyTypeKind:a(()=>O1,"ZodFirstPartyTypeKind"),ZodFile:a(()=>qR,"ZodFile"),ZodError:a(()=>zre,"ZodError"),ZodEnum:a(()=>uh,"ZodEnum"),ZodEmoji:a(()=>Z6,"ZodEmoji"),ZodEmail:a(()=>Y6,"ZodEmail"),ZodE164:a(()=>aw,"ZodE164"),ZodDiscriminatedUnion:a(()=>VR,"ZodDiscriminatedUnion"),ZodDefault:a(()=>rP,"ZodDefault"),ZodDate:a(()=>uw,"ZodDate"),ZodCustomStringFormat:a(()=>Gh,"ZodCustomStringFormat"),ZodCustom:a(()=>Vm,"ZodCustom"),ZodCodec:a(()=>bw,"ZodCodec"),ZodCatch:a(()=>lP,"ZodCatch"),ZodCUID2:a(()=>J6,"ZodCUID2"),ZodCUID:a(()=>X6,"ZodCUID"),ZodCIDRv6:a(()=>rw,"ZodCIDRv6"),ZodCIDRv4:a(()=>tw,"ZodCIDRv4"),ZodBoolean:a(()=>Fm,"ZodBoolean"),ZodBigIntFormat:a(()=>ow,"ZodBigIntFormat"),ZodBigInt:a(()=>Um,"ZodBigInt"),ZodBase64URL:a(()=>iw,"ZodBase64URL"),ZodBase64:a(()=>nw,"ZodBase64"),ZodArray:a(()=>GR,"ZodArray"),ZodAny:a(()=>zR,"ZodAny"),TimePrecision:a(()=>eO,"TimePrecision"),NEVER:a(()=>_I,"NEVER"),$output:a(()=>K8,"$output"),$input:a(()=>W8,"$input"),$brand:a(()=>xI,"$brand")});var mR={};_i(mR,{time:a(()=>bR,"time"),duration:a(()=>yR,"duration"),datetime:a(()=>gR,"datetime"),date:a(()=>vR,"date"),ZodISOTime:a(()=>H6,"ZodISOTime"),ZodISODuration:a(()=>G6,"ZodISODuration"),ZodISODateTime:a(()=>F6,"ZodISODateTime"),ZodISODate:a(()=>U6,"ZodISODate")});var F6=He("ZodISODateTime",(e,t)=>{XM.init(e,t),Hr.init(e,t)});function gR(e){return tO(F6,e)}a(gR,"XW");var U6=He("ZodISODate",(e,t)=>{JM.init(e,t),Hr.init(e,t)});function vR(e){return rO(U6,e)}a(vR,"AW");var H6=He("ZodISOTime",(e,t)=>{KM.init(e,t),Hr.init(e,t)});function bR(e){return nO(H6,e)}a(bR,"kW");var G6=He("ZodISODuration",(e,t)=>{WM.init(e,t),Hr.init(e,t)});function yR(e){return iO(G6,e)}a(yR,"GW");var wR=a((e,t)=>{R4.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:a(r=>L4(e,r),"value")},flatten:{value:a(r=>P4(e,r),"value")},addIssue:{value:a(r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,J0,2)},"value")},addIssues:{value:a(r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,J0,2)},"value")},isEmpty:{get(){return e.issues.length===0}}})},"$V"),zre=He("ZodError",wR),Hi=He("ZodError",wR,{Parent:Error}),_R=Rh(Hi),xR=Ph(Hi),ER=Lh(Hi),SR=Dh(Hi),kR=D4(Hi),AR=j4(Hi),TR=B4(Hi),NR=z4(Hi),CR=F4(Hi),IR=U4(Hi),MR=H4(Hi),OR=G4(Hi),lr=He("ZodType",(e,t)=>(qt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(gr.mergeDefs(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Zn(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>_R(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>ER(e,r,n),e.parseAsync=async(r,n)=>xR(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>SR(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>kR(e,r,n),e.decode=(r,n)=>AR(e,r,n),e.encodeAsync=async(r,n)=>TR(e,r,n),e.decodeAsync=async(r,n)=>NR(e,r,n),e.safeEncode=(r,n)=>CR(e,r,n),e.safeDecode=(r,n)=>IR(e,r,n),e.safeEncodeAsync=async(r,n)=>MR(e,r,n),e.safeDecodeAsync=async(r,n)=>OR(e,r,n),e.refine=(r,n)=>e.check(bP(r,n)),e.superRefine=r=>e.check(yP(r)),e.overwrite=r=>e.check(Zl(r)),e.optional=()=>dp(e),e.nullable=()=>hp(e),e.nullish=()=>dp(hp(e)),e.nonoptional=r=>sP(e,r),e.array=()=>Hm(e),e.or=r=>dw([e,r]),e.and=r=>ZR(e,r),e.transform=r=>fp(e,pw(r)),e.default=r=>nP(e,r),e.prefault=r=>aP(e,r),e.catch=r=>uP(e,r),e.pipe=r=>fp(e,r),e.readonly=()=>hP(e),e.describe=r=>{let n=e.clone();return vi.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return vi.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return vi.get(e);let n=e.clone();return vi.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),V6=He("_ZodString",(e,t)=>{Fh.init(e,t),lr.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(A6(...n)),e.includes=(...n)=>e.check(C6(...n)),e.startsWith=(...n)=>e.check(I6(...n)),e.endsWith=(...n)=>e.check(M6(...n)),e.min=(...n)=>e.check(Uu(...n)),e.max=(...n)=>e.check(Pm(...n)),e.length=(...n)=>e.check(Lm(...n)),e.nonempty=(...n)=>e.check(Uu(1,...n)),e.lowercase=n=>e.check(T6(n)),e.uppercase=n=>e.check(N6(n)),e.trim=()=>e.check(P6()),e.normalize=(...n)=>e.check(R6(...n)),e.toLowerCase=()=>e.check(L6()),e.toUpperCase=()=>e.check(D6())}),jm=He("ZodString",(e,t)=>{Fh.init(e,t),V6.init(e,t),e.email=r=>e.check(i6(Y6,r)),e.url=r=>e.check(Om(Bm,r)),e.jwt=r=>e.check(E6(sw,r)),e.emoji=r=>e.check(u6(Z6,r)),e.guid=r=>e.check(ep(cp,r)),e.uuid=r=>e.check(a6(Hs,r)),e.uuidv4=r=>e.check(s6(Hs,r)),e.uuidv6=r=>e.check(o6(Hs,r)),e.uuidv7=r=>e.check(l6(Hs,r)),e.nanoid=r=>e.check(c6($6,r)),e.guid=r=>e.check(ep(cp,r)),e.cuid=r=>e.check(d6(X6,r)),e.cuid2=r=>e.check(h6(J6,r)),e.ulid=r=>e.check(f6(K6,r)),e.base64=r=>e.check(w6(nw,r)),e.base64url=r=>e.check(_6(iw,r)),e.xid=r=>e.check(p6(W6,r)),e.ksuid=r=>e.check(m6(Q6,r)),e.ipv4=r=>e.check(g6(q6,r)),e.ipv6=r=>e.check(v6(ew,r)),e.cidrv4=r=>e.check(b6(tw,r)),e.cidrv6=r=>e.check(y6(rw,r)),e.e164=r=>e.check(x6(aw,r)),e.datetime=r=>e.check(gR(r)),e.date=r=>e.check(vR(r)),e.time=r=>e.check(bR(r)),e.duration=r=>e.check(yR(r))});function I1(e){return Q8(jm,e)}a(I1,"bW");var Hr=He("ZodStringFormat",(e,t)=>{zr.init(e,t),V6.init(e,t)}),Y6=He("ZodEmail",(e,t)=>{zM.init(e,t),Hr.init(e,t)});function Fre(e){return i6(Y6,e)}a(Fre,"tm");var cp=He("ZodGUID",(e,t)=>{jM.init(e,t),Hr.init(e,t)});function Ure(e){return ep(cp,e)}a(Ure,"Bm");var Hs=He("ZodUUID",(e,t)=>{BM.init(e,t),Hr.init(e,t)});function Hre(e){return a6(Hs,e)}a(Hre,"Um");function Gre(e){return s6(Hs,e)}a(Gre,"Fm");function Vre(e){return o6(Hs,e)}a(Vre,"am");function Yre(e){return l6(Hs,e)}a(Yre,"Qm");var Bm=He("ZodURL",(e,t)=>{FM.init(e,t),Hr.init(e,t)});function Zre(e){return Om(Bm,e)}a(Zre,"em");function $re(e){return Om(Bm,{protocol:/^https?$/,hostname:Yl.domain,...gr.normalizeParams(e)})}a($re,"sm");var Z6=He("ZodEmoji",(e,t)=>{UM.init(e,t),Hr.init(e,t)});function Xre(e){return u6(Z6,e)}a(Xre,"$d");var $6=He("ZodNanoID",(e,t)=>{HM.init(e,t),Hr.init(e,t)});function Jre(e){return c6($6,e)}a(Jre,"qd");var X6=He("ZodCUID",(e,t)=>{GM.init(e,t),Hr.init(e,t)});function Kre(e){return d6(X6,e)}a(Kre,"Kd");var J6=He("ZodCUID2",(e,t)=>{VM.init(e,t),Hr.init(e,t)});function Wre(e){return h6(J6,e)}a(Wre,"_d");var K6=He("ZodULID",(e,t)=>{YM.init(e,t),Hr.init(e,t)});function Qre(e){return f6(K6,e)}a(Qre,"Pd");var W6=He("ZodXID",(e,t)=>{ZM.init(e,t),Hr.init(e,t)});function qre(e){return p6(W6,e)}a(qre,"Od");var Q6=He("ZodKSUID",(e,t)=>{$M.init(e,t),Hr.init(e,t)});function ene(e){return m6(Q6,e)}a(ene,"Yd");var q6=He("ZodIPv4",(e,t)=>{QM.init(e,t),Hr.init(e,t)});function tne(e){return g6(q6,e)}a(tne,"jd");var ew=He("ZodIPv6",(e,t)=>{qM.init(e,t),Hr.init(e,t)});function rne(e){return v6(ew,e)}a(rne,"vd");var tw=He("ZodCIDRv4",(e,t)=>{e8.init(e,t),Hr.init(e,t)});function nne(e){return b6(tw,e)}a(nne,"zd");var rw=He("ZodCIDRv6",(e,t)=>{t8.init(e,t),Hr.init(e,t)});function ine(e){return y6(rw,e)}a(ine,"Wd");var nw=He("ZodBase64",(e,t)=>{r8.init(e,t),Hr.init(e,t)});function ane(e){return w6(nw,e)}a(ane,"Hd");var iw=He("ZodBase64URL",(e,t)=>{i8.init(e,t),Hr.init(e,t)});function sne(e){return _6(iw,e)}a(sne,"Jd");var aw=He("ZodE164",(e,t)=>{a8.init(e,t),Hr.init(e,t)});function one(e){return x6(aw,e)}a(one,"Td");var sw=He("ZodJWT",(e,t)=>{o8.init(e,t),Hr.init(e,t)});function lne(e){return E6(sw,e)}a(lne,"wd");var Gh=He("ZodCustomStringFormat",(e,t)=>{l8.init(e,t),Hr.init(e,t)});function une(e,t,r={}){return Uh(Gh,e,t,r)}a(une,"fd");function cne(e){return Uh(Gh,"hostname",Yl.hostname,e)}a(cne,"Zd");function dne(e){return Uh(Gh,"hex",Yl.hex,e)}a(dne,"Xd");function hne(e,t){let r=t?.enc??"hex",n=`${e}_${r}`,i=Yl[n];if(!i)throw Error(`Unrecognized hash format: ${n}`);return Uh(Gh,n,i,t)}a(hne,"Ad");var zm=He("ZodNumber",(e,t)=>{X4.init(e,t),lr.init(e,t),e.gt=(n,i)=>e.check(Pl(n,i)),e.gte=(n,i)=>e.check(Oi(n,i)),e.min=(n,i)=>e.check(Oi(n,i)),e.lt=(n,i)=>e.check(Rl(n,i)),e.lte=(n,i)=>e.check(ka(n,i)),e.max=(n,i)=>e.check(ka(n,i)),e.int=n=>e.check(M1(n)),e.safe=n=>e.check(M1(n)),e.positive=n=>e.check(Pl(0,n)),e.nonnegative=n=>e.check(Oi(0,n)),e.negative=n=>e.check(Rl(0,n)),e.nonpositive=n=>e.check(ka(0,n)),e.multipleOf=(n,i)=>e.check($d(n,i)),e.step=(n,i)=>e.check($d(n,i)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function RR(e){return aO(zm,e)}a(RR,"qV");var rc=He("ZodNumberFormat",(e,t)=>{u8.init(e,t),zm.init(e,t)});function M1(e){return oO(rc,e)}a(M1,"yW");function fne(e){return lO(rc,e)}a(fne,"kd");function pne(e){return uO(rc,e)}a(pne,"Gd");function mne(e){return cO(rc,e)}a(mne,"Vd");function gne(e){return dO(rc,e)}a(gne,"Sd");var Fm=He("ZodBoolean",(e,t)=>{J4.init(e,t),lr.init(e,t)});function PR(e){return hO(Fm,e)}a(PR,"KV");var Um=He("ZodBigInt",(e,t)=>{K4.init(e,t),lr.init(e,t),e.gte=(n,i)=>e.check(Oi(n,i)),e.min=(n,i)=>e.check(Oi(n,i)),e.gt=(n,i)=>e.check(Pl(n,i)),e.gte=(n,i)=>e.check(Oi(n,i)),e.min=(n,i)=>e.check(Oi(n,i)),e.lt=(n,i)=>e.check(Rl(n,i)),e.lte=(n,i)=>e.check(ka(n,i)),e.max=(n,i)=>e.check(ka(n,i)),e.positive=n=>e.check(Pl(BigInt(0),n)),e.negative=n=>e.check(Rl(BigInt(0),n)),e.nonpositive=n=>e.check(ka(BigInt(0),n)),e.nonnegative=n=>e.check(Oi(BigInt(0),n)),e.multipleOf=(n,i)=>e.check($d(n,i));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function vne(e){return pO(Um,e)}a(vne,"Md");var ow=He("ZodBigIntFormat",(e,t)=>{c8.init(e,t),Um.init(e,t)});function bne(e){return gO(ow,e)}a(bne,"Nd");function yne(e){return vO(ow,e)}a(yne,"Cd");var LR=He("ZodSymbol",(e,t)=>{d8.init(e,t),lr.init(e,t)});function wne(e){return bO(LR,e)}a(wne,"hd");var DR=He("ZodUndefined",(e,t)=>{h8.init(e,t),lr.init(e,t)});function _ne(e){return yO(DR,e)}a(_ne,"Ed");var jR=He("ZodNull",(e,t)=>{f8.init(e,t),lr.init(e,t)});function BR(e){return wO(jR,e)}a(BR,"YV");var zR=He("ZodAny",(e,t)=>{p8.init(e,t),lr.init(e,t)});function xne(){return _O(zR)}a(xne,"Rd");var FR=He("ZodUnknown",(e,t)=>{m8.init(e,t),lr.init(e,t)});function Yu(){return xO(FR)}a(Yu,"y4");var UR=He("ZodNever",(e,t)=>{W4.init(e,t),lr.init(e,t)});function lw(e){return S6(UR,e)}a(lw,"sW");var HR=He("ZodVoid",(e,t)=>{g8.init(e,t),lr.init(e,t)});function Ene(e){return EO(HR,e)}a(Ene,"Id");var uw=He("ZodDate",(e,t)=>{v8.init(e,t),lr.init(e,t),e.min=(n,i)=>e.check(Oi(n,i)),e.max=(n,i)=>e.check(ka(n,i));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function Sne(e){return SO(uw,e)}a(Sne,"Dd");var GR=He("ZodArray",(e,t)=>{b8.init(e,t),lr.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Uu(r,n)),e.nonempty=r=>e.check(Uu(1,r)),e.max=(r,n)=>e.check(Pm(r,n)),e.length=(r,n)=>e.check(Lm(r,n)),e.unwrap=()=>e.element});function Hm(e,t){return OO(GR,e,t)}a(Hm,"i5");function kne(e){let t=e._zod.def.shape;return fw(Object.keys(t))}a(kne,"Ld");var Gm=He("ZodObject",(e,t)=>{x8.init(e,t),lr.init(e,t),gr.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>fw(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Yu()}),e.loose=()=>e.clone({...e._zod.def,catchall:Yu()}),e.strict=()=>e.clone({...e._zod.def,catchall:lw()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>gr.extend(e,r),e.safeExtend=r=>gr.safeExtend(e,r),e.merge=r=>gr.merge(e,r),e.pick=r=>gr.pick(e,r),e.omit=r=>gr.omit(e,r),e.partial=(...r)=>gr.partial(mw,e,r[0]),e.required=(...r)=>gr.required(gw,e,r[0])});function Ane(e,t){let r={type:"object",shape:e??{},...gr.normalizeParams(t)};return new Gm(r)}a(Ane,"gd");function Tne(e,t){return new Gm({type:"object",shape:e,catchall:lw(),...gr.normalizeParams(t)})}a(Tne,"bd");function Nne(e,t){return new Gm({type:"object",shape:e,catchall:Yu(),...gr.normalizeParams(t)})}a(Nne,"yd");var cw=He("ZodUnion",(e,t)=>{Q4.init(e,t),lr.init(e,t),e.options=t.options});function dw(e,t){return new cw({type:"union",options:e,...gr.normalizeParams(t)})}a(dw,"qH");var VR=He("ZodDiscriminatedUnion",(e,t)=>{cw.init(e,t),E8.init(e,t)});function Cne(e,t,r){return new VR({type:"union",options:t,discriminator:e,...gr.normalizeParams(r)})}a(Cne,"ud");var YR=He("ZodIntersection",(e,t)=>{S8.init(e,t),lr.init(e,t)});function ZR(e,t){return new YR({type:"intersection",left:e,right:t})}a(ZR,"wV");var $R=He("ZodTuple",(e,t)=>{q4.init(e,t),lr.init(e,t),e.rest=r=>e.clone({...e._zod.def,rest:r})});function XR(e,t,r){let n=t instanceof qt,i=n?r:t;return new $R({type:"tuple",items:e,rest:n?t:null,...gr.normalizeParams(i)})}a(XR,"ZV");var hw=He("ZodRecord",(e,t)=>{k8.init(e,t),lr.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function JR(e,t,r){return new hw({type:"record",keyType:e,valueType:t,...gr.normalizeParams(r)})}a(JR,"XV");function Ine(e,t,r){let n=Zn(e);return n._zod.values=void 0,new hw({type:"record",keyType:n,valueType:t,...gr.normalizeParams(r)})}a(Ine,"xd");var KR=He("ZodMap",(e,t)=>{A8.init(e,t),lr.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Mne(e,t,r){return new KR({type:"map",keyType:e,valueType:t,...gr.normalizeParams(r)})}a(Mne,"pd");var WR=He("ZodSet",(e,t)=>{T8.init(e,t),lr.init(e,t),e.min=(...r)=>e.check(Xd(...r)),e.nonempty=r=>e.check(Xd(1,r)),e.max=(...r)=>e.check(Rm(...r)),e.size=(...r)=>e.check(k6(...r))});function One(e,t){return new WR({type:"set",valueType:e,...gr.normalizeParams(t)})}a(One,"cd");var uh=He("ZodEnum",(e,t)=>{N8.init(e,t),lr.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(n,i)=>{let s={};for(let o of n)if(r.has(o))s[o]=t.entries[o];else throw Error(`Key ${o} not found in enum`);return new uh({...t,checks:[],...gr.normalizeParams(i),entries:s})},e.exclude=(n,i)=>{let s={...t.entries};for(let o of n)if(r.has(o))delete s[o];else throw Error(`Key ${o} not found in enum`);return new uh({...t,checks:[],...gr.normalizeParams(i),entries:s})}});function fw(e,t){let r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new uh({type:"enum",entries:r,...gr.normalizeParams(t)})}a(fw,"_H");function Rne(e,t){return new uh({type:"enum",entries:e,...gr.normalizeParams(t)})}a(Rne,"md");var QR=He("ZodLiteral",(e,t)=>{C8.init(e,t),lr.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Pne(e,t){return new QR({type:"literal",values:Array.isArray(e)?e:[e],...gr.normalizeParams(t)})}a(Pne,"dd$1");var qR=He("ZodFile",(e,t)=>{I8.init(e,t),lr.init(e,t),e.min=(r,n)=>e.check(Xd(r,n)),e.max=(r,n)=>e.check(Rm(r,n)),e.mime=(r,n)=>e.check(O6(Array.isArray(r)?r:[r],n))});function Lne(e){return RO(qR,e)}a(Lne,"ld");var eP=He("ZodTransform",(e,t)=>{M8.init(e,t),lr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Nm(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(gr.issue(s,r.value,t));else{let o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(gr.issue(o))}};let i=t.transform(r.value,r);return i instanceof Promise?i.then(s=>(r.value=s,r)):(r.value=i,r)}});function pw(e){return new eP({type:"transform",transform:e})}a(pw,"PH");var mw=He("ZodOptional",(e,t)=>{O8.init(e,t),lr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function dp(e){return new mw({type:"optional",innerType:e})}a(dp,"d5");var tP=He("ZodNullable",(e,t)=>{R8.init(e,t),lr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hp(e){return new tP({type:"nullable",innerType:e})}a(hp,"l5");function Dne(e){return dp(hp(e))}a(Dne,"rd");var rP=He("ZodDefault",(e,t)=>{P8.init(e,t),lr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function nP(e,t){return new rP({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():gr.shallowClone(t)}})}a(nP,"CV");var iP=He("ZodPrefault",(e,t)=>{L8.init(e,t),lr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function aP(e,t){return new iP({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():gr.shallowClone(t)}})}a(aP,"EV");var gw=He("ZodNonOptional",(e,t)=>{D8.init(e,t),lr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sP(e,t){return new gw({type:"nonoptional",innerType:e,...gr.normalizeParams(t)})}a(sP,"RV");var oP=He("ZodSuccess",(e,t)=>{j8.init(e,t),lr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function jne(e){return new oP({type:"success",innerType:e})}a(jne,"od");var lP=He("ZodCatch",(e,t)=>{B8.init(e,t),lr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function uP(e,t){return new lP({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}a(uP,"LV");var cP=He("ZodNaN",(e,t)=>{z8.init(e,t),lr.init(e,t)});function Bne(e){return AO(cP,e)}a(Bne,"nd");var vw=He("ZodPipe",(e,t)=>{F8.init(e,t),lr.init(e,t),e.in=t.in,e.out=t.out});function fp(e,t){return new vw({type:"pipe",in:e,out:t})}a(fp,"r5");var bw=He("ZodCodec",(e,t)=>{vw.init(e,t),e6.init(e,t)});function zne(e,t,r){return new bw({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}a(zne,"id$1");var dP=He("ZodReadonly",(e,t)=>{U8.init(e,t),lr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hP(e){return new dP({type:"readonly",innerType:e})}a(hP,"yV");var fP=He("ZodTemplateLiteral",(e,t)=>{H8.init(e,t),lr.init(e,t)});function Fne(e,t){return new fP({type:"template_literal",parts:e,...gr.normalizeParams(t)})}a(Fne,"td");var pP=He("ZodLazy",(e,t)=>{Y8.init(e,t),lr.init(e,t),e.unwrap=()=>e._zod.def.getter()});function mP(e){return new pP({type:"lazy",getter:e})}a(mP,"pV");var gP=He("ZodPromise",(e,t)=>{V8.init(e,t),lr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Une(e){return new gP({type:"promise",innerType:e})}a(Une,"Bd");var vP=He("ZodFunction",(e,t)=>{G8.init(e,t),lr.init(e,t)});function q5(e){return new vP({type:"function",input:Array.isArray(e?.input)?XR(e?.input):e?.input??Hm(Yu()),output:e?.output??Yu()})}a(q5,"Ud");var Vm=He("ZodCustom",(e,t)=>{Z8.init(e,t),lr.init(e,t)});function Hne(e){let t=new an({check:"custom"});return t._zod.check=e,t}a(Hne,"Fd");function Gne(e,t){return PO(Vm,e??(()=>!0),t)}a(Gne,"ad");function bP(e,t={}){return LO(Vm,e,t)}a(bP,"dV");function yP(e){return DO(e)}a(yP,"lV");function Vne(e,t={error:`Input not instance of ${e.name}`}){let r=new Vm({type:"custom",check:"custom",fn:a(n=>n instanceof e,"fn"),abort:!0,...gr.normalizeParams(t)});return r._zod.bag.Class=e,r}a(Vne,"Qd");var Yne=a((...e)=>BO({Codec:bw,Boolean:Fm,String:jm},...e),"ed");function Zne(e){let t=mP(()=>dw([I1(e),RR(),PR(),BR(),Hm(t),JR(I1(),t)]));return t}a(Zne,"sd");function $ne(e,t){return fp(pw(e),t)}a($ne,"$l");var Xne={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function Jne(e){ni({customError:e})}a(Jne,"Kl");function Kne(){return ni().customError}a(Kne,"_l");var O1;O1||(O1={});var wP={};_i(wP,{string:a(()=>Wne,"string"),number:a(()=>Qne,"number"),date:a(()=>tie,"date"),boolean:a(()=>qne,"boolean"),bigint:a(()=>eie,"bigint")});function Wne(e){return q8(jm,e)}a(Wne,"Pl");function Qne(e){return sO(zm,e)}a(Qne,"Ol");function qne(e){return fO(Fm,e)}a(qne,"Yl");function eie(e){return mO(Um,e)}a(eie,"jl");function tie(e){return kO(uw,e)}a(tie,"vl");ni($8());function _P(){return typeof process<"u"&&process.versions&&process.versions.node?"node":typeof globalThis<"u"&&typeof globalThis.window<"u"&&typeof globalThis.window.document<"u"?"browser":"unknown"}a(_P,"r4");class rie{static{a(this,"L0")}store={};constructor(){typeof globalThis<"u"&&globalThis.window&&globalThis.window.ENV&&(this.store={...globalThis.window.ENV}),typeof globalThis<"u"&&globalThis.__ENV__&&(this.store={...this.store,...globalThis.__ENV__})}get(t){let r=this.store[t];return r!==void 0?String(r):void 0}set(t,r){this.store[t]=r}has(t){return t in this.store}getAll(){return{...this.store}}}class nie{static{a(this,"g0")}runtime;browserStore;cache=new Map;constructor(){this.runtime=_P(),this.runtime==="browser"&&(this.browserStore=new rie)}getRuntime(){return this.runtime}isNode(){return this.runtime==="node"}isBrowser(){return this.runtime==="browser"}get(t,r){if(this.cache.has(t)){let i=this.cache.get(t);return i===void 0&&r!==void 0?r:i}let n;switch(this.runtime){case"node":typeof process<"u"&&Mi&&(n=Mi[t]);break;case"browser":this.browserStore&&(n=this.browserStore.get(t));break;default:n=void 0}return this.cache.set(t,n),n===void 0&&r!==void 0?r:n}set(t,r){let n=String(r);switch(this.cache.delete(t),this.runtime){case"node":typeof process<"u"&&Mi&&(Mi[t]=n);break;case"browser":this.browserStore&&this.browserStore.set(t,r);break}}has(t){return this.get(t)!==void 0}getAll(){switch(this.runtime){case"node":if(typeof process<"u"&&Mi)return{...Mi};break;case"browser":if(this.browserStore)return this.browserStore.getAll();break}return{}}getBoolean(t,r=!1){let n=this.get(t);return n===void 0?r:["true","1","yes","on"].includes(n.toLowerCase())}getNumber(t,r){let n=this.get(t);if(n===void 0)return r;let i=Number(n);return isNaN(i)?r:i}clearCache(){this.cache.clear()}}var jv=null;function iie(){return jv||(jv=new nie),jv}a(iie,"o4");function Ym(e,t){return iie().get(e,t)}a(Ym,"__");_P();class aie{static{a(this,"HO")}globalStore;constructor(t){this.globalStore=t}clear(){console.clear()}filterByLabel(t){Eie(t,this.globalStore.cache).forEach(r=>{Mf(r)})}filterByNamespace(...t){Sie(t,this.globalStore.cache).forEach(r=>{Mf(r)})}filterByLevel(t){kie(t,this.globalStore.cache).forEach(r=>{Mf(r)})}renderAll(){this.globalStore.cache.forEach(t=>{Mf(t)})}}class yw{static{a(this,"n4")}config;pidCounter=1;labels=new Map;_listenerCounter=0;_levelsToListeners=new Map;_cache=[];constructor(t={}){this.config=t}get cache(){return this._cache}get configuration(){return this.config}get pid(){let t=this.pidCounter;return this.pidCounter++,t}get tools(){return new aie(this)}addLogToCache(t){this._cache.length<(this.config.cacheSize??300)&&this._cache.push(t)}clearCache(){this._cache=[]}getLabel(t){return this.labels.get(t)}setLabel(t,r){this.labels.set(t,r)}addListener(t,r){let n=this._listenerCounter+=1;return xw({...ha.levels,...this.config.levels??{}},t).forEach(i=>{this._levelsToListeners.has(i)?this._levelsToListeners.get(i).set(n,r):this._levelsToListeners.set(i,new Map([[n,r]]))}),n}removeListener(t){this._levelsToListeners.forEach(r=>{r.delete(t)})}getListeners(t){return Array.from(this._levelsToListeners.get(t)?.values()??[])}}function sie(e){return globalThis.$adzeGlobal=new yw(e),globalThis.$adzeGlobal}a(sie,"QH");function xP(e){let t=globalThis.$adzeGlobal;if(oie(t))return t;let r=new yw(e);return globalThis.$adzeGlobal=r,r}a(xP,"JO");function oie(e){return e instanceof yw}a(oie,"Ji");function ww(){return typeof window<"u"&&typeof window.location<"u"&&typeof window.navigator.userAgent<"u"&&!lie()}a(ww,"EK");function lie(){return typeof Deno<"u"}a(lie,"Ti");function uie(e){return ww()}a(uie,"p0");function cie(){let e=!1;return ww()&&(e=new URLSearchParams(globalThis.location.search).get("ADZE_ENV")==="test"),globalThis.$ADZE_ENV==="test"||e}a(cie,"c0");function die(){let e=globalThis;return uie()?e.navigator.userAgent.includes("Firefox"):!1}a(die,"m0");function pp(e){return Object.prototype.toString.call(e)==="[object String]"}a(pp,"i4");function _w(e){return e!==null&&typeof e=="number"&&!isNaN(Number(e))}a(_w,"t4");function EP(e){return Vie.includes(e)}a(EP,"TO");function hie(e){return Zie.includes(e)}a(hie,"d0");function fie(e){return CP.includes(e)}a(fie,"l0");function eE(e){return e.every(t=>pp(t))}a(eE,"eH");function pie(e){return Array.isArray(e)&&e.length===3&&e[1]==="-"}a(pie,"r0");function mie(){return Error().stack?.replace(/^Error\n/,`
`)}a(mie,"n0");function gie(e){return _w(e.activeLevel)?e.activeLevel:e.levels[e.activeLevel].level}a(gie,"i0");var tE=Fi(HZ(),1),vie=tE.default??tE;function bie(e){return e.charAt(0).toUpperCase()+e.slice(1)}a(bie,"PJ");function rE(e){return Object.values(e).map(t=>t.level)}a(rE,"OJ");function nE(e,t,r){return e.filter(n=>n>=t&&n<=r)}a(nE,"YJ");function yie(e,t=!1,r){let n=(t&&r?9+r.length:9)-e.length,i=e;for(let s=0;s<=n;s+=1)i+=" ";return i}a(yie,"jJ");function wie(e,t){return t.reduce((r,n)=>vie[n](r),e)}a(wie,"vJ");function Mf(e){e.data&&console[e.data.method](...e.data.message)}a(Mf,"Q7");function _ie(e){return e.filter(t=>t!=="")}a(_ie,"F0");function xie(e){return typeof e=="object"&&e!==null}a(xie,"a0");function xw(e,t){if(t==="*")return Object.values(e).map(r=>r.level);if(pp(t))return[e[t].level];if(_w(t))return[t];if(pie(t)){if(eE(t)){let r=e[t[0]].level,n=e[t[2]].level;return nE(rE(e),r,n)}return nE(rE(e),t[0],t[2])}return Array.isArray(t)&&eE(t)?t.map(r=>e[r].level):t}a(xw,"e7");function SP(e,t,r){return t.length===0?!1:e==="include"?!t.includes(r):t.includes(r)}a(SP,"zJ");function iE(e,t){return e.length===0?!1:e.length>0&&t.length===0?!0:!t.map(r=>e.includes(r)).includes(!0)}a(iE,"WJ");function aE(e,t){return e.length===0?!1:e.length>0&&t.length===0?!0:t.map(r=>e.includes(r)).includes(!0)}a(aE,"HJ");function Eie(e,t){return t.filter(r=>r.data?.label?.name===e)}a(Eie,"y0");function Sie(e,t){return t.filter(r=>r.data?.namespace?r.data.namespace.map(n=>e.includes(n)).includes(!0):!1)}a(Sie,"u0");function kie(e,t){return t.filter(r=>{let n=xw(r.configuration.levels,e);return r.data?.level===void 0?!1:SP("exclude",n,r.data.level)})}a(kie,"x0");function Aie(e){return e&&e.length>0?e.reduce((t,r)=>`${t}#${r} `,""):""}a(Aie,"JJ");function Tie(e){return e?`[${e.name}] `:""}a(Tie,"TJ");function Nie(e){return e!==void 0?`(Count: ${e}) `:""}a(Nie,"wJ");function Cie(e,t){return e!==void 0&&!e?`${t?" ":""}Assertion failed:`:""}a(Cie,"fJ");function Iie(e,t){return e!==void 0&&e?`${t?" ":""}Expression passed:`:""}a(Iie,"ZJ");var kP=-1,Zm=0,mp=1,gp=2,Ew=3,Sw=4,kw=5,Aw=6,AP=7,TP=8,sE=typeof self=="object"?self:globalThis,Mie=a((e,t)=>{let r=a((i,s)=>(e.set(s,i),i),"K"),n=a(i=>{if(e.has(i))return e.get(i);let[s,o]=t[i];switch(s){case Zm:case kP:return r(o,i);case mp:{let l=r([],i);for(let u of o)l.push(n(u));return l}case gp:{let l=r({},i);for(let[u,c]of o)l[n(u)]=n(c);return l}case Ew:return r(new Date(o),i);case Sw:{let{source:l,flags:u}=o;return r(new RegExp(l,u),i)}case kw:{let l=r(new Map,i);for(let[u,c]of o)l.set(n(u),n(c));return l}case Aw:{let l=r(new Set,i);for(let u of o)l.add(n(u));return l}case AP:{let{name:l,message:u}=o;return r(new sE[l](u),i)}case TP:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i)}return r(new sE[s](o),i)},"P");return n},"wi"),oE=a(e=>Mie(new Map,e)(0),"XJ"),lu="",{toString:Oie}={},{keys:Rie}=Object,Ac=a(e=>{let t=typeof e;if(t!=="object"||!e)return[Zm,t];let r=Oie.call(e).slice(8,-1);switch(r){case"Array":return[mp,lu];case"Object":return[gp,lu];case"Date":return[Ew,lu];case"RegExp":return[Sw,lu];case"Map":return[kw,lu];case"Set":return[Aw,lu]}return r.includes("Array")?[mp,r]:r.includes("Error")?[AP,r]:[gp,r]},"_1"),Of=a(([e,t])=>e===Zm&&(t==="function"||t==="symbol"),"XO"),Pie=a((e,t,r,n)=>{let i=a((o,l)=>{let u=n.push(o)-1;return r.set(l,u),u},"_"),s=a(o=>{if(r.has(o))return r.get(o);let[l,u]=Ac(o);switch(l){case Zm:{let h=o;switch(u){case"bigint":l=TP,h=o.toString();break;case"function":case"symbol":if(e)throw TypeError("unable to serialize "+u);h=null;break;case"undefined":return i([kP],o)}return i([l,h],o)}case mp:{if(u)return i([u,[...o]],o);let h=[],d=i([l,h],o);for(let g of o)h.push(s(g));return d}case gp:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());let h=[],d=i([l,h],o);for(let g of Rie(o))(e||!Of(Ac(o[g])))&&h.push([s(g),s(o[g])]);return d}case Ew:return i([l,o.toISOString()],o);case Sw:{let{source:h,flags:d}=o;return i([l,{source:h,flags:d}],o)}case kw:{let h=[],d=i([l,h],o);for(let[g,m]of o)(e||!(Of(Ac(g))||Of(Ac(m))))&&h.push([s(g),s(m)]);return d}case Aw:{let h=[],d=i([l,h],o);for(let g of o)(e||!Of(Ac(g)))&&h.push(s(g));return d}}let{message:c}=o;return i([l,{name:u,message:c}],o)},"Y");return s},"Xi"),lE=a((e,{json:t,lossy:r}={})=>{let n=[];return Pie(!(t||r),!!t,new Map,n)(e),n},"AJ"),uE=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?oE(lE(e,t)):structuredClone(e):(e,t)=>oE(lE(e,t));function cE(e,t,r,n){let{formatters:i,middleware:s=[],...o}=t.exportValues();return class extends e{_cfg=new P1({...uE(o),formatters:{...i},middleware:[...s]});_modifierData=uE(r);modifierQueue=[...n]}}a(cE,"GJ");function NP([e,t]){return`${e}s ${t/1e6}ms`}a(NP,"VJ");function Lie(){return NP(R1())}a(Lie,"e0");function R1(e){let t=performance.now()*.001,r=Math.floor(t),n=Math.floor(t%1*1e9);if(e===void 0)return[r,n];let i=r-e[0],s=n-e[1];return s<0&&(i-=1,s+=1e9),[i,s]}a(R1,"AO");function Tw(e){let t=a(i=>`${Math.floor(Math.abs(i))}`.padStart(2,"0"),"q"),r=-e.getTimezoneOffset(),n=`${r>=0?"+":"-"}${t(r/60)}:${t(r%60)}`;return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}${n}`}a(Tw,"e4");function Die(e){let t=a((y,x=2)=>String(y).padStart(x,"0"),"q"),r=t(e.getDate()),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],i=e.getFullYear(),s=t(e.getHours()),o=t(e.getMinutes()),l=t(e.getSeconds()),u=-e.getTimezoneOffset(),c=u>=0?"+":"-",h=Math.abs(u),d=t(Math.floor(h/60)),g=t(h%60),m=`${c}${d}${g}`;return`${r}/${n}/${i}:${s}:${o}:${l} ${m}`}a(Die,"s0");class $m{static{a(this,"p8")}cfg;level;timestampFormatFunction=a(t=>Tw(t),"timestampFormatFunction");constructor(t,r){this.cfg=t,this.level=r}get timestampFormatter(){return this.cfg.timestampFormatter?this.cfg.timestampFormatter:this.timestampFormatFunction}print(t,r,n){if(this.level.level>gie(this.cfg))return[];if(this.failsFilters(t))return[];if(t.assertion===!0)return[];if(t.if===!1)return[];if(t.method&&!fie(t.method)&&hie(t.method)&&EP(t.method))return n;let i=ww()?this.formatBrowser(t,r,n):this.formatServer(t,r,n);return t.stacktrace&&i.push(t.stacktrace),i}failsFilters(t){return!!(this.failsLevelSelector()||this.failsNamespacesFilter(t)||this.failsLabelsFilter(t))}failsLevelSelector(){if(this.cfg.filters?.levels===void 0)return!1;let t=xw(this.cfg.levels,this.cfg.filters.levels.values);return!!SP(this.cfg.filters.levels.type,t,this.level.level)}failsNamespacesFilter(t){if(this.cfg.filters?.namespaces===void 0)return!1;if(this.cfg.filters.namespaces.values.length>0&&t.namespace===void 0)return!0;if(this.cfg.filters.namespaces.type==="include"){let n=t.namespace??[];return iE(this.cfg.filters.namespaces.values,n)}let r=t.namespace??[];return aE(this.cfg.filters.namespaces.values,r)}failsLabelsFilter(t){if(this.cfg.filters?.labels===void 0)return!1;if(this.cfg.filters.labels.values.length>0&&t.label===void 0)return!0;let r=t.label?[t.label.name]:[];return this.cfg.filters.labels.type==="include"?iE(this.cfg.filters.labels.values,r):aE(this.cfg.filters.labels.values,r)}}class jie extends $m{static{a(this,"kO")}timestampFormatFunction=a(t=>Die(t),"timestampFormatFunction");formatBrowser(t,r,n){return this.formatMessage(t,r,n)}formatServer(t,r,n){return this.formatMessage(t,r,n)}formatMessage(t,r,n){this.cfg.meta.hostname===void 0&&console.warn(Error("Adze: 'hostname' is required for the common log format. Please provide this value in your log's meta data."));let i=this.cfg.meta.hostname,s=this.cfg.meta.ident??"-",o=this.cfg.meta.user??"-",l=n[0];return[`${i} ${s} ${o} [${r}] ${l}`]}}var Bie=jie;function zie(e){return typeof e.name=="string"&&typeof e.hostname=="string"}a(zie,"qM");class Fie extends $m{static{a(this,"GO")}timestampFormatFunction=a(t=>Tw(t),"timestampFormatFunction");formatBrowser(t,r,n){return this.formatMessage(t,r,n)}formatServer(t,r,n){return this.formatMessage(t,r,n)}formatMessage(t,r,n){let i=xP(),s=[...n],o=s.shift();if(zie(this.cfg.meta)){let{src:l,err:u,req_id:c,req:h,res:d,latency:g,hostname:m,name:y,...x}=this.cfg.meta,{namespace:A,label:C}=t,M={v:1,level:this.level.level,levelName:this.level.levelName,name:y,hostname:m,msg:o,args:s,pid:i.pid,time:r,meta:Object.keys(x).length>0?x:void 0,namespace:A,label:C?.name,src:l,err:u,req_id:c,req:h,res:d,latency:g};return[JSON.stringify(M)]}return console.warn(Error("Adze: Required fields are missing from the log meta for generating a JSON log.")),[...s]}}var Uie=Fie;class Hie extends $m{static{a(this,"VO")}formatBrowser(t,r,n){let i=this.formatLeader(),s=this.formatMeta(t,r);return this.cfg.withEmoji?[i,"font-size: 12px;",this.level.style,s,...n]:[i,this.level.style,s,...n]}formatServer(t,r,n){let i=`${yie(this.formatLeader(!1),this.cfg.withEmoji,this.level.emoji)} `,s=this.formatMeta(t,r);return[wie(i,this.level.terminalStyle),s,...n]}formatLeader(t=!0){let r=t?"%c":"",n=" "+bie(this.level.levelName);return this.cfg.withEmoji?`${r}${this.formatEmoji(t)}${r}${n}`:`${r}${n}`}formatEmoji(t){let r=t?" ":"";return this.level.emoji?`${this.level.emoji}${r}`:""}formatMeta(t,r){let n=this.cfg.showTimestamp?`${r} `:"",i=Aie(t.namespace),s=Tie(t.label),o=this.formatTime(t),l=Nie(t.label?.count),u=Cie(t.assertion,this.cfg.withEmoji),c=Iie(t.if,this.cfg.withEmoji),h=u!==""?u:c!==""?c:"";return n+i+s+o+l+h}formatTime(t){let r=this.cfg.withEmoji?" ":"Time elapsed: ";return t.timeNow?`(${r}${t.timeNow})`:t.label?.timeElapsed?`(${r}${t.label.timeElapsed})`:""}}var dE=Hie;class Gie extends $m{static{a(this,"P1")}timestampFormatFunction=a(t=>Tw(t),"timestampFormatFunction");formatBrowser(t,r,n){return this.formatMessage(r,t,n)}formatServer(t,r,n){return this.formatMessage(r,t,n)}formatMessage(t,r,n){let i="",{appname:s,hostname:o,port:l}=this.cfg.meta,u=_w(l)?`/${l}`:"",c=pp(s)?`${s}${u}`:"",h=pp(o)?` on ${o}: `:"",d=this.formatNamespace(r.namespace),g=r.label?`[${r.label.name}] `:"";return i=`${c}${h}${d}${g}`,[`[${t}] ${this.level.levelName.toUpperCase()}: ${i}${n[0]} `,n.map(m=>xie(m)?JSON.stringify(m):m).slice(1).join(" ")]}formatNamespace(t){return t&&t.length>0?`${t.reduce((r,n,i)=>i===t.length-1?`${r}${n}`:`${r}${n}/`,"")} `:""}}var CP=["group","groupCollapsed"],IP=["dir","dirxml","table",...CP],Vie=["error","warn","info","log","debug",...IP],Yie=["clear","groupEnd"],Zie=[...IP,...Yie],ha={activeLevel:"log",cache:!1,cacheSize:300,dump:!1,format:"pretty",showTimestamp:!1,silent:!1,withEmoji:!1,levels:{alert:$ie(),error:Xie(),warn:Jie(),info:Kie(),fail:Wie(),success:Qie(),log:qie(),debug:eae(),verbose:tae()},formatters:{default:dE,pretty:dE,standard:Gie,common:Bie,json:Uie}};function $ie(e={}){return{levelName:"alert",level:0,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fc8585, #fc2323); color: #fff; border-color: #b70101;",terminalStyle:["white","bold","bgRed"],method:"error",emoji:"",...e}}a($ie,"Ai");function Xie(e={}){return{levelName:"error",level:1,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fff, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"error",emoji:"",...e}}a(Xie,"ki");function Jie(e={}){return{levelName:"warn",level:2,style:`font-size: 12px; border-radius: 4px;  background: linear-gradient(to right, #fff, #fff0a8); color: #715100; border-color: #e3d696; padding-right: ${die()?"44px":"30px"};`,terminalStyle:["white","bgYellow"],method:"warn",emoji:"",...e}}a(Jie,"Gi");function Kie(e={}){return{levelName:"info",level:3,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #d8ebff, #b2d7ff); color: #465464; border-color: #96b5d7;",terminalStyle:["white","bgBlue"],method:"info",emoji:"",...e}}a(Kie,"Vi");function Wie(e={}){return{levelName:"fail",level:4,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #ffe8e8, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"info",emoji:"",...e}}a(Wie,"Si");function Qie(e={}){return{levelName:"success",level:5,style:"font-size: 12px; border-radius: 4px; padding-right: 22px; background: linear-gradient(to right, #e6f6e4, #ceedc9); color: #4e594d; border-color: #b7d1b3;",terminalStyle:["white","bgGreen"],method:"info",emoji:"",...e}}a(Qie,"Mi");function qie(e={}){return{levelName:"log",level:6,style:"font-size: 12px; border-radius: 4px; padding-right: 51px; background: linear-gradient(to right, #ecedef, #d9dce0); color: #333435; border-color: #bfc1c5;",terminalStyle:["white","bgBlackBright"],method:"log",emoji:"",...e}}a(qie,"Ni");function eae(e={}){return{levelName:"debug",level:7,style:"font-size: 12px; padding-right: 36px; border-right: 1px solid #d9dce0; color: #465464; border-color: #999999;",terminalStyle:["white","bgBlack"],method:"debug",emoji:"",...e}}a(eae,"Ci");function tae(e={}){return{levelName:"verbose",level:8,style:"font-size: 12px; padding-right: 22px; color: #999999;",terminalStyle:["black","italic"],method:"debug",emoji:"",...e}}a(tae,"hi");class P1{static{a(this,"Q4")}logCfg;glblCfg;constructor(t){this.logCfg=t??{},this.glblCfg=globalThis.$adzeGlobal?.configuration}updateConfiguration(t){this.logCfg=t}get activeLevel(){return this.glblCfg?.activeLevel??this.logCfg.activeLevel??ha.activeLevel}set activeLevel(t){this.logCfg.activeLevel=t}get cache(){return this.glblCfg?.cache??this.logCfg.cache??ha.cache}set cache(t){this.logCfg.cache=t}get cacheSize(){return this.glblCfg?.cacheSize??this.logCfg.cacheSize??ha.cacheSize}set cacheSize(t){this.logCfg.cacheSize=t}get dump(){return this.glblCfg?.dump??this.logCfg.dump??ha.dump}set dump(t){this.logCfg.dump=t}get meta(){return{...this.logCfg.meta,...this.glblCfg?.meta}}set meta(t){this.logCfg.meta=t}get silent(){return this.glblCfg?.silent??this.logCfg.silent??ha.silent}set silent(t){this.logCfg.silent=t}get showTimestamp(){return this.glblCfg?.showTimestamp??this.logCfg.showTimestamp??ha.showTimestamp}set showTimestamp(t){this.logCfg.showTimestamp=t}get withEmoji(){return this.glblCfg?.withEmoji??this.logCfg.withEmoji??ha.withEmoji}set withEmoji(t){this.logCfg.withEmoji=t}get format(){return this.glblCfg?.format??this.logCfg.format??ha.format}set format(t){this.logCfg.format=t}get levels(){return{...ha.levels,...this.logCfg.levels??{},...this.glblCfg?.levels??{}}}set levels(t){this.logCfg.levels=t}get middleware(){return[...this.glblCfg?.middleware??[],...this.logCfg.middleware??[]]}set middleware(t){this.logCfg.middleware=t}get filters(){return this.glblCfg?.filters??this.logCfg.filters}set filters(t){this.logCfg.filters=t}get timestampFormatter(){return this.glblCfg?.timestampFormatter??this.logCfg.timestampFormatter}set timestampFormatter(t){this.logCfg.timestampFormatter=t}get formatters(){return{...ha.formatters,...this.logCfg.formatters??{},...this.glblCfg?.formatters??{}}}set formatters(t){this.logCfg.formatters=t}exportValues(){return{activeLevel:this.logCfg.activeLevel,cache:this.logCfg.cache,cacheSize:this.logCfg.cacheSize,dump:this.logCfg.dump,meta:this.logCfg.meta,silent:this.logCfg.silent,showTimestamp:this.logCfg.showTimestamp,withEmoji:this.logCfg.withEmoji,format:this.logCfg.format,levels:this.logCfg.levels,middleware:this.logCfg.middleware,filters:this.logCfg.filters,timestampFormatter:this.logCfg.timestampFormatter,formatters:this.logCfg.formatters}}}function rae(e){return typeof e=="function"}a(rae,"Ei");class vp{static{a(this,"s4")}globalStore;_cfg;_modifierData;_data;modifierQueue=[];constructor(t,r){this.globalStore=xP(t),this._modifierData=r??{},this._cfg=new P1(t),this.doHook(n=>{n.constructed&&n.constructed(this)})}get data(){return this._data}get modifierData(){return this._modifierData}get configuration(){return this._cfg}alert(...t){this.terminate("alert",t)}static alert(...t){new this().alert(...t)}error(...t){this.terminate("error",t)}static error(...t){new this().error(...t)}warn(...t){this.terminate("warn",t)}static warn(...t){new this().warn(...t)}info(...t){this.terminate("info",t)}static info(...t){new this().info(...t)}fail(...t){this.terminate("fail",t)}static fail(...t){new this().fail(...t)}success(...t){this.terminate("success",t)}static success(...t){new this().success(...t)}log(...t){this.terminate("log",t)}static log(t,...r){new this().log(t,...r)}debug(...t){this.terminate("debug",t)}static debug(...t){new this().debug(...t)}verbose(...t){this.terminate("verbose",t)}static verbose(...t){new this().verbose(...t)}clear(){console.clear()}static clear(){console.clear()}clr(){console.clear()}static clr(){console.clear()}custom(t,...r){return this._cfg.levels[t]?(this.terminate(t,r),this):(console.warn(Error("Custom log level not found in configuration.")),this)}static custom(t,...r){return new this().custom(t,...r)}seal(t){return t&&this._cfg.updateConfiguration(t),cE(vp,this._cfg,this.modifierData,this.modifierQueue)}static seal(t){return new this().seal(t)}sealTag(t,r){return this._cfg=new P1({...this._cfg.exportValues(),...r}),(n,...i)=>{let s=String.raw({raw:n},...i),o=cE(vp,this._cfg,this.modifierData,this.modifierQueue),l=t;rae(o[l])&&o[l](s)}}static sealTag(t,r){return new this().sealTag(t,r)}thread(t,r){this.runModifierQueue(),this._modifierData.label&&(this._modifierData.label.context||(this._modifierData.label.context={}),this._modifierData.label.context={...this._modifierData.label.context,[t]:r})}static thread(t,r){new this().thread(t,r)}assert(t){return this.modifierQueue.push(["assert",r=>(r.assertion=t,r)]),this}static assert(t){return new this().assert(t)}get closeThread(){return this.modifierQueue.push(["closeThread",t=>(t.label?.context&&(t.label.context=void 0),t)]),this}static get closeThread(){return new this().closeThread}get count(){return this.modifierQueue.push(["count",t=>(t.label&&(t.label.count=t.label.count!==void 0?t.label.count+1:1),t)]),this}static get count(){return new this().count}get countClear(){return this.modifierQueue.push(["countClear",t=>(t.label&&delete t.label.count,t)]),this}static get countClear(){return new this().countClear}get countReset(){return this.modifierQueue.push(["countReset",t=>(t.label&&(t.label.count=0),t)]),this}static get countReset(){return new this().countReset}get dir(){return this.modifierQueue.push(["dir",t=>(t.method="dir",t)]),this}static get dir(){return new this().dir}get dirxml(){return this.modifierQueue.push(["dirxml",t=>(t.method="dirxml",t)]),this}static get dirxml(){return new this().dirxml}get dump(){return this.modifierQueue.push(["dump",(t,r)=>(r._cfg.dump=!0,t)]),this}static get dump(){return new this().dump}format(t){return this.modifierQueue.push(["format",(r,n)=>Object.keys(n._cfg.formatters).includes(t)?(n._cfg.format=t,r):(console.warn(Error(`Adze: Formatter "${t}" not found in configuration.`)),r)]),this}static format(t){return new this().format(t)}get group(){return this.modifierQueue.push(["group",t=>(t.method="group",t)]),this}static get group(){return new this().group}get groupCollapsed(){return this.modifierQueue.push(["groupCollapsed",t=>(t.method="groupCollapsed",t)]),this}static get groupCollapsed(){return new this().groupCollapsed}get groupEnd(){return this.modifierQueue.push(["groupEnd",t=>(t.method="groupEnd",t)]),this}static get groupEnd(){return new this().groupEnd}if(t){return this.modifierQueue.push(["if",r=>(r.if=t,r)]),this}static if(t){return new this().if(t)}test(t){return this.if(t)}static test(t){return new this().if(t)}label(t){return this.modifierQueue.unshift(["label",r=>{let n=this.globalStore.getLabel(t)??{name:t};return r.label=n,this.globalStore.setLabel(t,n),r}]),this}static label(t){return new this().label(t)}meta(t){return this.modifierQueue.push(["meta",(r,n)=>(n._cfg.meta={...n._cfg.meta,...t},r)]),this}static meta(t){return new this().meta(t)}namespace(...t){return this.modifierQueue.push(["namespace",r=>{let n=r.namespace??[];return r.namespace=n.length>0?[...n,...t]:t,r}]),this}static namespace(...t){return new this().namespace(...t)}ns(...t){return this.namespace(...t)}static ns(...t){return new this().namespace(...t)}get silent(){return this.modifierQueue.push(["silent",(t,r)=>(r._cfg.silent=!0,t)]),this}static get silent(){return new this().silent}get table(){return this.modifierQueue.push(["table",t=>(t.method="table",t)]),this}static get table(){return new this().table}get time(){return this.modifierQueue.push(["time",t=>{let r=R1();return t.label&&(t.label.timeStart=r),t}]),this}static get time(){return new this().time}get timeEnd(){return this.modifierQueue.push(["timeEnd",t=>(t.label?.timeStart&&(t.label.timeElapsed=NP(R1(t.label.timeStart))),t)]),this}static get timeEnd(){return new this().timeEnd}get timeNow(){return this.modifierQueue.push(["timeNow",t=>(t.timeNow=Lie(),t)]),this}static get timeNow(){return new this().timeNow}get timestamp(){return this.modifierQueue.push(["timestamp",(t,r)=>(r._cfg.showTimestamp=!0,t)]),this}static get timestamp(){return new this().timestamp}get trace(){return this.modifierQueue.push(["trace",t=>(t.stacktrace=mie(),t)]),this}static get trace(){return new this().trace}get withEmoji(){return this.modifierQueue.push(["withEmoji",(t,r)=>(r._cfg.withEmoji=!0,t)]),this}static get withEmoji(){return new this().withEmoji}print(t){cie()||t.silent||t.message.length<1||(EP(t.method)?console[t.method](...t.message):console[t.method]())}terminate(t,r){this.doHook(C=>{C.beforeTerminated&&C.beforeTerminated(this,t,r)}),this.runModifierQueue();let n=this.getLevelConfig(t),i=new(this.selectFormatter(this._cfg.format))(this._cfg,n),s=i.timestampFormatter(new Date),o=_ie(i.print(this.modifierData,s,r));this._cfg.dump&&this.modifierData.label?.context&&o.push(this.modifierData.label.context),this.doHook(C=>{C.beforeFormatApplied&&(o=C.beforeFormatApplied(this,this._cfg.format,o))});let{activeLevel:l,cache:u,cacheSize:c,dump:h,format:d,meta:g,showTimestamp:m,silent:y,withEmoji:x}=this._cfg,A={activeLevel:l,cache:u,cacheSize:c,dump:h,format:d,meta:g,showTimestamp:m,silent:y,withEmoji:x,...n,...this._modifierData,terminator:t,args:r,timestamp:s,message:o};this.doHook(C=>{C.afterFormatApplied&&C.afterFormatApplied(this,this._cfg.format,o)}),this._data=A,this._cfg.cache&&this.globalStore.addLogToCache(this),this.doHook(C=>{C.beforePrint&&C.beforePrint(this)}),this.print(this._data),this.doHook(C=>{C.afterTerminated&&C.afterTerminated(this,t,r)}),this.globalStore.getListeners(n.level).forEach(C=>{C(this)})}selectFormatter(t){return this._cfg.formatters[t]}getLevelConfig(t){return this._cfg.levels[t]}runModifierQueue(){this.modifierQueue.forEach(([t,r])=>{let n=r(this.modifierData,this);this.doHook(i=>{i.beforeModifierApplied&&i.beforeModifierApplied(this,t,n)}),this._modifierData=n,this.doHook(i=>{i.afterModifierApplied&&i.afterModifierApplied(this,t,n)})})}doHook(t){this._cfg.middleware?.forEach(r=>{t(r)})}}var nae=vp,bp={trace:10,verbose:10,debug:20,success:27,progress:28,log:29,info:30,warn:40,error:50,fatal:60,alert:60},iae={10:"trace",20:"debug",27:"success",28:"progress",29:"log",30:"info",40:"warn",50:"error",60:"fatal"};function hE(e,t){let r=bp[e.toLowerCase()]||30,n=bp[t.toLowerCase()]||30;return r>=n}a(hE,"YM");function L1(e){try{let t=new WeakSet;return JSON.stringify(e,(r,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return"[Circular]";t.add(n)}return n})}catch{return String(e)}}a(L1,"MJ");function MP(e){if(!e)return!1;let t=e.toLowerCase().trim();return t==="true"||t==="1"||t==="yes"||t==="on"}a(MP,"jM");var aae="info",yp=Ym("LOG_LEVEL")||aae,D1=MP(Ym("LOG_JSON_FORMAT")),Nw=MP(Ym("LOG_TIMESTAMPS")??"true");function sae(e=100){let t=[];return{write(r){t.push(r),t.length>e&&t.shift()},clear(){t.length=0},recentLogs(){return t.map(r=>{let n=Nw?new Date(r.time).toISOString():"",i=iae[r.level??30]||"info";return`${n} ${i} ${r.msg}`.trim()}).join(`
`)}}}a(sae,"gi");var w0=sae(),OP=a(()=>{let e=yp.toLowerCase();return e==="trace"?"verbose":e==="debug"?"debug":e==="log"?"log":e==="info"?"info":e==="warn"?"warn":e==="error"?"error":e==="fatal"?"alert":"info"},"vM"),oae=OP(),RP={alert:{levelName:"alert",level:0,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","white","bold"],method:"error",emoji:""},error:{levelName:"error",level:1,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","whiteBright","bold"],method:"error",emoji:""},warn:{levelName:"warn",level:2,style:"font-size: 12px; color: #ffaa00;",terminalStyle:["bgYellow","black","bold"],method:"warn",emoji:""},info:{levelName:"info",level:3,style:"font-size: 12px; color: #0099ff;",terminalStyle:["cyan"],method:"info",emoji:""},fail:{levelName:"fail",level:4,style:"font-size: 12px; color: #ff6600;",terminalStyle:["red","underline"],method:"error",emoji:""},success:{levelName:"success",level:5,style:"font-size: 12px; color: #00cc00;",terminalStyle:["green"],method:"log",emoji:""},log:{levelName:"log",level:6,style:"font-size: 12px; color: #888888;",terminalStyle:["white"],method:"log",emoji:""},debug:{levelName:"debug",level:7,style:"font-size: 12px; color: #9b59b6;",terminalStyle:["gray","dim"],method:"debug",emoji:""},verbose:{levelName:"verbose",level:8,style:"font-size: 12px; color: #666666;",terminalStyle:["gray","dim","italic"],method:"debug",emoji:""}},lae=sie({activeLevel:oae,format:D1?"json":"pretty",timestampFormatter:Nw?void 0:()=>"",withEmoji:!1,levels:RP});lae.addListener("*",e=>{try{let t=e.data,r=Array.isArray(t?.message)?t.message.map(i=>typeof i=="string"?i:L1(i)).join(" "):typeof t?.message=="string"?t.message:"",n={time:Date.now(),level:typeof t?.level=="number"?t.level:void 0,msg:r};w0.write(n)}catch{}});function uae(e){let t=nae,r=[];typeof e.namespace=="string"&&r.push(e.namespace),Array.isArray(e.namespaces)&&r.push(...e.namespaces),r.length>0&&(t=t.ns(...r));let n={...e};if(delete n.namespace,delete n.namespaces,D1&&(n.name||(n.name="elizaos"),!n.hostname)){let s="unknown";if(typeof process<"u"&&process.platform)try{s=(GY(),hr(jT)).hostname()}catch{s="localhost"}else typeof window<"u"&&window.location&&(s=window.location.hostname||"browser");n.hostname=s}let i={activeLevel:OP(),format:D1?"json":"pretty",timestampFormatter:Nw?void 0:()=>"",withEmoji:!1,levels:RP};return t.meta(n).seal(i)}a(uae,"ui");function cae(e){let t=yp,r={},n;if(typeof e=="object"&&e!==null){"level"in e&&(t=e.level),"maxMemoryLogs"in e&&typeof e.maxMemoryLogs=="number"&&(n=e.maxMemoryLogs);let{level:i,maxMemoryLogs:s,...o}=e;r=o}return{level:t,base:r,maxMemoryLogs:n}}a(cae,"xi");function j1(e=!1){let{level:t,base:r,maxMemoryLogs:n}=cae(e);if(typeof n=="number"&&n>0&&w0.clear(),typeof e=="object"&&e&&"__forceType"in e&&e.__forceType==="browser"){let u=(typeof t=="number"?"info":t||yp).toLowerCase(),c=a((...g)=>g.map(m=>typeof m=="string"?m:m instanceof Error?m.message:L1(m)).join(" "),"s"),h=a((g,...m)=>{if(!hE(g,u))return;let y=c(...m),x=g==="fatal"?"error":g==="trace"||g==="verbose"?"debug":g==="success"||g==="progress"?"info":g==="log"?"log":console[g]?g:"log";typeof console[x]=="function"&&console[x](y)},"q$"),d=a((g,m,...y)=>typeof g=="string"?m!==void 0?[g,m,...y]:[g,...y]:g instanceof Error?m!==void 0?[g.message,m,...y]:[g.message,...y]:m!==void 0?[m,g,...y]:[g,...y],"c");return{level:u,trace:a((g,m,...y)=>h("trace",...d(g,m,...y)),"trace"),debug:a((g,m,...y)=>h("debug",...d(g,m,...y)),"debug"),info:a((g,m,...y)=>h("info",...d(g,m,...y)),"info"),warn:a((g,m,...y)=>h("warn",...d(g,m,...y)),"warn"),error:a((g,m,...y)=>h("error",...d(g,m,...y)),"error"),fatal:a((g,m,...y)=>h("fatal",...d(g,m,...y)),"fatal"),success:a((g,m,...y)=>h("success",...d(g,m,...y)),"success"),progress:a((g,m,...y)=>h("progress",...d(g,m,...y)),"progress"),log:a((g,m,...y)=>h("log",...d(g,m,...y)),"log"),clear:a(()=>{typeof console.clear=="function"&&console.clear()},"clear"),child:a(g=>j1({level:u,...r,...g,__forceType:"browser"}),"child")}}let i=uae(r),s=(typeof t=="number"?"info":t||yp).toLowerCase(),o=a((u,...c)=>{if(!hE(u,s))return;try{let g="";c.length>0&&(g=c.map(y=>typeof y=="string"?y:y instanceof Error?y.message:L1(y)).join(" ")),r.namespace&&(g=`#${r.namespace}  ${g}`);let m={time:Date.now(),level:bp[u.toLowerCase()]||bp.info,msg:g};w0.write(m)}catch{}let h=u,d=c;u==="fatal"?h="alert":u==="progress"?(h="info",d=["[PROGRESS]",...c]):u==="success"?(h="info",d=["[SUCCESS]",...c]):u==="trace"&&(h="verbose");try{i[h](...d)}catch{console.log(`[${u.toUpperCase()}]`,...c)}},"T"),l=a((u,c,...h)=>typeof u=="string"?c!==void 0?[u,c,...h]:[u,...h]:u instanceof Error?c!==void 0?[u.message,{error:u},c,...h]:[u.message,{error:u},...h]:c!==void 0?[c,u,...h]:[u,...h],"X");return{level:s,trace:a((u,c,...h)=>o("verbose",...l(u,c,...h)),"trace"),debug:a((u,c,...h)=>o("debug",...l(u,c,...h)),"debug"),info:a((u,c,...h)=>o("info",...l(u,c,...h)),"info"),warn:a((u,c,...h)=>o("warn",...l(u,c,...h)),"warn"),error:a((u,c,...h)=>o("error",...l(u,c,...h)),"error"),fatal:a((u,c,...h)=>o("fatal",...l(u,c,...h)),"fatal"),success:a((u,c,...h)=>o("success",...l(u,c,...h)),"success"),progress:a((u,c,...h)=>o("progress",...l(u,c,...h)),"progress"),log:a((u,c,...h)=>o("log",...l(u,c,...h)),"log"),clear:a(()=>{try{typeof console?.clear=="function"&&console.clear()}catch{}w0.clear()},"clear"),child:a(u=>j1({level:s,...r,...u}),"child")}}a(j1,"Y1");var md=j1(),Rf=md,dae=Nt.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format");function ch(e){let t=dae.safeParse(e);return t.success?t.data:null}a(ch,"mi");var Bv=a(e=>{if(e.startsWith("image/"))return"image";if(e.startsWith("video/"))return"video";if(e.startsWith("audio/"))return"audio";if(e.includes("pdf")||e.includes("document")||e.startsWith("text/"))return"document"},"_9$"),PP=Nt.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format").describe("Unique identifier for the character in UUID format"),hae=Nt.object({id:Nt.string().describe("Unique identifier for the media"),url:Nt.string().describe("URL of the media file"),title:Nt.string().optional().describe("Media title"),source:Nt.string().optional().describe("Media source"),description:Nt.string().optional().describe("Media description"),text:Nt.string().optional().describe("Text content associated with the media"),contentType:Nt.nativeEnum(F0).optional().describe("Type of media content")}).loose().describe("Media attachment with URL and metadata"),fae=Nt.object({text:Nt.string().optional().describe("The main text content of the message"),thought:Nt.string().optional().describe("Internal thought process or reasoning"),actions:Nt.array(Nt.string()).optional().describe("Actions to be taken in response"),providers:Nt.array(Nt.string()).optional().describe("Data providers to use (e.g., KNOWLEDGE)"),source:Nt.string().optional().describe("Source of the content"),target:Nt.string().optional().describe("Target of the content"),url:Nt.string().optional().describe("Related URL"),inReplyTo:PP.optional().describe("UUID of message this is replying to"),attachments:Nt.array(hae).optional().describe("Array of media attachments (images, videos, documents, etc.)"),channelType:Nt.enum(Gt).optional().describe("Type of channel this content is for")}).catchall(Nt.unknown()).describe("Content structure for messages in conversation examples"),pae=Nt.object({name:Nt.string().describe("Name of the speaker (can use {{name1}} placeholder for dynamic names)"),content:fae}).describe("A single message in a conversation example"),mae=Nt.object({directory:Nt.string().describe("Path to a directory containing knowledge files"),shared:Nt.boolean().optional().describe("Whether this knowledge is shared across characters")}).describe("Directory-based knowledge source"),gae=Nt.union([Nt.string().describe("File path to a knowledge document"),Nt.object({path:Nt.string().describe("Path to a knowledge file"),shared:Nt.boolean().optional().describe("Whether this knowledge is shared across characters")}),mae]).describe("Knowledge source - can be a file path, file object, or directory"),vae=Nt.union([Nt.string().describe("Template string with placeholders"),Nt.function().optional()]).describe("Template for generating text - can be a string template or function"),bae=Nt.object({all:Nt.array(Nt.string()).optional().describe("Style guidelines applied to all types of responses"),chat:Nt.array(Nt.string()).optional().describe("Style guidelines specific to chat/conversation responses"),post:Nt.array(Nt.string()).optional().describe("Style guidelines specific to social media posts")}).optional().describe("Style configuration defining how the character communicates across different contexts"),yae=Nt.record(Nt.string(),Nt.union([Nt.string(),Nt.boolean(),Nt.number(),Nt.object({}).loose(),Nt.array(Nt.any())])).optional().describe("Character-specific settings like avatar URL, preferences, and configuration"),wae=Nt.record(Nt.string(),Nt.union([Nt.string(),Nt.boolean(),Nt.number()])).optional().describe("Secret values and API keys (should not be committed to version control)");Nt.object({id:PP.optional().describe("Unique identifier for the character"),name:Nt.string().min(1,"Character name is required").describe('The name of the character (e.g., "Eliza")'),username:Nt.string().optional().describe("Username for the character on various platforms"),system:Nt.string().optional().describe("System prompt that defines the character's core behavior and response style"),templates:Nt.record(Nt.string(),vae).optional().describe("Custom templates for generating different types of content"),bio:Nt.union([Nt.string(),Nt.array(Nt.string())]).describe("Character biography - can be a single string or array of biographical points"),messageExamples:Nt.array(Nt.array(pae)).optional().describe("Example conversations showing how the character responds in different scenarios"),postExamples:Nt.array(Nt.string()).optional().describe("Example social media posts demonstrating the character's voice and topics"),topics:Nt.array(Nt.string()).optional().describe("Topics the character is knowledgeable about and engages with"),adjectives:Nt.array(Nt.string()).optional().describe("Adjectives that describe the character's personality and traits"),knowledge:Nt.array(gae).optional().describe("Knowledge sources (files, directories) the character can reference"),plugins:Nt.array(Nt.string()).optional().describe('List of plugin package names to load (e.g., ["@elizaos/plugin-sql", "@elizaos/plugin-bootstrap"] - these are commonly required)'),settings:yae,secrets:wae,style:bae}).strict().describe("Complete character definition including personality, behavior, and capabilities");function io(){return typeof Buffer<"u"&&typeof Buffer.from=="function"}a(io,"RK");function _ae(e){let t=e.replace(/[^0-9a-fA-F]/g,"");if(io())return Buffer.from(t,"hex");let r=new Uint8Array(t.length/2);for(let n=0;n<r.length;n++)r[n]=parseInt(t.substr(n*2,2),16);return r}a(_ae,"si");function xae(e,t="utf8"){if(io()){let r=t==="utf-8"?"utf8":t;return Buffer.from(e,r)}if(t==="base64"){let r=atob(e),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}return new TextEncoder().encode(e)}a(xae,"$t$1");function LP(e){if(io()&&Buffer.isBuffer(e))return e.toString("hex");let t=e instanceof Uint8Array?e:new Uint8Array(e),r="";for(let n=0;n<t.length;n++){let i=t[n].toString(16);r+=i.length===1?"0"+i:i}return r}a(LP,"VM");function Eae(e,t="utf8"){if(io()&&Buffer.isBuffer(e)){let n=t==="utf-8"?"utf8":t;return e.toString(n)}let r=e instanceof Uint8Array?e:new Uint8Array(e);if(t==="hex")return LP(r);if(t==="base64"){let n="";for(let i=0;i<r.length;i++)n+=String.fromCharCode(r[i]);return btoa(n)}return new TextDecoder().decode(r)}a(Eae,"qt$1");function Sae(e){return e?io()&&Buffer.isBuffer(e)?!0:e instanceof Uint8Array||e instanceof ArrayBuffer||typeof e=="object"&&e.buffer instanceof ArrayBuffer&&typeof e.byteLength=="number"&&!Array.isArray(e):!1}a(Sae,"Kt$1");function kae(e){return io()?Buffer.alloc(e):new Uint8Array(e)}a(kae,"_t$1");function Aae(e){return io()?Buffer.from(e):new Uint8Array(e)}a(Aae,"Pt$1");function Tae(e){if(io()&&e.every(i=>Buffer.isBuffer(i)))return Buffer.concat(e);let t=0;for(let i of e)t+=i.length;let r=new Uint8Array(t),n=0;for(let i of e){let s=i instanceof Uint8Array?i:new Uint8Array(i);r.set(s,n),n+=s.length}return r}a(Tae,"Ot$1");function Nae(e,t,r){return io()&&Buffer.isBuffer(e)?e.slice(t,r):(e instanceof Uint8Array?e:new Uint8Array(e)).slice(t,r)}a(Nae,"Yt$1");function Cae(e,t){if(e.length!==t.length)return!1;let r=e instanceof Uint8Array?e:new Uint8Array(e),n=t instanceof Uint8Array?t:new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}a(Cae,"jt");function Iae(e){return e.length}a(Iae,"vt$1");function Mae(e){let t=new Uint8Array(e),r=typeof globalThis<"u"?globalThis.crypto||globalThis.webcrypto:void 0;if(r&&typeof r.getRandomValues=="function")r.getRandomValues(t);else for(let n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t}a(Mae,"zt$1");var Oae={fromHex:_ae,fromString:xae,fromBytes:Aae,toHex:LP,toString:Eae,isBuffer:Sae,alloc:kae,concat:Tae,slice:Nae,equals:Cae,byteLength:Iae,randomBytes:Mae},Rae=[];for(let e=0;e<256;++e)Rae.push((e+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);function Pae(){try{return typeof process<"u"&&(process.versions?.node!==void 0||process.versions?.bun!==void 0)}catch{return!1}}a(Pae,"Nt");function DP(){return Pae()?(Ti(),hr(hi)):f0("crypto-browserify")}a(DP,"xJ");function Lae(e){let t=DP().createHash(e);return{update(r){return t.update(r),this},digest(){return new Uint8Array(t.digest())}}}a(Lae,"pJ");function Dae(e,t,r){return DP().createDecipheriv(e,t,r)}a(Dae,"LM");var Tc=null,fE=!1,jae=3e5;function Bae(){let e=Ym("SECRET_SALT","secretsalt")||"secretsalt",t=Date.now();return Tc!==null&&t-Tc.timestamp<jae&&Tc.value===e?Tc.value:(e==="secretsalt"&&!fE&&(md.warn("SECRET_SALT is not set or using default value"),fE=!0),Tc={value:e,timestamp:t},e)}a(Bae,"c_");function zae(e,t){try{if(e==null||typeof e=="boolean"||typeof e=="number")return e;if(typeof e!="string")return md.debug(`Value is not a string (type: ${typeof e}), returning as is`),e;let r=e.split(":");if(r.length!==2)return e;let n=Oae.fromHex(r[0]),i=r[1];if(n.length!==16)return n.length&&md.debug(`Invalid IV length (${n.length}) - expected 16 bytes`),e;let s=Lae("sha256").update(t).digest().slice(0,32),o=Dae("aes-256-cbc",s,n),l=o.update(i,"hex","utf8");return l+=o.final("utf8"),l}catch(r){return md.error(`Error decrypting value: ${r}`),e}}a(zae,"EO");function Fae(e,t){let r={};for(let[n,i]of Object.entries(e))typeof i=="string"&&i?r[n]=zae(i,t):r[n]=i;return r}a(Fae,"bM");const qe={info:a((e,...t)=>{Rf.info({source:"client"},e,...t)},"info"),error:a((e,...t)=>{Rf.error({source:"client"},e,...t)},"error"),warn:a((e,...t)=>{Rf.warn({source:"client"},e,...t)},"warn"),debug:a((e,...t)=>{Rf.debug({source:"client"},e,...t)},"debug")},Uae="elizaos-plugins",Hae="registry",Gae=`https://raw.githubusercontent.com/${Uae}/${Hae}/refs/heads/main/generated-registry.json`,Vae=["@elizaos/plugin-bootstrap","@elizaos/plugin-sql"];async function Yae(){try{const e=await fetch(Gae);if(!e.ok)throw new Error(`Failed to fetch registry: ${e.status}`);return await e.json()}catch(e){return qe.error("Failed to fetch plugin registry:",e),null}}a(Yae,"fetchPluginRegistry");function Zae(e){return e.startsWith("@elizaos-plugins/")?e:e.replace("@elizaos/","@elizaos-plugins/")}a(Zae,"getRegistryPluginName");function dh(e){return Vae.includes(e)}a(dh,"isCorePlugin");function $ae(e,t){if(dh(e))return null;if(!t)return qe.warn(`No registry data available for ${e}`),null;const r=Zae(e),n=e;qe.debug(`Looking for ${e} in registry as ${r} or ${n}`);let i=t.registry[r];if(!i&&r!==n&&(i=t.registry[n],i&&qe.debug(`Found plugin under alternative name: ${n}`)),!i?.git?.repo)return qe.warn(`No GitHub repo found in registry for plugin: ${e} (tried ${r} and ${n})`),null;qe.debug(`Found repo info for ${e}: ${i.git.repo}`);const s=i.git.v1.branch?i.git.v1:i.git.v0,o=s?.branch||"main";s?.branch?qe.debug(`Branch for ${e}: ${o}`):qe.warn(`No branch information found for plugin: ${e}`);let l;const u=i.git.repo.match(/github\.com[:/]([^/]+\/[^/.]+)(\.git)?$/);if(u)l=u[1];else{const h=i.git.repo.match(/^([^/]+\/[^/.]+)$/);if(h)l=h[1];else return qe.warn(`Could not parse GitHub repo URL: ${i.git.repo}`),null}qe.debug(`Parsed owner/repo for ${e}: ${l}`);const c=`${l}/${o}`;return qe.debug(`Initial path for ${e}: ${c}`),c}a($ae,"getGitHubRepoPath");async function Xae(e,t){if(dh(e))return null;if(!t)return qe.warn(`No repo path available for plugin: ${e}`),null;qe.debug(`Starting package.json fetch for ${e} with initial path: ${t}`);const r=t.split("/"),n=r[0],i=r[1],s=r[2]||"main",o=e.replace("@elizaos/","");qe.debug(`Extracted parts - owner: ${n}, repo: ${i}, branch: ${s}, packageName: ${o}`);const l=[`${n}/${i}/${s}`,`${n}/${i}/main`,`${n}/${i}/master`,`${n}/${i}/1.x`,`${n}/${i}/v1`,`${n}/${i}/v2`,`${n}/${i}/${s}/packages/${o}`,`${n}/${i}/main/packages/${o}`,`${n}/${i}/master/packages/${o}`],u=[...new Set(l)];qe.debug(`Will try ${u.length} unique paths for ${e}:`,u);for(const c of u)try{const h=`https://raw.githubusercontent.com/${c}/package.json`;qe.debug(`Trying URL for ${e}: ${h}`);const d=await fetch(h);if(d.ok){const g=await d.json();return qe.debug(` Found package.json for ${e} at ${h}`),g}else qe.debug(` Failed to fetch ${e} from ${h}: HTTP ${d.status}`)}catch(h){qe.debug(` Error fetching ${e} from ${c}: ${h instanceof Error?h.message:String(h)}`)}return qe.warn(`Could not find package.json for ${e} in any of the expected locations`),null}a(Xae,"fetchPluginPackageJson");function Jae(e,t){if(dh(e))return[];if(!t)return[];if(t?.agentConfig?.pluginParameters){const r=[];for(const[n,i]of Object.entries(t.agentConfig.pluginParameters))i.required===!0&&r.push({name:n,description:i.description,required:!0,example:i.example});return r}return t?.elizaos?.secrets?t.elizaos.secrets.filter(r=>r.required):t?.elizaos?.requiredSecrets?t.elizaos.requiredSecrets.map(r=>({name:r,required:!0})):[]}a(Jae,"extractRequiredSecrets");function Kae(e){const t=U.useMemo(()=>[...e].sort().join(","),[e]);return Un({queryKey:["plugin-details",t],queryFn:a(async()=>{qe.debug("[usePluginDetails] Starting fetch for plugins:",e);const r=[],n=e.filter(dh),i=e.filter(s=>!dh(s));if(qe.debug("[usePluginDetails] Core plugins:",n),qe.debug("[usePluginDetails] External plugins:",i),n.forEach(s=>{r.push({name:s,requiredSecrets:[]})}),i.length>0){const s=await Yae();if(qe.debug("[usePluginDetails] Registry data fetched:",s?"success":"failed"),s){const u=Object.keys(s.registry);qe.debug("[usePluginDetails] Available plugins in registry:",u)}const o=i.map(async u=>{const c=$ae(u,s),h=await Xae(u,c);return{name:u,packageJson:h}}),l=await Promise.all(o);for(const{name:u,packageJson:c}of l){const h=Jae(u,c);r.push({name:u,requiredSecrets:h})}}return qe.debug("[usePluginDetails] Final details:",r),r},"queryFn"),enabled:e.length>0,staleTime:300*1e3,retry:2,refetchOnMount:!1,refetchOnWindowFocus:!1})}a(Kae,"usePluginDetails");function jP(e){const{data:t,isLoading:r,error:n}=Kae(e);return{requiredSecrets:U.useMemo(()=>t?t.reduce((s,o)=>(o.requiredSecrets.forEach(l=>{s.find(u=>u.name===l.name)||s.push({...l,plugin:o.name})}),s),[]):[],[t]),isLoading:r,error:n}}a(jP,"useRequiredSecrets");class Jo extends Error{static{a(this,"ApiError")}code;details;status;constructor(t,r,n,i){super(r),this.code=t,this.details=n,this.status=i,this.name="ApiError"}}class hs{static{a(this,"BaseApiClient")}baseUrl;apiKey;timeout;defaultHeaders;constructor(t){this.baseUrl=t.baseUrl.replace(/\/$/,""),this.apiKey=t.apiKey,this.timeout=t.timeout||3e4,this.defaultHeaders={"Content-Type":"application/json",...t.headers},this.apiKey&&(this.defaultHeaders["X-API-KEY"]=this.apiKey)}createNoContentResponse(){return{success:!0}}async request(t,r,n){let i;this.baseUrl?i=new URL(`${this.baseUrl}${r}`):typeof window<"u"&&window.location?i=new URL(r,window.location.origin):i=new URL(r,"http://localhost:3000"),n?.params&&Object.entries(n.params).forEach(([l,u])=>{u!=null&&i.searchParams.append(l,String(u))});const s=new AbortController,o=setTimeout(()=>s.abort(),this.timeout);try{const l={...this.defaultHeaders,...n?.config?.headers,...n?.headers};n?.body instanceof FormData&&delete l["Content-Type"];const u=await fetch(i.toString(),{method:t,headers:l,body:n?.body instanceof FormData?n.body:n?.body?JSON.stringify(n.body):void 0,signal:s.signal});if(clearTimeout(o),u.status===204||u.headers.get("content-length")==="0")return this.createNoContentResponse();let c;try{c=await u.json()}catch{if(u.ok)return this.createNoContentResponse();throw new Jo("PARSE_ERROR","Failed to parse response as JSON",void 0,u.status)}if(!u.ok){const h=c?.error||{code:"HTTP_ERROR",message:`HTTP ${u.status}: ${u.statusText}`};throw new Jo(h.code,h.message,h.details,u.status)}if(c&&typeof c=="object"&&"success"in c){const h=c;if(!h.success){const d="error"in h?h.error:{code:"UNKNOWN_ERROR",message:"An unknown error occurred"};throw new Jo(d.code,d.message,d.details,u.status)}return h.data}else return c}catch(l){throw clearTimeout(o),l instanceof Jo?l:l instanceof Error?l.name==="AbortError"?new Jo("TIMEOUT","Request timed out"):new Jo("NETWORK_ERROR",l.message):new Jo("UNKNOWN_ERROR","An unknown error occurred")}}async get(t,r){return this.request("GET",t,r)}async post(t,r,n){return this.request("POST",t,{...n,body:r})}async put(t,r,n){return this.request("PUT",t,{...n,body:r})}async patch(t,r,n){return this.request("PATCH",t,{...n,body:r})}async delete(t,r){return this.request("DELETE",t,r)}}class Wae extends hs{static{a(this,"AgentsService")}async listAgents(){return this.get("/api/agents")}async getAgent(t){return this.get(`/api/agents/${t}`)}async createAgent(t){return this.post("/api/agents",t)}async updateAgent(t,r){return this.patch(`/api/agents/${t}`,r)}async deleteAgent(t){return this.delete(`/api/agents/${t}`)}async startAgent(t){return this.post(`/api/agents/${t}/start`)}async stopAgent(t){return this.post(`/api/agents/${t}/stop`)}async getWorlds(){return this.get("/api/agents/worlds")}async addAgentToWorld(t,r){return this.post(`/api/agents/${t}/worlds`,{worldId:r})}async updateAgentWorldSettings(t,r,n){return this.patch(`/api/agents/${t}/worlds/${r}`,{settings:n})}async getAgentPanels(t){const r=await this.get(`/api/agents/${t}/panels`);return{panels:(Array.isArray(r)?r:[]).map((i,s)=>({id:`${i.name}-${s}`,name:i.name,url:i.path,type:"plugin"}))}}async getAgentLogs(t,r){return this.get(`/api/agents/${t}/logs`,{params:r})}async deleteAgentLog(t,r){return this.delete(`/api/agents/${t}/logs/${r}`)}async getAgentsForServer(t){return this.get(`/api/messaging/servers/${t}/agents`)}async addAgentToServer(t,r){return this.post(`/api/messaging/servers/${t}/agents`,{agentId:r})}async removeAgentFromServer(t,r){return this.delete(`/api/messaging/servers/${t}/agents/${r}`)}async getServersForAgent(t){return this.get(`/api/messaging/agents/${t}/servers`)}}class Qae extends hs{static{a(this,"MessagingService")}async submitMessage(t){return this.post("/api/messaging/submit",t)}async completeMessage(t){return this.post("/api/messaging/complete",t)}async ingestExternalMessages(t){return this.post("/api/messaging/ingest-external",t)}async createChannel(t){const r={name:t.name,type:t.type,server_id:t.serverId||"00000000-0000-0000-0000-000000000000",metadata:t.metadata};return this.post("/api/messaging/central-channels",r)}async createGroupChannel(t){const r="00000000-0000-0000-0000-000000000000";let n,i,s;if(t.metadata){const l={...t.metadata};"server_id"in l&&(i=l.server_id,delete l.server_id),"type"in l&&(s=l.type,delete l.type),Object.keys(l).length>0&&(n=l)}const o={name:t.name,server_id:i||r,participantCentralUserIds:t.participantIds,...s?{type:s}:{},...n?{metadata:n}:{}};return this.post("/api/messaging/central-channels",o)}async getOrCreateDmChannel(t){const[r,n]=t.participantIds,i={currentUserId:r,targetUserId:n,dmServerId:"00000000-0000-0000-0000-000000000000"};return this.get("/api/messaging/dm-channel",{params:i})}async getChannelDetails(t){return this.get(`/api/messaging/central-channels/${t}/details`)}async getChannelParticipants(t){return this.get(`/api/messaging/central-channels/${t}/participants`)}async addAgentToChannel(t,r){return this.post(`/api/messaging/central-channels/${t}/agents`,{agentId:r})}async removeAgentFromChannel(t,r){return this.delete(`/api/messaging/central-channels/${t}/agents/${r}`)}async deleteChannel(t){return this.delete(`/api/messaging/central-channels/${t}`)}async clearChannelHistory(t){return this.delete(`/api/messaging/central-channels/${t}/messages`)}async postMessage(t,r,n){return this.post(`/api/messaging/central-channels/${t}/messages`,{content:r,metadata:n})}async getChannelMessages(t,r){return this.get(`/api/messaging/central-channels/${t}/messages`,{params:r})}async getMessage(t){return this.get(`/api/messaging/messages/${t}`)}async deleteMessage(t,r){return this.delete(`/api/messaging/central-channels/${t}/messages/${r}`)}async updateMessage(t,r){return this.patch(`/api/messaging/messages/${t}`,{content:r})}async searchMessages(t){return this.post("/api/messaging/messages/search",t)}async listServers(){return this.get("/api/messaging/central-servers")}async getServerChannels(t){return this.get(`/api/messaging/central-servers/${t}/channels`)}async createServer(t){return this.post("/api/messaging/servers",t)}async syncServerChannels(t,r){return this.post(`/api/messaging/servers/${t}/sync-channels`,r)}async deleteServer(t){return this.delete(`/api/messaging/servers/${t}`)}async updateChannel(t,r){return this.patch(`/api/messaging/central-channels/${t}`,r)}async generateChannelTitle(t,r){return this.post(`/api/messaging/central-channels/${t}/generate-title`,{agentId:r})}async addUserToChannel(t,r){const n=await this.getChannelDetails(t),i=n.metadata?.participantCentralUserIds||[];if(!i.includes(r)){const s=[...i,r];return this.updateChannel(t,{participantCentralUserIds:s})}return{success:!0,data:n}}async addUsersToChannel(t,r){const s=[...(await this.getChannelDetails(t)).metadata?.participantCentralUserIds||[]];for(const o of r)s.includes(o)||s.push(o);return this.updateChannel(t,{participantCentralUserIds:s})}async removeUserFromChannel(t,r){const s=((await this.getChannelDetails(t)).metadata?.participantCentralUserIds||[]).filter(o=>o!==r);return this.updateChannel(t,{participantCentralUserIds:s})}}class qae extends hs{static{a(this,"MemoryService")}async getAgentMemories(t,r){return this.get(`/api/memory/${t}/memories`,{params:r})}async getRoomMemories(t,r,n){return this.get(`/api/memory/${t}/rooms/${r}/memories`,{params:n})}async updateMemory(t,r,n){return this.patch(`/api/memory/${t}/memories/${r}`,n)}async clearAgentMemories(t){return this.delete(`/api/memory/${t}/memories`)}async clearRoomMemories(t,r){return this.delete(`/api/memory/${t}/memories/all/${r}`)}async listAgentRooms(t){return this.get(`/api/memory/${t}/rooms`)}async getRoom(t,r){return this.get(`/api/memory/${t}/rooms/${r}`)}async createRoom(t,r){return this.post(`/api/memory/${t}/rooms`,r)}async createWorldFromServer(t,r){return this.post(`/api/memory/groups/${t}`,r)}async deleteWorld(t){return this.delete(`/api/memory/groups/${t}`)}async clearWorldMemories(t){return this.delete(`/api/memory/groups/${t}/memories`)}async deleteMemory(t,r){return this.delete(`/api/memory/${t}/memories/${r}`)}async getAgentInternalMemories(t,r,n){return this.get(`/api/memory/${t}/rooms/${r}/memories`,{params:{includeEmbedding:n}})}async deleteAgentInternalMemory(t,r){return this.delete(`/api/memory/${t}/memories/${r}`)}async deleteAllAgentInternalMemories(t,r){return this.delete(`/api/memory/${t}/memories/all/${r}`)}async updateAgentInternalMemory(t,r,n){return this.patch(`/api/memory/${t}/memories/${r}`,n)}async deleteGroupMemory(t,r){return this.delete(`/api/messaging/central-channels/${t}/messages/${r}`)}async clearGroupChat(t){return this.delete(`/api/messaging/central-channels/${t}/messages`)}}class ese extends hs{static{a(this,"AudioService")}async requestBinary(t,r,n){let i;this.baseUrl?i=new URL(`${this.baseUrl}${r}`):typeof window<"u"&&window.location?i=new URL(r,window.location.origin):i=new URL(r,"http://localhost:3000"),n?.params&&Object.entries(n.params).forEach(([l,u])=>{u!=null&&i.searchParams.append(l,String(u))});const s=new AbortController,o=setTimeout(()=>s.abort(),this.timeout);try{const l={...this.defaultHeaders,...n?.headers};n?.body instanceof FormData&&delete l["Content-Type"];const u=await fetch(i.toString(),{method:t,headers:l,body:n?.body instanceof FormData?n.body:n?.body?JSON.stringify(n.body):void 0,signal:s.signal});if(clearTimeout(o),!u.ok)throw new Error(`HTTP error! status: ${u.status}`);return await u.arrayBuffer()}catch(l){throw clearTimeout(o),l instanceof Error?l.name==="AbortError"?new Error("Request timed out"):l:new Error("An unknown error occurred")}}processAudioInput(t){if(t instanceof Blob)return t;if(typeof t=="string"){if(t.startsWith("data:"))try{const[n,i]=t.split(","),s=n.match(/data:([^;]+)/),o=s?s[1]:"audio/wav",l=atob(i),u=new Uint8Array(l.length);for(let c=0;c<l.length;c++)u[c]=l.charCodeAt(c);return new Blob([u],{type:o})}catch(n){throw new Error(`Invalid base64 data URL: ${n instanceof Error?n.message:"Unknown error"}`)}if(this.isBase64String(t))try{const n=atob(t),i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return new Blob([i],{type:"audio/wav"})}catch{return t}return t}if(this.isBuffer(t))return new Blob([new Uint8Array(t)],{type:"audio/wav"});const r=t;if(r instanceof ArrayBuffer)return new Blob([r],{type:"audio/wav"});if(r&&typeof r=="object"&&"buffer"in r&&r.buffer instanceof ArrayBuffer)return new Blob([r.buffer],{type:"audio/wav"});throw new Error(`Unsupported audio input type: ${typeof t}. Expected Blob, Buffer, ArrayBuffer, or string.`)}isBase64String(t){const r=/^[A-Za-z0-9+/]*={0,2}$/;return t.length<4||t.length%4!==0?!1:r.test(t)}isBuffer(t){return t!=null&&typeof t=="object"&&typeof t.constructor=="function"&&t.constructor.name==="Buffer"&&typeof t.readUInt8=="function"}async speechConversation(t,r){const n=new FormData,i=this.processAudioInput(r.audio);return i instanceof Blob,n.append("file",i),r.format&&n.append("format",r.format),r.language&&n.append("language",r.language),r.metadata&&n.append("metadata",JSON.stringify(r.metadata)),this.request("POST",`/api/audio/${t}/speech/conversation`,{body:n})}async generateSpeech(t,r){const n=await this.requestBinary("POST",`/api/audio/${t}/speech/generate`,{body:r}),i=new Uint8Array(n);let s="";for(let u=0;u<i.byteLength;u++)s+=String.fromCharCode(i[u]);return{audio:btoa(s),format:"mpeg"}}async synthesizeAudioMessage(t,r){return this.post(`/api/audio/${t}/audio-messages/synthesize`,r)}async transcribe(t,r){const n=new FormData,i=this.processAudioInput(r.audio);return i instanceof Blob,n.append("file",i),r.format&&n.append("format",r.format),r.language&&n.append("language",r.language),this.request("POST",`/api/audio/${t}/transcriptions`,{body:n})}async processSpeech(t,r,n){const i=new FormData,s=this.processAudioInput(r);return s instanceof Blob,i.append("file",s),n&&i.append("metadata",JSON.stringify(n)),this.request("POST",`/api/audio/${t}/speech`,{body:i})}}class tse extends hs{static{a(this,"MediaService")}async uploadAgentMedia(t,r){const n=new FormData;return n.append("file",r.file,r.filename),r.contentType&&n.append("contentType",r.contentType),r.metadata&&n.append("metadata",JSON.stringify(r.metadata)),this.request("POST",`/api/media/agents/${t}/upload-media`,{body:n})}async uploadChannelMedia(t,r){const n=new FormData;return n.append("file",r),this.request("POST",`/api/messaging/central-channels/${t}/upload-media`,{body:n})}}class rse extends hs{static{a(this,"ServerService")}async checkHealth(){return this.get("/api/server/health")}async ping(){return this.get("/api/server/ping")}async hello(){return this.get("/api/server/hello")}async getStatus(){return this.get("/api/server/status")}async stopServer(){return this.post("/api/server/stop")}async getDebugInfo(){return this.get("/api/server/debug/servers")}async submitLogs(t){return this.post("/api/server/logs",{logs:t})}async clearLogs(){return this.delete("/api/server/logs")}}class nse extends hs{static{a(this,"SystemService")}async getVersion(){return this.get("/api/system/version")}async getEnvironment(){return this.get("/api/system/env/local")}async updateLocalEnvironment(t){if(!t||typeof t!="object")throw new Error("updateLocalEnvironment requires a configuration object");let r;return"variables"in t?r={content:t.variables}:"content"in t?r={content:t.content}:r={content:t},this.post("/api/system/env/local",r)}async getGlobalLogs(t){const r=await fetch(this.buildUrl("/api/server/logs",{params:t}),{method:"GET",headers:this.getHeaders()});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);const n=await r.json();return{logs:n.logs||[],count:n.count||0,total:n.total||0,level:n.requestedLevel||n.level||"all",levels:n.levels||[]}}buildUrl(t,r){const n=new URL(`${this.baseUrl}${t}`);return r?.params&&Object.entries(r.params).forEach(([i,s])=>{s!=null&&n.searchParams.append(i,String(s))}),n.toString()}getHeaders(){return{...this.defaultHeaders}}async deleteGlobalLogs(){return this.delete("/api/server/logs")}async deleteLog(t){throw new Error("Individual log deletion is not supported. Use deleteGlobalLogs() to clear all logs.")}}function pE(e,t){if(!e)return;let r;if(e instanceof Date)r=e.getTime();else if(typeof e=="string"){if(r=new Date(e).getTime(),isNaN(r)){console.warn(`Invalid date string for ${t}: ${e}`);return}}else if(typeof e=="number")r=e;else{console.warn(`Invalid type for ${t}: ${typeof e}`);return}return r.toString()}a(pE,"toTimestampString");function Nc(e,t){if(!e||e.trim()==="")throw new Error(`${t} is required and cannot be empty`)}a(Nc,"validateRequiredParam");class ise extends hs{static{a(this,"SessionsService")}async checkHealth(){return this.get("/api/messaging/sessions/health")}async createSession(t){return this.post("/api/messaging/sessions",t)}async getSession(t){return Nc(t,"sessionId"),this.get(`/api/messaging/sessions/${t}`)}async sendMessage(t,r){return Nc(t,"sessionId"),Nc(r?.content,"content"),this.post(`/api/messaging/sessions/${t}/messages`,r)}async getMessages(t,r){Nc(t,"sessionId");const n={};r?.limit&&(n.limit=r.limit.toString());const i=pE(r?.before,"before");i&&(n.before=i);const s=pE(r?.after,"after");return s&&(n.after=s),this.get(`/api/messaging/sessions/${t}/messages`,{params:n})}async deleteSession(t){return Nc(t,"sessionId"),this.delete(`/api/messaging/sessions/${t}`)}async listSessions(){return this.get("/api/messaging/sessions")}}class ase extends hs{static{a(this,"RunsService")}async listRuns(t,r){return this.get(`/api/agents/${t}/runs`,{params:r})}async getRun(t,r,n){return this.get(`/api/agents/${t}/runs/${r}`,{params:n?{roomId:n}:void 0})}}var sse;(e=>{e.PENDING="pending",e.PROCESSING="processing",e.COMPLETED="completed",e.FAILED="failed",e.TIMEOUT="timeout"})(sse||={});class ose extends hs{static{a(this,"JobsService")}async create(t){return this.post("/api/messaging/jobs",t)}async getJob(t){return this.get(`/api/messaging/jobs/${t}`)}async list(t){return this.get("/api/messaging/jobs",{params:t})}async health(){return this.get("/api/messaging/jobs/health")}async poll(t,r={}){const{interval:n=1e3,maxAttempts:i=30,timeout:s,onProgress:o}=r,l=Date.now();let u=0;const c=s?Math.ceil(s/n):i;for(;u<c;){if(s&&Date.now()-l>s)return{success:!1,job:await this.getJob(t),attempts:u,timeMs:Date.now()-l};u>0&&await new Promise(g=>setTimeout(g,n)),u++;const d=await this.getJob(t);if(o&&o(d,u),d.status==="completed")return{success:!0,job:d,attempts:u,timeMs:Date.now()-l};if(d.status==="failed"||d.status==="timeout")return{success:!1,job:d,attempts:u,timeMs:Date.now()-l}}return{success:!1,job:await this.getJob(t),attempts:u,timeMs:Date.now()-l}}async createAndPoll(t,r){const n=await this.create(t);return this.poll(n.jobId,r)}async createAndPollWithBackoff(t,r={}){const{initialInterval:n=500,maxInterval:i=5e3,multiplier:s=1.5,maxAttempts:o=40,timeout:l,onProgress:u}=r,h=(await this.create(t)).jobId,d=Date.now();let g=0,m=n;for(;g<o;){if(l&&Date.now()-d>l)return{success:!1,job:await this.getJob(h),attempts:g,timeMs:Date.now()-d};g>0&&(await new Promise(A=>setTimeout(A,m)),m=Math.min(m*s,i)),g++;const x=await this.getJob(h);if(u&&u(x,g),x.status==="completed")return{success:!0,job:x,attempts:g,timeMs:Date.now()-d};if(x.status==="failed"||x.status==="timeout")return{success:!1,job:x,attempts:g,timeMs:Date.now()-d}}return{success:!1,job:await this.getJob(h),attempts:g,timeMs:Date.now()-d}}async ask(t,r,n,i){const s=await this.createAndPoll({userId:t,content:r,...n&&{agentId:n}},i);if(!s.success||!s.job.result)throw new Error(s.job.error||"Job failed or timed out without a response");return s.job.result.message.content}}class Cw{static{a(this,"ElizaClient")}agents;messaging;memory;audio;media;server;system;sessions;runs;jobs;constructor(t){this.agents=new Wae(t),this.messaging=new Qae(t),this.memory=new qae(t),this.audio=new ese(t),this.media=new tse(t),this.server=new rse(t),this.system=new nse(t),this.sessions=new ise(t),this.runs=new ase(t),this.jobs=new ose(t)}static create(t){return new Cw(t)}}function lse(){const e=a(()=>`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey"),t=localStorage.getItem(e()),r={baseUrl:window.location.origin,timeout:3e4,headers:{Accept:"application/json"}};return t&&(r.apiKey=t),r}a(lse,"createApiClientConfig");let _0=null;function Mr(){return _0||(_0=Cw.create(lse())),_0}a(Mr,"createElizaClient");function use(){return Mr()}a(use,"getElizaClient");function cse(){_0=null}a(cse,"resetElizaClient");function dse(e){const t=a(()=>`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey");e?localStorage.setItem(t(),e):localStorage.removeItem(t()),cse()}a(dse,"updateApiClientApiKey");const hse="elizaos-plugins",fse="registry",pse=`https://raw.githubusercontent.com/${hse}/${fse}/refs/heads/main/generated-registry.json`;function BP(){return Un({queryKey:["plugins"],queryFn:a(async()=>{try{const e=Mr(),[t,r]=await Promise.all([fetch(pse),e.agents.listAgents()]),n=await t.json(),i=Object.entries(n.registry||{}).filter(([l,u])=>{const c=l.includes("plugin"),h=u.supports.v1===!0,d=u.npm.v1!==null||u.git.v1.version!==null&&u.git.v1.branch!==null;return c&&h&&d}).map(([l])=>l.replace(/^@elizaos-plugins\//,"@elizaos/")).sort();let s=[];try{const l=r?.agents||[];if(l.length>0){const u=l.find(c=>c.status==="active");if(u&&u.id){const h=(await e.agents.getAgent(u.id))?.plugins;Array.isArray(h)&&(s=h)}}}catch(l){qe.warn("Could not fetch agent plugins:",l)}return[...new Set([...i,...s])].sort()}catch(e){return qe.error("Failed to fetch from registry, falling back to basic list:",e),["@elizaos/plugin-bootstrap","@elizaos/plugin-evm","@elizaos/plugin-discord","@elizaos/plugin-elevenlabs","@elizaos/plugin-anthropic","@elizaos/plugin-browser","@elizaos/plugin-farcaster","@elizaos/plugin-groq"].filter(t=>t.includes("plugin")).sort()}},"queryFn")})}a(BP,"usePlugins");const mse={google:"@elizaos/plugin-google-genai",llama_local:"@elizaos/plugin-ollama"},gse={},vse=["@elizaos/plugin-sql","@elizaos/plugin-bootstrap"];function bse(){const{data:e=[]}=BP(),t=a(i=>{const s=new Set;if(Array.isArray(i.clients))for(const l of i.clients){const u=l.toLowerCase(),c=gse[u];if(c&&e.includes(c))s.add(c);else{const h=`@elizaos/plugin-${u}`;e.includes(h)&&s.add(h)}}let o=!1;if(typeof i.modelProvider=="string"){const l=i.modelProvider.toLowerCase(),u=mse[l];if(u&&e.includes(u))s.add(u),o=!0;else{const c=`@elizaos/plugin-${l}`;e.includes(c)&&(s.add(c),o=!0)}o||e.includes("@elizaos/plugin-openai")&&s.add("@elizaos/plugin-openai")}else e.includes("@elizaos/plugin-openai")&&s.add("@elizaos/plugin-openai");for(const l of vse)e.includes(l)&&s.add(l);return Array.from(s).sort()},"matchPlugins");function r(i){return typeof i=="object"&&i!==null&&"user"in i}return a(r,"isV1MessageExampleFormat"),{convertCharacter:a(i=>{const s=[...Array.isArray(i.bio)?i.bio:i.bio?[i.bio]:[],...i.lore??[]],o=(i.messageExamples??[]).map(c=>c.map(h=>r(h)?{name:h.user,content:h.content}:h))??[],l=t(i);return{name:i.name,username:i.username,system:i.system,settings:i.settings,plugins:l,bio:s,topics:i.topics,style:i.style,adjectives:i.adjectives,messageExamples:o,postExamples:i.postExamples}},"convertCharacter")}}a(bse,"useConvertCharacter");const yse=a((e=768)=>{const t=U.useRef(null),[r,n]=U.useState(!0),i=U.useRef(null),s=U.useRef(0);return U.useEffect(()=>{const o=t.current;if(!o)return;const l=a(c=>{i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{const h=c>=e;n(d=>d!==h?h:d),s.current=c},150)},"handleResize"),u=new ResizeObserver(c=>{for(const h of c){const{width:d}=h.contentRect;Math.abs(d-s.current)>5&&l(d)}});return u.observe(o),setTimeout(()=>{const{width:c}=o.getBoundingClientRect();s.current=c,n(c>=e)},0),()=>{u.disconnect(),i.current&&clearTimeout(i.current)}},[e]),{containerRef:t,showLabels:r}},"useContainerWidth");function zP({characterValue:e,setCharacterValue:t,title:r,description:n,onSubmit:i,onDelete:s,onReset:o,onStopAgent:l,isDeleting:u=!1,isStopping:c=!1,customComponents:h=[],onTemplateChange:d,secretPanelRef:g}){const{toast:m}=Br(),{data:y,isLoading:x}=JG(),[A,C]=U.useState(!1),[M,R]=U.useState("none"),[P,L]=U.useState("basic"),z=U.useRef(null),[Z,Y]=U.useState(!1),[ae,F]=U.useState(!1),[W,f]=U.useState(!1),[w,v]=U.useState(null),[_,S]=U.useState({}),T=U.useMemo(()=>e?.plugins||[],[e?.plugins]),{requiredSecrets:N}=jP(T),{convertCharacter:k}=bse();U.useEffect(()=>{a(async()=>{try{const K=await Mr().system.getEnvironment();S(K||{})}catch(q){console.error("Failed to fetch global environment variables:",q),S({})}},"fetchGlobalEnvs")()},[]);const{containerRef:p,showLabels:E}=yse(640),I=U.useCallback(()=>{const $=z.current;if(!$)return;const{scrollLeft:q,scrollWidth:K,clientWidth:le}=$;Y(q>0),F(q+le<K-1)},[]);U.useEffect(()=>{const $=z.current;if($)return I(),$.addEventListener("scroll",I),window.addEventListener("resize",I),()=>{$.removeEventListener("scroll",I),window.removeEventListener("resize",I)}},[I,h.length]);const O=a($=>{const q=z.current;if(!q)return;const K=q.clientWidth*.8;q.scrollBy({left:$==="left"?-K:K,behavior:"smooth"})},"scrollTabs"),B=U.useMemo(()=>{const $=vT();return y&&!x?[...$.filter(K=>K.provider!=="elevenlabs"),...y]:$},[y,x]),H=U.useMemo(()=>[{sectionTitle:"Basic Info",sectionValue:"basic",sectionType:"input",fields:[{title:"Name",name:"name",description:"The primary identifier for this agent",fieldType:"text",getValue:a($=>$.name||"","getValue"),tooltip:"Display name that will be visible to users. Required for identification purposes."},{title:"Username",name:"username",description:"Used in URLs and API endpoints",fieldType:"text",getValue:a($=>$.username||"","getValue"),tooltip:"Unique identifier for your agent. Used in APIs/URLs and Rooms."},{title:"System",name:"system",description:"System prompt defining agent behavior",fieldType:"textarea",getValue:a($=>$.system||"","getValue"),tooltip:"Instructions for the AI model that establish core behavior patterns and personality traits."},{title:"Voice Model",name:"settings.voice.model",description:"Voice model for audio synthesis",fieldType:"select",getValue:a($=>$.settings?.voice?.model||"","getValue"),options:B.map($=>({value:$.value,label:$.label})),tooltip:"Select a voice that aligns with the agent's intended persona."}]},{sectionTitle:"Content",sectionValue:"content",sectionType:"array",fields:[{title:"Bio",description:"Bio data for this agent",path:"bio",getData:a($=>Array.isArray($.bio)?$.bio:[],"getData"),tooltip:"Biographical details that establish the agent's background and context."},{title:"Topics",description:"Topics this agent can talk about",path:"topics",getData:a($=>$.topics||[],"getData"),tooltip:"Subject domains the agent can discuss with confidence."},{title:"Adjectives",description:"Descriptive personality traits",path:"adjectives",getData:a($=>$.adjectives||[],"getData"),tooltip:"Key personality attributes that define the agent's character."}]},{sectionTitle:"Style",sectionValue:"style",sectionType:"array",fields:[{title:"All Styles",description:"Writing style for all content types",path:"style.all",getData:a($=>$.style?.all||[],"getData"),tooltip:"Core writing style guidelines applied across all content formats."},{title:"Chat Style",description:"Style specific to chat interactions",path:"style.chat",getData:a($=>$.style?.chat||[],"getData"),tooltip:"Writing style specific to conversational exchanges."},{title:"Post Style",description:"Style for long-form content",path:"style.post",getData:a($=>$.style?.post||[],"getData"),tooltip:"Writing style for structured content such as articles or posts."}]}],[B]),G=a($=>{const{name:q,value:K,type:le}=$.target,ue=$.target.checked;if(le==="checkbox")t.updateField(q,ue);else if(q.startsWith("settings.")){const ie=q.substring(9);t.updateSetting?t.updateSetting(ie,K):t.updateField(q,K)}else t.updateField(q,K)},"handleChange"),J=a(($,q)=>{if(q.startsWith("settings.")){const K=q.substring(9);if(t.updateSetting){if(t.updateSetting(K,$),K==="voice.model"&&$){const le=Gy($);if(le){const ue=Array.isArray(e.plugins)?[...e.plugins]:[],ie=Gy(e.settings?.voice?.model),et=mT[le.provider],Pe=[...ue];et&&!ue.includes(et)&&Pe.push(et),t.setPlugins?t.setPlugins(Pe):t.updateField&&t.updateField("plugins",Pe),ie?.provider!==le.provider&&m({title:"Plugin Updated",description:`${et} plugin has been set for the selected voice model.`})}}}else t.updateField(q,$)}else t.updateField(q,$)},"handleVoiceModelChange"),ce=a(($,q)=>{if(!$.includes(".")){t.updateField($,q);return}const K=$.split(".");if(K.length===2&&K[0]==="style"){t.setStyleArray?t.setStyleArray(K[1],q):t.updateField($,q);return}t.updateField($,q)},"updateArray"),ne=a(async $=>{if($.settings?.avatar){const q=new Image;if(q.src=$.settings.avatar,await new Promise(K=>q.onload=K),q.width>Id||q.height>Id){const le=await(await fetch($.settings.avatar)).blob(),ue=new File([le],"avatar.jpg",{type:le.type}),ie=await nT(ue);return{...$,settings:{...$.settings,avatar:ie}}}}return $},"ensureAvatarSize"),se=a(async $=>{$.preventDefault(),C(!0);try{const q=await ne(e);let K=[];if(g?.current)K=g.current.validateSecrets().missingSecrets;else{const le=q.settings?.secrets,ue=le&&typeof le=="object"&&!Array.isArray(le)?le:{};K=N.filter(ie=>{const et=ue[ie.name];if(et&&typeof et=="string"&&et.trim()!=="")return!1;const Pe=_[ie.name];return!(Pe&&Pe.trim()!=="")}).map(ie=>ie.name)}if(K.length>0){C(!1),v(q),f(!0);return}await i(q)}catch(q){m({title:"Error",description:q instanceof Error?q.message:"Failed to update agent",variant:"destructive"})}finally{C(!1)}},"handleFormSubmit"),Ye=a(async()=>{if(f(!1),w){C(!0);try{await i(w)}catch($){m({title:"Error",description:$ instanceof Error?$.message:"Failed to update agent",variant:"destructive"})}finally{C(!1),v(null)}}},"handleConfirmSaveWithMissingSecrets"),Te=a(()=>{f(!1),v(null),L("custom-Secret")},"handleCancelSaveWithMissingSecrets"),ye=a($=>b.jsxs("div",{className:`w-full ${$.name==="name"?"agent-form-name":""} ${$.name==="system"?"agent-form-system-prompt":""}`,children:[b.jsxs(Tu,{htmlFor:$.name,className:"text-sm font-normal block mb-2",children:[$.title,$.name in nu&&nu[$.name]===l0.REQUIRED&&b.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),$.fieldType==="textarea"?b.jsx(Ah,{id:$.name,name:$.name,value:$.getValue(e),onChange:G,className:"min-h-[120px] resize-y"}):$.fieldType==="checkbox"?b.jsx(pn,{id:$.name,name:$.name,type:"checkbox",checked:e[$.name]==="true",onChange:G}):$.fieldType==="select"?b.jsxs(Ys,{name:$.name,value:$.getValue(e),onValueChange:a(q=>J(q,$.name),"onValueChange"),children:[b.jsx(es,{children:b.jsx(Zs,{placeholder:$.name.includes("voice.model")&&x?"Loading voice models...":"Select a voice model"})}),b.jsx(ts,{children:$.name==="settings.voice.model"?b.jsxs(b.Fragment,{children:[b.jsx(Yg,{children:b.jsx(Ar,{value:"none",children:"No Voice"})}),b.jsx(Hy,{}),b.jsxs(Yg,{children:[b.jsx(Uy,{children:"OpenAI Voices"}),gT.map(q=>b.jsx(Ar,{value:q.value,children:q.label.replace("OpenAI - ","")},q.value))]}),b.jsx(Hy,{}),b.jsxs(Yg,{children:[b.jsx(Uy,{children:"ElevenLabs Voices"}),n4.map(q=>b.jsx(Ar,{value:q.value,children:q.label.replace("ElevenLabs - ","")},q.value)),y&&y.length>0&&y.map(q=>b.jsx(Ar,{value:q.value,children:q.label.replace("ElevenLabs - ","")},q.value))]})]}):$.options?.map(q=>b.jsx(Ar,{value:q.value,children:q.label},q.value))})]}):b.jsx(pn,{id:$.name,name:$.name,type:$.fieldType,value:$.getValue(e),onChange:G}),$.description&&b.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:$.description})]},$.name),"renderInputField"),Me=a($=>b.jsxs("div",{className:"w-full",children:[b.jsxs(Tu,{htmlFor:$.path,className:"text-sm font-normal block mb-2",children:[$.title,$.path in nu&&nu[$.path]===l0.REQUIRED&&b.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),b.jsx(jG,{data:$.getData(e),onChange:a(q=>ce($.path,q),"onChange")}),$.description&&b.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:$.description})]},$.path),"renderArrayField"),X=a(()=>{r4(e,m)},"handleExportJSON");function oe($){return typeof $=="object"&&$!==null&&("lore"in $||"clients"in $||"modelProvider"in $)}a(oe,"isV1Character");const ee=a(async $=>{const q=$.target.files?.[0];if(q)try{const K=await q.text();let le=JSON.parse(K);oe(le)&&(le=k(le));const ue=Object.keys(nu).filter(ie=>{if(nu[ie]!==l0.REQUIRED)return!1;const et=ie.split(".");let Pe=le;for(const Ke of et)if(Pe=Pe?.[Ke],Pe===void 0)return!0;return!1});if(ue.length>0){m({title:"Import Failed",description:`Missing required fields: ${ue.join(", ")}`,variant:"destructive"});return}t.importAgent?t.importAgent(le):console.warn("Missing importAgent method"),m({title:"Agent Imported",description:"Agent data has been successfully loaded."})}catch(K){m({title:"Import Failed",description:K instanceof Error?K.message:"Invalid JSON file",variant:"destructive"})}finally{$.target.value=""}},"handleImportJSON"),te=U.useRef(null),fe=a(()=>{te.current?.click()},"handleImportClick"),xe=U.useMemo(()=>{const $=[];return l&&$.push({label:"Stop Agent",description:"Stop running",onClick:l}),s&&$.push({label:"Delete Agent",description:"Delete permanently",onClick:a(()=>s(),"onClick")}),$},[l,s]),Re=U.useCallback($=>{if(R($),$==="none"&&o){o();return}const q=yT($);q&&t.importAgent&&(t.importAgent(q.template),d?.())},[o,t,d]),de=[...H.map($=>({value:$.sectionValue,label:$.sectionTitle,shortLabel:$.sectionTitle.split(" ")[0]})),...h.map($=>({value:`custom-${$.name}`,label:$.name,shortLabel:$.shortLabel||$.name.split(" ")[0]}))];return b.jsxs("div",{ref:p,className:"w-full max-w-full mx-auto p-6 sm:p-8 h-full overflow-y-auto",children:[(r||n)&&b.jsxs("div",{className:"mb-8",children:[r&&b.jsx("h1",{className:"text-2xl font-semibold mb-2",children:r}),n&&b.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:n})]}),b.jsxs("div",{className:"mb-8",children:[b.jsx(Tu,{htmlFor:"template-selector",className:"text-sm",children:"Start with a template"}),b.jsxs(Ys,{value:M,onValueChange:Re,children:[b.jsx(es,{className:"w-full mt-1",children:b.jsx(Zs,{placeholder:"None (blank start)"})}),b.jsx(ts,{children:bT.map($=>b.jsx(Ar,{value:$.id,children:b.jsx(Au,{children:b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx("span",{className:"w-full text-left",children:$.label})}),b.jsx(nn,{side:"right",children:b.jsx("p",{className:"max-w-xs",children:$.description})})]})})},$.id))})]})]}),b.jsxs("form",{onSubmit:se,children:[b.jsxs(t4,{value:P,onValueChange:L,className:"w-full",children:[b.jsxs("div",{className:"relative mb-4",children:[Z&&b.jsx(dt,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-background/80 backdrop-blur-sm shadow-md",onClick:a(()=>O("left"),"onClick"),children:b.jsx(sU,{className:"h-4 w-4"})}),b.jsx("div",{ref:z,className:"overflow-x-auto scrollbar-hide",children:b.jsx(cm,{className:"inline-flex h-10 items-center justify-start text-muted-foreground w-full",children:de.map($=>b.jsx(Rd,{value:$.value,className:Ue("whitespace-nowrap",!E&&"px-2 text-xs"),children:E?$.label:$.shortLabel},$.value))})}),ae&&b.jsx(dt,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-background/80 backdrop-blur-sm shadow-md",onClick:a(()=>O("right"),"onClick"),children:b.jsx(uA,{className:"h-4 w-4"})})]}),b.jsxs("div",{className:"max-h-[100vh] overflow-y-auto pb-4 px-1",children:[H.map($=>b.jsx(va,{value:$.sectionValue,className:"space-y-6 mt-0 focus:outline-none",children:$.sectionType==="input"?$.fields.map(ye):$.fields.map(Me)},$.sectionValue)),h.map($=>b.jsx(va,{value:`custom-${$.name}`,className:"mt-0 focus:outline-none",children:b.jsx("div",{className:"h-full",children:$.component})},`custom-${$.name}`))]})]}),b.jsxs("div",{className:"flex items-center justify-between w-full mt-6",children:[b.jsxs(Pd,{children:[b.jsx(Ld,{asChild:!0,children:b.jsxs(dt,{type:"button",variant:"outline",size:"icon",className:"flex-shrink-0 p-2.5",children:[b.jsx(cA,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"More options"})]})}),b.jsxs(Dd,{align:"start",side:"top",children:[b.jsxs(Ja,{onClick:fe,children:[b.jsx(oU,{className:"h-4 w-4 mr-2"}),"Import"]}),b.jsxs(Ja,{onClick:X,children:[b.jsx(dA,{className:"h-4 w-4 mr-2"}),"Export"]}),xe.length>0&&b.jsx(j0,{}),xe.length>0&&xe.map($=>{const q=$.label==="Stop Agent",K=$.label==="Delete Agent",le=q?c:K?u:!1;return b.jsxs(Ja,{onClick:$.onClick,disabled:le,className:K?"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50":"",children:[le?b.jsx(Fn,{className:"h-4 w-4 animate-spin mr-2"}):q?b.jsx(D2,{className:"h-4 w-4 mr-2"}):b.jsx(xh,{className:"h-4 w-4 mr-2"}),le?`${q?"Stopping":"Deleting"}...`:$.label]},$.label)})]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Au,{children:b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsxs(dt,{type:"button",variant:"outline",onClick:a(()=>{o?.()},"onClick"),children:[b.jsx(hA,{className:"h-4 w-4"}),b.jsx("span",{className:"ml-2",children:"Reset"})]})}),b.jsx(nn,{children:b.jsx("p",{children:"Reset all form fields to their original values"})})]})}),b.jsx(Au,{children:b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx(dt,{type:"submit",disabled:A,className:"agent-form-submit",children:A?b.jsxs(b.Fragment,{children:[b.jsx(Fn,{className:"h-4 w-4 animate-spin"}),b.jsx("span",{className:"ml-2",children:"Saving..."})]}):b.jsxs(b.Fragment,{children:[b.jsx(fA,{className:"h-4 w-4"}),b.jsx("span",{className:"ml-2",children:"Save"})]})})}),b.jsx(nn,{children:b.jsx("p",{children:"Save all changes to the agent configuration"})})]})})]}),b.jsx("input",{ref:te,type:"file",accept:".json",onChange:ee,className:"hidden"})]})]}),b.jsx(QG,{open:W,onOpenChange:f,missingSecrets:(()=>{let $=[];if(g?.current)$=g.current.validateSecrets().missingSecrets;else{const q=e.settings?.secrets,K=q&&typeof q=="object"&&!Array.isArray(q)?q:{};$=N.filter(le=>{const ue=K[le.name];if(ue&&typeof ue=="string"&&ue.trim()!=="")return!1;const ie=_[le.name];return!(ie&&ie.trim()!=="")}).map(le=>le.name)}return $.map(q=>{const K=N.find(le=>le.name===q);return{name:q,plugin:K?.plugin,description:K?.description}})})(),onConfirm:Ye,onCancel:Te})]})}a(zP,"CharacterForm");function FP({characterValue:e,setCharacterValue:t}){const r=a(()=>{const d=e?.settings?.avatar;return typeof d=="string"?d:null},"getAvatarUrl"),[n,i]=U.useState(r()),[s,o]=U.useState(!1),l=U.useRef(null);U.useEffect(()=>{i(r()),o(!1)},[e.id]);const u=a(async d=>{const g=d.target.files?.[0];if(g)try{const m=await nT(g);i(m),o(!0),h(m)}catch(m){console.error("Error compressing image:",m)}},"handleFileUpload"),c=a(()=>{n&&(i(null),o(!0),h(""))},"handleRemoveAvatar"),h=a(d=>{t.updateAvatar?t.updateAvatar(d):t.updateSetting?t.updateSetting("avatar",d):t.updateField&&t.updateField("settings.avatar",d)},"updateCharacterAvatar");return b.jsxs("div",{className:"rounded-lg w-full",children:[b.jsx("h2",{className:"text-xl font-bold mb-4 pb-5 ml-1",children:"Avatar Settings"}),b.jsxs("div",{className:"flex flex-col items-center gap-4 pb-4 max-w-sm mx-auto",children:[n?b.jsx("div",{className:"w-64 h-64 mb-2",children:b.jsx("img",{src:n,alt:"Agent Avatar",className:"object-cover w-full h-full rounded-lg border"})}):b.jsx("div",{className:"w-64 h-64 flex items-center justify-center border border-dashed rounded-lg text-gray-500 mb-2 cursor-pointer hover:bg-gray-50 transition-colors",onClick:a(()=>l.current?.click(),"onClick"),children:b.jsxs("div",{className:"flex flex-col items-center gap-2",children:[b.jsx(lU,{className:"w-10 h-10"}),b.jsx("span",{className:"text-sm",children:"Click to upload"})]})}),b.jsxs("div",{className:"flex flex-col gap-3 w-64",children:[b.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:l,onChange:u}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs(dt,{type:"button",className:"flex items-center gap-2 flex-1",onClick:a(()=>l.current?.click(),"onClick"),children:[b.jsx(uU,{className:"w-5 h-5"}),n?"Replace":"Upload"]}),n&&b.jsx(dt,{type:"button",variant:"outline",className:"flex items-center",onClick:c,children:b.jsx(yi,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-muted-foreground mt-1",children:[b.jsx(j2,{className:"w-3.5 h-3.5"}),b.jsxs("span",{children:["Images greater than ",Id,"x",Id," will be resized"]})]})]})]})]})}a(FP,"AvatarPanel");const Iw=Uk,wse=Hk,_se=Gk,UP=U.forwardRef(({className:e,...t},r)=>b.jsx(Kp,{ref:r,className:Ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));UP.displayName=Kp.displayName;const Xm=U.forwardRef(({className:e,children:t,...r},n)=>b.jsxs(_se,{children:[b.jsx(UP,{}),b.jsxs(Jp,{ref:n,className:Ue("fixed left-[50%] top-[50%] z-50 bg-card grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,b.jsxs(Vk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[b.jsx(yi,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xm.displayName=Jp.displayName;const Jm=a(({className:e,...t})=>b.jsx("div",{className:Ue("flex flex-col space-y-1.5 text-center sm:text-left",e),...t}),"DialogHeader");Jm.displayName="DialogHeader";const Mw=a(({className:e,...t})=>b.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t}),"DialogFooter");Mw.displayName="DialogFooter";const Km=U.forwardRef(({className:e,...t},r)=>b.jsx(Wp,{ref:r,className:Ue("text-lg font-semibold leading-none tracking-tight",e),...t}));Km.displayName=Wp.displayName;const Ow=U.forwardRef(({className:e,...t},r)=>b.jsx(Qp,{ref:r,className:Ue("text-sm text-muted-foreground",e),...t}));Ow.displayName=Qp.displayName;const fo={"@elizaos/plugin-sql":{title:"Essential Plugin: SQL",description:"Provides memory and state storage. If removed, replace with an adapter plugin or your agent may lose conversation history and memory capabilities."},"@elizaos/plugin-openai":{title:"Essential Plugin: OpenAI",description:"Provides language model access. If removed, replace with another LLM plugin or your agent may fail to function properly."},"@elizaos/plugin-bootstrap":{title:"Essential Plugin: Bootstrap",description:"Provides default message processing, event handling, and attachment workflows for your agent. If removed, ensure you have a custom plugin handling these responsibilities, or your agent may not process events or respond to messages as expected."}};function HP({characterValue:e,setCharacterValue:t,initialPlugins:r}){const{data:n,error:i}=BP(),{toast:s}=Br(),[o,l]=U.useState(""),[u,c]=U.useState(!1),[h,d]=U.useState(null),[g,m]=U.useState(!1),y=U.useMemo(()=>Array.isArray(e?.plugins)?e.plugins:[],[e?.plugins]),x=U.useMemo(()=>{const Y=["@elizaos/plugin-sql"];return n?[...Y,...(Array.isArray(n)?n:Object.keys(n)).filter(ae=>!Y.includes(ae))]:Y},[n]),A=U.useMemo(()=>{const Y=e?.settings;if(!Y||typeof Y!="object"||Array.isArray(Y))return null;const ae=Y.voice;if(!ae||typeof ae!="object"||Array.isArray(ae))return null;const F=ae.model;if(!F||typeof F!="string")return null;const W=Gy(F);if(!W)return null;const f=mT[W.provider],w=y.includes(f);return{provider:W.provider,requiredPlugin:f,isPluginEnabled:w}},[e?.settings,y]),C=U.useMemo(()=>r?r.length!==y.length?!0:!r?.every(Y=>y.includes(Y)):!1,[y,r]),M=U.useMemo(()=>x.filter(Y=>!y.includes(Y)).filter(Y=>Y.toLowerCase().includes(o.toLowerCase())),[x,y,o]),R=a(Y=>{if(!y.includes(Y)){if(t.addPlugin)t.addPlugin(Y);else if(t.updateField){const ae=Array.isArray(e.plugins)?[...e.plugins]:[];t.updateField("plugins",[...ae,Y])}}},"handlePluginAdd"),P=a(Y=>{if(Object.keys(fo).includes(Y)){d(Y),m(!0);return}L(Y)},"handlePluginRemove"),L=a(Y=>{const ae=y.indexOf(Y);if(ae!==-1){if(t.removePlugin)t.removePlugin(ae);else if(t.updateField){const F=[...y];F.splice(ae,1),t.updateField("plugins",F)}}},"removePlugin"),z=a(()=>{h&&(L(h),d(null)),m(!1)},"handleConfirmRemoval"),Z=a(()=>{d(null),m(!1)},"handleCancelRemoval");return b.jsx("div",{className:"space-y-6",children:b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Plugins"}),i?b.jsxs("p",{className:"text-destructive",children:["Failed to load plugins: ",i.message]}):b.jsxs("div",{className:"space-y-4",children:[b.jsx(i4,{open:g,onOpenChange:m,children:b.jsxs(dm,{children:[b.jsxs(hm,{children:[b.jsx(pm,{children:h&&Object.keys(fo).includes(h)?fo[h].title:"Warning: Essential Plugin"}),b.jsx(mm,{children:h&&Object.keys(fo).includes(h)?fo[h].description:"This plugin provides essential functionality for your agent."})]}),b.jsxs(fm,{children:[b.jsx(vm,{onClick:Z,children:"Cancel"}),b.jsx(gm,{onClick:z,children:"Confirm Removal"})]})]})}),A&&b.jsxs("div",{className:"rounded-md border p-4 mb-4 flex items-center gap-2",children:[b.jsx(ea,{className:"h-4 w-4 text-yellow-500"}),b.jsx("p",{className:"text-xs text-white",children:(()=>{switch(A.provider){case"elevenlabs":return"ElevenLabs plugin is required for the selected voice model.";case"openai":return"OpenAI plugin is required for the selected voice model.";case"none":return'No voice plugin required for "No Voice" option.';default:return`${A.provider} plugin is required for the selected voice model.`}})()})]}),y.length>0&&b.jsxs("div",{className:"rounded-md bg-muted p-4",children:[b.jsx("h4",{className:"text-sm font-medium mb-2",children:"Currently Enabled"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:[...y].sort((Y,ae)=>{const F=Object.keys(fo).includes(Y),W=Object.keys(fo).includes(ae);return F===W?0:F?-1:1}).map(Y=>{const ae=A?.requiredPlugin===Y,F=Object.keys(fo).includes(Y);return b.jsxs(dt,{type:"button",variant:"ghost",size:"sm",className:`inline-flex items-center rounded-full ${F?"bg-blue-800 text-blue-700 hover:bg-blue-600":"bg-primary/10 text-primary hover:bg-primary/20"} px-2.5 py-0.5 text-xs font-medium h-auto`,title:ae?"Required by voice model":F?"Essential plugin for agent functionality":"",children:[F&&b.jsx("span",{className:"w-2 h-2 rounded-full bg-white inline-block"}),b.jsx("span",{className:"text-white font-semibold",children:Y}),b.jsx("span",{className:am("ml-1 opacity-70 hover:opacity-100",F&&"text-white"),onClick:a(()=>{if(ae){s({title:"Can't Remove Plugin",description:"This plugin is required by the selected voice model.",variant:"destructive"});return}P(Y)},"onClick"),children:""})]},Y)})}),b.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:b.jsxs("span",{className:"inline-flex items-center",children:[b.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 mr-1"}),"Essential plugins provide core functionality"]})})]}),b.jsx("div",{className:"space-y-2",children:b.jsxs(Iw,{open:u,onOpenChange:c,children:[b.jsx(wse,{asChild:!0,children:b.jsx(dt,{variant:"outline",className:"w-full justify-start",children:"Search and add plugins..."})}),b.jsxs(Xm,{className:"max-w-[400px]",children:[b.jsx(Jm,{children:b.jsx(Km,{children:"Add Plugins"})}),b.jsxs("div",{className:"space-y-4 py-4",children:[b.jsx("div",{className:"space-y-2",children:b.jsx(pn,{type:"search",placeholder:"Search plugins...",value:o,onChange:a(Y=>l(Y.target.value),"onChange")})}),b.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:M.length===0?b.jsx("p",{className:"text-sm text-muted-foreground",children:"No plugins found."}):M.map(Y=>b.jsx(dt,{variant:"ghost",className:"w-full justify-start font-normal",onClick:a(()=>{R(Y),l(""),c(!1)},"onClick"),children:Y},Y))})]})]})]})}),C&&b.jsx("p",{className:"text-xs text-yellow-500",children:"Plugins configuration has been changed"})]})]})})})}a(HP,"PluginsPanel");const GP=U.forwardRef(({className:e,children:t,...r},n)=>b.jsxs(pA,{ref:n,className:Ue("relative overflow-hidden",e),...r,children:[b.jsx(cU,{className:"h-full w-full rounded-[inherit]",children:t}),b.jsx(VP,{}),b.jsx(dU,{})]}));GP.displayName=pA.displayName;const VP=U.forwardRef(({className:e,orientation:t="vertical",...r},n)=>b.jsx(mA,{ref:n,orientation:t,className:Ue("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:b.jsx(hU,{className:"relative flex-1 rounded-full bg-border"})}));VP.displayName=mA.displayName;const xse=ro("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),B1=U.forwardRef(({className:e,variant:t,...r},n)=>b.jsx("div",{ref:n,role:"alert",className:Ue(xse({variant:t}),e),...r}));B1.displayName="Alert";const Ese=U.forwardRef(({className:e,...t},r)=>b.jsx("h5",{ref:r,className:Ue("mb-1 font-medium leading-none tracking-tight",e),...t}));Ese.displayName="AlertTitle";const z1=U.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,className:Ue("text-sm [&_p]:leading-relaxed",e),...t}));z1.displayName="AlertDescription";const Rw=U.forwardRef(({characterValue:e,onChange:t},r)=>{const[n,i]=U.useState([]),[s,o]=U.useState(""),[l,u]=U.useState(""),[c,h]=U.useState(!1),[d,g]=U.useState(null),[m,y]=U.useState(""),[x,A]=U.useState(!1),[C,M]=U.useState([]),[R,P]=U.useState(new Set),[L,z]=U.useState({}),[Z,Y]=U.useState(!0),[ae,F]=U.useState(!1),[W,f]=U.useState(""),w=U.useRef(null),v=U.useRef(""),_=U.useRef(null),S=U.useRef(""),T=U.useMemo(()=>e?.plugins||[],[e?.plugins]),{requiredSecrets:N,isLoading:k}=jP(T);U.useEffect(()=>{a(async()=>{try{Y(!0);const fe=await Mr().system.getEnvironment();z(fe||{})}catch(te){console.error("Failed to fetch global environment variables:",te),z({})}finally{Y(!1)}},"fetchGlobalEnvs")()},[]);const p=U.useCallback(()=>{const ee={};return n.forEach(({name:te,value:fe})=>{ee[te]=fe}),C.forEach(te=>{ee[te]=null}),ee},[n,C]),E=U.useCallback(()=>{const ee=p(),fe=(k?n.filter(xe=>xe.isRequired):N).filter(xe=>{const Re=typeof xe=="object"&&"name"in xe?xe.name:xe,de=ee[Re];return!(de&&de.trim()!==""||L[Re]&&L[Re].trim()!=="")}).map(xe=>typeof xe=="object"&&"name"in xe?xe.name:xe);return{isValid:fe.length===0,missingSecrets:fe}},[p,N,k,n,L]);U.useImperativeHandle(r,()=>({getSecrets:p,validateSecrets:E}),[p,E]);const I=a(ee=>{P(te=>{const fe=new Set(te);return fe.has(ee)?fe.delete(ee):fe.add(ee),fe})},"toggleSecretVisibility"),O=U.useCallback(()=>{const ee=[];ee.push("# Environment Variables"),ee.push("");const te=n.filter(xe=>xe.isRequired),fe=n.filter(xe=>!xe.isRequired&&xe.value&&xe.value.trim()!=="");return te.length>0&&(ee.push("# Required Secrets"),te.forEach(xe=>{xe.plugin&&ee.push(`# Required by ${xe.plugin}`),xe.description&&ee.push(`# ${xe.description}`),ee.push(`${xe.name}=${xe.value||""}`),ee.push("")})),fe.length>0&&(ee.push("# Optional Variables"),fe.forEach(xe=>{ee.push(`${xe.name}=${xe.value}`)})),ee.join(`
`)},[n]),B=U.useCallback(ee=>{const te=ee.split(`
`),fe={};for(const xe of te){const Re=xe.trim();if(!Re||Re.startsWith("#"))continue;const[de,...$]=Re.split("="),q=$.join("=").trim().replace(/^['"]|['"]$/g,"");de&&de.trim()&&(fe[de.trim()]=q)}return fe},[]),H=a(()=>{const ee=B(W),te=n.map(fe=>{if(ee.hasOwnProperty(fe.name)){const xe=ee[fe.name].startsWith("process.env.")?"":ee[fe.name];return{...fe,value:xe,isModified:fe.value!==xe}}if(fe.isRequired){const xe=`eliza_secret_${fe.name}`,Re=localStorage.getItem(xe);return{...fe,value:Re||"",isModified:fe.value!==(Re||"")}}return null}).filter(Boolean);Object.entries(ee).forEach(([fe,xe])=>{if(!te.some(de=>de.name===fe)){const de=xe.startsWith("process.env.")?"":xe,$=N.find(q=>q.name===fe);te.push({name:fe,value:de,isNew:!0,isModified:!1,isDeleted:!1,isRequired:$?.required||!1,description:$?.description,example:$?.example,plugin:$?.plugin})}}),te.sort((fe,xe)=>fe.isRequired&&!xe.isRequired?-1:!fe.isRequired&&xe.isRequired?1:fe.name.localeCompare(xe.name)),i(te),F(!1)},"handleRawEditorSave"),G=a(()=>{f(O()),F(!0)},"openRawEditor"),J=a(()=>{navigator.clipboard.writeText(W)},"copyEnvContent");U.useEffect(()=>{if(!(k||Z)&&(e.id!==w.current||!w.current||n.length===0)){const ee=Bae(),te=e?.settings?.secrets||{},fe=typeof te=="object"&&!Array.isArray(te)&&te!==null?Fae(te,ee):{},xe=Object.entries(fe).map(([q,K])=>{const le=String(K),ue=le.startsWith("process.env.")?"":le;return{name:q,value:ue,isNew:!1,isModified:!1,isDeleted:!1,isRequired:!1,description:void 0,example:void 0,plugin:void 0}}),Re=new Map(xe.map(q=>[q.name,q])),de=[...xe];N.forEach(q=>{if(Re.has(q.name)){const K=de.findIndex(le=>le.name===q.name);K!==-1&&(de[K]={...de[K],isRequired:!0,description:q.description,example:q.example,plugin:q.plugin})}else{const K=`eliza_secret_${q.name}`,le=localStorage.getItem(K);de.push({name:q.name,value:le||"",isNew:!0,isModified:!1,isDeleted:!1,isRequired:!0,description:q.description,example:q.example,plugin:q.plugin})}}),de.sort((q,K)=>q.isRequired&&!K.isRequired?-1:!q.isRequired&&K.isRequired?1:q.name.localeCompare(K.name)),i(de),M([]),w.current=e.id||"new-agent";const $=N.map(q=>q.name).sort().join(",");S.current=$}},[e.id,e.settings?.secrets,N,k,L,Z]),U.useEffect(()=>{if(k)return;const ee=N.map(fe=>fe.name).sort().join(",");if(ee===S.current)return;S.current=ee;const te=new Set(N.map(fe=>fe.name));i(fe=>{const xe=fe.map(de=>{const $=te.has(de.name),q=N.find(K=>K.name===de.name);return de.isRequired&&!$?(setTimeout(()=>{M(K=>K.includes(de.name)?K:[...K,de.name])},0),null):$&&q?{...de,isRequired:!0,description:q.description,example:q.example,plugin:q.plugin}:{...de,isRequired:$,description:$?de.description:void 0,example:$?de.example:void 0,plugin:$?de.plugin:void 0}}).filter(Boolean),Re=new Set(xe.map(de=>de.name));return N.forEach(de=>{if(!Re.has(de.name)){const $=`eliza_secret_${de.name}`,q=localStorage.getItem($);xe.push({name:de.name,value:q||"",isNew:!0,isModified:!1,isDeleted:!1,isRequired:!0,description:de.description,example:de.example,plugin:de.plugin})}}),xe.sort((de,$)=>de.isRequired&&!$.isRequired?-1:!de.isRequired&&$.isRequired?1:de.name.localeCompare($.name)),xe})},[N,k,L]),U.useEffect(()=>{const ee=new Set(N.map(te=>te.name));i(te=>te.filter(xe=>{const Re=ee.has(xe.name)||!xe.isRequired&&xe.value&&xe.value.trim()!=="";return!Re&&xe.isRequired&&M(de=>de.includes(xe.name)?de:[...de,xe.name]),Re}))},[N]),U.useEffect(()=>{if(!t)return;const ee=setTimeout(()=>{const te=p(),fe=new Set(n.map($=>$.name)),xe=e?.settings?.secrets||{};Object.keys(xe).forEach($=>{!fe.has($)&&!C.includes($)&&(te[$]=null)}),n.forEach($=>{if(!C.includes($.name)&&$.value&&$.value.trim()!==""){const q=`eliza_secret_${$.name}`;localStorage.setItem(q,$.value)}});const Re=Object.keys(te).sort().reduce(($,q)=>($[q]=te[q],$),{}),de=JSON.stringify(Re);de!==v.current&&(v.current=de,t(te))},100);return()=>clearTimeout(ee)},[n,C,t,e?.settings?.secrets,p]);const ce=U.useCallback(ee=>{const te=new FileReader;te.onload=fe=>{const Re=(fe.target?.result).split(`
`),de={};for(const $ of Re){const q=$.trim();if(!q||q.startsWith("#"))continue;const[K,...le]=q.split("="),ue=le.join("=").trim().replace(/^['"]|['"]$/g,"");K&&(de[K.trim()]=ue)}i($=>{const q=new Map($.map(({name:le,value:ue,...ie})=>[le,{value:ue,...ie}]));for(const[le,ue]of Object.entries(de)){const ie=ue.startsWith("process.env.")?"":ue,et=q.get(le);if(et)q.set(le,{...et,value:ie,isModified:!0});else{const Pe=N.find(Ke=>Ke.name===le);q.set(le,{value:ie,isNew:!0,isModified:!1,isRequired:Pe?.required||!1,description:Pe?.description,example:Pe?.example,plugin:Pe?.plugin})}}const K=Array.from(q.entries()).map(([le,ue])=>({name:le,...ue}));return K.sort((le,ue)=>le.isRequired&&!ue.isRequired?-1:!le.isRequired&&ue.isRequired?1:le.name.localeCompare(ue.name)),K}),C.length>0&&M($=>$.filter(q=>!Object.keys(de).includes(q)))},te.readAsText(ee)},[N,C]);U.useEffect(()=>{const ee=_.current;if(!ee)return;const te=a(de=>{de.preventDefault(),de.stopPropagation()},"preventDefaults"),fe=a(()=>{A(!0)},"highlight"),xe=a(()=>{A(!1)},"unhighlight"),Re=a(de=>{te(de),xe();const $=de.dataTransfer?.files?.[0];$&&$.name.endsWith(".env")&&ce($)},"handleDrop");return["dragenter","dragover"].forEach(de=>ee.addEventListener(de,fe)),["dragleave","drop"].forEach(de=>ee.addEventListener(de,xe)),["dragenter","dragover","dragleave","drop"].forEach(de=>ee.addEventListener(de,te)),ee.addEventListener("drop",Re),()=>{["dragenter","dragover","dragleave","drop"].forEach(de=>ee.removeEventListener(de,te)),["dragenter","dragover"].forEach(de=>ee.removeEventListener(de,fe)),["dragleave","drop"].forEach(de=>ee.removeEventListener(de,xe)),ee.removeEventListener("drop",Re)}},[ce]);const ne=a(()=>{if(s&&l){const ee=n.some(fe=>fe.name===s),te=l.startsWith("process.env.")?"":l;if(ee){i(n.map(xe=>xe.name===s?{...xe,value:te,isModified:!0}:xe));const fe=`eliza_secret_${s}`;localStorage.setItem(fe,te),o(""),u("")}else{C.includes(s)&&M(C.filter($=>$!==s));const fe=N.find($=>$.name===s),xe={name:s,value:te,isNew:!0,isRequired:fe?.required||!1,description:fe?.description,example:fe?.example,plugin:fe?.plugin},Re=`eliza_secret_${s}`;localStorage.setItem(Re,te);const de=[...n,xe];de.sort(($,q)=>$.isRequired&&!q.isRequired?-1:!$.isRequired&&q.isRequired?1:$.name.localeCompare(q.name)),i(de),o(""),u("")}}},"addEnv"),se=a(ee=>{d!==null&&d!==ee&&g(null),g(ee),y(n[ee].value),P(te=>new Set(te).add(ee))},"startEditing"),Ye=a(ee=>{const te=[...n],fe=m.startsWith("process.env.")?"":m;if(te[ee].value!==fe){te[ee].value=fe,te[ee].isModified=!0;const xe=`eliza_secret_${te[ee].name}`;localStorage.setItem(xe,fe)}i(te),g(null),y(""),P(xe=>{const Re=new Set(xe);return Re.delete(ee),Re})},"saveEdit"),Te=a(()=>{const ee=d;g(null),y(""),ee!==null&&P(te=>{const fe=new Set(te);return fe.delete(ee),fe})},"cancelEdit"),ye=a(ee=>{const te=n[ee].name,fe=`eliza_secret_${te}`;localStorage.removeItem(fe),M([...C,te]),i(n.filter((xe,Re)=>Re!==ee)),g(null)},"removeEnv"),Me=N.filter(ee=>{const te=n.find(Re=>Re.name===ee.name),fe=te&&te.value&&te.value.trim()!=="",xe=L[ee.name]&&L[ee.name].trim()!=="";return!fe&&!xe}),X=U.useCallback(ee=>L[ee]&&L[ee].trim()!=="",[L]),oe="scrollbar-visible";return b.jsxs("div",{className:"w-full h-full flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h2",{className:"text-lg font-semibold",children:"Variables"}),b.jsxs(ya,{variant:"secondary",className:"text-xs",children:[n.filter(ee=>ee.value&&ee.value.trim()!=="").length," Service Variables"]})]}),b.jsxs(dt,{type:"button",variant:"outline",size:"sm",onClick:G,className:"flex items-center gap-2",children:[b.jsx(ml,{className:"w-4 h-4"}),"Raw Editor"]})]}),b.jsx(GP,{className:"flex-1",children:b.jsxs("div",{className:"p-4 space-y-4",children:[(k||Z)&&b.jsxs("div",{className:"space-y-2",children:[b.jsx(Od,{className:"h-4 w-48"}),b.jsx(Od,{className:"h-4 w-64"})]}),!k&&!Z&&Me.length>0&&b.jsxs(B1,{children:[b.jsx(ea,{className:"h-4 w-4"}),b.jsxs(z1,{children:[b.jsx("strong",{children:"Missing required secrets:"}),b.jsx("ul",{className:"mt-2 space-y-1",children:Me.map(ee=>b.jsxs("li",{className:"text-sm",children:[" ",b.jsx("code",{className:"font-mono",children:ee.name}),ee.plugin&&b.jsxs("span",{className:"text-muted-foreground ml-1",children:["(required by ",ee.plugin,")"]})]},ee.name))})]})]}),!k&&!Z&&N.some(ee=>X(ee.name)&&!n.find(te=>te.name===ee.name)?.value)&&b.jsxs(B1,{className:"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20",children:[b.jsx(Bg,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),b.jsxs(z1,{className:"text-blue-800 dark:text-blue-200",children:[b.jsx("strong",{children:"Global environment variables detected:"}),b.jsx("p",{className:"text-sm mt-1",children:"Some required secrets are automatically using values from your global environment settings. To override any of these for this specific agent, simply enter a new value in the field."})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"hidden md:grid md:grid-cols-[minmax(200px,1fr)_2fr_auto] gap-2 items-end",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"new-secret-name",className:"text-xs font-medium text-muted-foreground uppercase",children:"Name"}),b.jsx(pn,{id:"new-secret-name",placeholder:"VARIABLE_NAME",value:s,onChange:a(ee=>o(ee.target.value),"onChange"),className:"font-mono text-sm",onKeyDown:a(ee=>{ee.key==="Enter"&&(ee.preventDefault(),ne())},"onKeyDown")})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"new-secret-value",className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`rounded border ${oe}`,children:b.jsx(pn,{id:"new-secret-value",type:c?"text":"password",placeholder:"Enter value...",value:l,onChange:a(ee=>u(ee.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},onKeyDown:a(ee=>{ee.key==="Enter"&&(ee.preventDefault(),ne())},"onKeyDown")})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:a(()=>h(!c),"onClick"),children:c?b.jsx(Ps,{className:"w-4 h-4"}):b.jsx(Ya,{className:"w-4 h-4"})})]})]}),b.jsx(dt,{type:"button",onClick:ne,size:"sm",children:"Add"})]}),b.jsxs("div",{className:"md:hidden space-y-3",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"new-secret-name-mobile",className:"text-xs font-medium text-muted-foreground uppercase",children:"Name"}),b.jsx(pn,{id:"new-secret-name-mobile",placeholder:"VARIABLE_NAME",value:s,onChange:a(ee=>o(ee.target.value),"onChange"),className:"font-mono text-sm w-full",onKeyDown:a(ee=>{ee.key==="Enter"&&(ee.preventDefault(),document.getElementById("new-secret-value-mobile")?.focus())},"onKeyDown")})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"new-secret-value-mobile",className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`rounded border ${oe}`,children:b.jsx(pn,{id:"new-secret-value-mobile",type:c?"text":"password",placeholder:"Enter value...",value:l,onChange:a(ee=>u(ee.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},onKeyDown:a(ee=>{ee.key==="Enter"&&(ee.preventDefault(),ne())},"onKeyDown")})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:a(()=>h(!c),"onClick"),children:c?b.jsx(Ps,{className:"w-4 h-4"}):b.jsx(Ya,{className:"w-4 h-4"})})]})]}),b.jsx(dt,{type:"button",onClick:ne,size:"sm",className:"w-full",children:"Add Variable"})]})]}),n.length>0&&b.jsxs(Au,{children:[b.jsxs("div",{className:"hidden md:block border rounded-lg overflow-hidden relative",children:[b.jsx("div",{className:"bg-muted/50 px-4 py-2 border-b",children:b.jsxs("div",{className:"grid grid-cols-[minmax(200px,1fr)_2fr_auto] gap-4 text-xs font-medium text-muted-foreground uppercase",children:[b.jsx("div",{children:"Name"}),b.jsx("div",{children:"Value"}),b.jsx("div",{className:"text-center",children:"Actions"})]})}),b.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:n.map((ee,te)=>b.jsxs("div",{className:`grid grid-cols-[minmax(200px,1fr)_2fr_auto] gap-4 items-center px-4 py-3 border-b last:border-b-0 hover:bg-muted/10 transition-colors ${ee.isRequired&&(!ee.value||ee.value.trim()==="")&&!X(ee.name)?"bg-red-500/5":""}`,children:[b.jsxs("div",{className:"pr-2",children:[b.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[b.jsx("code",{className:"font-mono text-sm font-medium break-words cursor-default",children:ee.name}),ee.isRequired&&b.jsx(ya,{variant:"outline",className:"text-xs shrink-0",children:"Required"}),X(ee.name)&&b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsxs(ya,{variant:"secondary",className:"text-xs shrink-0 flex items-center gap-1",children:[b.jsx(Bg,{className:"w-3 h-3"}),"Global"]})}),b.jsx(nn,{children:b.jsx("p",{children:ee.value?"Overriding global value":"Value pulled from global environment. Add new value to override."})})]})]}),ee.description&&b.jsx("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:ee.description}),ee.plugin&&b.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["Required by: ",ee.plugin]})]}),b.jsx("div",{className:"min-w-0",children:d===te?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"relative flex-1",children:b.jsx("div",{className:`rounded border ${oe}`,children:b.jsx(pn,{value:m,onChange:a(fe=>y(fe.target.value),"onChange"),className:"font-mono text-sm border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},type:R.has(te)?"text":"password",placeholder:X(ee.name)&&!ee.value?"Using global (enter to override)":ee.example||"Enter value...",autoFocus:!0,onKeyDown:a(fe=>{fe.key==="Enter"?(fe.preventDefault(),Ye(te)):fe.key==="Escape"&&Te()},"onKeyDown")})})}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>I(te),"onClick"),className:"h-8 w-8 p-0",children:R.has(te)?b.jsx(Ps,{className:"w-4 h-4"}):b.jsx(Ya,{className:"w-4 h-4"})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>Ye(te),"onClick"),className:"h-8 w-8 p-0 text-green-600 hover:text-green-700",children:b.jsx(Ks,{className:"w-4 h-4"})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:Te,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:b.jsx(yi,{className:"w-4 h-4"})})]})]}):b.jsxs("div",{className:"flex items-center gap-2 group",children:[b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx("div",{className:`flex-1 border rounded px-3 py-1 ${oe}`,children:R.has(te)?b.jsx("code",{className:"font-mono text-sm whitespace-nowrap block",children:ee.value||b.jsx("span",{className:"text-muted-foreground italic",children:X(ee.name)?"Using global value":ee.example?`e.g. ${ee.example}`:"Not set"})}):ee.value?b.jsx("code",{className:"font-mono text-sm text-muted-foreground block",children:""}):b.jsx("span",{className:"text-muted-foreground italic text-sm block",children:X(ee.name)?"Using global value":"Not set"})})}),X(ee.name)&&b.jsx(nn,{className:"max-w-xs",children:b.jsxs("div",{className:"space-y-1",children:[b.jsx("p",{className:"font-semibold",children:"Global Environment Variable"}),b.jsx("p",{className:"text-sm",children:ee.value?"You've entered a custom value for this agent. This overrides the global environment setting. Clear the field to use the global value.":"This secret is currently using the value from your global environment settings. The actual value is hidden for security. Enter a value here if you want to override it for this agent only."})]})})]}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>I(te),"onClick"),className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:R.has(te)?b.jsx(Ps,{className:"w-4 h-4"}):b.jsx(Ya,{className:"w-4 h-4"})})]})}),b.jsxs("div",{className:"flex items-center justify-center gap-1",children:[b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>se(te),"onClick"),disabled:d!==null&&d!==te,className:"h-8 w-8 p-0",children:b.jsx(f_,{className:"w-4 h-4"})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>ye(te),"onClick"),disabled:d!==null,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:b.jsx(kl,{className:"w-4 h-4"})})]})]},`${ee.name}-${te}`))})]}),b.jsx("div",{className:"md:hidden space-y-3",children:n.map((ee,te)=>b.jsxs("div",{className:`border rounded-lg p-4 space-y-3 ${ee.isRequired&&(!ee.value||ee.value.trim()==="")?"border-red-500/50 bg-red-500/5":""}`,children:[b.jsx("div",{className:"space-y-1",children:b.jsxs("div",{className:"flex items-start justify-between gap-2",children:[b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[b.jsx("code",{className:"font-mono text-sm font-medium break-all",children:ee.name}),ee.isRequired&&b.jsx(ya,{variant:"outline",className:"text-xs",children:"Required"}),X(ee.name)&&b.jsxs(ya,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[b.jsx(Bg,{className:"w-3 h-3"}),"Global"]})]}),ee.description&&b.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:ee.description}),ee.plugin&&b.jsxs("div",{className:"text-xs text-muted-foreground",children:["Required by: ",ee.plugin]})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>se(te),"onClick"),disabled:d!==null&&d!==te,className:"h-8 w-8 p-0",children:b.jsx(f_,{className:"w-4 h-4"})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>ye(te),"onClick"),disabled:d!==null,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:b.jsx(kl,{className:"w-4 h-4"})})]})]})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),d===te?b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`rounded border ${oe}`,children:b.jsx(pn,{value:m,onChange:a(fe=>y(fe.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},type:R.has(te)?"text":"password",placeholder:X(ee.name)&&!ee.value?"Using global (enter to override)":ee.example||"Enter value...",autoFocus:!0,onKeyDown:a(fe=>{fe.key==="Enter"?(fe.preventDefault(),Ye(te)):fe.key==="Escape"&&Te()},"onKeyDown")})}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>I(te),"onClick"),className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",children:R.has(te)?b.jsx(Ps,{className:"w-4 h-4"}):b.jsx(Ya,{className:"w-4 h-4"})})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs(dt,{type:"button",variant:"outline",size:"sm",onClick:a(()=>Ye(te),"onClick"),className:"flex-1",children:[b.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Save"]}),b.jsxs(dt,{type:"button",variant:"ghost",size:"sm",onClick:Te,className:"flex-1",children:[b.jsx(yi,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx("div",{className:`flex-1 border rounded px-3 py-1 ${oe}`,children:R.has(te)?b.jsx("code",{className:"font-mono text-sm whitespace-nowrap block",children:ee.value||b.jsx("span",{className:"text-muted-foreground italic",children:X(ee.name)?"Using global value":ee.example?`e.g. ${ee.example}`:"Not set"})}):ee.value?b.jsx("code",{className:"font-mono text-sm text-muted-foreground block",children:""}):b.jsx("span",{className:"text-muted-foreground italic text-sm block",children:X(ee.name)?"Using global value":"Not set"})})}),X(ee.name)&&b.jsx(nn,{className:"max-w-xs",children:b.jsxs("div",{className:"space-y-1",children:[b.jsx("p",{className:"font-semibold",children:"Global Environment Variable"}),b.jsx("p",{className:"text-sm",children:ee.value?"You've entered a custom value for this agent. This overrides the global environment setting. Clear the field to use the global value.":"This secret is currently using the value from your global environment settings. The actual value is hidden for security. Enter a value here if you want to override it for this agent only."})]})})]}),b.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>I(te),"onClick"),className:"h-8 w-8 p-0",children:R.has(te)?b.jsx(Ps,{className:"w-4 h-4"}):b.jsx(Ya,{className:"w-4 h-4"})})]})]})]},`${ee.name}-${te}-mobile`))})]}),b.jsxs("div",{ref:_,className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${x?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,onClick:a(()=>document.getElementById("env-upload")?.click(),"onClick"),children:[b.jsx(fU,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Drag & drop ",b.jsx("code",{className:"bg-muted px-1 rounded",children:".env"})," file or click to select"]}),b.jsx("input",{id:"env-upload",type:"file",accept:"*/*",className:"hidden",onChange:a(ee=>{const te=ee.target.files?.[0];te&&te.name.endsWith(".env")&&ce(te)},"onChange")})]})]})}),b.jsx(Iw,{open:ae,onOpenChange:F,children:b.jsxs(Xm,{className:"max-w-3xl h-[600px] flex flex-col",children:[b.jsxs(Jm,{children:[b.jsx(Km,{children:"Raw Editor"}),b.jsx(Ow,{children:"Add, edit, or delete your project variables in .env format"})]}),b.jsx("div",{className:"flex-1 border rounded-lg overflow-hidden",children:b.jsx(Ah,{value:W,onChange:a(ee=>f(ee.target.value),"onChange"),placeholder:`# Environment Variables

# Required Secrets
API_KEY=your_api_key_here

# Optional Variables
DEBUG=true

# Comments are supported`,className:"w-full h-full resize-none border-0 font-mono text-sm focus-visible:ring-0"})}),b.jsxs(Mw,{children:[b.jsxs(dt,{variant:"outline",size:"sm",onClick:J,children:[b.jsx(Xa,{className:"w-4 h-4 mr-2"}),"Copy ENV"]}),b.jsx(dt,{variant:"outline",size:"sm",onClick:a(()=>F(!1),"onClick"),children:"Cancel"}),b.jsx(dt,{size:"sm",onClick:H,children:"Update Variables"})]})]})})]})});Rw.displayName="SecretPanel";function Sse(e){const[t,r]=U.useState(e),n=U.useCallback((d,g)=>{r(m=>{if(!d.includes("."))return{...m,[d]:g};const y=d.split("."),x=y[0],A=y.slice(1).join(".");if(!isNaN(Number(y[1]))){const R=y[0],P=Number(y[1]),L=m[R],z=Array.isArray(L)?[...L]:[];if(y.length===2)z[P]=g;else{const Z=y.slice(2).join(".");z[P]=i(z[P],Z,g)}return{...m,[R]:z}}if(d.startsWith("settings.secrets.")){const R=d.split(".")[2],P=m.settings||{},z={...P.secrets||{},[R]:g};return{...m,settings:{...P,secrets:z}}}return{...m,[x]:i(m[x],A,g)}})},[]),i=a((d,g,m)=>{if(!g.includes("."))return{...d,[g]:m};const[y,...x]=g.split("."),A=x.join(".");return{...d,[y]:i(d[y]||{},A,m)}},"updateNestedObject"),s=U.useCallback((d,g)=>{r(m=>{const y=d.split(".");if(y.length===1){const M=y[0],R=Array.isArray(m[M])?[...m[M]]:[];return{...m,[M]:[...R,g]}}const x=d,A=l(m,x),C=Array.isArray(A)?[...A]:[];return u(m,x,[...C,g])})},[]),o=U.useCallback((d,g)=>{r(m=>{const y=d.split(".");if(y.length===1){const M=y[0],R=Array.isArray(m[M])?[...m[M]]:[];return g<0||g>=R.length?m:{...m,[M]:[...R.slice(0,g),...R.slice(g+1)]}}const x=d,A=l(m,x);if(!Array.isArray(A)||g<0||g>=A.length)return m;const C=[...A.slice(0,g),...A.slice(g+1)];return u(m,x,C)})},[]),l=a((d,g)=>{const m=g.split(".");let y=d;for(const x of m){if(y==null)return;y=y[x]}return y},"getNestedValue"),u=a((d,g,m)=>{const y=g.split(".");if(y.length===1)return{...d,[y[0]]:m};const[x,...A]=y,C=d[x]||{};return{...d,[x]:u(C,A.join("."),m)}},"setNestedValue"),c=U.useCallback(()=>{r(e)},[e]),h=U.useCallback(d=>{r(g=>{const{secrets:m,avatar:y,...x}=d,A={...g.settings,...x};if(typeof y=="string"&&(A.avatar=y),m){const M={};Object.entries(m).forEach(([R,P])=>{P!==null&&(M[R]=P)}),A.secrets=M}return{...g,settings:A}})},[]);return{value:t,updateField:n,addArrayItem:s,removeArrayItem:o,reset:c,updateSettings:h}}a(Sse,"usePartialUpdate");function YP(e){const t=U.useRef(JSON.parse(JSON.stringify(e))),{value:r,updateField:n,addArrayItem:i,removeArrayItem:s,reset:o,updateSettings:l}=Sse(e),u=U.useCallback(F=>{Object.entries(F).forEach(([W,f])=>{W==="settings"&&f?l({...r.settings,...f}):W==="style"&&f?n("style",{all:f.all||[],chat:f.chat||[],post:f.post||[]}):Array.isArray(f)?n(W,[...f]):n(W,f)})},[r.settings,n,l]),c=U.useCallback((F,W)=>{n(`settings.${F}`,W)},[n]),h=U.useCallback(F=>{l(F)},[l]),d=U.useCallback(F=>{n("system",F)},[n]),g=U.useCallback((F,W)=>{const f=r.settings||{},w=f.secrets||{},_={...typeof w=="object"&&w!==null&&!Array.isArray(w)?w:{},[F]:W};l({...f,secrets:_})},[r.settings,l]),m=U.useCallback(F=>{const W=r.settings||{},f=W.secrets||{},v={...typeof f=="object"&&f!==null&&!Array.isArray(f)?f:{}};delete v[F];const _={...W,secrets:v};l(_)},[r.settings,l]),y=U.useCallback((F,W)=>{i(F,W)},[i]),x=U.useCallback((F,W)=>{s(F,W)},[s]),A=U.useCallback((F,W,f)=>{n(`${F}.${W}`,f)},[n]),C=U.useCallback((F,W)=>{i(`style.${F}`,W)},[i]),M=U.useCallback((F,W)=>{s(`style.${F}`,W)},[s]),R=U.useCallback((F,W,f)=>{n(`style.${F}.${W}`,f)},[n]),P=U.useCallback((F,W)=>{n(`style.${F}`,W)},[n]),L=U.useCallback(F=>{i("plugins",F)},[i]),z=U.useCallback(F=>{s("plugins",F)},[s]),Z=U.useCallback(F=>{n("plugins",F)},[n]),Y=U.useCallback(F=>{c("avatar",F)},[c]),ae=U.useCallback(()=>{const F={},W=r,f=t.current;["name","username","system"].forEach(S=>{W[S]!==f[S]&&(F[S]=W[S])}),W.enabled!==f.enabled&&(F.enabled=W.enabled),JSON.stringify(W.bio)!==JSON.stringify(f.bio)&&(F.bio=W.bio),JSON.stringify(W.topics)!==JSON.stringify(f.topics)&&(F.topics=W.topics),JSON.stringify(W.adjectives)!==JSON.stringify(f.adjectives)&&(F.adjectives=W.adjectives),JSON.stringify(W.plugins)!==JSON.stringify(f.plugins)&&(F.plugins=W.plugins),JSON.stringify(W.style)!==JSON.stringify(f.style)&&(F.style=W.style);const v=f.settings||{},_=W.settings||{};if(JSON.stringify(_)!==JSON.stringify(v)){if(F.settings={},_.avatar!==v.avatar&&(F.settings.avatar=_.avatar),JSON.stringify(_.voice)!==JSON.stringify(v.voice)&&(F.settings.voice=_.voice),JSON.stringify(_.secrets)!==JSON.stringify(v.secrets)){const S=v.secrets||{},T=_.secrets||{},N=typeof S=="object"&&S!==null&&!Array.isArray(S)?S:{},k=typeof T=="object"&&T!==null&&!Array.isArray(T)?T:{},p={};let E=!1;Object.entries(k).forEach(([I,O])=>{N[I]!==O&&(p[I]=O,E=!0)}),Object.keys(N).forEach(I=>{k[I]===void 0&&(p[I]=null,E=!0)}),E&&(F.settings||(F.settings={}),F.settings.secrets=p)}Object.keys(F.settings).length===0&&delete F.settings}return F},[r]);return{agent:r,updateField:n,reset:o,updateSettings:l,setSettings:h,getChangedFields:ae,updateSetting:c,updateSystemPrompt:d,updateSecret:g,removeSecret:m,addContentItem:y,removeContentItem:x,updateContentItem:A,addStyleRule:C,removeStyleRule:M,updateStyleRule:R,setStyleArray:P,addPlugin:L,removePlugin:z,setPlugins:Z,updateAvatar:Y,importAgent:u}}a(YP,"useAgentUpdate");const kse=yT("none")?.template||{name:"",username:"",system:"",bio:[],topics:[],adjectives:[],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap"],settings:{secrets:{}}};function ZP(){const e=Yn(),{toast:t}=Br(),r=Ln(),[n]=U.useState({...kse}),i=U.useRef(null),[s,o]=U.useState({}),l=YP(n),u=a(h=>({...h,bio:h.bio??[],messageExamples:h.messageExamples??[],postExamples:h.postExamples??[],topics:h.topics??[],adjectives:h.adjectives??[],plugins:h.plugins??[],style:{all:h.style?.all??[],chat:h.style?.chat??[],post:h.style?.post??[]},settings:h.settings??{secrets:{}}}),"ensureRequiredFields"),c=a(async h=>{try{const d=u(h),g=s||i.current?.getSecrets()||{};g&&Object.keys(g).length>0&&(d.settings={...d.settings,secrets:g}),await Mr().agents.createAgent({agent:d}),r.invalidateQueries({queryKey:["characters"]}),t({title:"Success",description:"Agent created successfully!"}),r.invalidateQueries({queryKey:["agents"]}),e("/")}catch(d){t({title:"Error",description:d instanceof Error?d.message:"Failed to create agent",variant:"destructive"})}},"handleSubmit");return b.jsx("div",{className:"h-full w-full",children:b.jsx(zP,{characterValue:l.agent,setCharacterValue:l,title:"Create Agent",description:"Configure your AI agent's behavior and capabilities.",onSubmit:c,onReset:a(()=>{l.reset(),o({})},"onReset"),onDelete:a(()=>{e("/")},"onDelete"),onTemplateChange:a(()=>{o({})},"onTemplateChange"),isAgent:!0,secretPanelRef:i,customComponents:[{name:"Plugins",component:b.jsx(HP,{characterValue:l.agent,setCharacterValue:l})},{name:"Secret",component:b.jsx(Rw,{characterValue:l.agent,ref:i,onChange:a(h=>{o(h)},"onChange")})},{name:"Avatar",component:b.jsx(FP,{characterValue:l.agent,setCharacterValue:l})}]})})}a(ZP,"AgentCreator");function $l({open:e,onOpenChange:t,title:r,description:n,confirmText:i="Confirm",cancelText:s="Cancel",onConfirm:o,variant:l="destructive"}){const u=a(()=>{o(),t(!1)},"handleConfirm");return b.jsx(i4,{open:e,onOpenChange:t,children:b.jsxs(dm,{children:[b.jsxs(hm,{children:[b.jsx(pm,{children:r}),b.jsx(mm,{children:n})]}),b.jsxs(fm,{children:[b.jsx(vm,{children:s}),b.jsx(gm,{onClick:u,className:l==="destructive"?"bg-destructive text-destructive-foreground":void 0,children:i})]})]})})}a($l,"ConfirmationDialog");const Ase=a(()=>typeof window>"u"?"eliza-api-key":`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey");function $P({open:e,onOpenChange:t,onApiKeySaved:r}){const[n,i]=U.useState(""),[s,o]=U.useState(!1),{toast:l}=Br(),u=Ase();U.useEffect(()=>{if(e)try{const h=localStorage.getItem(u);h&&i(h)}catch(h){console.error("Unable to access localStorage",h)}},[e,u]);const c=a(()=>{if(!n.trim()){l({title:"API Key Required",description:"Please enter a valid API key.",variant:"destructive"});return}try{localStorage.setItem(u,n)}catch{l({title:"Storage Error",description:"Unable to save the API key (browser storage blocked).",variant:"destructive"});return}r(),l({title:"API Key Saved",description:"The API key has been stored locally."}),t(!1)},"handleSave");return b.jsx(Iw,{open:e,onOpenChange:t,children:b.jsxs(Xm,{className:"sm:max-w-[425px]",children:[b.jsxs(Jm,{children:[b.jsx(Km,{children:"API Key Required"}),b.jsx(Ow,{children:"Please enter the API key required to connect to the Eliza server. This key will be stored locally in your browser."})]}),b.jsx("div",{className:"grid gap-4 py-4",children:b.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[b.jsx(Tu,{htmlFor:"api-key",className:"text-right",children:"API Key"}),b.jsxs("div",{className:"col-span-3 relative",children:[b.jsx(pn,{id:"api-key",type:s?"text":"password",value:n,onChange:a(h=>i(h.target.value),"onChange"),className:"pr-10"}),b.jsx(dt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 text-muted-foreground",onClick:a(()=>o(!s),"onClick"),"aria-label":s?"Hide API key":"Show API key",children:s?b.jsx(Ps,{className:"h-4 w-4"}):b.jsx(Ya,{className:"h-4 w-4"})})]})]})}),b.jsx(Mw,{children:b.jsx(dt,{type:"button",onClick:c,children:"Save Key"})})]})})}a($P,"ApiKeyDialog");const XP=U.createContext(void 0),Tse=a(({children:e})=>{const t=Ln(),[r,n]=U.useState(!1),[i,s]=U.useState(null),[o,l]=U.useState(!0);U.useEffect(()=>{u()},[]);const u=a(async()=>{const m=localStorage.getItem("token");if(!m){l(!1);return}try{const x=await(await fetch("/api/auth/verify",{headers:{Authorization:`Bearer ${m}`}})).json();x.success?s(x.user):localStorage.removeItem("token")}catch(y){console.error("Auth check failed:",y),localStorage.removeItem("token")}l(!1)},"checkAuth"),c=a(async m=>{try{const x=await(await fetch("/api/auth/telegram",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();if(x.success)localStorage.setItem("token",x.token),s(x.user);else throw new Error(x.error||"Login failed")}catch(y){throw console.error("Login error:",y),y}},"login"),h=a(async()=>{const m=localStorage.getItem("token");if(m)try{await fetch("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${m}`}})}catch(y){console.error("Logout error:",y)}localStorage.removeItem("token"),s(null)},"logout"),d=U.useCallback(()=>{n(!0)},[]),g=U.useCallback(()=>{n(!1),qe.info("API key saved via dialog, invalidating ping query."),t.invalidateQueries({queryKey:["ping"]})},[t]);return b.jsxs(XP.Provider,{value:{user:i,isAuthenticated:!!i,isLoading:o,login:c,logout:h,openApiKeyDialog:d},children:[e,b.jsx($P,{open:r,onOpenChange:n,onApiKeySaved:g})]})},"AuthProvider"),Pw=a(()=>{const e=U.useContext(XP);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},"useAuth");var Ko={},da={},zv={},mE;function Nse(){return mE||(mE=1,Object.defineProperty(zv,"__esModule",{value:!0})),zv}a(Nse,"requireHelper");var Wo={},Fv={},Pf={},gE;function Vh(){if(gE)return Pf;gE=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.typeGuard=e;function e(t,r){return r}return a(e,"typeGuard$1"),Pf}a(Vh,"requireTypeGuard");var vE;function JP(){return vE||(vE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CtxLike=void 0;var t=Vh();(function(r){function n(i){return(0,t.typeGuard)(i,!0)&&i instanceof Object&&typeof i.done=="function"&&typeof i.abort=="function"&&typeof i.zz__addHandler=="function"&&typeof i.zz__removeHandler=="function"}a(n,"match"),r.match=n})(e.CtxLike||(e.CtxLike={}))})(Fv)),Fv}a(JP,"requireCtxLike");var bE;function Cse(){return bE||(bE=1,(function(e){var t=Wo&&Wo.__createBinding||(Object.create?(function(n,i,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(i,s);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:a(function(){return i[s]},"get")}),Object.defineProperty(n,o,l)}):(function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]})),r=Wo&&Wo.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(JP(),e)})(Wo)),Wo}a(Cse,"requireInterfaces");var Cc={},yE;function Ise(){if(yE)return Cc;yE=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.__hack=void 0;return Cc.__hack="NOT TYPE ONLY",Cc}a(Ise,"requireLib_dom");var Uv={},wE;function KP(){return wE||(wE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventTargetLike=void 0;var t=Vh();(function(r){var n;(function(u){function c(h){return(0,t.typeGuard)(h,!0)&&h instanceof Object&&typeof h.subscribe=="function"}a(c,"match"),u.match=c})(n=r.RxJSSubject||(r.RxJSSubject={}));var i;(function(u){function c(h){return(0,t.typeGuard)(h,!0)&&h instanceof Object&&typeof h.addListener=="function"&&typeof h.removeListener=="function"}a(c,"match"),u.match=c})(i=r.NodeStyleEventEmitter||(r.NodeStyleEventEmitter={}));var s;(function(u){function c(h){return(0,t.typeGuard)(h,!0)&&h instanceof Object&&typeof h.on=="function"&&typeof h.off=="function"}a(c,"match"),u.match=c})(s=r.JQueryStyleEventEmitter||(r.JQueryStyleEventEmitter={}));var o;(function(u){function c(h){return(0,t.typeGuard)(h,!0)&&h instanceof Object&&typeof h.addEventListener=="function"&&typeof h.removeEventListener=="function"}a(c,"match"),u.match=c})(o=r.HasEventTargetAddRemove||(r.HasEventTargetAddRemove={}));function l(u){try{return o.match(u)||i.match(u)||s.match(u)||n.match(u)}catch{return!1}}a(l,"canBe"),r.canBe=l})(e.EventTargetLike||(e.EventTargetLike={}))})(Uv)),Uv}a(KP,"requireEventTargetLike");var ws={},_E;function WP(){if(_E)return ws;_E=1;var e=ws&&ws.__extends||(function(){var n=a(function(i,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},n(i,s)},"extendStatics");return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(i,s);function o(){this.constructor=i}a(o,"__"),i.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}})();Object.defineProperty(ws,"__esModule",{value:!0}),ws.DetachedEvtError=ws.TimeoutEvtError=void 0;var t=(function(n){e(i,n);function i(s){var o=this.constructor,l=n.call(this,"Evt timeout after ".concat(s,"ms"))||this;return l.timeout=s,Object.setPrototypeOf(l,o.prototype),l}return a(i,"TimeoutEvtError"),i})(Error);ws.TimeoutEvtError=t;var r=(function(n){e(i,n);function i(){var s=this.constructor,o=n.call(this,"Evt handler detached")||this;return Object.setPrototypeOf(o,s.prototype),o}return a(i,"DetachedEvtError"),i})(Error);return ws.DetachedEvtError=r,ws}a(WP,"requireEvtError");var Hv={},xE;function Mse(){return xE||(xE=1,Object.defineProperty(Hv,"__esModule",{value:!0})),Hv}a(Mse,"requireOperator");var EE;function Ose(){return EE||(EE=1,(function(e){var t=da&&da.__createBinding||(Object.create?(function(s,o,l,u){u===void 0&&(u=l);var c=Object.getOwnPropertyDescriptor(o,l);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:a(function(){return o[l]},"get")}),Object.defineProperty(s,u,c)}):(function(s,o,l,u){u===void 0&&(u=l),s[u]=o[l]})),r=da&&da.__setModuleDefault||(Object.create?(function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}):function(s,o){s.default=o}),n=da&&da.__exportStar||function(s,o){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&t(o,s,l)},i=da&&da.__importStar||function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var l in s)l!=="default"&&Object.prototype.hasOwnProperty.call(s,l)&&t(o,s,l);return r(o,s),o};Object.defineProperty(e,"__esModule",{value:!0}),e.dom=void 0,n(Nse(),e),n(Cse(),e),e.dom=i(Ise()),n(KP(),e),n(WP(),e),n(Mse(),e)})(da)),da}a(Ose,"requireTypes");var Gv={},_s={},Vv={},SE;function QP(){return SE||(SE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertOperatorToStatelessF=void 0;function t(i){var s=i[1];return function(o,l){var u=i[0](o,s,l);return u!==null&&l(function(){return s=u[0]}),u}}a(t,"encapsulateOpState");function r(i){return function(s,o){var l=i(s,o);return l instanceof Object&&!("input"in l)&&l.length===1?l:l?[s]:null}}a(r,"statelessOpToStatelessF");function n(i){return typeof i!="function"?t(i):r(i)}a(n,"convertOperatorToStatelessF"),e.convertOperatorToStatelessF=n})(Vv)),Vv}a(QP,"requireConvertOperatorToStatelessFLambda");var Ic={},kE;function Wm(){if(kE)return Ic;kE=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.id=void 0;var e=a(function(t){return t},"id$1");return Ic.id=e,Ic}a(Wm,"requireId");var AE;function Qm(){if(AE)return _s;AE=1;var e=_s&&_s.__read||function(o,l){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var c=u.call(o),h,d=[],g;try{for(;(l===void 0||l-- >0)&&!(h=c.next()).done;)d.push(h.value)}catch(m){g={error:m}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(g)throw g.error}}return d},t=_s&&_s.__spreadArray||function(o,l,u){if(u||arguments.length===2)for(var c=0,h=l.length,d;c<h;c++)(d||!(c in l))&&(d||(d=Array.prototype.slice.call(l,0,c)),d[c]=l[c]);return o.concat(d||Array.prototype.slice.call(l))};Object.defineProperty(_s,"__esModule",{value:!0}),_s.compose=void 0;var r=QP(),n=Wm();function i(o,l){var u=(0,r.convertOperatorToStatelessF)(o),c=(0,r.convertOperatorToStatelessF)(l);return(0,n.id)(function(h,d){var g=u(h,d);if(!g)return null;var m=e(g,1),y=m[0],x=c(y,d);return x&&[x[0]]})}a(i,"f_o_g");function s(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];if(o.length===1){var u=e(o,1),c=u[0];return(0,r.convertOperatorToStatelessF)(c)}var h=e(o),d=h[0],g=h[1],m=h.slice(2),y=i(d,g);return m.length===0?y:s.apply(void 0,t([y],e(m),!1))}return a(s,"compose$1"),_s.compose=s,_s}a(Qm,"requireCompose");var TE;function Rse(){return TE||(TE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compose=void 0;var t=Qm();Object.defineProperty(e,"compose",{enumerable:!0,get:a(function(){return t.compose},"get")})})(Gv)),Gv}a(Rse,"requireUtil");var Qo={},qo={},el={},NE;function Lw(){if(NE)return el;NE=1,el.__esModule=!0,el.Polyfill=el.LightMapImpl=void 0;var e=(function(){function t(){this.record=[]}return a(t,"LightMapImpl"),t.prototype.has=function(r){return this.record.map(function(n){var i=n[0];return i}).indexOf(r)>=0},t.prototype.get=function(r){var n=this.record.filter(function(i){var s=i[0];return s===r})[0];if(n!==void 0)return n[1]},t.prototype.set=function(r,n){var i=this.record.filter(function(s){var o=s[0];return o===r})[0];return i===void 0?this.record.push([r,n]):i[1]=n,this},t.prototype.delete=function(r){var n=this.record.map(function(i){var s=i[0];return s}).indexOf(r);return n<0?!1:(this.record.splice(n,1),!0)},t.prototype.keys=function(){return this.record.map(function(r){var n=r[0];return n})},t})();return el.LightMapImpl=e,el.Polyfill=typeof Map<"u"?Map:e,el}a(Lw,"require_Map");var CE;function Pse(){if(CE)return qo;CE=1,qo.__esModule=!0,qo.Polyfill=qo.LightSetImpl=void 0;var e=Lw(),t=(function(){function r(n){if(this.map=new e.Polyfill,n!==void 0)for(var i=0,s=n;i<s.length;i++){var o=s[i];this.add(o)}}return a(r,"LightSetImpl"),r.prototype.has=function(n){return this.map.has(n)},r.prototype.add=function(n){return this.map.set(n,!0),this},r.prototype.values=function(){return this.map.keys()},r.prototype.delete=function(n){return this.map.delete(n)},r})();return qo.LightSetImpl=t,qo.Polyfill=typeof Set<"u"?Set:t,qo}a(Pse,"require_Set");var Mc={},IE;function qm(){if(IE)return Mc;IE=1,Mc.__esModule=!0,Mc.Polyfill=void 0;var e=Lw();return Mc.Polyfill=typeof WeakMap<"u"?WeakMap:e.Polyfill,Mc}a(qm,"require_WeakMap");var xs={},ME;function Dw(){if(ME)return xs;ME=1;var e=xs&&xs.__extends||(function(){var o=a(function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(c[d]=h[d])},o(l,u)},"extendStatics");return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function c(){this.constructor=l}a(c,"__"),l.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}})();Object.defineProperty(xs,"__esModule",{value:!0}),xs.AssertionError=void 0,xs.assert=n,xs.is=s;var t=(function(o){e(l,o);function l(u){var c=this.constructor,h=o.call(this,"Wrong assertion encountered"+(u?': "'.concat(u,'"'):""))||this;return h.originalMessage=u,Object.setPrototypeOf(h,c.prototype),h}return a(l,"AssertionError"),l})(Error);xs.AssertionError=t;var r=void 0;function n(o,l){if(arguments.length===0&&(o=!0),r!==void 0){r=void 0;return}if(!o){var u=new t(typeof l=="function"?l():l);throw Error.captureStackTrace&&Error.captureStackTrace(u,n),u}}a(n,"assert");var i="Wrong usage of the `is` function refer to https://docs.tsafe.dev/is";function s(o){var l={};if(r!==void 0)throw r=void 0,new Error(i);return r=l,Promise.resolve().then(function(){if(r===l)throw new Error(i)}),null}return a(s,"is"),xs}a(Dw,"requireAssert");var Oc={},uu={},OE;function Yh(){if(OE)return uu;OE=1;var e=uu&&uu.__assign||function(){return e=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},e.apply(this,arguments)};Object.defineProperty(uu,"__esModule",{value:!0}),uu.overwriteReadonlyProp=t;function t(r,n,i){try{r[n]=i}catch{}if(r[n]===i)return i;var s=void 0,o=Object.getOwnPropertyDescriptor(r,n)||{enumerable:!0,configurable:!0};if(o.get)throw new Error("Probably a wrong idea to overwrite ".concat(String(n)," getter"));try{Object.defineProperty(r,n,e(e({},o),{value:i}))}catch(l){s=l}if(r[n]!==i)throw s||new Error("Can't assign");return i}return a(t,"overwriteReadonlyProp$1"),uu}a(Yh,"requireOverwriteReadonlyProp");var Rc={},RE;function Pa(){return RE||(RE=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.importProxy=void 0,Rc.importProxy={}),Rc}a(Pa,"requireImportProxy");var PE;function jw(){if(PE)return Oc;PE=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.LazyEvt=void 0;var e=Yh(),t=Pa(),r=(function(){function n(){this.initialPostCount=0}return a(n,"LazyEvt"),Object.defineProperty(n.prototype,"evt",{get:a(function(){return this.__evt===void 0&&(this.__evt=new t.importProxy.Evt,(0,e.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},"get"),enumerable:!1,configurable:!0}),n.prototype.__post=function(i,s){return this.__evt===void 0?++this.initialPostCount:this.__evt[s?"postAndWait":"post"](i)},n.prototype.post=function(i){return this.__post(i,!1)},n.prototype.postAndWait=function(i){return this.__post(i,!0)},n})();return Oc.LazyEvt=r,Oc}a(jw,"requireLazyEvt");var LE;function Lse(){return LE||(LE=1,(function(e){var t=Qo&&Qo.__assign||function(){return t=Object.assign||function(h){for(var d,g=1,m=arguments.length;g<m;g++){d=arguments[g];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(h[y]=d[y])}return h},t.apply(this,arguments)},r=Qo&&Qo.__values||function(h){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&h[d],m=0;if(g)return g.call(h);if(h&&typeof h.length=="number")return{next:a(function(){return h&&m>=h.length&&(h=void 0),{value:h&&h[m++],done:!h}},"next")};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Ctx=void 0;var n=Pse(),i=qm(),s=Dw(),o=jw(),l=Pa(),u=Yh(),c=(function(){function h(){this.lazyEvtAttach=new o.LazyEvt,this.lazyEvtDetach=new o.LazyEvt,this.lazyEvtDoneOrAborted=new o.LazyEvt,this.handlers=new n.Polyfill,this.evtByHandler=new i.Polyfill}return a(h,"CtxImpl"),Object.defineProperty(h.prototype,"evtDoneOrAborted",{get:a(function(){return this.lazyEvtDoneOrAborted.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"evtAttach",{get:a(function(){return this.lazyEvtAttach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"evtDetach",{get:a(function(){return this.lazyEvtDetach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"completionStatus",{get:a(function(){return this.__completionStatus},"get"),enumerable:!1,configurable:!0}),h.prototype.onDoneOrAborted=function(d){this.__completionStatus=d,this.lazyEvtDoneOrAborted.post(d)},h.prototype.waitFor=function(d){var g=this;return this.evtDoneOrAborted.waitFor(d).then(function(m){if(m.type==="ABORTED")throw m.error;return m.result},function(m){throw g.abort(m),m})},h.prototype.abort=function(d){return this.__done(d)},h.prototype.done=function(d){return this.__done(void 0,d)},h.prototype.__done=function(d,g){var m,y,x=[];try{for(var A=r(this.handlers.values()),C=A.next();!C.done;C=A.next()){var M=C.value,R=this.evtByHandler.get(M),P=M.detach();P&&x.push({handler:M,evt:R})}}catch(L){m={error:L}}finally{try{C&&!C.done&&(y=A.return)&&y.call(A)}finally{if(m)throw m.error}}return this.onDoneOrAborted(t(t({},d?{type:"ABORTED",error:d}:{type:"DONE",result:g}),{handlers:x})),x},h.prototype.getHandlers=function(){var d=this;return Array.from(this.handlers.values()).map(function(g){return{handler:g,evt:d.evtByHandler.get(g)}})},h.prototype.zz__addHandler=function(d,g){if((0,s.assert)(d.ctx===this),(0,s.assert)((0,s.is)(d)),this.completionStatus!==void 0){d.detach();return}this.handlers.add(d),this.evtByHandler.set(d,g),this.lazyEvtAttach.post({handler:d,evt:g})},h.prototype.zz__removeHandler=function(d){(0,s.assert)(d.ctx===this),(0,s.assert)((0,s.is)(d)),this.lazyEvtDetach.post({handler:d,evt:this.evtByHandler.get(d)}),this.handlers.delete(d)},h})();e.Ctx=c;try{(0,u.overwriteReadonlyProp)(e.Ctx,"name","Ctx")}catch{}l.importProxy.Ctx=e.Ctx})(Qo)),Qo}a(Lse,"requireCtx");var on={},Yv={},DE;function Dse(){return DE||(DE=1,Yv.__esModule=!0,Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:a(function(e){if(this==null)throw new TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if(typeof e!="function")throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<r;){var s=t[i];if(e.call(n,s,i,t))return s;i++}},"value"),configurable:!0,writable:!0})),Yv}a(Dse,"requireArray_prototype_find");var Pc={},jE;function jse(){if(jE)return Pc;jE=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.create=void 0;var e=Pa();function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===0?new e.importProxy.Evt:new e.importProxy.StatefulEvt(r[0])}return a(t,"create"),Pc.create=t,Pc}a(jse,"requireEvt_create");var Lc={},BE;function Bse(){if(BE)return Lc;BE=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.getCtxFactory=void 0;var e=qm(),t=Pa();function r(){var n=new e.Polyfill;function i(s){var o=n.get(s);return o===void 0&&(o=new t.importProxy.Ctx,n.set(s,o)),o}return a(i,"getCtx"),i}return a(r,"getCtxFactory"),Lc.getCtxFactory=r,Lc}a(Bse,"requireEvt_getCtx");var Dc={},zE;function zse(){if(zE)return Dc;zE=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.factorize=void 0;function e(t){return t}return a(e,"factorize"),Dc.factorize=e,Dc}a(zse,"requireEvt_factorize");var tl={},FE;function qP(){if(FE)return tl;FE=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.merge=tl.mergeImpl=void 0;var e=Pa();function t(n,i){var s=new e.importProxy.Evt,o=a(function(l){return s.post(l)},"callback");return i.forEach(function(l){n===void 0?l.attach(o):l.attach(n,o)}),s}a(t,"mergeImpl"),tl.mergeImpl=t;function r(n,i){return"length"in n?t(void 0,n):t(n,i)}return a(r,"merge"),tl.merge=r,tl}a(qP,"requireEvt_merge");var ki={},UE;function Fse(){if(UE)return ki;UE=1;var e=ki&&ki.__createBinding||(Object.create?(function(y,x,A,C){C===void 0&&(C=A);var M=Object.getOwnPropertyDescriptor(x,A);(!M||("get"in M?!x.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:a(function(){return x[A]},"get")}),Object.defineProperty(y,C,M)}):(function(y,x,A,C){C===void 0&&(C=A),y[C]=x[A]})),t=ki&&ki.__setModuleDefault||(Object.create?(function(y,x){Object.defineProperty(y,"default",{enumerable:!0,value:x})}):function(y,x){y.default=x}),r=ki&&ki.__importStar||function(y){if(y&&y.__esModule)return y;var x={};if(y!=null)for(var A in y)A!=="default"&&Object.prototype.hasOwnProperty.call(y,A)&&e(x,y,A);return t(x,y),x},n=ki&&ki.__read||function(y,x){var A=typeof Symbol=="function"&&y[Symbol.iterator];if(!A)return y;var C=A.call(y),M,R=[],P;try{for(;(x===void 0||x-- >0)&&!(M=C.next()).done;)R.push(M.value)}catch(L){P={error:L}}finally{try{M&&!M.done&&(A=C.return)&&A.call(C)}finally{if(P)throw P.error}}return R};Object.defineProperty(ki,"__esModule",{value:!0}),ki.from=void 0;var i=Wm(),s=Dw(),o=Vh(),l=qP(),u=Pa(),c=r(KP()),h=c.EventTargetLike;function d(y,x,A,C){var M=a(function(ae){return h.canBe(ae)},"matchEventTargetLike");if(!M(x)){if("then"in x){var R=new u.importProxy.Evt,P=(function(){var ae=a(function(){return y?.evtDoneOrAborted.postCount},"getEvtDonePostCount"),F=ae();return function(){return F!==ae()}})();return x.then(function(ae){P()||R.post(ae)}),R}return(0,l.mergeImpl)(y,Array.from(x).map(function(ae){return d(y,ae,A,C)}))}var L;if(h.HasEventTargetAddRemove.match(x))L={on:a(function(ae,F,W){return x.addEventListener(F,ae,W)},"on"),off:a(function(ae,F,W){return x.removeEventListener(F,ae,W)},"off")};else if(h.NodeStyleEventEmitter.match(x))L={on:a(function(ae,F){return x.addListener(F,ae)},"on"),off:a(function(ae,F){return x.removeListener(F,ae)},"off")};else if(h.JQueryStyleEventEmitter.match(x))L={on:a(function(ae,F){return x.on(F,ae)},"on"),off:a(function(ae,F){return x.off(F,ae)},"off")};else if(h.RxJSSubject.match(x)){var z;L={on:a(function(ae){return z=x.subscribe(function(F){return ae(F)})},"on"),off:a(function(){return z.unsubscribe()},"off")}}else(0,i.id)(x),(0,s.assert)(!1);var Z=new u.importProxy.Evt,Y=a(function(ae){return Z.post(ae)},"listener");return y?.evtDoneOrAborted.attachOnce(function(){return L.off(Y,A,C)}),L.on(Y,A,C),Z}a(d,"fromImplForTargetEventLike");function g(y,x,A){var C=u.importProxy.Evt.create(),M=a(function(P){var L=n(P,1),z=L[0];return C.post(z)},"listener"),R=new x(M);return R.observe(A),y?.evtDoneOrAborted.attachOnce(function(){return R.disconnect()}),C}a(g,"fromImplForObserver");function m(y,x,A,C){return"evtDoneOrAborted"in y?((0,s.assert)((0,o.typeGuard)(x,!0)&&(0,o.typeGuard)(A,!0)&&(0,o.typeGuard)(C,!0)),typeof x=="function"?((0,s.assert)((0,o.typeGuard)(A,!0)&&(0,o.typeGuard)(C,!0)),g(y,x,A)):((0,s.assert)((0,o.typeGuard)(A,!0)),d(y,x,A,C))):((0,s.assert)((0,o.typeGuard)(y,!0)&&(0,o.typeGuard)(x,!0)&&(0,o.typeGuard)(A,!0)),typeof y=="function"?((0,s.assert)((0,o.typeGuard)(x,!0)&&(0,o.typeGuard)(A,!0)),g(void 0,y,x)):((0,s.assert)((0,o.typeGuard)(x,!0)),d(void 0,y,x,A)))}return a(m,"from"),ki.from=m,ki}a(Fse,"requireEvt_from");var jc={},HE;function Use(){if(HE)return jc;HE=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.asPostable=void 0;function e(t){return t}return a(e,"asPostable"),jc.asPostable=e,jc}a(Use,"requireEvt_asPostable");var Es={},GE;function Hse(){if(GE)return Es;GE=1;var e=Es&&Es.__awaiter||function(i,s,o,l){function u(c){return c instanceof o?c:new o(function(h){h(c)})}return a(u,"adopt"),new(o||(o=Promise))(function(c,h){function d(y){try{m(l.next(y))}catch(x){h(x)}}a(d,"fulfilled");function g(y){try{m(l.throw(y))}catch(x){h(x)}}a(g,"rejected");function m(y){y.done?c(y.value):u(y.value).then(d,g)}a(m,"step"),m((l=l.apply(i,s||[])).next())})},t=Es&&Es.__generator||function(i,s){var o={label:0,sent:a(function(){if(c[0]&1)throw c[1];return c[1]},"sent"),trys:[],ops:[]},l,u,c,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(m){return function(y){return g([m,y])}}function g(m){if(l)throw new TypeError("Generator is already executing.");for(;o;)try{if(l=1,u&&(c=m[0]&2?u.return:m[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,m[1])).done)return c;switch(u=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,u=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(c=o.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){o.label=m[1];break}if(m[0]===6&&o.label<c[1]){o.label=c[1],c=m;break}if(c&&o.label<c[2]){o.label=c[2],o.ops.push(m);break}c[2]&&o.ops.pop(),o.trys.pop();continue}m=s.call(i,o)}catch(y){m=[6,y],u=0}finally{l=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(Es,"__esModule",{value:!0}),Es.asyncPipe=void 0;var r=Pa();function n(i,s){var o=this,l="state"in i?r.importProxy.Evt.create(void 0):r.importProxy.Evt.create(),u=0;return i.attach(function(c){return e(o,void 0,void 0,function(){var h,d,g;return t(this,function(m){switch(m.label){case 0:return u++,h=u,d=s(c),d!==null&&"then"in d?[4,d]:[3,2];case 1:return g=m.sent(),"state"in i&&h!==u?[2]:[3,3];case 2:g=d,m.label=3;case 3:return g?(l.post(g[0]),[2]):[2]}})})}),l}return a(n,"asyncPipe"),Es.asyncPipe=n,Es}a(Hse,"requireEvt_asyncPipe");var Bc={},VE;function Gse(){if(VE)return Bc;VE=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.asNonPostable=void 0;function e(t){return t}return a(e,"asNonPostable"),Bc.asNonPostable=e,Bc}a(Gse,"requireEvt_asNonPostable");var Ai={},YE;function Vse(){if(YE)return Ai;YE=1;var e=Ai&&Ai.__assign||function(){return e=Object.assign||function(h){for(var d,g=1,m=arguments.length;g<m;g++){d=arguments[g];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(h[y]=d[y])}return h},e.apply(this,arguments)},t=Ai&&Ai.__read||function(h,d){var g=typeof Symbol=="function"&&h[Symbol.iterator];if(!g)return h;var m=g.call(h),y,x=[],A;try{for(;(d===void 0||d-- >0)&&!(y=m.next()).done;)x.push(y.value)}catch(C){A={error:C}}finally{try{y&&!y.done&&(g=m.return)&&g.call(m)}finally{if(A)throw A.error}}return x},r=Ai&&Ai.__spreadArray||function(h,d,g){if(g||arguments.length===2)for(var m=0,y=d.length,x;m<y;m++)(x||!(m in d))&&(x||(x=Array.prototype.slice.call(d,0,m)),x[m]=d[m]);return h.concat(x||Array.prototype.slice.call(d))};Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.parsePropsFromArgs=Ai.matchAll=void 0;var n=Wm(),i=Qm(),s=Vh();function o(){return!0}a(o,"matchAll"),Ai.matchAll=o;var l=a(function(h){return h!==void 0&&(0,s.typeGuard)(h,!0)&&(typeof h=="function"||typeof h[0]=="function")},"canBeOperator"),u={op:o,ctx:void 0,timeout:void 0,callback:void 0};function c(h,d){switch(d){case"pipe":{var g=a(function(f){return f.length===0?{}:{op:f.length===1?f[0]:i.compose.apply(void 0,r([],t(f),!1))}},"getOpWrap");if(l(h[0]))return(0,n.id)(e(e({},u),g(h)));var m=t(h),y=m[0],x=m.slice(1);return(0,n.id)(e(e(e({},u),y!==void 0?{ctx:y}:{}),g(x)))}case"waitFor":return c(r(r([],t(h.filter(function(f,w){return!(w===h.length-1&&f===void 0)})),!1),[u.callback],!1),"attach*");case"attach*":{var A=h.length;switch(A){case 4:{var C=t(h,4),M=C[0],R=C[1],P=C[2],L=C[3];return(0,n.id)(e(e({},u),{op:M,ctx:R,timeout:P,callback:L}))}case 3:{var z=t(h,3),M=z[0],R=z[1],P=z[2];if(typeof R=="number"){var Z=R,Y=P;return l(M)?(0,n.id)(e(e({},u),{timeout:Z,callback:Y,op:M})):(0,n.id)(e(e({},u),{timeout:Z,callback:Y,ctx:M}))}else return(0,n.id)(e(e({},u),{op:M,ctx:R,callback:P}))}case 2:{var ae=t(h,2),M=ae[0],R=ae[1];if(typeof M=="number")return(0,n.id)(e(e({},u),{timeout:M,callback:R}));var Y=R;return l(M)?(0,n.id)(e(e({},u),{callback:Y,op:M})):(0,n.id)(e(e({},u),{callback:Y,ctx:M}))}case 1:{var F=t(h,1),W=F[0];return(0,n.id)(e(e({},u),{callback:W}))}case 0:return(0,n.id)(e({},u))}}break}}return a(c,"parsePropsFromArgs"),Ai.parsePropsFromArgs=c,Ai}a(Vse,"requireEvt_parsePropsFromArgs");var zc={},ZE;function Yse(){if(ZE)return zc;ZE=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.newCtx=void 0;var e=Pa();function t(){return new e.importProxy.Ctx}return a(t,"newCtx"),zc.newCtx=t,zc}a(Yse,"requireEvt_newCtx");var Kr={},$E;function Zse(){if($E)return Kr;$E=1;var e=Kr&&Kr.__spreadArrays||function(){for(var R=0,P=0,L=arguments.length;P<L;P++)R+=arguments[P].length;for(var z=Array(R),Z=0,P=0;P<L;P++)for(var Y=arguments[P],ae=0,F=Y.length;ae<F;ae++,Z++)z[Z]=Y[ae];return z};Kr.__esModule=!0,Kr.buildMethodCb=Kr.buildCb=Kr.getPrComplete=Kr.isRunning=Kr.cancelAllQueuedCalls=Kr.getQueuedCallCount=Kr.buildMethod=Kr.build=Kr.createGroupRef=void 0;var t=qm(),r=(function(){function R(){this.queuedCalls=[],this.isRunning=!1,this.prComplete=Promise.resolve()}return a(R,"ExecQueue2"),R.prototype.cancelAllQueuedCalls=function(){var P;return this.queuedCalls.splice(0,P=this.queuedCalls.length),P},R})(),n={},i=new t.Polyfill;function s(R,P){var L=i.get(R);L||(L=new t.Polyfill,i.set(R,L));var z=L.get(P);return z||(z=new r,L.set(P,z)),z}a(s,"getOrCreateExecQueue");function o(){return new Array(0)}a(o,"createGroupRef"),Kr.createGroupRef=o;function l(){for(var R=[],P=0;P<arguments.length;P++)R[P]=arguments[P];switch(R.length){case 1:return x(!0,o(),R[0]);case 2:return x(!0,R[0],R[1])}}a(l,"build"),Kr.build=l;function u(){for(var R=[],P=0;P<arguments.length;P++)R[P]=arguments[P];switch(R.length){case 1:return x(!1,o(),R[0]);case 2:return x(!1,R[0],R[1])}}a(u,"buildMethod"),Kr.buildMethod=u;function c(R,P){var L=y(R,P);return L?L.queuedCalls.length:0}a(c,"getQueuedCallCount"),Kr.getQueuedCallCount=c;function h(R,P){var L=y(R,P);return L?L.cancelAllQueuedCalls():0}a(h,"cancelAllQueuedCalls"),Kr.cancelAllQueuedCalls=h;function d(R,P){var L=y(R,P);return L?L.isRunning:!1}a(d,"isRunning"),Kr.isRunning=d;function g(R,P){var L=y(R,P);return L?L.prComplete:Promise.resolve()}a(g,"getPrComplete"),Kr.getPrComplete=g;var m=new t.Polyfill;function y(R,P){P===void 0&&(P=n);var L=m.get(R);if(!L)throw Error("Not a run exclusiveFunction");var z=i.get(P);if(z)return z.get(L)}a(y,"getExecQueueByFunctionAndContext");function x(R,P,L){var z,Z=a((function(){for(var Y=this,ae=[],F=0;F<arguments.length;F++)ae[F]=arguments[F];if(!R){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");z=s(this,P)}return new Promise(function(W,f){var w;z.prComplete=new Promise(function(_){return w=a(function(){return _()},"onPrCompleteResolve")});var v=a(function(_){w(),z.isRunning=!1,z.queuedCalls.length&&z.queuedCalls.shift()(),"data"in _?W(_.data):f(_.reason)},"onComplete");a((function _(){for(var S=this,T=[],N=0;N<arguments.length;N++)T[N]=arguments[N];if(z.isRunning){z.queuedCalls.push(function(){return _.apply(S,T)});return}z.isRunning=!0;try{L.apply(this,T).then(function(k){return v({data:k})}).catch(function(k){return v({reason:k})})}catch(k){v({reason:k})}}),"callee").apply(Y,ae)})}),"runExclusiveFunction");return R&&(z=s(n,P)),m.set(Z,P),Z}a(x,"buildFnPromise");function A(){for(var R=[],P=0;P<arguments.length;P++)R[P]=arguments[P];switch(R.length){case 1:return M(!0,o(),R[0]);case 2:return M(!0,R[0],R[1])}}a(A,"buildCb"),Kr.buildCb=A;function C(){for(var R=[],P=0;P<arguments.length;P++)R[P]=arguments[P];switch(R.length){case 1:return M(!1,o(),R[0]);case 2:return M(!1,R[0],R[1])}}a(C,"buildMethodCb"),Kr.buildMethodCb=C;function M(R,P,L){var z,Z=a((function(){for(var Y=this,ae=[],F=0;F<arguments.length;F++)ae[F]=arguments[F];if(!R){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");z=s(this,P)}var W=void 0;ae.length&&typeof ae[ae.length-1]=="function"&&(W=ae.pop());var f;z.prComplete=new Promise(function(v){return f=a(function(){return v()},"onPrCompleteResolve")});var w=a(function(){for(var v=[],_=0;_<arguments.length;_++)v[_]=arguments[_];f(),z.isRunning=!1,z.queuedCalls.length&&z.queuedCalls.shift()(),W&&W.apply(Y,v)},"onComplete");w.hasCallback=!!W,a((function v(){for(var _=this,S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];if(z.isRunning){z.queuedCalls.push(function(){return v.apply(_,S)});return}z.isRunning=!0;try{L.apply(this,e(S,[w]))}catch(N){throw N.message+=" ( This exception should not have been thrown, miss use of run-exclusive buildCb )",N}}),"callee").apply(this,ae)}),"runExclusiveFunction");return R&&(z=s(n,P)),m.set(Z,P),Z}return a(M,"buildFnCallback"),Kr}a(Zse,"requireRunExclusive");var Ss={},XE;function $se(){if(XE)return Ss;XE=1;var e=Ss&&Ss.__extends||(function(){var i=a(function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(l[c]=u[c])},i(s,o)},"extendStatics");return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function l(){this.constructor=s}a(l,"__"),s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}})();Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.VoidDeferred=Ss.Deferred=void 0;var t=Yh(),r=(function(){function i(){var s=this;this.isPending=!0;var o,l;this.pr=new Promise(function(u,c){o=a(function(h){(0,t.overwriteReadonlyProp)(s,"isPending",!1),u(h)},"resolve"),l=a(function(h){(0,t.overwriteReadonlyProp)(s,"isPending",!1),c(h)},"reject")}),this.resolve=o,this.reject=l}return a(i,"Deferred"),i})();Ss.Deferred=r;var n=(function(i){e(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return a(s,"VoidDeferred"),s})(r);return Ss.VoidDeferred=n,Ss}a($se,"requireDeferred");var Fc={},JE;function Xse(){if(JE)return Fc;JE=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.loosenType=void 0;function e(t){return t}return a(e,"loosenType"),Fc.loosenType=e,Fc}a(Xse,"requireEvt_loosenType");var rl={},KE;function Jse(){if(KE)return rl;KE=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.safeClearTimeout=rl.safeSetTimeout=void 0;var e=a(function(r,n){return setTimeout(r,n)},"safeSetTimeout$1");rl.safeSetTimeout=e;var t=a(function(r){return clearTimeout(r)},"safeClearTimeout");return rl.safeClearTimeout=t,rl}a(Jse,"requireSafeSetTimeout");var Lf={},WE;function Kse(){if(WE)return Lf;WE=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.isPromiseLike=e;function e(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"}return a(e,"isPromiseLike$1"),Lf}a(Kse,"requireIsPromiseLike");var QE;function eL(){return QE||(QE=1,(function(e){var t=on&&on.__assign||function(){return t=Object.assign||function(E){for(var I,O=1,B=arguments.length;O<B;O++){I=arguments[O];for(var H in I)Object.prototype.hasOwnProperty.call(I,H)&&(E[H]=I[H])}return E},t.apply(this,arguments)},r=on&&on.__createBinding||(Object.create?(function(E,I,O,B){B===void 0&&(B=O);var H=Object.getOwnPropertyDescriptor(I,O);(!H||("get"in H?!I.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:a(function(){return I[O]},"get")}),Object.defineProperty(E,B,H)}):(function(E,I,O,B){B===void 0&&(B=O),E[B]=I[O]})),n=on&&on.__setModuleDefault||(Object.create?(function(E,I){Object.defineProperty(E,"default",{enumerable:!0,value:I})}):function(E,I){E.default=I}),i=on&&on.__importStar||function(E){if(E&&E.__esModule)return E;var I={};if(E!=null)for(var O in E)O!=="default"&&Object.prototype.hasOwnProperty.call(E,O)&&r(I,E,O);return n(I,E),I},s=on&&on.__awaiter||function(E,I,O,B){function H(G){return G instanceof O?G:new O(function(J){J(G)})}return a(H,"adopt"),new(O||(O=Promise))(function(G,J){function ce(Ye){try{se(B.next(Ye))}catch(Te){J(Te)}}a(ce,"fulfilled");function ne(Ye){try{se(B.throw(Ye))}catch(Te){J(Te)}}a(ne,"rejected");function se(Ye){Ye.done?G(Ye.value):H(Ye.value).then(ce,ne)}a(se,"step"),se((B=B.apply(E,I||[])).next())})},o=on&&on.__generator||function(E,I){var O={label:0,sent:a(function(){if(G[0]&1)throw G[1];return G[1]},"sent"),trys:[],ops:[]},B,H,G,J;return J={next:ce(0),throw:ce(1),return:ce(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function ce(se){return function(Ye){return ne([se,Ye])}}function ne(se){if(B)throw new TypeError("Generator is already executing.");for(;O;)try{if(B=1,H&&(G=se[0]&2?H.return:se[0]?H.throw||((G=H.return)&&G.call(H),0):H.next)&&!(G=G.call(H,se[1])).done)return G;switch(H=0,G&&(se=[se[0]&2,G.value]),se[0]){case 0:case 1:G=se;break;case 4:return O.label++,{value:se[1],done:!1};case 5:O.label++,H=se[1],se=[0];continue;case 7:se=O.ops.pop(),O.trys.pop();continue;default:if(G=O.trys,!(G=G.length>0&&G[G.length-1])&&(se[0]===6||se[0]===2)){O=0;continue}if(se[0]===3&&(!G||se[1]>G[0]&&se[1]<G[3])){O.label=se[1];break}if(se[0]===6&&O.label<G[1]){O.label=G[1],G=se;break}if(G&&O.label<G[2]){O.label=G[2],O.ops.push(se);break}G[2]&&O.ops.pop(),O.trys.pop();continue}se=I.call(E,O)}catch(Ye){se=[6,Ye],H=0}finally{B=G=0}if(se[0]&5)throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}},l=on&&on.__read||function(E,I){var O=typeof Symbol=="function"&&E[Symbol.iterator];if(!O)return E;var B=O.call(E),H,G=[],J;try{for(;(I===void 0||I-- >0)&&!(H=B.next()).done;)G.push(H.value)}catch(ce){J={error:ce}}finally{try{H&&!H.done&&(O=B.return)&&O.call(B)}finally{if(J)throw J.error}}return G},u=on&&on.__spreadArray||function(E,I,O){if(O||arguments.length===2)for(var B=0,H=I.length,G;B<H;B++)(G||!(B in I))&&(G||(G=Array.prototype.slice.call(I,0,B)),G[B]=I[B]);return E.concat(G||Array.prototype.slice.call(I))},c=on&&on.__values||function(E){var I=typeof Symbol=="function"&&Symbol.iterator,O=I&&E[I],B=0;if(O)return O.call(E);if(E&&typeof E.length=="number")return{next:a(function(){return E&&B>=E.length&&(E=void 0),{value:E&&E[B++],done:!E}},"next")};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Evt=e.onAddHandlerByEvt=void 0,Dse();var h=Lw(),d=qm(),g=Pa(),m=jse(),y=Bse(),x=zse(),A=qP(),C=Fse(),M=Use(),R=Hse(),P=Gse(),L=Vse(),z=Yse(),Z=jw(),Y=i(Zse()),ae=Yh(),F=Vh(),W=$se(),f=Xse(),w=Jse(),v=Kse(),_=WP(),S=i(JP()),T=QP(),N=a(function(E){return E()},"runSideEffect"),k=S.CtxLike,p=(function(){function E(){this.lazyEvtAttach=new Z.LazyEvt,this.lazyEvtDetach=new Z.LazyEvt,this.__maxHandlers=void 0,this.postCount=0,this.traceId=null,this.handlers=[],this.handlerTriggers=new h.Polyfill,this.__currentChronologyMark=0,this.asyncHandlerCount=0}return a(E,"EvtImpl"),E.setDefaultMaxHandlers=function(I){this.__defaultMaxHandlers=isFinite(I)?I:0},E.prototype.toStateful=function(I,O){var B=k.match(I),H=B?void 0:I,G=O||(B?I:void 0),J=new g.importProxy.StatefulEvt(H),ce=a(function(ne){return J.post(ne)},"callback");return G?this.attach(G,ce):this.attach(ce),J},Object.defineProperty(E.prototype,"evtAttach",{get:a(function(){return this.lazyEvtAttach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"evtDetach",{get:a(function(){return this.lazyEvtDetach.evt},"get"),enumerable:!1,configurable:!0}),E.prototype.setMaxHandlers=function(I){return this.__maxHandlers=isFinite(I)?I:0,this},E.prototype.enableTrace=function(I){var O=I.id,B=I.formatter,H=I.log;this.traceId=O,this.traceFormatter=B||(function(G){try{return JSON.stringify(G,null,2)}catch{return"".concat(G)}}),this.log=H===void 0?(function(){for(var G=[],J=0;J<arguments.length;J++)G[J]=arguments[J];return console.log.apply(console,u([],l(G),!1))}):H===!1?void 0:H},E.prototype.disableTrace=function(){return this.traceId=null,this},Object.defineProperty(E.prototype,"asyncHandlerChronologyMark",{get:a(function(){var I,O,B,H;return(O=(H=(I=(B=this)["~internal"])!==null&&I!==void 0?I:B["~internal"]={}).asyncHandlerChronologyMark)!==null&&O!==void 0?O:H.asyncHandlerChronologyMark=new d.Polyfill},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"asyncHandlerChronologyExceptionRange",{get:a(function(){var I,O,B,H;return(O=(H=(I=(B=this)["~internal"])!==null&&I!==void 0?I:B["~internal"]={}).asyncHandlerChronologyExceptionRange)!==null&&O!==void 0?O:H.asyncHandlerChronologyExceptionRange=new d.Polyfill},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"invocableOpByOp",{get:a(function(){var I,O,B,H;return(O=(H=(I=(B=this)["~internal"])!==null&&I!==void 0?I:B["~internal"]={}).invocableOpByOp)!==null&&O!==void 0?O:H.invocableOpByOp=new d.Polyfill},"get"),enumerable:!1,configurable:!0}),E.prototype.getInvocableOp=function(I){var O=this.invocableOpByOp.get(I);if(O===void 0)throw new Error(["Provided operator isn't the operator of any handler","currently attached to the Evt instance"].join(" "));return O},E.prototype.getChronologyMark=function(){return this.__currentChronologyMark++},E.prototype.detachHandler=function(I,O,B){var H=this.handlers.indexOf(I);return H<0?!1:((0,F.typeGuard)(I,!!I.ctx)&&I.ctx.zz__removeHandler(I),this.handlers.splice(H,1),I.async&&this.asyncHandlerCount--,this.handlerTriggers.delete(I),O[0]!==void 0&&((0,w.safeClearTimeout)(O[0]),B(new _.DetachedEvtError)),this.lazyEvtDetach.post(I),!0)},E.prototype.triggerHandler=function(I,O,B,H){var G=I.callback,J=I.once;O[0]!==void 0&&((0,w.safeClearTimeout)(O[0]),O[0]=void 0),J&&I.detach();var ce=l(H,1),ne=ce[0],se=G?.call(this,ne);return B?.(ne),(0,v.isPromiseLike)(se)?se:void 0},E.prototype.addHandler=function(I,O){var B=this,H;this.invocableOpByOp.set(I.op,(0,T.convertOperatorToStatelessF)(I.op));var G=new W.Deferred,J=[void 0],ce=t(t(t({},I),O),{detach:a(function(){return B.detachHandler(ce,J,G.reject)},"detach"),promise:G.pr});typeof ce.timeout=="number"&&(J[0]=(0,w.safeSetTimeout)(function(){J[0]=void 0,ce.detach(),G.reject(new _.TimeoutEvtError(ce.timeout))},ce.timeout));var ne=a(function(Ye){return B.triggerHandler(ce,J,G.isPending?G.resolve:void 0,Ye)},"handlerTrigger");if(this.handlerTriggers.set(ce,ne),ce.async&&this.asyncHandlerChronologyMark.set(ce,this.getChronologyMark()),ce.prepend){var se=void 0;for(se=0;se<this.handlers.length&&this.handlers[se].extract;se++);this.handlers.splice(se,0,ce)}else this.handlers.push(ce);return ce.async&&this.asyncHandlerCount++,this.checkForPotentialMemoryLeak(),(0,F.typeGuard)(ce,!!ce.ctx)&&ce.ctx.zz__addHandler(ce,this),(H=e.onAddHandlerByEvt.get(this))===null||H===void 0||H(ce,ne),this.handlerTriggers.has(ce)&&this.lazyEvtAttach.post(ce),ce},E.prototype.checkForPotentialMemoryLeak=function(){var I=this.__maxHandlers!==void 0?this.__maxHandlers:E.__defaultMaxHandlers;if(!(I===0||this.handlers.length%(I+1)!==0)){var O=["MaxHandlersExceededWarning: Possible Evt memory leak detected.","".concat(this.handlers.length," handlers attached").concat(this.traceId?' to "'.concat(this.traceId,'"'):"",`.
`),`Use Evt.prototype.setMaxHandlers(n) to increase limit on a specific Evt.
`,"Use Evt.setDefaultMaxHandlers(n) to change the default limit currently set to ".concat(E.__defaultMaxHandlers,`.
`)].join(""),B=new h.Polyfill;this.getHandlers().map(function(H){var G=H.ctx,J=H.async,ce=H.once,ne=H.prepend,se=H.extract,Ye=H.op,Te=H.callback;return t(t({hasCtx:!!G,once:ce,prepend:ne,extract:se,isWaitFor:J},Ye===L.matchAll?{}:{op:Ye.toString()}),Te?{callback:Te.toString()}:{})}).map(function(H){return`{
`+Object.keys(H).map(function(G){return"  ".concat(G,": ").concat(H[G])}).join(`,
`)+`
}`}).forEach(function(H){return B.set(H,(B.has(H)?B.get(H):0)+1)}),O+=`
`+Array.from(B.keys()).map(function(H){return"".concat(B.get(H)," handler").concat(B.get(H)===1?"":"s",` like:
`).concat(H)}).join(`
`)+`
`,this.traceId===null&&(O+=`
`+["To validate the identify of the Evt instance that is triggering this warning you can call",`Evt.prototype.enableTrace({ "id": "My evt id", "log": false }) on the Evt that you suspect.
`].join(" "));try{console.warn(O)}catch{}}},E.prototype.isHandledByOp=function(I,O){var B=!1,H;try{H=this.getInvocableOp(I)}catch{return!1}var G=H(O,function(){return B=!0});return G!==null||B},E.prototype.trace=function(I){var O=this,B;if(this.traceId!==null){var H="(".concat(this.traceId,") "),G=!!this.handlers.find(function(ce){var ne=ce.extract,se=ce.op;return ne&&O.isHandledByOp(se,I)});if(G)H+="extracted ";else{var J=this.handlers.filter(function(ce){var ne=ce.extract,se=ce.op;return!ne&&O.isHandledByOp(se,I)}).length;H+="".concat(J," handler").concat(J>1?"s":"",", ")}(B=this.log)===null||B===void 0||B.call(this,H+this.traceFormatter(I))}},E.prototype.postSync=function(I){var O,B,H=[],G=a(function(oe){return[oe,Promise.all(H).then(function(){})]},"getReturnValue");try{for(var J=c(u([],l(this.handlers),!1)),ce=J.next();!ce.done;ce=J.next()){var ne=ce.value,se=ne.async,Ye=ne.op,Te=ne.extract;if(!se){var ye=this.handlerTriggers.get(ne),Me=this.getInvocableOp(Ye)(I,N);if(Me!==null&&ye){var X=ye(Me);if(X!==void 0&&H.push(X),Te)return G(!0)}}}}catch(oe){O={error:oe}}finally{try{ce&&!ce.done&&(B=J.return)&&B.call(J)}finally{if(O)throw O.error}}return G(!1)},E.prototype.postAsyncFactory=function(){var I=this;return Y.buildMethodCb(function(O,B,H){var G,J;if(I.asyncHandlerCount===0){H();return}var ce=[],ne;Promise.resolve().then(function(){return ne=I.getChronologyMark()});var se=a(function(X){if(!X.async)return"continue";var oe=I.getInvocableOp(X.op)(O,N);if(oe===null)return"continue";var ee=I.handlerTriggers.get(X);if(!ee)return"continue";var te=(function(){var fe=I.asyncHandlerChronologyMark.get(X);if(B>fe)return!0;var xe=I.asyncHandlerChronologyExceptionRange.get(X);return xe!==void 0&&xe.lowerMark<B&&B<xe.upperMark&&fe>xe.upperMark})();if(!te)return"continue";ce.push(new Promise(function(fe){return X.promise.then(function(){return fe()}).catch(function(){return fe()})})),ee(oe)},"_loop_1");try{for(var Ye=c(u([],l(I.handlers),!1)),Te=Ye.next();!Te.done;Te=Ye.next()){var ye=Te.value;se(ye)}}catch(X){G={error:X}}finally{try{Te&&!Te.done&&(J=Ye.return)&&J.call(Ye)}finally{if(G)throw G.error}}if(ce.length===0){H();return}var Me=u([],l(I.handlers),!1);Promise.all(ce).then(function(){var X,oe;try{for(var ee=c(I.handlers),te=ee.next();!te.done;te=ee.next()){var fe=te.value;fe.async&&(Me.indexOf(fe)>=0||I.asyncHandlerChronologyExceptionRange.set(fe,{lowerMark:B,upperMark:ne}))}}catch(xe){X={error:xe}}finally{try{te&&!te.done&&(oe=ee.return)&&oe.call(ee)}finally{if(X)throw X.error}}H()})})},E.prototype.isHandled=function(I){var O=this;return!!this.getHandlers().find(function(B){var H=B.op;return O.isHandledByOp(H,I)})},E.prototype.getHandlers=function(){return u([],l(this.handlers),!1)},E.prototype.detach=function(I){var O,B,H=[];try{for(var G=c(this.getHandlers()),J=G.next();!J.done;J=G.next()){var ce=J.value;if(!(I!==void 0&&ce.ctx!==I)){var ne=ce.detach();ne&&H.push(ce)}}}catch(se){O={error:se}}finally{try{J&&!J.done&&(B=G.return)&&B.call(G)}finally{if(O)throw O.error}}return H},E.prototype.pipe=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];var B=new E;return this.addHandler(t(t({},(0,L.parsePropsFromArgs)(I,"pipe")),{callback:a(function(H){return B.post(H)},"callback")}),E.propsFormMethodNames.attach),B},E.prototype.waitFor=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.addHandler((0,L.parsePropsFromArgs)(I,"waitFor"),E.propsFormMethodNames.waitFor).promise},E.prototype[Symbol.asyncIterator]=function(){return this.iter()[Symbol.asyncIterator]()},E.prototype.iter=function(){for(var I,O,B=[],H=0;H<arguments.length;H++)B[H]=arguments[H];var G=(0,L.parsePropsFromArgs)(B,"waitFor"),J=(O=G.ctx)!==null&&O!==void 0?O:(0,z.newCtx)(),ce=this;return I={ctx:J},I[Symbol.asyncIterator]=function(){var ne=J.evtDoneOrAborted.postCount,se=(function(){var Me=G.timeout;if(Me!==void 0){var X=a(function(){var ee=new _.TimeoutEvtError(Me);J.abort(ee)},"setTimeoutCallback"),oe=setTimeout(X,Me);return{timeout:Me,setTimeoutCallback:X,timer:oe}}})(),Ye=ce.pipe(J,G.op).pipe(function(Me,X){return se!==void 0&&X(function(){clearTimeout(se.timer),se.timer=setTimeout(se.setTimeoutCallback,se.timeout)}),[Me]}),Te=[];if(Ye.attach(function(Me){return Te.push([Me])}),se!==void 0){var ye=se.timer;J.evtDoneOrAborted.attachOnce(function(Me){return Me.type==="DONE"},function(){return clearTimeout(ye)})}return{next:a(function(){return s(this,void 0,void 0,function(){var Me,X,oe,ee;return o(this,function(te){switch(te.label){case 0:return Me=Te.shift(),Me!==void 0?[3,2]:(X=new W.Deferred,ne<J.evtDoneOrAborted.postCount?[2,{done:!0}]:(oe=(0,z.newCtx)(),J.evtDoneOrAborted.attachOnce(oe,function(){return X.resolve(void 0)}),Ye.attachOnceExtract(oe,function(fe){oe.done(),X.resolve([fe])}),[4,X.pr]));case 1:if(Me=te.sent(),Me===void 0)return[2,{done:!0}];te.label=2;case 2:return ee={done:!1,value:Me[0]},[2,ee]}})})},"next"),return:a(function(){return ce.detach(J),{done:!0}},"return"),throw:a(function(Me){return ce.detach(J),Promise.reject(Me)},"throw")}},I},E.prototype.$attach=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.attach.apply(this,u([],l(I),!1))},E.prototype.attach=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.__attachX(I,"attach")},E.prototype.$attachOnce=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.attachOnce.apply(this,u([],l(I),!1))},E.prototype.attachOnce=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.__attachX(I,"attachOnce")},E.prototype.$attachExtract=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.attachExtract.apply(this,u([],l(I),!1))},E.prototype.attachExtract=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.__attachX(I,"attachExtract")},E.prototype.$attachPrepend=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.attachPrepend.apply(this,u([],l(I),!1))},E.prototype.attachPrepend=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.__attachX(I,"attachPrepend")},E.prototype.$attachOncePrepend=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.attachOncePrepend.apply(this,u([],l(I),!1))},E.prototype.attachOncePrepend=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.__attachX(I,"attachOncePrepend")},E.prototype.$attachOnceExtract=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.attachOnceExtract.apply(this,u([],l(I),!1))},E.prototype.attachOnceExtract=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return this.__attachX(I,"attachOnceExtract")},E.prototype.__attachX=function(I,O){var B=(0,L.parsePropsFromArgs)(I,"attach*"),H=this.addHandler(B,E.propsFormMethodNames[O]);return B.timeout===void 0?this:H.promise},E.prototype.postAsyncOnceHandled=function(I){var O=this;if(this.isHandled(I))return this.post(I);var B=new W.Deferred;return this.evtAttach.attachOnce(function(H){var G=H.op;return O.isHandledByOp(G,I)},function(){return Promise.resolve().then(function(){return B.resolve(O.post(I))})}),B.pr},E.prototype.postOrPostAndWait=function(I,O){var B=this;this.trace(I),(0,ae.overwriteReadonlyProp)(this,"postCount",this.postCount+1);var H=this.getChronologyMark(),G=l(this.postSync(I),2),J=G[0],ce=G[1],ne=O?function(){return ce}:function(){return B.postCount};if(J)return ne();if(this.postAsync===void 0){if(this.asyncHandlerCount===0)return ne();this.postAsync=this.postAsyncFactory()}return this.postAsync(I,H),ne()},E.prototype.post=function(I){return this.postOrPostAndWait(I,!1)},E.prototype.postAndWait=function(I){return this.postOrPostAndWait(I,!0)},E.create=m.create,E.newCtx=z.newCtx,E.merge=A.merge,E.from=C.from,E.getCtx=(0,y.getCtxFactory)(),E.loosenType=f.loosenType,E.factorize=x.factorize,E.asPostable=M.asPostable,E.asyncPipe=R.asyncPipe,E.asNonPostable=P.asNonPostable,E.__defaultMaxHandlers=25,E.propsFormMethodNames={waitFor:{async:!0,extract:!1,once:!0,prepend:!1},attach:{async:!1,extract:!1,once:!1,prepend:!1},attachExtract:{async:!1,extract:!0,once:!1,prepend:!0},attachPrepend:{async:!1,extract:!1,once:!1,prepend:!0},attachOnce:{async:!1,extract:!1,once:!0,prepend:!1},attachOncePrepend:{async:!1,extract:!1,once:!0,prepend:!0},attachOnceExtract:{async:!1,extract:!0,once:!0,prepend:!0}},E})();e.onAddHandlerByEvt=new d.Polyfill,e.Evt=p;try{(0,ae.overwriteReadonlyProp)(e.Evt,"name","Evt")}catch{}g.importProxy.Evt=e.Evt})(on)),on}a(eL,"requireEvt");var ks={},Zv={},qE;function Wse(){return qE||(qE=1,Zv.__esModule=!0,Object.is||(Object.is=function(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t})),Zv}a(Wse,"requireObject_is");var Uc={},e7;function Qse(){if(e7)return Uc;e7=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.LazyStatefulEvt=void 0;var e=Yh(),t=Pa(),r=(function(){function n(i){this.initialPostCount=0,this.initialState=i}return a(n,"LazyStatefulEvt"),Object.defineProperty(n.prototype,"evt",{get:a(function(){return this.__evt===void 0&&(this.__evt=new t.importProxy.StatefulEvt(this.initialState),this.initialState=null,(0,e.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},"get"),enumerable:!1,configurable:!0}),n.prototype.__post=function(i,s){return this.__evt===void 0?(this.initialState=i,++this.initialPostCount):this.__evt[s?"postAndWait":"post"](i)},n.prototype.post=function(i){return this.__post(i,!1)},n.prototype.postAndWait=function(i){return this.__post(i,!0)},n})();return Uc.LazyStatefulEvt=r,Uc}a(Qse,"requireLazyStatefulEvt");var t7;function qse(){return t7||(t7=1,(function(e){var t=ks&&ks.__extends||(function(){var g=a(function(m,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,A){x.__proto__=A}||function(x,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(x[C]=A[C])},g(m,y)},"extendStatics");return function(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(m,y);function x(){this.constructor=m}a(x,"__"),m.prototype=y===null?Object.create(y):(x.prototype=y.prototype,new x)}})(),r=ks&&ks.__read||function(g,m){var y=typeof Symbol=="function"&&g[Symbol.iterator];if(!y)return g;var x=y.call(g),A,C=[],M;try{for(;(m===void 0||m-- >0)&&!(A=x.next()).done;)C.push(A.value)}catch(R){M={error:R}}finally{try{A&&!A.done&&(y=x.return)&&y.call(x)}finally{if(M)throw M.error}}return C},n=ks&&ks.__spreadArray||function(g,m,y){if(y||arguments.length===2)for(var x=0,A=m.length,C;x<A;x++)(C||!(x in m))&&(C||(C=Array.prototype.slice.call(m,0,x)),C[x]=m[x]);return g.concat(C||Array.prototype.slice.call(m))};Object.defineProperty(e,"__esModule",{value:!0}),e.StatefulEvt=void 0,Wse();var i=jw(),s=Qse(),o=Pa(),l=eL(),u=Dw(),c=Wm(),h=a(function(g){return g()},"runSideEffect"),d=(function(g){t(m,g);function m(y){var x=g.call(this)||this;return x.lazyEvtDiff=new i.LazyEvt,x.lazyEvtChangeDiff=new i.LazyEvt,x.__state=y,x.lazyEvtChange=new s.LazyStatefulEvt(x.__state),l.onAddHandlerByEvt.set(x,function(A,C){if(!A.extract){var M=(0,c.id)(void 0),R=x.getInvocableOp(A.op)(x.__state,x.setOpResultForPipe!==void 0?(function(P){return M=P}):h);x.setOpResultForPipe!==void 0&&(x.setOpResultForPipe(R),M!==void 0&&M()),R&&C(R)}}),x}return a(m,"StatefulEvtImpl"),Object.defineProperty(m.prototype,"state",{get:a(function(){return this.__state},"get"),set:a(function(y){this.state!==y&&this.post(y)},"set"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"evtDiff",{get:a(function(){return this.lazyEvtDiff.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"evtChange",{get:a(function(){return this.lazyEvtChange.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"evtChangeDiff",{get:a(function(){return this.lazyEvtChangeDiff.evt},"get"),enumerable:!1,configurable:!0}),m.prototype.post=function(y){return this.__post(y,!1,!1)},m.prototype.postForceChange=function(y){return this.__post(y?y[0]:this.state,!0,!1)},m.prototype.postAndWait=function(y){return this.__post(y,!1,!0)},m.prototype.__post=function(y,x,A){var C=this.state;this.__state=y;var M={prevState:C,newState:this.state},R=A?"postAndWait":"post",P=[],L=this.lazyEvtDiff[R](M);if(A&&P.push(L),x||!Object.is(C,this.state)){var z=this.lazyEvtChange[R](this.state),Z=this.lazyEvtChangeDiff[R](M);A&&P.push(z,Z)}var Y=g.prototype[R].call(this,y);return A?(P.push(Y),Promise.all(P).then(function(){})):Y},m.prototype.pipe=function(){for(var y=[],x=0;x<arguments.length;x++)y[x]=arguments[x];var A=void 0;this.setOpResultForPipe=function(M){return A=M};var C=g.prototype.pipe.apply(this,n([],r(y),!1));if((0,u.assert)(A!==void 0),this.setOpResultForPipe=void 0,!A)throw new Error(["Cannot pipe StatefulEvt because the operator does not match","it's current state. You would end up with evt.state === undefined","Use evt.toStateless([ctx]).pipe(op).toStatic(initialState)","to be sure the StatefulEvt does not have an undefined state"].join(" "));return C.toStateful(A[0])},m.prototype.toStateless=function(y){var x=l.onAddHandlerByEvt.get(this);l.onAddHandlerByEvt.delete(this);var A=y?g.prototype.pipe.call(this,y):g.prototype.pipe.call(this);return l.onAddHandlerByEvt.set(this,x),A},m})(l.Evt);e.StatefulEvt=d,o.importProxy.StatefulEvt=e.StatefulEvt})(ks)),ks}a(qse,"requireStatefulEvt");var $v={},r7;function eoe(){return r7||(r7=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.to=void 0;var t=new Map,r=a(function(n){var i;return(i=t.get(n))!==null&&i!==void 0?i:(t.set(n,function(s){return s[0]!==n?null:[s[1]]}),(0,e.to)(n))},"to");e.to=r})($v)),$v}a(eoe,"requireTo");var Hc={},n7;function toe(){if(n7)return Hc;n7=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.throttleTime=void 0;var e=Qm(),t=a(function(r){return(0,e.compose)([function(n,i){var s=i.lastClick,o=Date.now();return o-s<r?null:[{data:n,lastClick:o}]},{lastClick:0,data:null}],function(n){var i=n.data;return[i]})},"throttleTime$1");return Hc.throttleTime=t,Hc}a(toe,"requireThrottleTime");var Gc={},i7;function roe(){if(i7)return Gc;i7=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.nonNullable=void 0;var e=a(function(n){return n!=null},"isNonNullable"),t=a(function(n){return e(n)?[n]:null},"nonNullableImpl"),r=a(function(){return t},"nonNullable$1");return Gc.nonNullable=r,Gc}a(roe,"requireNonNullable");var As={},a7;function noe(){if(a7)return As;a7=1;var e=As&&As.__read||function(i,s){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var l=o.call(i),u,c=[],h;try{for(;(s===void 0||s-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(d){h={error:d}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(h)throw h.error}}return c},t=As&&As.__spreadArray||function(i,s,o){if(o||arguments.length===2)for(var l=0,u=s.length,c;l<u;l++)(c||!(l in s))&&(c||(c=Array.prototype.slice.call(s,0,l)),c[l]=s[l]);return i.concat(c||Array.prototype.slice.call(s))};Object.defineProperty(As,"__esModule",{value:!0}),As.distinct=void 0;var r=Qm(),n=a(function(i,s){var o;return(0,r.compose)(function(l){var u,c;return[{data:l,selectedKey:(u=i?.(l))!==null&&u!==void 0?u:l,currentFlushCount:(c=s?.evtDoneOrAborted.postCount)!==null&&c!==void 0?c:0}]},[function(l,u){var c=l.data,h=l.selectedKey,d=l.currentFlushCount,g=u.alreadyPostedData,m=u.previousFlushCount;return[{boxedData:d!==m||!g.has(h)?[c]:null,alreadyPostedData:new Set(t(t([],e(d!==m?[]:Array.from(g)),!1),[h],!1)),previousFlushCount:d}]},{boxedData:null,alreadyPostedData:new Set,previousFlushCount:(o=s?.evtDoneOrAborted.postCount)!==null&&o!==void 0?o:0}],function(l){var u=l.boxedData;return u})},"distinct$1");return As.distinct=n,As}a(noe,"requireDistinct");var s7;function ioe(){return s7||(s7=1,(function(e){var t=Ko&&Ko.__createBinding||(Object.create?(function(h,d,g,m){m===void 0&&(m=g);var y=Object.getOwnPropertyDescriptor(d,g);(!y||("get"in y?!d.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:a(function(){return d[g]},"get")}),Object.defineProperty(h,m,y)}):(function(h,d,g,m){m===void 0&&(m=g),h[m]=d[g]})),r=Ko&&Ko.__exportStar||function(h,d){for(var g in h)g!=="default"&&!Object.prototype.hasOwnProperty.call(d,g)&&t(d,h,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.distinct=e.nonNullable=e.throttleTime=e.to=e.StatefulEvt=e.Evt=e.Ctx=void 0,r(Ose(),e),r(Rse(),e);var n=Lse();Object.defineProperty(e,"Ctx",{enumerable:!0,get:a(function(){return n.Ctx},"get")});var i=eL();Object.defineProperty(e,"Evt",{enumerable:!0,get:a(function(){return i.Evt},"get")});var s=qse();Object.defineProperty(e,"StatefulEvt",{enumerable:!0,get:a(function(){return s.StatefulEvt},"get")});var o=eoe();Object.defineProperty(e,"to",{enumerable:!0,get:a(function(){return o.to},"get")});var l=toe();Object.defineProperty(e,"throttleTime",{enumerable:!0,get:a(function(){return l.throttleTime},"get")});var u=roe();Object.defineProperty(e,"nonNullable",{enumerable:!0,get:a(function(){return u.nonNullable},"get")});var c=noe();Object.defineProperty(e,"distinct",{enumerable:!0,get:a(function(){return c.distinct},"get")})})(Ko)),Ko}a(ioe,"requireLib");var Ts=ioe();const cs=Object.create(null);cs.open="0";cs.close="1";cs.ping="2";cs.pong="3";cs.message="4";cs.upgrade="5";cs.noop="6";const x0=Object.create(null);Object.keys(cs).forEach(e=>{x0[cs[e]]=e});const F1={type:"error",data:"parser error"},tL=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",rL=typeof ArrayBuffer=="function",nL=a(e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,"isView$1"),Bw=a(({type:e,data:t},r,n)=>tL&&t instanceof Blob?r?n(t):o7(t,n):rL&&(t instanceof ArrayBuffer||nL(t))?r?n(t):o7(new Blob([t]),n):n(cs[e]+(t||"")),"encodePacket"),o7=a((e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)},"encodeBlobAsBase64");function l7(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}a(l7,"toArray$1");let Xv;function aoe(e,t){if(tL&&e.data instanceof Blob)return e.data.arrayBuffer().then(l7).then(t);if(rL&&(e.data instanceof ArrayBuffer||nL(e.data)))return t(l7(e.data));Bw(e,!1,r=>{Xv||(Xv=new TextEncoder),t(Xv.encode(r))})}a(aoe,"encodePacketToBinary");const u7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",od=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<u7.length;e++)od[u7.charCodeAt(e)]=e;const soe=a(e=>{let t=e.length*.75,r=e.length,n,i=0,s,o,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),h=new Uint8Array(c);for(n=0;n<r;n+=4)s=od[e.charCodeAt(n)],o=od[e.charCodeAt(n+1)],l=od[e.charCodeAt(n+2)],u=od[e.charCodeAt(n+3)],h[i++]=s<<2|o>>4,h[i++]=(o&15)<<4|l>>2,h[i++]=(l&3)<<6|u&63;return c},"decode$1"),ooe=typeof ArrayBuffer=="function",zw=a((e,t)=>{if(typeof e!="string")return{type:"message",data:iL(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:loe(e.substring(1),t)}:x0[r]?e.length>1?{type:x0[r],data:e.substring(1)}:{type:x0[r]}:F1},"decodePacket"),loe=a((e,t)=>{if(ooe){const r=soe(e);return iL(r,t)}else return{base64:!0,data:e}},"decodeBase64Packet"),iL=a((e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},"mapBinary"),aL="",uoe=a((e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((s,o)=>{Bw(s,!1,l=>{n[o]=l,++i===r&&t(n.join(aL))})})},"encodePayload"),coe=a((e,t)=>{const r=e.split(aL),n=[];for(let i=0;i<r.length;i++){const s=zw(r[i],t);if(n.push(s),s.type==="error")break}return n},"decodePayload");function doe(){return new TransformStream({transform(e,t){aoe(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}a(doe,"createPacketEncoderStream");let Jv;function Df(e){return e.reduce((t,r)=>t+r.length,0)}a(Df,"totalLength");function jf(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}a(jf,"concatChunks");function hoe(e,t){Jv||(Jv=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(Df(r)<1)break;const u=jf(r,1);s=(u[0]&128)===128,i=u[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Df(r)<2)break;const u=jf(r,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(Df(r)<8)break;const u=jf(r,8),c=new DataView(u.buffer,u.byteOffset,u.length),h=c.getUint32(0);if(h>Math.pow(2,21)-1){l.enqueue(F1);break}i=h*Math.pow(2,32)+c.getUint32(4),n=3}else{if(Df(r)<i)break;const u=jf(r,i);l.enqueue(zw(s?u:Jv.decode(u),t)),n=0}if(i===0||i>e){l.enqueue(F1);break}}}})}a(hoe,"createPacketDecoderStream");const sL=4;function bn(e){if(e)return foe(e)}a(bn,"Emitter");function foe(e){for(var t in bn.prototype)e[t]=bn.prototype[t];return e}a(foe,"mixin");bn.prototype.on=bn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};bn.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return a(r,"on"),r.fn=t,this.on(e,r),this};bn.prototype.off=bn.prototype.removeListener=bn.prototype.removeAllListeners=bn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};bn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};bn.prototype.emitReserved=bn.prototype.emit;bn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};bn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const eg=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),$i=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),poe="arraybuffer";function oL(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}a(oL,"pick");const moe=$i.setTimeout,goe=$i.clearTimeout;function tg(e,t){t.useNativeTimers?(e.setTimeoutFn=moe.bind($i),e.clearTimeoutFn=goe.bind($i)):(e.setTimeoutFn=$i.setTimeout.bind($i),e.clearTimeoutFn=$i.clearTimeout.bind($i))}a(tg,"installTimerFunctions");const voe=1.33;function boe(e){return typeof e=="string"?yoe(e):Math.ceil((e.byteLength||e.size)*voe)}a(boe,"byteLength");function yoe(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}a(yoe,"utf8Length");function lL(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}a(lL,"randomString");function woe(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}a(woe,"encode");function _oe(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}a(_oe,"decode");class xoe extends Error{static{a(this,"TransportError")}constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Fw extends bn{static{a(this,"Transport")}constructor(t){super(),this.writable=!1,tg(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new xoe(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=zw(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=woe(t);return r.length?"?"+r:""}}class Eoe extends Fw{static{a(this,"Polling")}constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=a(()=>{this.readyState="paused",t()},"pause");if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=a(n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)},"callback");coe(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=a(()=>{this.write([{type:"close"}])},"close");this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,uoe(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=lL()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let uL=!1;try{uL=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Soe=uL;function koe(){}a(koe,"empty");class Aoe extends Eoe{static{a(this,"BaseXHR")}constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class is extends bn{static{a(this,"Request")}constructor(t,r,n){super(),this.createRequest=t,tg(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=oL(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=is.requestsCount++,is.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=koe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete is.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}is.requestsCount=0;is.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",c7);else if(typeof addEventListener=="function"){const e="onpagehide"in $i?"pagehide":"unload";addEventListener(e,c7,!1)}}function c7(){for(let e in is.requests)is.requests.hasOwnProperty(e)&&is.requests[e].abort()}a(c7,"unloadHandler");const Toe=(function(){const e=cL({xdomain:!1});return e&&e.responseType!==null})();class Noe extends Aoe{static{a(this,"XHR")}constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Toe&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new is(cL,this.uri(),t)}}function cL(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Soe))return new XMLHttpRequest}catch{}if(!t)try{return new $i[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}a(cL,"newRequest");const dL=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Coe extends Fw{static{a(this,"BaseWS")}get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=dL?{}:oL(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;Bw(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}i&&eg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=lL()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Kv=$i.WebSocket||$i.MozWebSocket;class Ioe extends Coe{static{a(this,"WS")}createSocket(t,r,n){return dL?new Kv(t,r,n):r?new Kv(t,r):new Kv(t)}doWrite(t,r){this.ws.send(r)}}class Moe extends Fw{static{a(this,"WT")}get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=hoe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=doe();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const s=a(()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),s())}).catch(l=>{})},"read");s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&eg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Ooe={websocket:Ioe,webtransport:Moe,polling:Noe},Roe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Poe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function U1(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=Roe.exec(e||""),s={},o=14;for(;o--;)s[Poe[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Loe(s,s.path),s.queryKey=Doe(s,s.query),s}a(U1,"parse");function Loe(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}a(Loe,"pathNames");function Doe(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}a(Doe,"queryKey");const H1=typeof addEventListener=="function"&&typeof removeEventListener=="function",E0=[];H1&&addEventListener("offline",()=>{E0.forEach(e=>e())},!1);class Ao extends bn{static{a(this,"SocketWithoutUpgrade")}constructor(t,r){if(super(),this.binaryType=poe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=U1(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=U1(r.host).host);tg(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_oe(this.opts.query)),H1&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},E0.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=sL,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ao.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Ao.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=boe(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,eg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:t,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=a(()=>{this._onClose("forced close"),this.transport.close()},"close"),r=a(()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},"cleanupAndClose"),n=a(()=>{this.once("upgrade",r),this.once("upgradeError",r)},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Ao.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),H1&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=E0.indexOf(this._offlineEventListener);n!==-1&&E0.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Ao.protocol=sL;class joe extends Ao{static{a(this,"SocketWithUpgrade")}constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Ao.priorWebsocketSuccess=!1;const i=a(()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!n)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Ao.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))},"onTransportOpen");function s(){n||(n=!0,h(),r.close(),r=null)}a(s,"freezeTransport");const o=a(d=>{const g=new Error("probe error: "+d);g.transport=r.name,s(),this.emitReserved("upgradeError",g)},"onerror");function l(){o("transport closed")}a(l,"onTransportClose");function u(){o("socket closed")}a(u,"onclose");function c(d){r&&d.name!==r.name&&s()}a(c,"onupgrade");const h=a(()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",u),this.off("upgrading",c)},"cleanup");r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Boe=class extends joe{static{a(this,"Socket")}constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>Ooe[i]).filter(i=>!!i)),super(t,n)}};function zoe(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=U1(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+t,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}a(zoe,"url");const Foe=typeof ArrayBuffer=="function",Uoe=a(e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,"isView"),hL=Object.prototype.toString,Hoe=typeof Blob=="function"||typeof Blob<"u"&&hL.call(Blob)==="[object BlobConstructor]",Goe=typeof File=="function"||typeof File<"u"&&hL.call(File)==="[object FileConstructor]";function Uw(e){return Foe&&(e instanceof ArrayBuffer||Uoe(e))||Hoe&&e instanceof Blob||Goe&&e instanceof File}a(Uw,"isBinary");function S0(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(S0(e[r]))return!0;return!1}if(Uw(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return S0(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&S0(e[r]))return!0;return!1}a(S0,"hasBinary");function Voe(e){const t=[],r=e.data,n=e;return n.data=G1(r,t),n.attachments=t.length,{packet:n,buffers:t}}a(Voe,"deconstructPacket");function G1(e,t){if(!e)return e;if(Uw(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=G1(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=G1(e[n],t));return r}return e}a(G1,"_deconstructPacket");function Yoe(e,t){return e.data=V1(e.data,t),delete e.attachments,e}a(Yoe,"reconstructPacket");function V1(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=V1(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=V1(e[r],t));return e}a(V1,"_reconstructPacket");const Zoe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],$oe=5;var mr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(mr||(mr={}));class Xoe{static{a(this,"Encoder")}constructor(t){this.replacer=t}encode(t){return(t.type===mr.EVENT||t.type===mr.ACK)&&S0(t)?this.encodeAsBinary({type:t.type===mr.EVENT?mr.BINARY_EVENT:mr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===mr.BINARY_EVENT||t.type===mr.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Voe(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function d7(e){return Object.prototype.toString.call(e)==="[object Object]"}a(d7,"isObject");class Hw extends bn{static{a(this,"Decoder")}constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===mr.BINARY_EVENT;n||r.type===mr.BINARY_ACK?(r.type=n?mr.EVENT:mr.ACK,this.reconstructor=new Joe(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Uw(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(mr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===mr.BINARY_EVENT||n.type===mr.BINARY_ACK){const s=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(s,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(s,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(s,r+1))}if(t.charAt(++r)){const s=this.tryParse(t.substr(r));if(Hw.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case mr.CONNECT:return d7(r);case mr.DISCONNECT:return r===void 0;case mr.CONNECT_ERROR:return typeof r=="string"||d7(r);case mr.EVENT:case mr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Zoe.indexOf(r[0])===-1);case mr.ACK:case mr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Joe{static{a(this,"BinaryReconstructor")}constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Yoe(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Koe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Hw,Encoder:Xoe,get PacketType(){return mr},protocol:$oe},Symbol.toStringTag,{value:"Module"}));function ma(e,t,r){return e.on(t,r),a(function(){e.off(t,r)},"subDestroy")}a(ma,"on");const Woe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class fL extends bn{static{a(this,"Socket")}constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ma(t,"open",this.onopen.bind(this)),ma(t,"packet",this.onpacket.bind(this)),ma(t,"error",this.onerror.bind(this)),ma(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,s;if(Woe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:mr.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const h=this.ids++,d=r.pop();this._registerAckCallback(h,d),o.id=h}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=a((...l)=>{this.io.clearTimeoutFn(s),r.apply(this,l)},"fn");o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const s=a((o,l)=>o?i(o):n(l),"fn");s.withError=!0,r.push(s),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:mr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case mr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case mr.EVENT:case mr.BINARY_EVENT:this.onevent(t);break;case mr.ACK:case mr.BINARY_ACK:this.onack(t);break;case mr.DISCONNECT:this.ondisconnect();break;case mr.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:mr.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:mr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function nc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}a(nc,"Backoff");nc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};nc.prototype.reset=function(){this.attempts=0};nc.prototype.setMin=function(e){this.ms=e};nc.prototype.setMax=function(e){this.max=e};nc.prototype.setJitter=function(e){this.jitter=e};class Y1 extends bn{static{a(this,"Manager")}constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,tg(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new nc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||Koe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Boe(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=ma(r,"open",function(){n.onopen(),t&&t()}),s=a(l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},"onError"),o=ma(r,"error",s);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),r.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ma(t,"ping",this.onping.bind(this)),ma(t,"data",this.ondata.bind(this)),ma(t,"error",this.onerror.bind(this)),ma(t,"close",this.onclose.bind(this)),ma(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){eg(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new fL(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Vc={};function k0(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=zoe(e,t.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=Vc[i]&&s in Vc[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let u;return l?u=new Y1(n,t):(Vc[i]||(Vc[i]=new Y1(n,t)),u=Vc[i]),r.query&&!t.query&&(t.query=r.queryKey),u.socket(r.path,t)}a(k0,"lookup");Object.assign(k0,{Manager:Y1,Socket:fL,io:k0,connect:k0});class Qoe{static{a(this,"EventAdapter")}events={};constructor(){this.events.messageBroadcast=Ts.Evt.create(),this.events.messageComplete=Ts.Evt.create(),this.events.controlMessage=Ts.Evt.create(),this.events.messageDeleted=Ts.Evt.create(),this.events.channelCleared=Ts.Evt.create(),this.events.channelDeleted=Ts.Evt.create(),this.events.logStream=Ts.Evt.create()}on(t,r){return this.events[t]||(this.events[t]=Ts.Evt.create()),this.events[t].attach(r),this}off(t,r){if(this.events[t]){const n=this.events[t].getHandlers();for(const i of n)i.callback===r&&i.detach()}return this}emit(t,...r){return this.events[t]&&this.events[t].post(r.length===1?r[0]:r),this}once(t,r){return this.events[t]||(this.events[t]=Ts.Evt.create()),this.events[t].attachOnce(r),this}listenerCount(t){return this.events[t]?this.events[t].getHandlers().length:0}_getEvt(t){return this.events[t]}}class Qi extends Qoe{static{a(this,"SocketIOManager")}static instance=null;socket=null;isConnected=!1;connectPromise=null;resolveConnect=null;activeChannelIds=new Set;clientEntityId=null;logStreamSubscribed=!1;get evtMessageBroadcast(){return this._getEvt("messageBroadcast")}get evtMessageComplete(){return this._getEvt("messageComplete")}get evtControlMessage(){return this._getEvt("controlMessage")}get evtMessageDeleted(){return this._getEvt("messageDeleted")}get evtChannelCleared(){return this._getEvt("channelCleared")}get evtChannelDeleted(){return this._getEvt("channelDeleted")}get evtLogStream(){return this._getEvt("logStream")}constructor(){super()}static getInstance(){return Qi.instance||(Qi.instance=new Qi),Qi.instance}static isConnected(){return Qi.instance?.isConnected||!1}isChannelActive(t){return this.activeChannelIds.has(t)}initialize(t){if(this.clientEntityId=t,this.socket){qe.debug("[SocketIO] Socket already initialized");return}const r=window.location.origin+"/";qe.info("connecting to",r),this.socket=k0(r,{autoConnect:!0,reconnection:!0}),this.connectPromise=new Promise(n=>{this.resolveConnect=n}),this.socket.on("connect",()=>{qe.info("[SocketIO] Connected to server"),this.isConnected=!0,this.resolveConnect?.(),this.emit("connect")}),this.socket.on("unauthorized",n=>{this.emit("unauthorized",n)}),this.socket.on("messageBroadcast",n=>{const i=typeof n=="string"?(()=>{try{return JSON.parse(n)}catch{return qe.warn("[SocketIO] Failed to parse string messageBroadcast payload:",n),{}}})():n;qe.info("[SocketIO] Message broadcast received:",i);const s=i&&typeof i=="object",o=s?Object.keys(i):[];qe.debug("[SocketIO] Message broadcast data structure:",{keys:o,senderId:i.senderId,senderNameType:typeof i.senderName,textType:typeof i.text,textLength:i.text?i.text.length:0,hasThought:s&&"thought"in i,hasActions:s&&"actions"in i,additionalKeys:o.filter(u=>!["senderId","senderName","text","roomId","createdAt","source","thought","actions"].includes(u))});const l=i.channelId||i.roomId;l&&this.activeChannelIds.has(l)?(qe.info(`[SocketIO] Handling message for active channel ${l}`),this.emit("messageBroadcast",{...i,channelId:l,roomId:l,name:i.senderName})):qe.warn(`[SocketIO] Received message for inactive channel ${l}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("messageComplete",n=>{this.emit("messageComplete",n)}),this.socket.on("controlMessage",n=>{qe.info("[SocketIO] Control message received:",n);const i=n.channelId||n.roomId;i&&this.activeChannelIds.has(i)?(qe.info(`[SocketIO] Handling control message for active channel ${i}`),this.emit("controlMessage",{...n,channelId:i,roomId:i})):qe.warn(`[SocketIO] Received control message for inactive channel ${i}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("messageDeleted",n=>{qe.debug("[SocketIO] Message deleted event received:",n);const i=n.channelId||n.roomId;i&&this.activeChannelIds.has(i)?(qe.info(`[SocketIO] Handling message deletion for active channel ${i}`),this.emit("messageDeleted",{...n,channelId:i,roomId:i})):qe.warn(`[SocketIO] Received message deleted event for inactive channel ${i}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("channelCleared",n=>{qe.info("[SocketIO] Channel cleared event received:",n);const i=n.channelId||n.roomId;i&&this.activeChannelIds.has(i)?(qe.info(`[SocketIO] Handling channel cleared for active channel ${i}`),this.emit("channelCleared",{...n,channelId:i,roomId:i})):qe.warn(`[SocketIO] Received channel cleared event for inactive channel ${i}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("channelDeleted",n=>{qe.info("[SocketIO] Channel deleted event received:",n);const i=n.channelId||n.roomId;i&&this.activeChannelIds.has(i)?(qe.info(`[SocketIO] Handling channel deleted for active channel ${i}`),this.emit("channelDeleted",{...n,channelId:i,roomId:i})):qe.warn(`[SocketIO] Received channel deleted event for inactive channel ${i}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("disconnect",n=>{qe.info(`[SocketIO] Disconnected. Reason: ${n}`),this.isConnected=!1,this.emit("disconnect",n),this.connectPromise=new Promise(i=>{this.resolveConnect=i}),n==="io server disconnect"&&this.socket?.connect()}),this.socket.on("reconnect_attempt",n=>{qe.info("[SocketIO] Reconnect attempt",n),this.emit("reconnect_attempt",n)}),this.socket.on("reconnect",n=>{qe.info(`[SocketIO] Reconnected after ${n} attempts`),this.emit("reconnect",n)}),this.socket.on("connect_error",n=>{qe.error("[SocketIO] Connection error:",n),this.emit("connect_error",n)}),this.socket.on("log_stream",n=>{qe.debug("[SocketIO] Log stream data received:",n),n.type==="log_entry"&&n.payload&&this.emit("logStream",n.payload)}),this.socket.on("log_subscription_confirmed",n=>{qe.info("[SocketIO] Log subscription confirmed:",n),this.logStreamSubscribed=n.subscribed})}async joinChannel(t){if(!this.socket){qe.error("[SocketIO] Cannot join channel: socket not initialized");return}this.isConnected||await this.connectPromise,qe.info(`[SocketIO] joinChannel: Attempting to join ${t}. Current activeChannelIds before add:`,new Set(this.activeChannelIds)),this.activeChannelIds.add(t),qe.info(`[SocketIO] joinChannel: Joined ${t}. Current activeChannelIds after add:`,new Set(this.activeChannelIds)),this.socket.emit("message",{type:l1.ROOM_JOINING,payload:{channelId:t,roomId:t,entityId:this.clientEntityId}}),qe.info(`[SocketIO] Emitted ROOM_JOINING for ${t}`)}async joinRoom(t){return this.joinChannel(t)}leaveChannel(t){if(!this.socket||!this.isConnected){qe.warn(`[SocketIO] Cannot leave channel ${t}: not connected`);return}qe.info(`[SocketIO] leaveChannel: Attempting to leave ${t}. Current activeChannelIds before delete:`,new Set(this.activeChannelIds)),this.activeChannelIds.delete(t),qe.info(`[SocketIO] leaveChannel: Left ${t}. Current activeChannelIds after delete:`,new Set(this.activeChannelIds))}leaveRoom(t){return this.leaveChannel(t)}async sendMessage(t,r,n,i,s,o,l){if(!this.socket){qe.error("[SocketIO] Cannot send message: socket not initialized");return}this.isConnected||await this.connectPromise;const u=o||Fs();qe.info(`[SocketIO] Sending message to central channel ${r} on server ${n}`),this.socket.emit("message",{type:l1.SEND_MESSAGE,payload:{senderId:this.clientEntityId,senderName:yu,message:t,channelId:r,roomId:r,serverId:n,messageId:u,source:i,attachments:s,metadata:l}})}async subscribeToLogStream(){if(!this.socket){qe.error("[SocketIO] Cannot subscribe to logs: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("subscribe_logs"),qe.info("[SocketIO] Subscribed to log stream")}async unsubscribeFromLogStream(){if(!this.socket){qe.error("[SocketIO] Cannot unsubscribe from logs: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("unsubscribe_logs"),qe.info("[SocketIO] Unsubscribed from log stream")}async updateLogStreamFilters(t){if(!this.socket){qe.error("[SocketIO] Cannot update log filters: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("update_log_filters",t),qe.info("[SocketIO] Updated log stream filters:",t)}isLogStreamSubscribed(){return this.logStreamSubscribed}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.activeChannelIds.clear(),this.logStreamSubscribed=!1,qe.info("[SocketIO] Disconnected from server"))}}const po={setUnauthorized:a(e=>{console.warn("setUnauthorized called before ConnectionContext is ready",e)},"setUnauthorized"),setOfflineStatus:a(e=>{console.warn("setOfflineStatus called before ConnectionContext is ready",e)},"setOfflineStatus")},pL=U.createContext(void 0),qoe=a(({children:e})=>{const{toast:t}=Br(),[r,n]=U.useState("loading"),[i,s]=U.useState(null),o=U.useRef(!0),l=Qi.getInstance(),u=U.useCallback(d=>{n("unauthorized"),s(d),t({title:"Authorization Required",description:d||"Please provide a valid API Key.",variant:"destructive"})},[t]),c=U.useCallback(d=>{d?r!=="error"&&r!=="unauthorized"&&(n("error"),s("Network connection appears to be offline."),t({title:"Network Offline",description:"Please check your internet connection.",variant:"destructive"})):r==="error"&&i?.includes("offline")},[r,i,t]),h=U.useCallback(d=>{try{d!==void 0&&dse(d),console.log("API client refreshed with new configuration")}catch(g){console.error("Failed to refresh API client:",g)}},[]);return U.useEffect(()=>{po.setUnauthorized=u,po.setOfflineStatus=c},[u,c]),U.useEffect(()=>{const d=a(()=>{n("connected"),s(null),po.setOfflineStatus&&po.setOfflineStatus(!1),o.current?o.current=!1:t({title:"Connection Restored",description:"Successfully reconnected to the Eliza server."})},"onConnect"),g=a(A=>{n("error"),s(`Connection lost: ${A}`),po.setOfflineStatus&&po.setOfflineStatus(!0),t({title:"Connection Lost",description:"Attempting to reconnect to the Eliza server",variant:"destructive"})},"onDisconnect"),m=a(()=>{n("reconnecting"),s("Reconnecting...")},"onReconnectAttempt"),y=a(A=>{n("error"),s(A.message),po.setOfflineStatus&&po.setOfflineStatus(!0)},"onConnectError"),x=a(A=>{n("unauthorized"),s(`Unauthorized: ${A}`),t({title:"Unauthorized",description:"Please log in again.",variant:"destructive"})},"onUnauthorized");return l.on("connect",d),l.on("disconnect",g),l.on("reconnect",d),l.on("reconnect_attempt",m),l.on("connect_error",y),l.on("unauthorized",x),Qi.isConnected()&&d(),()=>{l.off("connect",d),l.off("disconnect",g),l.off("reconnect",d),l.off("reconnect_attempt",m),l.off("connect_error",y),l.off("unauthorized",x)}},[t,l,c]),b.jsx(pL.Provider,{value:{status:r,error:i,setUnauthorizedFromApi:u,setOfflineStatusFromProvider:c,refreshApiClient:h},children:e})},"ConnectionProvider"),Gw=a(()=>{const e=U.useContext(pL);if(!e)throw new Error("useConnection must be inside ConnectionProvider");return e},"useConnection");function ele(){const{toast:e}=Br(),[t,r]=U.useState(null),{openApiKeyDialog:n}=Pw(),{status:i,error:s}=Gw(),o=i==="loading",l=i==="connected",u=i==="error",c=i==="unauthorized",h=u||c;U.useEffect(()=>{(t==="error"||t==="unauthorized"||t==="disconnected")&&l?e({title:"Connection Restored",description:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(gA,{className:"h-4 w-4 text-green-500"}),b.jsx("span",{children:"Successfully reconnected to the Eliza server."})]})}):t==="connected"&&(u||c)&&e({title:"Connection Lost",description:"Attempting to reconnect to the Eliza server...",variant:"destructive"}),r(i)},[i,t,l,u,c,e]),U.useEffect(()=>{c&&t!=="unauthorized"&&n()},[c,t,n]);const d=a(()=>c?"bg-yellow-500":o?"bg-muted-foreground":l?"bg-green-600":"bg-red-600","getStatusColor"),g=a(()=>c?"Unauthorized":o?"Connecting...":l?"Connected":"Disconnected","getStatusText"),m=a(()=>c?"text-yellow-500":o?"text-muted-foreground":l?"text-green-600":"text-red-600","getTextColor"),y=a(()=>s?c?"Unauthorized: Invalid or missing API Key. Check client configuration or server logs.":s.includes("NetworkError")||s.includes("Failed to fetch")?"Cannot reach server":s.includes("ECONNREFUSED")?"Connection refused":s.includes("timeout")?"Connection timeout":s.includes("404")||s.includes("not found")||s.includes("API endpoint not found")?"Endpoint not found":s:"Connection failed","getErrorMessage");return b.jsx(Ta,{"data-testid":"connection-status",children:b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx(Cl,{className:"rounded",children:b.jsx("div",{className:"flex flex-col gap-1 select-none",children:b.jsxs("div",{className:"flex items-center gap-1",children:[h||c?b.jsx(ea,{className:Ue("h-3.5 w-3.5",c?"text-yellow-500":"text-red-600")}):b.jsx("div",{className:Ue(["h-2.5 w-2.5 rounded-full",d()])}),b.jsx("span",{className:Ue("text-xs",m()),children:g()})]})})})}),h&&b.jsx(nn,{side:"top",align:"center",className:"max-w-xs",children:b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("div",{className:Ue("font-semibold",c?"text-yellow-500":"text-red-500"),children:y()}),b.jsx("p",{className:"text-xs",children:"Please ensure the Eliza server is running and accessible."}),!c&&b.jsx("p",{className:"text-xs",children:"Try refreshing the connection or check server logs."}),c&&b.jsx("p",{className:"text-xs",children:"Check the X-API-KEY configured in your client or the ELIZA_SERVER_AUTH_TOKEN on the server."})]})})]})})}a(ele,"ConnectionStatus");const Lo=U.forwardRef(({className:e,...t},r)=>b.jsx(vA,{ref:r,className:Ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-md",e),"data-testid":t["data-testid"]||"avatar",...t}));Lo.displayName=vA.displayName;const Bl=U.forwardRef(({className:e,...t},r)=>b.jsx(bA,{ref:r,className:Ue("aspect-square h-full w-full object-cover",e),"data-testid":t["data-testid"]||"avatar-image",...t}));Bl.displayName=bA.displayName;const rg=U.forwardRef(({className:e,...t},r)=>b.jsx(yA,{ref:r,className:Ue("flex h-full w-full items-center justify-center rounded-md bg-muted",e),"data-testid":t["data-testid"]||"avatar-fallback",...t}));rg.displayName=yA.displayName;function Xl(){const[e,t]=U.useState({open:!1,options:null,onConfirm:null}),r=U.useCallback((s,o)=>{t({open:!0,options:s,onConfirm:o})},[]),n=U.useCallback(s=>{s||t({open:!1,options:null,onConfirm:null})},[]),i=U.useCallback(()=>{e.onConfirm&&e.onConfirm(),n(!1)},[e.onConfirm,n]);return{confirm:r,isOpen:e.open,onOpenChange:n,onConfirm:i,options:e.options}}a(Xl,"useConfirmation");function tle(e){switch(e){case"active":return vn.ACTIVE;case"inactive":case"stopped":return vn.INACTIVE;default:return vn.INACTIVE}}a(tle,"mapApiStatusToEnum");function mL(e){return{...e,id:e.id,status:tle(e.status),createdAt:e.createdAt instanceof Date?e.createdAt.getTime():new Date(e.createdAt).getTime(),updatedAt:e.updatedAt instanceof Date?e.updatedAt.getTime():new Date(e.updatedAt).getTime()}}a(mL,"mapApiAgentToClient");function wp(e){return e instanceof Date?e.getTime():typeof e=="string"?new Date(e).getTime():e}a(wp,"apiDateToTimestamp");function _p(e){return e instanceof Date?e.toISOString():e}a(_p,"apiDateToString");function Vw(e){return{...e,id:e.id,messageServerId:e.messageServerId,type:e.type,createdAt:_p(e.createdAt),updatedAt:_p(e.updatedAt)}}a(Vw,"mapApiChannelToClient");function rle(e){return{...e,id:e.id,createdAt:_p(e.createdAt),updatedAt:_p(e.updatedAt)}}a(rle,"mapApiServerToClient");function nle(e){return e.map(rle)}a(nle,"mapApiServersToClient");function ile(e){return e.map(Vw)}a(ile,"mapApiChannelsToClient");function ale(e,t){const r=e.metadata?.attachments?.map(s=>({id:s.id||crypto.randomUUID(),url:s.url,title:s.title||s.name,source:s.source,description:s.description,text:s.text,contentType:s.contentType||s.type}))||void 0,n=e.sourceType,i=e.rawMessage;return{id:e.id,text:e.content,name:e.metadata?.authorDisplayName||e.metadata?.agentName||"Unknown",senderId:e.authorId,isAgent:!!e.metadata?.isAgent||!1,createdAt:wp(e.createdAt),channelId:e.channelId,serverId:t||e.metadata?.serverId,prompt:e.metadata?.prompt,attachments:r,thought:e.metadata?.thought,actions:e.metadata?.actions,type:n,rawMessage:i}}a(ale,"mapApiMessageToUi");function sle(e){return{id:e.id,type:e?.type||e.body?.modelType,timestamp:e.timestamp?wp(e.timestamp):void 0,message:e.message,details:e.details,roomId:e.roomId,body:e.body,createdAt:e.createdAt?wp(e.createdAt):void 0}}a(sle,"mapApiLogToClient");function ole(e){const t=e.entityId||e.metadata?.entityId||e.metadata?.userId||e.agentId;return{id:e.id,entityId:t,agentId:e.agentId,content:e.content,embedding:e.embedding,roomId:e.roomId,createdAt:wp(e.createdAt),unique:e.metadata?.unique}}a(ole,"mapApiMemoryToClient");const yn=Mr(),Or={FREQUENT:3e4,STANDARD:12e4,RARE:6e5,NEVER:Number.POSITIVE_INFINITY},ao=a(()=>{const e=typeof navigator<"u"&&"connection"in navigator?navigator.connection:null;return{isOffline:typeof navigator<"u"&&!navigator.onLine,effectiveType:e?.effectiveType||"unknown",saveData:e?.saveData||!1}},"useNetworkStatus");function Yw(e={}){const t=ao();return Un({queryKey:["agents"],queryFn:a(async()=>({data:{agents:(await yn.agents.listAgents()).agents.map(i=>mL(i))}}),"queryFn"),staleTime:Or.FREQUENT,refetchInterval:t.isOffline?!1:Or.FREQUENT,refetchIntervalInBackground:!1,...!t.isOffline&&t.effectiveType==="slow-2g"&&{refetchInterval:Or.STANDARD},...e})}a(Yw,"useAgents");function Zh(e,t={}){const r=ao();return Un({queryKey:["agent",e],queryFn:a(async()=>{if(!e)throw new Error("Agent ID is required");const n=await yn.agents.getAgent(e);return{data:mL(n)}},"queryFn"),staleTime:Or.FREQUENT,enabled:!!e,refetchInterval:!r.isOffline&&e?Or.FREQUENT:!1,refetchIntervalInBackground:!1,...!r.isOffline&&r.effectiveType==="slow-2g"&&{refetchInterval:Or.STANDARD},...t})}a(Zh,"useAgent");function lle(e,t,r={}){const n=ao(),i=void 0;return Un({queryKey:["agent",e,"runs","default"],queryFn:a(async()=>{if(!e)throw new Error("Agent ID is required");return yn.runs.listRuns(e,i)},"queryFn"),enabled:!!e,staleTime:Or.FREQUENT,refetchInterval:!n.isOffline&&e?Or.FREQUENT:!1,refetchIntervalInBackground:!1,...!n.isOffline&&n.effectiveType==="slow-2g"&&{refetchInterval:Or.STANDARD},...r})}a(lle,"useAgentRuns");function ule(){const e=Ln(),{toast:t}=Br();return Pi({mutationFn:a(async r=>{try{const n=await yn.agents.startAgent(r);return{data:{id:r,name:"Agent",status:n.status}}}catch(n){throw n instanceof Error&&n.message.includes("already running")?new Error("Agent is already running."):n}},"mutationFn"),onMutate:a(async r=>(t({title:"Starting Agent",description:"Initializing agent..."}),{}),"onMutate"),onSuccess:a((r,n)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",n]}),t({title:"Agent Started",description:`${r?.data?.name||"Agent"} is now running`})},"onSuccess"),onError:a(r=>{const n=r instanceof Error?r.message:"Failed to start agent";t({title:"Error Starting Agent",description:`${n}. Please try again.`,variant:"destructive"})},"onError")})}a(ule,"useStartAgent");function cle(){const e=Ln(),{toast:t}=Br();return Pi({mutationFn:a(async r=>({data:{message:`Agent ${(await yn.agents.stopAgent(r)).status}`}}),"mutationFn"),onMutate:a(async r=>{const n=e.getQueryData(["agent",r]);n&&t({title:"Stopping Agent",description:`Stopping ${n.name}...`})},"onMutate"),onSuccess:a((r,n)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",n]}),t({title:"Agent Stopped",description:r?.data?.message||"The agent has been successfully stopped"})},"onSuccess"),onError:a((r,n)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",n]}),t({title:"Error",description:r instanceof Error?r.message:"Failed to stop agent",variant:"destructive"})},"onError")})}a(cle,"useStopAgent");function h7(e,t){const r=Nl(),[n,i]=U.useState([]),[s,o]=U.useState(null),[l,u]=U.useState(!0),[c,h]=U.useState(!0),[d,g]=U.useState(!1),[m,y]=U.useState(null),[x,A]=U.useState(!1),C=U.useCallback((Y,ae)=>{const F=Y.authorId!==r;let W=Date.now();if(typeof Y.createdAt=="number")W=Y.createdAt;else if(typeof Y.createdAt=="string"){const f=Date.parse(Y.createdAt);isNaN(f)?qe.warn("[transformServerMessageToUiMessage] createdAt string was not directly parsable by Date.parse():",Y.createdAt,"for message id:",Y.id):W=f}else if(Y.createdAt)try{const f=new Date(Y.createdAt).getTime();isNaN(f)||(W=f)}catch{qe.warn("[transformServerMessageToUiMessage] Could not process createdAt (unknown type):",Y.createdAt,"for message:",Y.id)}return{id:Y.id,text:Y.content,name:F?Y.metadata?.agentName||Y.metadata?.authorDisplayName||Y.authorDisplayName||"Agent":yu,senderId:Y.authorId,isAgent:F,createdAt:W,attachments:Y.metadata?.attachments,thought:F?Y.metadata?.thought:void 0,actions:F?Y.metadata?.actions:void 0,channelId:Y.channelId,serverId:ae||Y.metadata?.serverId||Y.serverId||t,source:Y.sourceType,isLoading:!1,prompt:F?Y.metadata?.prompt:void 0}},[r,t]),M=U.useCallback(async Y=>{if(!e){i([]),h(!1);return}Y?A(!0):h(!0),g(!1),y(null);try{const F=(await yn.messaging.getChannelMessages(e,{limit:30,before:Y?new Date(Y).toISOString():void 0})).messages.map(W=>ale(W,t||W.metadata?.serverId));if(i(W=>{const f=Y?[...F,...W]:F;return Array.from(new Map(f.map(v=>[v.id,v])).values()).sort((v,_)=>v.createdAt-_.createdAt)}),F.length>0){const W=Math.min(...F.map(f=>f.createdAt));(!Y||W<(s||1/0))&&o(W)}u(F.length>=30)}catch(ae){g(!0),y(ae),qe.error(`Failed to fetch messages for channel ${e}:`,ae)}finally{h(!1),A(!1)}},[e,C,t]);U.useEffect(()=>{e?(qe.info(`[useChannelMessages] ChannelId changed or became available: ${e}. Clearing messages and fetching initial set.`),i([]),o(null),u(!0),M()):(qe.info("[useChannelMessages] ChannelId is undefined. Clearing messages."),i([]),o(null),u(!0),h(!1))},[e,M]);const R=a(async()=>{l&&!x&&s&&await M(s-1)},"fetchNextPage"),P=U.useCallback(Y=>{i(ae=>{const F=ae.findIndex(W=>W.id===Y.id);if(F>=0){const W=[...ae];return W[F]=Y,W.sort((f,w)=>f.createdAt-w.createdAt)}else return[...ae,Y].sort((W,f)=>W.createdAt-f.createdAt)})},[]),L=U.useCallback((Y,ae)=>{i(F=>F.map(W=>W.id===Y?{...W,...ae}:W))},[]),z=U.useCallback(Y=>{i(ae=>ae.filter(F=>F.id!==Y))},[]),Z=U.useCallback(()=>{i([]),o(null),u(!0)},[]);return{data:n,isLoading:c&&n.length===0,isError:d,error:m,fetchNextPage:R,hasNextPage:l,isFetchingNextPage:x,addMessage:P,updateMessage:L,removeMessage:z,clearMessages:Z}}a(h7,"useChannelMessages");function dle(e,t,r){return Un({queryKey:["agentActions",e,t,r],queryFn:a(async()=>{const n=await yn.agents.getAgentLogs(e,{limit:50});return n?n.map(sle):[]},"queryFn"),refetchInterval:1e3,staleTime:1e3})}a(dle,"useAgentActions");function hle(){const e=Ln(),{toast:t}=Br();return Pi({mutationFn:a(async({agentId:r,logId:n})=>(await yn.agents.deleteAgentLog(r,n),{agentId:r,logId:n}),"mutationFn"),onMutate:a(async({agentId:r,logId:n})=>{const i=e.getQueryData(["agentActions",r]);return i&&e.setQueryData(["agentActions",r],s=>s.filter(o=>o.id!==n)),{previousLogs:i,agentId:r,logId:n}},"onMutate"),onSuccess:a((r,{agentId:n})=>{e.invalidateQueries({queryKey:["agentActions",n]}),t({title:"Log Deleted",description:"The log entry has been successfully removed"})},"onSuccess"),onError:a((r,{agentId:n},i)=>{i?.previousLogs&&e.setQueryData(["agentActions",n],i.previousLogs),t({title:"Error",description:r instanceof Error?r.message:"Failed to delete log",variant:"destructive"}),e.invalidateQueries({queryKey:["agentActions",n]})},"onError")})}a(hle,"useDeleteLog");function f7(e,t,r,n=!1){return Un({queryKey:r?["agents",e,"channels",r,"memories",t,n]:["agents",e,"memories",t,n],queryFn:a(async()=>{const s={tableName:t,includeEmbedding:n},o=r?await yn.memory.getRoomMemories(e,r,s):await yn.memory.getAgentMemories(e,s);return console.log("Agent memories result:",{agentId:e,tableName:t,includeEmbedding:n,channelId:r,result:o,dataLength:o.memories?.length,firstMemory:o.memories?.[0],hasEmbeddings:(o.memories||[]).some(u=>u.embedding?.length>0)}),(o.memories||[]).map(ole)},"queryFn"),enabled:!!(e&&t),staleTime:1e3,refetchInterval:10*1e3})}a(f7,"useAgentMemories");function fle(){const e=Ln();return Pi({mutationFn:a(async({agentId:t,memoryId:r})=>(await yn.memory.deleteMemory(t,r),{agentId:t,memoryId:r}),"mutationFn"),onSuccess:a(t=>{e.invalidateQueries({queryKey:["agents",t.agentId,"memories"]}),e.invalidateQueries({queryKey:["agents",t.agentId,"rooms"],predicate:a(r=>r.queryKey.length>3&&r.queryKey[4]==="memories","predicate")})},"onSuccess")})}a(fle,"useDeleteMemory");function ple(){const e=Ln(),{toast:t}=Br();return Pi({mutationFn:a(async({agentId:r,memoryId:n,memoryData:i})=>{const s=await yn.memory.updateMemory(r,n,i);return{agentId:r,memoryId:n,result:s}},"mutationFn"),onSuccess:a(r=>{e.invalidateQueries({queryKey:["agents",r.agentId,"memories"]}),r.result?.roomId?e.invalidateQueries({queryKey:["agents",r.agentId,"rooms",r.result.roomId,"memories"]}):e.invalidateQueries({queryKey:["agents",r.agentId,"rooms"],predicate:a(n=>n.queryKey.length>3&&n.queryKey[4]==="memories","predicate")}),r.result?.roomId&&e.invalidateQueries({queryKey:["messages",r.agentId,r.result.roomId]}),t({title:"Memory Updated",description:"The memory has been successfully updated"})},"onSuccess"),onError:a(r=>{t({title:"Error",description:r instanceof Error?r.message:"Failed to update memory",variant:"destructive"})},"onError")})}a(ple,"useUpdateMemory");function mle(e,t={}){const r=ao();return Un({queryKey:["agentPanels",e],queryFn:a(async()=>{if(!e)throw new Error("Agent ID required");return{success:!0,data:(await yn.agents.getAgentPanels(e)).panels}},"queryFn"),enabled:!!e,staleTime:Or.STANDARD,refetchInterval:!r.isOffline&&e?Or.RARE:!1,refetchIntervalInBackground:!1,...!r.isOffline&&r.effectiveType==="slow-2g"&&{refetchInterval:Or.NEVER},...t})}a(mle,"useAgentPanels");function ic(){const e=ao(),{data:t,isLoading:r}=Yw(),n=t?.data?.agents?.map(c=>c.id)||[],i=wA({queries:n.map(c=>({queryKey:["agent",c],queryFn:a(async()=>({data:await yn.agents.getAgent(c)}),"queryFn"),staleTime:Or.FREQUENT,enabled:!!c,refetchInterval:!e.isOffline&&c?Or.FREQUENT:!1,refetchIntervalInBackground:!1,...!e.isOffline&&e.effectiveType==="slow-2g"&&{refetchInterval:Or.STANDARD}}))}),s=r||i.some(c=>c.isLoading),o=i.some(c=>c.isError),l=i.find(c=>c.error)?.error;return{data:{agents:i.filter(c=>!!c.data?.data).map(c=>c.data.data)},isLoading:s,isError:o,error:l}}a(ic,"useAgentsWithDetails");function Zw(e={}){const t=ao();return Un({queryKey:["servers"],queryFn:a(async()=>{const r=await yn.messaging.listServers();return{data:{servers:nle(r.servers)}}},"queryFn"),staleTime:Or.RARE,refetchInterval:t.isOffline?!1:Or.RARE,...e})}a(Zw,"useServers");function $w(e,t={}){const r=ao();return Un({queryKey:["channels",e],queryFn:a(async()=>{if(!e)return Promise.resolve({data:{channels:[]}});const n=await yn.messaging.getServerChannels(e);return{data:{channels:ile(n.channels)}}},"queryFn"),enabled:!!e,staleTime:Or.STANDARD,refetchInterval:!r.isOffline&&e?Or.STANDARD:!1,...t})}a($w,"useChannels");function gle(e,t={}){const r=ao();return Un({queryKey:["channelDetails",e],queryFn:a(async()=>{if(!e)return Promise.resolve({success:!0,data:null});const n=await yn.messaging.getChannelDetails(e);return{success:!0,data:Vw(n)}},"queryFn"),enabled:!!e,staleTime:Or.STANDARD,refetchInterval:!r.isOffline&&e?Or.RARE:!1,...t})}a(gle,"useChannelDetails");function Xw(e,t={}){const r=ao();return Un({queryKey:["channelParticipants",e],queryFn:a(async()=>{if(!e)return Promise.resolve({success:!0,data:[]});try{const n=await yn.messaging.getChannelParticipants(e);let i=[];return n&&Array.isArray(n.participants)?i=n.participants.map(s=>s.userId):n&&Array.isArray(n)&&(i=n.map(s=>s.userId||s.id||s)),{success:!0,data:i}}catch(n){return console.error("[useChannelParticipants] Error:",n),{success:!1,data:[]}}},"queryFn"),enabled:!!e,staleTime:Or.STANDARD,refetchInterval:!r.isOffline&&e?Or.FREQUENT:!1,...t})}a(Xw,"useChannelParticipants");function vle(){Ln();const{toast:e}=Br();return Pi({mutationFn:a(async({channelId:t,messageId:r})=>(await yn.messaging.deleteMessage(t,r),{channelId:t,messageId:r}),"mutationFn"),onSuccess:a((t,r)=>{e({title:"Message Deleted",description:"Message removed successfully."})},"onSuccess"),onError:a(t=>{e({title:"Error Deleting Message",description:t instanceof Error?t.message:"Failed to delete message",variant:"destructive"})},"onError")})}a(vle,"useDeleteChannelMessage");function ble(){const e=Ln(),{toast:t}=Br();return Pi({mutationFn:a(async r=>(await yn.messaging.clearChannelHistory(r),{channelId:r}),"mutationFn"),onSuccess:a((r,n)=>{t({title:"Channel Cleared",description:`All messages in channel ${n} cleared.`}),e.invalidateQueries({queryKey:["messages",n]}),e.setQueryData(["messages",n],()=>[])},"onSuccess"),onError:a(r=>{t({title:"Error Clearing Channel",description:r instanceof Error?r.message:"Failed to clear messages",variant:"destructive"})},"onError")})}a(ble,"useClearChannelMessages");function gL(){return Un({queryKey:["server-version"],queryFn:a(async()=>{try{return await use().system.getVersion()}catch(e){throw qe.error("Error fetching server version:",e),e}},"queryFn"),staleTime:300*1e3,retry:3,retryDelay:a(e=>Math.min(1e3*2**e,3e4),"retryDelay")})}a(gL,"useServerVersion");function yle(){const{data:e}=gL();return e?.version||"0.0.0-loading"}a(yle,"useServerVersionString");const wle=a((e,t)=>{const r=[],n=[];return e.forEach(i=>(t(i)?r:n).push(i)),[r,n]},"partition"),Jw=a(({children:e,className:t=""})=>b.jsx("div",{className:Ue("px-4 pt-1 pb-0 text-sm font-medium text-muted-foreground sidebar-section-header",t),children:e}),"SectionHeader"),_le=a(({title:e,children:t,className:r=""})=>b.jsxs(b.Fragment,{children:[b.jsx(Jw,{className:r,children:e}),b.jsx(om,{children:b.jsx(lm,{className:"mt-0",children:b.jsx(bl,{children:t})})})]}),"SidebarSection"),xle=a(({agent:e,isOnline:t,active:r})=>b.jsx(Ta,{children:b.jsx(tm,{to:`/chat/${e.id}`,children:b.jsxs(Cl,{isActive:r,className:"px-2 py-2 my-1 h-full rounded justify-between cursor-pointer",children:[b.jsx("span",{className:"text-base truncate max-w-36",children:e.name}),b.jsx("div",{className:"flex items-center",children:b.jsxs("div",{className:"relative",children:[b.jsxs(Lo,{className:"h-6 w-6 rounded-full",children:[b.jsx(Bl,{src:Md(e),alt:e.name||"avatar"}),b.jsx(rg,{className:"rounded-full",children:Tl(e.name||"")})]}),b.jsx("span",{className:Ue("absolute bottom-0 right-0 w-[8px] h-[8px] rounded border border-white",t?"bg-green-500":"bg-muted-foreground")})]})})]})})}),"AgentRow"),Ele=a(({channel:e,serverId:t,active:r})=>{const n=Nl(),{data:i}=ic(),s=i?.agents||[],{data:o}=Xw(e.id),l=o?.data,u=l&&Array.isArray(l)?l:[],c=s.filter(g=>g.id&&u.includes(g.id)),h=c.slice(0,3),d=c.length>3?c.length-3:0;return b.jsx(Ta,{children:b.jsx(tm,{to:`/group/${e.id}?serverId=${t}`,className:"flex-1",children:b.jsxs(Cl,{isActive:r,className:"px-2 py-2 my-1 h-full rounded justify-between cursor-pointer",children:[b.jsx("span",{className:"text-base truncate max-w-36",children:e.name||Q2(e,e.participants||[],n)}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs("div",{className:"flex -space-x-2",children:[h.map(g=>b.jsxs(Lo,{className:"h-6 w-6 rounded-full border border-background",children:[b.jsx(Bl,{src:typeof g.settings?.avatar=="string"?g.settings.avatar:"",alt:g.name||""}),b.jsx(rg,{className:"rounded-full text-xs",children:Tl(g.name||"")})]},g.id)),d>0&&b.jsxs("div",{className:"w-6 h-6 rounded-full bg-muted text-[10px] flex items-center justify-center border border-background",children:["+",d]})]})})]})})})},"GroupRow"),Sle=a(({agents:e,activePath:t})=>b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center px-4 pt-1 pb-0 text-muted-foreground",children:[b.jsx(Jw,{className:"px-0 py-0 text-xs flex gap-1 mr-2",children:b.jsx("div",{children:"Agents"})}),b.jsx(Bi,{})]}),b.jsx(om,{children:b.jsx(lm,{className:"px-1 mt-0",children:b.jsx(bl,{children:e.map(r=>b.jsx(xle,{agent:r,isOnline:r.status===vn.ACTIVE,active:t.includes(`/chat/${String(r?.id)}`)},r?.id))})})})]}),"AgentListSection"),kle=a(({servers:e,isLoadingServers:t,activePath:r})=>b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center px-4 pt-1 pb-0 text-muted-foreground",children:[b.jsx(Jw,{className:"px-0 py-0 text-xs flex gap-1 mr-2",children:b.jsx("div",{children:"Groups"})}),b.jsx(Bi,{})]}),b.jsx(om,{children:b.jsx(lm,{className:"px-1 mt-0",children:b.jsxs(bl,{children:[t&&Array.from({length:3}).map((n,i)=>b.jsx(Ta,{children:b.jsx(um,{})},`skel-group-${i}`)),e?.map(n=>b.jsx(Ale,{serverId:n.id,activePath:r},n.id)),(!e||e.length===0)&&!t&&b.jsx(Ta,{children:b.jsx("div",{className:"p-4 text-xs text-muted-foreground",children:"No groups found."})})]})})})]}),"GroupListSection"),Ale=a(({serverId:e,activePath:t})=>{const{data:r,isLoading:n}=$w(e),i=U.useMemo(()=>r?.data?.channels?.filter(s=>s.type===Gt.GROUP)||[],[r]);return n?b.jsx(Ta,{children:b.jsx(um,{})}):i.length?b.jsx(b.Fragment,{children:i.map(s=>b.jsx(Ele,{channel:s,serverId:e,active:t.includes(`/group/${s.id}`)},s.id))}):null},"GroupChannelsForServer");function p7({refreshHomePage:e,isMobile:t=!1}){const r=qp(),n=Yn(),i=Ln(),s=yle(),{data:o,error:l,isLoading:u}=ic(),{data:c,isLoading:h}=Zw(),d=U.useMemo(()=>o?.agents||[],[o]),g=U.useMemo(()=>c?.data?.servers||[],[c]),[m,y]=U.useMemo(()=>wle(d,M=>M.status===vn.ACTIVE),[d]),x=l?"Error loading agents: NetworkError: Unable to connect to the server. Please check if the server is running.":void 0,A=a(M=>{M.preventDefault(),qe.info("[AppSidebar] handleLogoClick triggered",{currentPath:r.pathname}),i.invalidateQueries({queryKey:["agents"]}),i.invalidateQueries({queryKey:["agentsWithDetails"]}),i.invalidateQueries({queryKey:["servers"]}),i.invalidateQueries({queryKey:["channels"]}),r.pathname==="/"?(qe.info("[AppSidebar] Already on home page. Calling refreshHomePage()."),e()):(qe.info('[AppSidebar] Not on home page. Navigating to "/".'),n("/"))},"handleLogoClick");function C(){const M=Yn(),R=a(()=>{M("/create")},"handleCreateAgent"),P=a(()=>{M("/group/new")},"handleCreateGroup");return b.jsxs(Pd,{children:[b.jsx(Ld,{asChild:!0,children:b.jsxs(dt,{variant:"ghost",className:"w-full bg-sidebar-accent hover:bg-sidebar-accent/80 h-10 rounded justify-start",children:[b.jsx(em,{className:"w-4 h-4 bg"}),"Create New"]})}),b.jsxs(Dd,{align:"start",className:"w-full min-w-[var(--radix-dropdown-menu-trigger-width)]",children:[b.jsx(Ja,{onClick:R,className:"w-full",children:"Create New Agent"}),b.jsx(Ja,{onClick:P,className:"w-full",children:"Create New Group"})]})]})}return a(C,"renderCreateNewButton"),b.jsx(b.Fragment,{children:b.jsxs(lT,{className:Ue("bg-background border-r overflow-hidden",t?"p-3 pt-12 w-full h-full":"p-4 w-72 fixed left-0 top-0 z-40 h-screen",!t&&"hidden md:flex md:flex-col"),collapsible:"none","data-testid":"app-sidebar",children:[b.jsx(cT,{children:b.jsx(bl,{children:b.jsx(Ta,{children:b.jsx(Cl,{size:"lg",asChild:!0,children:b.jsx("a",{href:"/",onClick:A,className:"px-4 py-2 h-full sidebar-logo no-underline cursor-pointer",children:b.jsxs("div",{className:"flex flex-col pt-2 gap-1 items-start justify-center",children:[b.jsx("img",{alt:"vibee-logo",src:"/vibee-logo-light.svg",className:"w-48 max-full"}),b.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["v",s]})]})})})})})}),b.jsxs(hT,{className:"flex-1 overflow-y-auto",children:[x&&b.jsx("div",{className:"px-4 py-2 text-xs text-red-500",children:x}),b.jsx(bl,{className:"my-2",children:b.jsx(Ta,{className:"list-none",children:C()})}),b.jsxs("div",{className:"pt-2",children:[u&&!x&&b.jsx(_le,{title:"Agents",children:b.jsx(um,{})}),!u&&!x&&b.jsxs(b.Fragment,{children:[b.jsx(Sle,{agents:[...m,...y],activePath:r.pathname}),b.jsx(kle,{servers:g,isLoadingServers:h,activePath:r.pathname})]})]})]}),b.jsx(dT,{className:"px-2 py-4",children:b.jsxs(bl,{children:[b.jsx(Wv,{to:"https://eliza.how/",Icon:pU,label:"Documentation"}),b.jsx(Wv,{to:"/logs",Icon:mU,label:"Logs"}),b.jsx(Wv,{to:"/settings",Icon:gU,label:"Settings"}),b.jsx(ele,{})]})})]})})}a(p7,"AppSidebar");const Wv=a(({to:e,Icon:t,label:r})=>e.startsWith("http://")||e.startsWith("https://")?b.jsx(Ta,{children:b.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:b.jsxs(Cl,{className:"rounded cursor-pointer",children:[b.jsx(t,{className:"h-4 w-4 mr-3"}),r]})})}):b.jsx(Ta,{children:b.jsx(tm,{to:e,children:b.jsxs(Cl,{className:"rounded cursor-pointer",children:[b.jsx(t,{className:"h-4 w-4 mr-3"}),r]})})}),"FooterLink");function Tle({className:e}){const{status:t,error:r}=Gw();if(!(t==="error"||t==="unauthorized"))return null;let i="Connection Failed",s="Please ensure the Eliza server is running and accessible.";const o=t==="unauthorized";if(r){const l=r;o?(i="Unauthorized",s="Invalid or missing API Key provided."):l.includes("NetworkError")||l.includes("Failed to fetch")?(i="Network Error",s="Cannot reach the server. Please check your network connection."):l.includes("ECONNREFUSED")?(i="Connection Refused",s="The server refused the connection. Please ensure it is running."):l.includes("timeout")?(i="Connection Timeout",s="The server took too long to respond."):l.includes("404")||l.includes("not found")||l.includes("API endpoint not found")||l.includes("Endpoint not found")?(i="Endpoint Not Found",s="The server API endpoint could not be found."):s=l}return b.jsx("div",{className:Ue("bg-opacity-10 border rounded-md p-3 mb-4 w-full md:max-w-4xl","flex items-center justify-between w-full mt-4",o?"bg-yellow-900/20 border-yellow-700 text-yellow-100":"bg-red-900/20 border-red-700 text-red-100",e),children:b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(ea,{className:Ue("h-5 w-5 flex-shrink-0",o?"text-yellow-400":"text-red-400")}),b.jsxs("div",{children:[b.jsx("h4",{className:Ue("font-medium text-sm",o?"text-yellow-200":"text-red-200"),children:i}),b.jsx("p",{className:Ue("text-xs mt-1",o?"text-yellow-300":"text-red-300"),children:s}),b.jsx("div",{className:"mt-2 flex space-x-4",children:b.jsxs("a",{href:"https://eliza.how",target:"_blank",rel:"noopener noreferrer",className:Ue("text-xs flex items-center",o?"hover:text-yellow-200 text-yellow-300":"hover:text-red-200 text-red-300"),children:[b.jsx(Qc,{className:"h-3 w-3 mr-1"}),"Troubleshooting Guide"]})})]})]})})}a(Tle,"ConnectionErrorBanner");const ds=U.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,className:Ue("rounded-lg border bg-card text-card-foreground shadow-sm",e),"data-slot":"card",...t}));ds.displayName="Card";const ng=U.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,className:Ue("flex flex-col space-y-1.5 bg-black/50 rounded-t-lg p-2",e),"data-slot":"card-header",...t}));ng.displayName="CardHeader";const Kw=U.forwardRef(({className:e,...t},r)=>b.jsx("h3",{ref:r,className:Ue("text-2xl font-semibold leading-none tracking-tight",e),"data-slot":"card-title",...t}));Kw.displayName="CardTitle";const Nle=U.forwardRef(({className:e,...t},r)=>b.jsx("p",{ref:r,className:Ue("text-sm text-muted-foreground",e),"data-slot":"card-description",...t}));Nle.displayName="CardDescription";const Jl=U.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,className:Ue("p-6 pt-0",e),"data-slot":"card-content",...t}));Jl.displayName="CardContent";const ig=U.forwardRef(({className:e,...t},r)=>b.jsx("div",{ref:r,className:Ue("flex items-center p-6 pt-0",e),"data-slot":"card-footer",...t}));ig.displayName="CardFooter";function Cle(){const[e,t]=U.useState(""),[r,n]=U.useState(""),[i,s]=U.useState(!1),[o,l]=U.useState(null),[u,c]=U.useState(null),[h,d]=U.useState(""),[g,m]=U.useState({}),y=U.useRef(null),[x,A]=U.useState(!1),[C,M]=U.useState(!1),{toast:R}=Br();U.useEffect(()=>{const W=a(f=>{y.current&&!y.current.contains(f.target)&&l(null)},"handleClickOutside");return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[]),U.useEffect(()=>{P()},[]);const P=a(async()=>{const f=await Mr().system.getEnvironment();m(f)},"fetchLocalEnvs"),L=a(async()=>{await P(),c(null),l(null),t(""),n("")},"handleReset"),z=a(W=>{c(o),d(g[W]),l(null)},"handleEdit"),Z=a(W=>{const f={...g};delete f[W],m(f),l(null)},"handleRemove"),Y=a(W=>{m({...g,[W]:h}),c(null)},"saveEdit"),ae=a(()=>{!e||!r||(m({...g,[e]:r}),t(""),n(""),c(null))},"addEnv"),F=a(()=>{console.log("API Key was saved")},"handleApiKeySaved");return b.jsxs("div",{className:"container max-w-4xl mx-auto p-6",children:[b.jsx($P,{open:C,onOpenChange:M,onApiKeySaved:F}),b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Env settings"}),b.jsx("p",{className:"text-muted-foreground mt-1",children:"Env settings"})]}),b.jsxs(dt,{onClick:a(()=>M(!0),"onClick"),"aria-label":"Manage API Key",children:[b.jsx(Al,{className:"h-5 w-5"}),"Manage API Key"]})]}),b.jsx(ds,{children:b.jsx(Jl,{className:"p-6",children:b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"rounded-lg w-full flex flex-col gap-3",children:[b.jsx("h2",{className:"text-xl font-bold mb-4 pb-5 ml-1",children:"Environment Settings"}),b.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 items-end w-full pb-4",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("label",{htmlFor:"secret-name",className:"ml-2 text-xs font-medium text-gray-400",children:"NAME"}),b.jsx(pn,{id:"secret-name",placeholder:"VARIABLE_NAME",value:e,onChange:a(W=>t(W.target.value),"onChange")})]}),b.jsxs("div",{className:"flex flex-col gap-1 relative",children:[b.jsx("label",{htmlFor:"secret-value",className:"ml-2 text-xs font-medium text-gray-400",children:"VALUE"}),b.jsxs("div",{className:"relative",children:[b.jsx(pn,{id:"secret-value",type:i?"text":"password",placeholder:"i9ju23nfsdf56",value:r,onChange:a(W=>n(W.target.value),"onChange"),className:"pr-10"}),b.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500",onClick:a(()=>s(!i),"onClick"),children:i?b.jsx(Ps,{}):b.jsx(Ya,{})})]})]}),b.jsx(dt,{className:"shrink-0",onClick:ae,children:"Add"})]}),Object.keys(g).length>0&&b.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 mt-6 font-medium text-gray-400 border-b pb-2 ml-1",children:[b.jsx("div",{children:"Name"}),b.jsx("div",{children:"Value"}),b.jsx("div",{children:"Action"})]}),b.jsx("div",{className:"mt-2",children:Object.entries(g).map(([W,f],w)=>b.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 items-center border-b py-2 ml-1 relative",children:[b.jsx("div",{className:"truncate max-w-48",children:W}),b.jsx("div",{children:u===w?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(pn,{value:h,onChange:a(v=>d(v.target.value),"onChange"),className:"w-full"}),b.jsx(dt,{variant:"ghost",onClick:a(()=>Y(W),"onClick"),children:b.jsx(Ks,{className:"w-5 h-5 text-green-500"})}),b.jsx(dt,{variant:"ghost",onClick:a(()=>c(null),"onClick"),children:b.jsx(yi,{className:"w-5 h-5 text-red-500"})})]}):b.jsx("div",{className:"truncate text-gray-500",children:"Encrypted"})}),b.jsxs("div",{className:"relative",children:[b.jsx(dt,{variant:"ghost",className:"p-2 text-gray-500",onClick:a(()=>l(o===w?null:w),"onClick"),children:b.jsx(cA,{className:"h-5 w-5"})}),o===w&&b.jsx("div",{ref:y,className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-card ring-1 ring-black ring-opacity-5 z-10",children:b.jsxs("div",{className:"py-1",children:[b.jsx("button",{onClick:a(()=>z(W),"onClick"),className:"w-full text-left px-4 py-2 text-sm text-muted-foreground hover:bg-accent hover:text-accent-foreground",children:"Edit"}),b.jsx("button",{onClick:a(()=>Z(W),"onClick"),className:"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-accent",children:"Remove"})]})})]})]},w))})]})})})}),b.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[b.jsx(dt,{variant:"outline",onClick:L,children:"Reset"}),b.jsx(dt,{type:"submit",disabled:x,onClick:a(async()=>{A(!0);try{await Mr().system.updateLocalEnvironment(g),R({title:"Success",description:"Environment variables updated successfully!"})}catch{R({title:"Error",description:"Failed to update environment variables.",variant:"destructive"})}finally{A(!1)}},"onClick"),children:"Save Changes"})]})]})}a(Cle,"EnvSettings");const Ile={10:"TRACE",20:"DEBUG",27:"SUCCESS",28:"PROGRESS",29:"LOG",30:"INFO",40:"WARN",50:"ERROR",60:"FATAL"};function m7(e){return Ile[e]||"UNKNOWN"}a(m7,"getLevelName");function Mle(e){return e>=50?"bg-red-600/80":e>=40?"bg-amber-600/80":e>=27?"bg-emerald-600/80":"bg-slate-500"}a(Mle,"getLevelColor");function Ole(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}a(Ole,"formatTimestamp$1");function Rle(e){const t=Date.now(),r=24,n={};for(let s=r-1;s>=0;s--){const o=new Date(t-s*60*60*1e3);o.setMinutes(0,0,0);const l=o.toISOString();n[l]={info:0,errors:0}}const i=t-1440*60*1e3;return e.forEach(s=>{if(s.time>=i){const o=new Date(s.time);o.setMinutes(0,0,0);const l=o.toISOString();n[l]&&(s.level>=50?n[l].errors++:n[l].info++)}}),Object.entries(n).map(([s,o])=>({timestamp:new Date(s),...o,total:o.info+o.errors}))}a(Rle,"generateLogChart");function Ple({data:e}){const t=Math.max(...e.map(r=>r.total),1);return b.jsxs("div",{className:"mb-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-500"}),b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Info"," ",b.jsx("span",{className:"font-mono",children:e.reduce((r,n)=>r+n.info,0).toLocaleString()})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 rounded-full bg-red-600/80"}),b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Errors"," ",b.jsx("span",{className:"font-mono",children:e.reduce((r,n)=>r+n.errors,0).toLocaleString()})]})]})]}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:[e[e.length-1]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})," ","- (UTC-7)"]})]}),b.jsx("div",{className:"h-32 flex items-end gap-1 bg-muted/30 rounded p-4",children:e.map((r,n)=>b.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[b.jsx("div",{style:{height:`${r.info/t*100}%`},className:"bg-slate-500 rounded-sm min-h-[2px] transition-all duration-200",title:`${r.timestamp.toLocaleTimeString()}: ${r.info} info logs`},`${r.timestamp.getTime()}-info`),b.jsx("div",{style:{height:`${r.errors/t*100}%`},className:"bg-red-600/80 rounded-sm min-h-[2px] transition-all duration-200",title:`${r.timestamp.toLocaleTimeString()}: ${r.errors} error logs`},`${r.timestamp.getTime()}-errors`)]},n))}),b.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[b.jsx("span",{children:e[0]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),b.jsx("span",{children:e[e.length-1]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit"})})]})]})}a(Ple,"LogChart");function Lle(){return b.jsx("div",{className:"flex items-center justify-center py-8",children:b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx(Td,{className:"h-8 w-8 animate-spin text-muted-foreground"}),b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"font-medium",children:"Loading Logs"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching system logs..."})]})]})})}a(Lle,"LoadingIndicator$1");function Dle({selectedLevel:e,searchQuery:t}){return b.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[b.jsx(No,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),b.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Logs Found"}),b.jsx("p",{className:"text-muted-foreground max-w-md",children:t?`No logs match "${t}". Try adjusting your search or filter.`:e==="all"?"No logs available. Logs will appear here as the system generates them.":`No ${e.toUpperCase()} logs found.`})]})}a(Dle,"EmptyState$1");function vL({agentName:e,level:t}){const[r,n]=U.useState(t||"all"),[i,s]=U.useState(e||"all"),[o,l]=U.useState(""),[u,c]=U.useState("7 days"),[h,d]=U.useState(!0),[g,m]=U.useState(!1),[y,x]=U.useState([]),[A,C]=U.useState(!1),M=Ln(),{confirm:R,isOpen:P,onOpenChange:L,onConfirm:z,options:Z}=Xl(),{data:Y,isLoading:ae,error:F,refetch:W}=Un({queryKey:["logs",r,i],queryFn:a(async()=>await Mr().system.getGlobalLogs({level:r==="all"?"":r,agentName:i==="all"?void 0:i}),"queryFn"),refetchInterval:h&&!A?5e3:!1,staleTime:1e3,enabled:!0}),{data:f}=Yw(),w=U.useCallback(O=>{(r==="all"||m7(O.level).toLowerCase()===r.toLowerCase())&&(i==="all"||O.agentName===i)&&x(H=>[O,...H].slice(0,1e3))},[r,i]);U.useEffect(()=>{if(h&&A){const O=Qi.getInstance();return O.subscribeToLogStream().catch(console.error),O.on("logStream",w),()=>{O.off("logStream",w),O.unsubscribeFromLogStream().catch(console.error)}}},[h,A,w]),U.useEffect(()=>{h?Qi.isConnected()?C(!0):C(!1):(C(!1),x([]))},[h]),U.useEffect(()=>{A&&h&&Qi.getInstance().updateLogStreamFilters({agentName:i,level:r}).catch(console.error)},[i,r,A,h]);const v=Y?.logs||[];let _;A&&h&&y.length>0?_=y:_=v;const S=_.sort((O,B)=>B.time-O.time),T=Y?.levels||[],N=f?.data?.agents?.map(O=>O.name)||[],k=S.filter(O=>{if(o.trim()){const B=o.toLowerCase();return[O.msg,O.agentName,O.roomId,m7(O.level),...Object.entries(O).filter(([G])=>!Number.isNaN(Number(G))).map(([G,J])=>String(J))].filter(Boolean).join(" ").toLowerCase().includes(B)}return!0}),p=Rle(k),E=a(()=>{R({title:"Clear All Logs",description:"Are you sure you want to permanently delete all system logs? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},async()=>{try{m(!0),await Mr().system.deleteGlobalLogs(),M.invalidateQueries({queryKey:["logs"]}),A&&x([])}catch(O){console.error("Failed to clear logs:",O)}finally{m(!1)}})},"handleClearLogs"),I=a(()=>{A&&h?x([]):W&&W()},"handleRefresh");if(ae&&S.length===0)return b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx(Lle,{})});if(F){const O=F.message?.includes("404")||F.message?.includes("endpoint not found")||F.message?.includes("Not Found");return b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx("div",{className:"flex items-center justify-center flex-1",children:b.jsxs("div",{className:"text-center max-w-md",children:[b.jsx(No,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),b.jsx("h3",{className:"font-medium mb-2",children:O?"Global Logs API Not Available":"Failed to Load Logs"}),b.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:O?"The server does not have the global logs API endpoint configured. You can still view individual agent logs from the agent details pages.":`There was an error loading the system logs: ${F.message}`}),!O&&b.jsxs(dt,{variant:"outline",size:"sm",onClick:a(()=>W?.(),"onClick"),children:[b.jsx(p_,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})})}return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6 px-4 pt-4 flex-none",children:[b.jsxs(Ys,{value:r,onValueChange:n,children:[b.jsxs(es,{className:"w-32 h-9",children:[b.jsx(vU,{className:"h-4 w-4 mr-2"}),b.jsx(Zs,{placeholder:"Filter"})]}),b.jsxs(ts,{children:[b.jsx(Ar,{value:"all",children:"ALL"}),T.map(O=>b.jsx(Ar,{value:O,children:O.toUpperCase()},O))]})]}),b.jsxs("div",{className:"relative flex-1 max-w-md",children:[b.jsx(Eh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(pn,{placeholder:"Full-text log search",value:o,onChange:a(O=>l(O.target.value),"onChange"),className:"pl-10 h-9"})]}),N&&N.length>0&&!e&&b.jsxs(Ys,{value:i,onValueChange:s,children:[b.jsx(es,{className:"w-40 h-9",children:b.jsx(Zs,{placeholder:"Agent"})}),b.jsxs(ts,{children:[b.jsx(Ar,{value:"all",children:"ALL AGENTS"}),N?.map(O=>b.jsx(Ar,{value:O,children:O},O))]})]}),b.jsxs(Ys,{value:u,onValueChange:c,children:[b.jsxs(es,{className:"w-32 h-9",children:[b.jsx(rm,{className:"h-4 w-4 mr-2"}),b.jsx(Zs,{})]}),b.jsxs(ts,{children:[b.jsx(Ar,{value:"1 hour",children:"1 hour"}),b.jsx(Ar,{value:"6 hours",children:"6 hours"}),b.jsx(Ar,{value:"24 hours",children:"24 hours"}),b.jsx(Ar,{value:"7 days",children:"7 days"}),b.jsx(Ar,{value:"30 days",children:"30 days"})]})]}),b.jsx(dt,{variant:"outline",size:"sm",onClick:I,className:"h-9 w-9 p-0",children:b.jsx(p_,{className:"h-4 w-4"})}),b.jsxs(dt,{variant:h?"default":"outline",size:"sm",onClick:a(()=>d(!h),"onClick"),className:"h-9 px-3",title:h?A?"Live mode (WebSocket)":"Live mode (Polling)":"Live mode disabled",children:[b.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${h?"bg-emerald-500 animate-pulse":"bg-slate-400"}`}),"Live"]})]}),b.jsx("div",{className:"flex-1 overflow-hidden px-4 pb-4",children:k.length===0?b.jsx(Dle,{selectedLevel:r,searchQuery:o}):b.jsxs("div",{className:"space-y-6",children:[b.jsx(Ple,{data:p}),b.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[b.jsx("div",{className:"bg-muted/50 border-b px-4 py-3",children:b.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4",children:[b.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Timestamp"}),b.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Message"})]})}),b.jsx("div",{className:"divide-y max-h-[400px] overflow-y-auto",children:k.slice(0,100).map((O,B)=>b.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 px-4 py-3 hover:bg-muted/30 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-1 h-6 rounded-full ${Mle(O.level)}`}),b.jsx("div",{className:"text-sm font-mono text-muted-foreground",children:Ole(O.time)})]}),b.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[b.jsx("div",{className:"font-mono text-sm leading-relaxed break-all",children:O.msg}),O.agentName&&b.jsx(ya,{variant:"secondary",className:"text-xs flex-shrink-0",children:O.agentName})]})]},`${O.time}-${O.msg}-${B}`))}),k.length>100&&b.jsx("div",{className:"border-t bg-muted/30 px-4 py-3 text-center",children:b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing first 100 of ",k.length.toLocaleString()," logs"]})})]})]})}),b.jsxs("div",{className:"border-t bg-muted/30 px-4 py-3 flex items-center justify-between",children:[b.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:h&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),b.jsxs("span",{children:["Live updates enabled ",A?"(streaming)":"(polling)"]})]})}),b.jsxs(dt,{variant:"destructive",size:"sm",onClick:E,disabled:g,className:"h-8 px-3 text-xs",children:[b.jsx(kl,{className:"h-3 w-3 mr-1"}),g?"Clearing...":"Clear All Logs"]})]})]}),b.jsx($l,{open:P,onOpenChange:L,title:Z?.title||"",description:Z?.description||"",confirmText:Z?.confirmText,cancelText:Z?.cancelText,variant:Z?.variant,onConfirm:z})]})}a(vL,"AgentLogViewer");const g7="eliza-onboarding-completed",jle=a(()=>{const[e,t]=U.useState(()=>{try{return localStorage.getItem(g7)==="true"}catch(i){return qe.error("Error accessing localStorage:",i),!1}});return U.useEffect(()=>{try{localStorage.setItem(g7,e.toString())}catch(i){qe.error("Error writing to localStorage:",i)}},[e]),{onboardingCompleted:e,completeOnboarding:a(()=>{t(!0)},"completeOnboarding"),resetOnboarding:a(()=>{t(!1)},"resetOnboarding")}},"useOnboarding");function Ble(){const{onboardingCompleted:e,completeOnboarding:t}=jle(),[r,n]=U.useState(!1),i=qp(),[s,o]=U.useState(0),l=[{target:".sidebar-logo",content:"Welcome to ElizaOS! This is your gateway to creating and managing intelligent AI agents.",disableBeacon:!0,title:"Welcome to ElizaOS"},{target:".sidebar-create-button",content:"This is your main creation button. Click here to create new agents or rooms quickly.",title:"Create Button"},{target:".sidebar-online-section, .sidebar-offline-section",content:"Your agents are organized here. Online agents (green dot) are ready to chat, while offline agents need to be activated first.",title:"Your Agents"},{target:".sidebar-groups-section",content:"Access your agent groups from here to see collaborative conversations between multiple agents.",title:"Groups Navigation"},{target:".sidebar-docs-button, .sidebar-logs-button, .sidebar-settings-button",content:"Access documentation, system logs, and global settings from these utility buttons.",title:"System Utilities"},{target:".sidebar-connection-status",content:"This indicator shows your connection status to the ElizaOS server.",title:"Connection Status"},{target:".agents-section",content:'This is your main workspace showing all your agents. Active agents have a green dot, while inactive ones appear grayed out with an "Offline" label.',title:"Agent Dashboard"},{target:".message-button, .start-button",content:'Click "Message" to chat with active agents, or "Start" to activate offline agents first.',title:"Agent Interaction"},{target:".agent-info-button, .agent-settings-button",content:"View agent details or configure settings using these buttons on each agent card.",title:"Agent Management"},{target:".groups-section",content:"This section displays your agent groups for collaborative interactions between multiple agents.",title:"Agent Groups"},{target:".groups-create-button",content:"Create a new group by clicking this button. Groups allow multiple agents to interact together.",title:"Create New Group"},{target:".create-agent-button",content:"Let's create your first agent! Click this button to get started.",title:"Create Your First Agent",spotlightClicks:!0}],u=[{target:".agent-form-name",content:"Give your agent a name that reflects its purpose or personality.",title:"Name Your Agent",disableBeacon:!0},{target:".agent-form-system-prompt",content:"The system prompt defines your agent's behavior and capabilities. This is the most important field for shaping how your agent will respond.",title:"Define Agent Behavior"},{target:".tabs-list",content:"Switch between these tabs to configure different aspects of your agent such as content, style, plugins, and appearance.",title:"Configuration Tabs"},{target:".agent-form-submit",content:"Click Save to create your agent and return to the dashboard.",title:"Save Your Agent",spotlightClicks:!0}],c=i.pathname==="/"?l:i.pathname==="/create"?u:[];U.useEffect(()=>{if(i.pathname==="/"&&!e&&s===0){const d=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(d)}else if(i.pathname==="/create"&&!e&&s===1){const d=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(d)}else n(!1)},[i.pathname,e,s]);const h=a(d=>{const{status:g,index:m,type:y,action:x}=d;i.pathname==="/"&&y==="step:after"&&m===l.length-1&&(o(1),n(!1)),(g===m_.FINISHED||g===m_.SKIPPED||x===yU.CLOSE)&&(t(),n(!1))},"handleJoyrideCallback");return e||c.length===0?null:b.jsx(bU,{callback:h,continuous:!0,run:r,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,steps:c,floaterProps:{disableAnimation:!1,styles:{floater:{filter:"drop-shadow(0 10px 15px rgba(0, 0, 0, 0.25))"}}},styles:{options:{primaryColor:"#3b82f6",backgroundColor:"#1f2937",textColor:"#f3f4f6",overlayColor:"rgba(0, 0, 0, 0.6)",zIndex:9999,arrowColor:"#1f2937",beaconSize:36},tooltip:{fontSize:"14px",padding:"16px",borderRadius:"10px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"},tooltipContainer:{textAlign:"left"},tooltipTitle:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},tooltipContent:{padding:"5px 0",fontSize:"14px",lineHeight:"1.5"},buttonClose:{color:"#9ca3af",opacity:.8},buttonBack:{color:"#9ca3af",fontSize:"14px",fontWeight:"500",padding:"8px 12px",borderRadius:"6px",marginRight:"8px",transition:"background-color 0.2s ease"},buttonNext:{backgroundColor:"#3b82f6",fontSize:"14px",fontWeight:"500",padding:"8px 16px",borderRadius:"6px",color:"white",border:"none",boxShadow:"0 4px 6px rgba(59, 130, 246, 0.3)",transition:"all 0.2s ease"},buttonSkip:{color:"#9ca3af",fontSize:"14px",padding:"8px 12px",borderRadius:"6px",transition:"background-color 0.2s ease"},spotlight:{borderRadius:"8px",backgroundColor:"transparent"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.7)"}}})}a(Ble,"OnboardingTour");const zle=wU,bL=U.forwardRef(({className:e,...t},r)=>b.jsx(AA,{ref:r,className:Ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bL.displayName=AA.displayName;const Fle=ro("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yL=U.forwardRef(({className:e,variant:t,...r},n)=>b.jsx(xA,{ref:n,className:Ue(Fle({variant:t}),e),...r}));yL.displayName=xA.displayName;const wL=U.forwardRef(({className:e,...t},r)=>b.jsx(_A,{ref:r,className:Ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));wL.displayName=_A.displayName;const _L=U.forwardRef(({className:e,...t},r)=>b.jsx(kA,{ref:r,className:Ue("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:b.jsx(yi,{className:"h-4 w-4"})}));_L.displayName=kA.displayName;const xL=U.forwardRef(({className:e,...t},r)=>b.jsx(EA,{ref:r,className:Ue("text-sm font-semibold [&+div]:text-xs",e),...t}));xL.displayName=EA.displayName;const EL=U.forwardRef(({className:e,...t},r)=>b.jsx(SA,{ref:r,className:Ue("text-sm opacity-90",e),...t}));EL.displayName=SA.displayName;function Ule(){const{toasts:e}=Br();return b.jsxs(zle,{children:[e.map(({id:t,title:r,description:n,action:i,...s})=>b.jsxs(yL,{...s,children:[b.jsxs("div",{className:"grid gap-1",children:[r&&b.jsx(xL,{children:r}),n&&b.jsx(EL,{children:n})]}),i,b.jsx(_L,{})]},t)),b.jsx(bL,{})]})}a(Ule,"Toaster");var Bf={exports:{}},Qv,v7;function ag(){if(v7)return Qv;v7=1;const e="2.0.0",t=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,i=t-6;return Qv={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Qv}a(ag,"requireConstants");var qv,b7;function sg(){if(b7)return qv;b7=1;var e={};return qv=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},qv}a(sg,"requireDebug");var y7;function $h(){return y7||(y7=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=ag(),s=sg();t=e.exports={};const o=t.re=[],l=t.safeRe=[],u=t.src=[],c=t.safeSrc=[],h=t.t={};let d=0;const g="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[g,n]],y=a(A=>{for(const[C,M]of m)A=A.split(`${C}*`).join(`${C}{0,${M}}`).split(`${C}+`).join(`${C}{1,${M}}`);return A},"makeSafeRegex"),x=a((A,C,M)=>{const R=y(C),P=d++;s(A,P,C),h[A]=P,u[P]=C,c[P]=R,o[P]=new RegExp(C,M?"g":void 0),l[P]=new RegExp(R,M?"g":void 0)},"createToken");x("NUMERICIDENTIFIER","0|[1-9]\\d*"),x("NUMERICIDENTIFIERLOOSE","\\d+"),x("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),x("MAINVERSION",`(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})`),x("MAINVERSIONLOOSE",`(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASEIDENTIFIER",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIER]})`),x("PRERELEASEIDENTIFIERLOOSE",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASE",`(?:-(${u[h.PRERELEASEIDENTIFIER]}(?:\\.${u[h.PRERELEASEIDENTIFIER]})*))`),x("PRERELEASELOOSE",`(?:-?(${u[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[h.PRERELEASEIDENTIFIERLOOSE]})*))`),x("BUILDIDENTIFIER",`${g}+`),x("BUILD",`(?:\\+(${u[h.BUILDIDENTIFIER]}(?:\\.${u[h.BUILDIDENTIFIER]})*))`),x("FULLPLAIN",`v?${u[h.MAINVERSION]}${u[h.PRERELEASE]}?${u[h.BUILD]}?`),x("FULL",`^${u[h.FULLPLAIN]}$`),x("LOOSEPLAIN",`[v=\\s]*${u[h.MAINVERSIONLOOSE]}${u[h.PRERELEASELOOSE]}?${u[h.BUILD]}?`),x("LOOSE",`^${u[h.LOOSEPLAIN]}$`),x("GTLT","((?:<|>)?=?)"),x("XRANGEIDENTIFIERLOOSE",`${u[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),x("XRANGEIDENTIFIER",`${u[h.NUMERICIDENTIFIER]}|x|X|\\*`),x("XRANGEPLAIN",`[v=\\s]*(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:${u[h.PRERELEASE]})?${u[h.BUILD]}?)?)?`),x("XRANGEPLAINLOOSE",`[v=\\s]*(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:${u[h.PRERELEASELOOSE]})?${u[h.BUILD]}?)?)?`),x("XRANGE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAIN]}$`),x("XRANGELOOSE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAINLOOSE]}$`),x("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),x("COERCE",`${u[h.COERCEPLAIN]}(?:$|[^\\d])`),x("COERCEFULL",u[h.COERCEPLAIN]+`(?:${u[h.PRERELEASE]})?(?:${u[h.BUILD]})?(?:$|[^\\d])`),x("COERCERTL",u[h.COERCE],!0),x("COERCERTLFULL",u[h.COERCEFULL],!0),x("LONETILDE","(?:~>?)"),x("TILDETRIM",`(\\s*)${u[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",x("TILDE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAIN]}$`),x("TILDELOOSE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAINLOOSE]}$`),x("LONECARET","(?:\\^)"),x("CARETTRIM",`(\\s*)${u[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",x("CARET",`^${u[h.LONECARET]}${u[h.XRANGEPLAIN]}$`),x("CARETLOOSE",`^${u[h.LONECARET]}${u[h.XRANGEPLAINLOOSE]}$`),x("COMPARATORLOOSE",`^${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]})$|^$`),x("COMPARATOR",`^${u[h.GTLT]}\\s*(${u[h.FULLPLAIN]})$|^$`),x("COMPARATORTRIM",`(\\s*)${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]}|${u[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",x("HYPHENRANGE",`^\\s*(${u[h.XRANGEPLAIN]})\\s+-\\s+(${u[h.XRANGEPLAIN]})\\s*$`),x("HYPHENRANGELOOSE",`^\\s*(${u[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[h.XRANGEPLAINLOOSE]})\\s*$`),x("STAR","(<|>)?=?\\s*\\*"),x("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),x("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Bf,Bf.exports)),Bf.exports}a($h,"requireRe");var eb,w7;function Ww(){if(w7)return eb;w7=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return eb=a(n=>n?typeof n!="object"?e:n:t,"parseOptions"),eb}a(Ww,"requireParseOptions");var tb,_7;function SL(){if(_7)return tb;_7=1;const e=/^[0-9]+$/,t=a((n,i)=>{if(typeof n=="number"&&typeof i=="number")return n===i?0:n<i?-1:1;const s=e.test(n),o=e.test(i);return s&&o&&(n=+n,i=+i),n===i?0:s&&!o?-1:o&&!s?1:n<i?-1:1},"compareIdentifiers");return tb={compareIdentifiers:t,rcompareIdentifiers:a((n,i)=>t(i,n),"rcompareIdentifiers")},tb}a(SL,"requireIdentifiers");var rb,x7;function si(){if(x7)return rb;x7=1;const e=sg(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=ag(),{safeRe:n,t:i}=$h(),s=Ww(),{compareIdentifiers:o}=SL();class l{static{a(this,"SemVer")}constructor(c,h){if(h=s(h),c instanceof l){if(c.loose===!!h.loose&&c.includePrerelease===!!h.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const d=c.trim().match(h.loose?n[i.LOOSE]:n[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){const m=+g;if(m>=0&&m<r)return m}return g}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof l)){if(typeof c=="string"&&c===this.version)return 0;c=new l(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof l||(c=new l(c,this.options)),this.major<c.major?-1:this.major>c.major?1:this.minor<c.minor?-1:this.minor>c.minor?1:this.patch<c.patch?-1:this.patch>c.patch?1:0}comparePre(c){if(c instanceof l||(c=new l(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let h=0;do{const d=this.prerelease[h],g=c.prerelease[h];if(e("prerelease compare",h,d,g),d===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(d===void 0)return-1;if(d===g)continue;return o(d,g)}while(++h)}compareBuild(c){c instanceof l||(c=new l(c,this.options));let h=0;do{const d=this.build[h],g=c.build[h];if(e("build compare",h,d,g),d===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(d===void 0)return-1;if(d===g)continue;return o(d,g)}while(++h)}inc(c,h,d){if(c.startsWith("pre")){if(!h&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(h){const g=`-${h}`.match(this.options.loose?n[i.PRERELEASELOOSE]:n[i.PRERELEASE]);if(!g||g[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,d),this.inc("pre",h,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,d),this.inc("pre",h,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const g=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(h===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(h){let m=[h,g];d===!1&&(m=[h]),o(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return rb=l,rb}a(si,"requireSemver$1");var nb,E7;function ac(){if(E7)return nb;E7=1;const e=si();return nb=a((r,n,i=!1)=>{if(r instanceof e)return r;try{return new e(r,n)}catch(s){if(!i)return null;throw s}},"parse"),nb}a(ac,"requireParse");var ib,S7;function Hle(){if(S7)return ib;S7=1;const e=ac();return ib=a((r,n)=>{const i=e(r,n);return i?i.version:null},"valid"),ib}a(Hle,"requireValid$1");var ab,k7;function Gle(){if(k7)return ab;k7=1;const e=ac();return ab=a((r,n)=>{const i=e(r.trim().replace(/^[=v]+/,""),n);return i?i.version:null},"clean"),ab}a(Gle,"requireClean");var sb,A7;function Vle(){if(A7)return sb;A7=1;const e=si();return sb=a((r,n,i,s,o)=>{typeof i=="string"&&(o=s,s=i,i=void 0);try{return new e(r instanceof e?r.version:r,i).inc(n,s,o).version}catch{return null}},"inc"),sb}a(Vle,"requireInc");var ob,T7;function Yle(){if(T7)return ob;T7=1;const e=ac();return ob=a((r,n)=>{const i=e(r,null,!0),s=e(n,null,!0),o=i.compare(s);if(o===0)return null;const l=o>0,u=l?i:s,c=l?s:i,h=!!u.prerelease.length;if(!!c.prerelease.length&&!h){if(!c.patch&&!c.minor)return"major";if(c.compareMain(u)===0)return c.minor&&!c.patch?"minor":"patch"}const g=h?"pre":"";return i.major!==s.major?g+"major":i.minor!==s.minor?g+"minor":i.patch!==s.patch?g+"patch":"prerelease"},"diff"),ob}a(Yle,"requireDiff");var lb,N7;function Zle(){if(N7)return lb;N7=1;const e=si();return lb=a((r,n)=>new e(r,n).major,"major"),lb}a(Zle,"requireMajor");var ub,C7;function $le(){if(C7)return ub;C7=1;const e=si();return ub=a((r,n)=>new e(r,n).minor,"minor"),ub}a($le,"requireMinor");var cb,I7;function Xle(){if(I7)return cb;I7=1;const e=si();return cb=a((r,n)=>new e(r,n).patch,"patch"),cb}a(Xle,"requirePatch");var db,M7;function Jle(){if(M7)return db;M7=1;const e=ac();return db=a((r,n)=>{const i=e(r,n);return i&&i.prerelease.length?i.prerelease:null},"prerelease"),db}a(Jle,"requirePrerelease");var hb,O7;function La(){if(O7)return hb;O7=1;const e=si();return hb=a((r,n,i)=>new e(r,i).compare(new e(n,i)),"compare"),hb}a(La,"requireCompare");var fb,R7;function Kle(){if(R7)return fb;R7=1;const e=La();return fb=a((r,n,i)=>e(n,r,i),"rcompare"),fb}a(Kle,"requireRcompare");var pb,P7;function Wle(){if(P7)return pb;P7=1;const e=La();return pb=a((r,n)=>e(r,n,!0),"compareLoose"),pb}a(Wle,"requireCompareLoose");var mb,L7;function Qw(){if(L7)return mb;L7=1;const e=si();return mb=a((r,n,i)=>{const s=new e(r,i),o=new e(n,i);return s.compare(o)||s.compareBuild(o)},"compareBuild"),mb}a(Qw,"requireCompareBuild");var gb,D7;function Qle(){if(D7)return gb;D7=1;const e=Qw();return gb=a((r,n)=>r.sort((i,s)=>e(i,s,n)),"sort"),gb}a(Qle,"requireSort");var vb,j7;function qle(){if(j7)return vb;j7=1;const e=Qw();return vb=a((r,n)=>r.sort((i,s)=>e(s,i,n)),"rsort"),vb}a(qle,"requireRsort");var bb,B7;function og(){if(B7)return bb;B7=1;const e=La();return bb=a((r,n,i)=>e(r,n,i)>0,"gt"),bb}a(og,"requireGt");var yb,z7;function qw(){if(z7)return yb;z7=1;const e=La();return yb=a((r,n,i)=>e(r,n,i)<0,"lt"),yb}a(qw,"requireLt");var wb,F7;function kL(){if(F7)return wb;F7=1;const e=La();return wb=a((r,n,i)=>e(r,n,i)===0,"eq"),wb}a(kL,"requireEq");var _b,U7;function AL(){if(U7)return _b;U7=1;const e=La();return _b=a((r,n,i)=>e(r,n,i)!==0,"neq"),_b}a(AL,"requireNeq");var xb,H7;function e3(){if(H7)return xb;H7=1;const e=La();return xb=a((r,n,i)=>e(r,n,i)>=0,"gte"),xb}a(e3,"requireGte");var Eb,G7;function t3(){if(G7)return Eb;G7=1;const e=La();return Eb=a((r,n,i)=>e(r,n,i)<=0,"lte"),Eb}a(t3,"requireLte");var Sb,V7;function TL(){if(V7)return Sb;V7=1;const e=kL(),t=AL(),r=og(),n=e3(),i=qw(),s=t3();return Sb=a((l,u,c,h)=>{switch(u){case"===":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l===c;case"!==":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l!==c;case"":case"=":case"==":return e(l,c,h);case"!=":return t(l,c,h);case">":return r(l,c,h);case">=":return n(l,c,h);case"<":return i(l,c,h);case"<=":return s(l,c,h);default:throw new TypeError(`Invalid operator: ${u}`)}},"cmp"),Sb}a(TL,"requireCmp");var kb,Y7;function eue(){if(Y7)return kb;Y7=1;const e=si(),t=ac(),{safeRe:r,t:n}=$h();return kb=a((s,o)=>{if(s instanceof e)return s;if(typeof s=="number"&&(s=String(s)),typeof s!="string")return null;o=o||{};let l=null;if(!o.rtl)l=s.match(o.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);else{const m=o.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let y;for(;(y=m.exec(s))&&(!l||l.index+l[0].length!==s.length);)(!l||y.index+y[0].length!==l.index+l[0].length)&&(l=y),m.lastIndex=y.index+y[1].length+y[2].length;m.lastIndex=-1}if(l===null)return null;const u=l[2],c=l[3]||"0",h=l[4]||"0",d=o.includePrerelease&&l[5]?`-${l[5]}`:"",g=o.includePrerelease&&l[6]?`+${l[6]}`:"";return t(`${u}.${c}.${h}${d}${g}`,o)},"coerce"),kb}a(eue,"requireCoerce");var Ab,Z7;function tue(){if(Z7)return Ab;Z7=1;class e{static{a(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(r,n)}return this}}return Ab=e,Ab}a(tue,"requireLrucache");var Tb,$7;function Da(){if($7)return Tb;$7=1;const e=/\s+/g;class t{static{a(this,"Range")}constructor(_,S){if(S=i(S),_ instanceof t)return _.loose===!!S.loose&&_.includePrerelease===!!S.includePrerelease?_:new t(_.raw,S);if(_ instanceof s)return this.raw=_.value,this.set=[[_]],this.formatted=void 0,this;if(this.options=S,this.loose=!!S.loose,this.includePrerelease=!!S.includePrerelease,this.raw=_.trim().replace(e," "),this.set=this.raw.split("||").map(T=>this.parseRange(T.trim())).filter(T=>T.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const T=this.set[0];if(this.set=this.set.filter(N=>!x(N[0])),this.set.length===0)this.set=[T];else if(this.set.length>1){for(const N of this.set)if(N.length===1&&A(N[0])){this.set=[N];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let _=0;_<this.set.length;_++){_>0&&(this.formatted+="||");const S=this.set[_];for(let T=0;T<S.length;T++)T>0&&(this.formatted+=" "),this.formatted+=S[T].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(_){const T=((this.options.includePrerelease&&m)|(this.options.loose&&y))+":"+_,N=n.get(T);if(N)return N;const k=this.options.loose,p=k?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];_=_.replace(p,f(this.options.includePrerelease)),o("hyphen replace",_),_=_.replace(u[c.COMPARATORTRIM],h),o("comparator trim",_),_=_.replace(u[c.TILDETRIM],d),o("tilde trim",_),_=_.replace(u[c.CARETTRIM],g),o("caret trim",_);let E=_.split(" ").map(H=>M(H,this.options)).join(" ").split(/\s+/).map(H=>W(H,this.options));k&&(E=E.filter(H=>(o("loose invalid filter",H,this.options),!!H.match(u[c.COMPARATORLOOSE])))),o("range list",E);const I=new Map,O=E.map(H=>new s(H,this.options));for(const H of O){if(x(H))return[H];I.set(H.value,H)}I.size>1&&I.has("")&&I.delete("");const B=[...I.values()];return n.set(T,B),B}intersects(_,S){if(!(_ instanceof t))throw new TypeError("a Range is required");return this.set.some(T=>C(T,S)&&_.set.some(N=>C(N,S)&&T.every(k=>N.every(p=>k.intersects(p,S)))))}test(_){if(!_)return!1;if(typeof _=="string")try{_=new l(_,this.options)}catch{return!1}for(let S=0;S<this.set.length;S++)if(w(this.set[S],_,this.options))return!0;return!1}}Tb=t;const r=tue(),n=new r,i=Ww(),s=lg(),o=sg(),l=si(),{safeRe:u,t:c,comparatorTrimReplace:h,tildeTrimReplace:d,caretTrimReplace:g}=$h(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:y}=ag(),x=a(v=>v.value==="<0.0.0-0","isNullSet"),A=a(v=>v.value==="","isAny"),C=a((v,_)=>{let S=!0;const T=v.slice();let N=T.pop();for(;S&&T.length;)S=T.every(k=>N.intersects(k,_)),N=T.pop();return S},"isSatisfiable"),M=a((v,_)=>(v=v.replace(u[c.BUILD],""),o("comp",v,_),v=z(v,_),o("caret",v),v=P(v,_),o("tildes",v),v=Y(v,_),o("xrange",v),v=F(v,_),o("stars",v),v),"parseComparator"),R=a(v=>!v||v.toLowerCase()==="x"||v==="*","isX"),P=a((v,_)=>v.trim().split(/\s+/).map(S=>L(S,_)).join(" "),"replaceTildes"),L=a((v,_)=>{const S=_.loose?u[c.TILDELOOSE]:u[c.TILDE];return v.replace(S,(T,N,k,p,E)=>{o("tilde",v,T,N,k,p,E);let I;return R(N)?I="":R(k)?I=`>=${N}.0.0 <${+N+1}.0.0-0`:R(p)?I=`>=${N}.${k}.0 <${N}.${+k+1}.0-0`:E?(o("replaceTilde pr",E),I=`>=${N}.${k}.${p}-${E} <${N}.${+k+1}.0-0`):I=`>=${N}.${k}.${p} <${N}.${+k+1}.0-0`,o("tilde return",I),I})},"replaceTilde"),z=a((v,_)=>v.trim().split(/\s+/).map(S=>Z(S,_)).join(" "),"replaceCarets"),Z=a((v,_)=>{o("caret",v,_);const S=_.loose?u[c.CARETLOOSE]:u[c.CARET],T=_.includePrerelease?"-0":"";return v.replace(S,(N,k,p,E,I)=>{o("caret",v,N,k,p,E,I);let O;return R(k)?O="":R(p)?O=`>=${k}.0.0${T} <${+k+1}.0.0-0`:R(E)?k==="0"?O=`>=${k}.${p}.0${T} <${k}.${+p+1}.0-0`:O=`>=${k}.${p}.0${T} <${+k+1}.0.0-0`:I?(o("replaceCaret pr",I),k==="0"?p==="0"?O=`>=${k}.${p}.${E}-${I} <${k}.${p}.${+E+1}-0`:O=`>=${k}.${p}.${E}-${I} <${k}.${+p+1}.0-0`:O=`>=${k}.${p}.${E}-${I} <${+k+1}.0.0-0`):(o("no pr"),k==="0"?p==="0"?O=`>=${k}.${p}.${E}${T} <${k}.${p}.${+E+1}-0`:O=`>=${k}.${p}.${E}${T} <${k}.${+p+1}.0-0`:O=`>=${k}.${p}.${E} <${+k+1}.0.0-0`),o("caret return",O),O})},"replaceCaret"),Y=a((v,_)=>(o("replaceXRanges",v,_),v.split(/\s+/).map(S=>ae(S,_)).join(" ")),"replaceXRanges"),ae=a((v,_)=>{v=v.trim();const S=_.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return v.replace(S,(T,N,k,p,E,I)=>{o("xRange",v,T,N,k,p,E,I);const O=R(k),B=O||R(p),H=B||R(E),G=H;return N==="="&&G&&(N=""),I=_.includePrerelease?"-0":"",O?N===">"||N==="<"?T="<0.0.0-0":T="*":N&&G?(B&&(p=0),E=0,N===">"?(N=">=",B?(k=+k+1,p=0,E=0):(p=+p+1,E=0)):N==="<="&&(N="<",B?k=+k+1:p=+p+1),N==="<"&&(I="-0"),T=`${N+k}.${p}.${E}${I}`):B?T=`>=${k}.0.0${I} <${+k+1}.0.0-0`:H&&(T=`>=${k}.${p}.0${I} <${k}.${+p+1}.0-0`),o("xRange return",T),T})},"replaceXRange"),F=a((v,_)=>(o("replaceStars",v,_),v.trim().replace(u[c.STAR],"")),"replaceStars"),W=a((v,_)=>(o("replaceGTE0",v,_),v.trim().replace(u[_.includePrerelease?c.GTE0PRE:c.GTE0],"")),"replaceGTE0"),f=a(v=>(_,S,T,N,k,p,E,I,O,B,H,G)=>(R(T)?S="":R(N)?S=`>=${T}.0.0${v?"-0":""}`:R(k)?S=`>=${T}.${N}.0${v?"-0":""}`:p?S=`>=${S}`:S=`>=${S}${v?"-0":""}`,R(O)?I="":R(B)?I=`<${+O+1}.0.0-0`:R(H)?I=`<${O}.${+B+1}.0-0`:G?I=`<=${O}.${B}.${H}-${G}`:v?I=`<${O}.${B}.${+H+1}-0`:I=`<=${I}`,`${S} ${I}`.trim()),"hyphenReplace"),w=a((v,_,S)=>{for(let T=0;T<v.length;T++)if(!v[T].test(_))return!1;if(_.prerelease.length&&!S.includePrerelease){for(let T=0;T<v.length;T++)if(o(v[T].semver),v[T].semver!==s.ANY&&v[T].semver.prerelease.length>0){const N=v[T].semver;if(N.major===_.major&&N.minor===_.minor&&N.patch===_.patch)return!0}return!1}return!0},"testSet");return Tb}a(Da,"requireRange");var Nb,X7;function lg(){if(X7)return Nb;X7=1;const e=Symbol("SemVer ANY");class t{static{a(this,"Comparator")}static get ANY(){return e}constructor(h,d){if(d=r(d),h instanceof t){if(h.loose===!!d.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),o("comparator",h,d),this.options=d,this.loose=!!d.loose,this.parse(h),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(h){const d=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],g=h.match(d);if(!g)throw new TypeError(`Invalid comparator: ${h}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new l(g[2],this.options.loose):this.semver=e}toString(){return this.value}test(h){if(o("Comparator.test",h,this.options.loose),this.semver===e||h===e)return!0;if(typeof h=="string")try{h=new l(h,this.options)}catch{return!1}return s(h,this.operator,this.semver,this.options)}intersects(h,d){if(!(h instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(h.value,d).test(this.value):h.operator===""?h.value===""?!0:new u(this.value,d).test(h.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||s(this.semver,"<",h.semver,d)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||s(this.semver,">",h.semver,d)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}Nb=t;const r=Ww(),{safeRe:n,t:i}=$h(),s=TL(),o=sg(),l=si(),u=Da();return Nb}a(lg,"requireComparator");var Cb,J7;function ug(){if(J7)return Cb;J7=1;const e=Da();return Cb=a((r,n,i)=>{try{n=new e(n,i)}catch{return!1}return n.test(r)},"satisfies"),Cb}a(ug,"requireSatisfies");var Ib,K7;function rue(){if(K7)return Ib;K7=1;const e=Da();return Ib=a((r,n)=>new e(r,n).set.map(i=>i.map(s=>s.value).join(" ").trim().split(" ")),"toComparators"),Ib}a(rue,"requireToComparators");var Mb,W7;function nue(){if(W7)return Mb;W7=1;const e=si(),t=Da();return Mb=a((n,i,s)=>{let o=null,l=null,u=null;try{u=new t(i,s)}catch{return null}return n.forEach(c=>{u.test(c)&&(!o||l.compare(c)===-1)&&(o=c,l=new e(o,s))}),o},"maxSatisfying"),Mb}a(nue,"requireMaxSatisfying");var Ob,Q7;function iue(){if(Q7)return Ob;Q7=1;const e=si(),t=Da();return Ob=a((n,i,s)=>{let o=null,l=null,u=null;try{u=new t(i,s)}catch{return null}return n.forEach(c=>{u.test(c)&&(!o||l.compare(c)===1)&&(o=c,l=new e(o,s))}),o},"minSatisfying"),Ob}a(iue,"requireMinSatisfying");var Rb,q7;function aue(){if(q7)return Rb;q7=1;const e=si(),t=Da(),r=og();return Rb=a((i,s)=>{i=new t(i,s);let o=new e("0.0.0");if(i.test(o)||(o=new e("0.0.0-0"),i.test(o)))return o;o=null;for(let l=0;l<i.set.length;++l){const u=i.set[l];let c=null;u.forEach(h=>{const d=new e(h.semver.version);switch(h.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!c||r(d,c))&&(c=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${h.operator}`)}}),c&&(!o||r(o,c))&&(o=c)}return o&&i.test(o)?o:null},"minVersion"),Rb}a(aue,"requireMinVersion");var Pb,eS;function sue(){if(eS)return Pb;eS=1;const e=Da();return Pb=a((r,n)=>{try{return new e(r,n).range||"*"}catch{return null}},"validRange"),Pb}a(sue,"requireValid");var Lb,tS;function r3(){if(tS)return Lb;tS=1;const e=si(),t=lg(),{ANY:r}=t,n=Da(),i=ug(),s=og(),o=qw(),l=t3(),u=e3();return Lb=a((h,d,g,m)=>{h=new e(h,m),d=new n(d,m);let y,x,A,C,M;switch(g){case">":y=s,x=l,A=o,C=">",M=">=";break;case"<":y=o,x=u,A=s,C="<",M="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(h,d,m))return!1;for(let R=0;R<d.set.length;++R){const P=d.set[R];let L=null,z=null;if(P.forEach(Z=>{Z.semver===r&&(Z=new t(">=0.0.0")),L=L||Z,z=z||Z,y(Z.semver,L.semver,m)?L=Z:A(Z.semver,z.semver,m)&&(z=Z)}),L.operator===C||L.operator===M||(!z.operator||z.operator===C)&&x(h,z.semver))return!1;if(z.operator===M&&A(h,z.semver))return!1}return!0},"outside"),Lb}a(r3,"requireOutside");var Db,rS;function oue(){if(rS)return Db;rS=1;const e=r3();return Db=a((r,n,i)=>e(r,n,">",i),"gtr"),Db}a(oue,"requireGtr");var jb,nS;function lue(){if(nS)return jb;nS=1;const e=r3();return jb=a((r,n,i)=>e(r,n,"<",i),"ltr"),jb}a(lue,"requireLtr");var Bb,iS;function uue(){if(iS)return Bb;iS=1;const e=Da();return Bb=a((r,n,i)=>(r=new e(r,i),n=new e(n,i),r.intersects(n,i)),"intersects"),Bb}a(uue,"requireIntersects");var zb,aS;function cue(){if(aS)return zb;aS=1;const e=ug(),t=La();return zb=a((r,n,i)=>{const s=[];let o=null,l=null;const u=r.sort((g,m)=>t(g,m,i));for(const g of u)e(g,n,i)?(l=g,o||(o=g)):(l&&s.push([o,l]),l=null,o=null);o&&s.push([o,null]);const c=[];for(const[g,m]of s)g===m?c.push(g):!m&&g===u[0]?c.push("*"):m?g===u[0]?c.push(`<=${m}`):c.push(`${g} - ${m}`):c.push(`>=${g}`);const h=c.join(" || "),d=typeof n.raw=="string"?n.raw:String(n);return h.length<d.length?h:n},"simplify"),zb}a(cue,"requireSimplify");var Fb,sS;function due(){if(sS)return Fb;sS=1;const e=Da(),t=lg(),{ANY:r}=t,n=ug(),i=La(),s=a((d,g,m={})=>{if(d===g)return!0;d=new e(d,m),g=new e(g,m);let y=!1;e:for(const x of d.set){for(const A of g.set){const C=u(x,A,m);if(y=y||C!==null,C)continue e}if(y)return!1}return!0},"subset"),o=[new t(">=0.0.0-0")],l=[new t(">=0.0.0")],u=a((d,g,m)=>{if(d===g)return!0;if(d.length===1&&d[0].semver===r){if(g.length===1&&g[0].semver===r)return!0;m.includePrerelease?d=o:d=l}if(g.length===1&&g[0].semver===r){if(m.includePrerelease)return!0;g=l}const y=new Set;let x,A;for(const Y of d)Y.operator===">"||Y.operator===">="?x=c(x,Y,m):Y.operator==="<"||Y.operator==="<="?A=h(A,Y,m):y.add(Y.semver);if(y.size>1)return null;let C;if(x&&A){if(C=i(x.semver,A.semver,m),C>0)return null;if(C===0&&(x.operator!==">="||A.operator!=="<="))return null}for(const Y of y){if(x&&!n(Y,String(x),m)||A&&!n(Y,String(A),m))return null;for(const ae of g)if(!n(Y,String(ae),m))return!1;return!0}let M,R,P,L,z=A&&!m.includePrerelease&&A.semver.prerelease.length?A.semver:!1,Z=x&&!m.includePrerelease&&x.semver.prerelease.length?x.semver:!1;z&&z.prerelease.length===1&&A.operator==="<"&&z.prerelease[0]===0&&(z=!1);for(const Y of g){if(L=L||Y.operator===">"||Y.operator===">=",P=P||Y.operator==="<"||Y.operator==="<=",x){if(Z&&Y.semver.prerelease&&Y.semver.prerelease.length&&Y.semver.major===Z.major&&Y.semver.minor===Z.minor&&Y.semver.patch===Z.patch&&(Z=!1),Y.operator===">"||Y.operator===">="){if(M=c(x,Y,m),M===Y&&M!==x)return!1}else if(x.operator===">="&&!n(x.semver,String(Y),m))return!1}if(A){if(z&&Y.semver.prerelease&&Y.semver.prerelease.length&&Y.semver.major===z.major&&Y.semver.minor===z.minor&&Y.semver.patch===z.patch&&(z=!1),Y.operator==="<"||Y.operator==="<="){if(R=h(A,Y,m),R===Y&&R!==A)return!1}else if(A.operator==="<="&&!n(A.semver,String(Y),m))return!1}if(!Y.operator&&(A||x)&&C!==0)return!1}return!(x&&P&&!A&&C!==0||A&&L&&!x&&C!==0||Z||z)},"simpleSubset"),c=a((d,g,m)=>{if(!d)return g;const y=i(d.semver,g.semver,m);return y>0?d:y<0||g.operator===">"&&d.operator===">="?g:d},"higherGT"),h=a((d,g,m)=>{if(!d)return g;const y=i(d.semver,g.semver,m);return y<0?d:y>0||g.operator==="<"&&d.operator==="<="?g:d},"lowerLT");return Fb=s,Fb}a(due,"requireSubset");var Ub,oS;function hue(){if(oS)return Ub;oS=1;const e=$h(),t=ag(),r=si(),n=SL(),i=ac(),s=Hle(),o=Gle(),l=Vle(),u=Yle(),c=Zle(),h=$le(),d=Xle(),g=Jle(),m=La(),y=Kle(),x=Wle(),A=Qw(),C=Qle(),M=qle(),R=og(),P=qw(),L=kL(),z=AL(),Z=e3(),Y=t3(),ae=TL(),F=eue(),W=lg(),f=Da(),w=ug(),v=rue(),_=nue(),S=iue(),T=aue(),N=sue(),k=r3(),p=oue(),E=lue(),I=uue(),O=cue(),B=due();return Ub={parse:i,valid:s,clean:o,inc:l,diff:u,major:c,minor:h,patch:d,prerelease:g,compare:m,rcompare:y,compareLoose:x,compareBuild:A,sort:C,rsort:M,gt:R,lt:P,eq:L,neq:z,gte:Z,lte:Y,cmp:ae,coerce:F,Comparator:W,Range:f,satisfies:w,toComparators:v,maxSatisfying:_,minSatisfying:S,minVersion:T,validRange:N,outside:k,gtr:p,ltr:E,intersects:I,simplifyRange:O,subset:B,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},Ub}a(hue,"requireSemver");var fue=hue();const pue=Xp(fue);function mue(){const{toast:e}=Br(),{data:t}=gL();async function r(i){const s=`https://api.github.com/repos/${i}/releases/latest`;try{const o=await fetch(s,{headers:{Accept:"application/vnd.github.v3+json","User-Agent":"fetch-latest-release"}});if(!o.ok)throw new Error(`Failed to fetch latest release: ${o.status} ${o.statusText}`);return(await o.json()).tag_name}catch{}}a(r,"getLatestRelease");const n=U.useCallback(async()=>{try{const i=await r("elizaos/eliza"),s=t?.version;i&&s&&pue.gt(i.replace("v",""),s.replace("v",""))&&e({variant:"default",title:`New version ${i} is available.`,description:"Visit GitHub for more information.",action:b.jsx(tm,{to:"https://github.com/elizaos/eliza/releases",target:"_blank",children:b.jsx(wL,{altText:"Update",children:"Update"})})})}catch(i){qe.error(`Unable to retrieve latest version from GitHub: ${i}`)}},[e,t?.version]);return U.useEffect(()=>{n()},[n]),null}a(mue,"useVersion");const gue=a(({text:e})=>{const[t,r]=U.useState(!1),n=a(()=>{navigator.clipboard.writeText(e).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})},"handleCopy");return b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx(dt,{onClick:n,variant:"ghost",size:"icon",className:"flex items-center space-x-2 text-muted-foreground",children:t?b.jsx(Ks,{className:"size-3"}):b.jsx(Xa,{className:"size-3"})})}),b.jsx(nn,{side:"bottom",children:b.jsx("p",{children:"Copy"})})]})},"CopyButton$1"),vue=a(({onClick:e})=>b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx(dt,{onClick:e,variant:"ghost",size:"icon",className:"text-muted-foreground",children:b.jsx(kl,{className:"size-3"})})}),b.jsx(nn,{side:"bottom",children:b.jsx("p",{children:"Delete"})})]}),"DeleteButton");function bue({onClick:e,className:t}){return b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx(dt,{variant:"ghost",size:"icon",className:`text-muted-foreground ${t}`,onClick:e,children:b.jsx(_U,{className:"size-3"})})}),b.jsx(nn,{side:"bottom",children:b.jsx("p",{children:"Retry message"})})]})}a(bue,"RetryButton");const yue=a(e=>{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/];for(const r of t){const n=e.match(r);if(n)return n[1]}return null},"getYouTubeId"),wue=a(e=>{const t=e.match(/spotify\.com\/(track|album|playlist|episode|show)\/([a-zA-Z0-9]+)(?:\?.*)?/);return t?{type:t[1],id:t[2]}:null},"getSpotifyId"),_ue=a(e=>/\.(jpg|jpeg|png|gif|webp|svg|bmp|ico)(\?.*)?$/i.test(e),"isImageUrl$1"),xue=a(e=>/\.(mp4|webm|ogg|mov|avi|wmv|flv|mkv)(\?.*)?$/i.test(e),"isVideoUrl"),Eue=a(e=>/\.(mp3|wav|ogg|aac|flac|m4a|wma)(\?.*)?$/i.test(e),"isAudioUrl"),Sue=a(e=>/\.pdf(\?.*)?$/i.test(e)||e.includes("pdf"),"isPdfUrl"),kue=a(e=>/\.(pdf|doc|docx|ppt|pptx|xls|xlsx|txt)(\?.*)?$/i.test(e),"isDocumentUrl");function lS({url:e,title:t,className:r,maxWidth:n=600,maxHeight:i=400}){const[s,o]=U.useState(!0),[l,u]=U.useState(!1),c=a(()=>o(!1),"handleLoad"),h=a(()=>{o(!1),u(!0)},"handleError"),d=yue(e);if(d)return b.jsxs("div",{className:Ue("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n,maxHeight:i},children:[s&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:b.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[b.jsx(B2,{className:"w-6 h-6"}),b.jsx("span",{children:"Loading video..."})]})}),b.jsx("iframe",{src:`https://www.youtube.com/embed/${d}`,title:t||"YouTube video",className:"w-full aspect-video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:c,onError:h})]});const g=wue(e);if(g){const m=g.type==="track"?152:g.type==="episode"?232:352;return b.jsxs("div",{className:Ue("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n},children:[s&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:b.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[b.jsx(Dy,{className:"w-6 h-6"}),b.jsx("span",{children:"Loading Spotify content..."})]})}),b.jsx("iframe",{src:`https://open.spotify.com/embed/${g.type}/${g.id}?utm_source=generator`,width:"100%",height:m,frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:t||"Spotify content",onLoad:c,onError:h})]})}return _ue(e)?b.jsxs("div",{className:Ue("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n,maxHeight:i},children:[s&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:b.jsx("div",{className:"animate-pulse w-full h-32 bg-muted-foreground/20 rounded"})}),l?b.jsxs("div",{className:"flex items-center justify-center p-4 text-muted-foreground",children:[b.jsx(ea,{className:"w-6 h-6 mr-2"}),b.jsx("span",{children:"Failed to load image"})]}):b.jsx("img",{src:e||"/placeholder.svg",alt:t||"Image",width:n,height:i,className:"w-full h-auto object-contain",onLoad:c,onError:h})]}):xue(e)?b.jsx("div",{className:Ue("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n,maxHeight:i},children:l?b.jsxs("div",{className:"flex items-center justify-center p-4 text-muted-foreground",children:[b.jsx(ea,{className:"w-6 h-6 mr-2"}),b.jsx("span",{children:"Failed to load video"})]}):b.jsxs("video",{controls:!0,preload:"metadata",className:"w-full h-auto",onLoadedData:c,onError:h,crossOrigin:"anonymous",children:[b.jsx("source",{src:e}),"Your browser does not support the video tag."]})}):Eue(e)?b.jsxs("div",{className:Ue("relative rounded-lg bg-card border p-4",r),style:{maxWidth:n},children:[b.jsxs("div",{className:"flex items-center space-x-3 mb-3 overflow-hidden",children:[b.jsx(Dy,{className:"w-5 h-5 text-muted-foreground"}),b.jsx("span",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"Audio File"})]}),l?b.jsxs("div",{className:"flex items-center text-muted-foreground",children:[b.jsx(ea,{className:"w-4 h-4 mr-2"}),b.jsx("span",{className:"text-sm",children:"Failed to load audio"})]}):b.jsxs("audio",{controls:!0,className:"w-full",preload:"metadata",onLoadedData:c,onError:h,crossOrigin:"anonymous",children:[b.jsx("source",{src:e}),"Your browser does not support the audio tag."]})]}):Sue(e)?b.jsxs("div",{className:Ue("relative rounded-lg overflow-hidden bg-card border",r),style:{maxWidth:n},children:[b.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 border-b gap-10",children:[b.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden",children:[b.jsx(ml,{className:"w-5 h-5 text-muted-foreground"}),b.jsx("span",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"PDF Document"})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("a",{href:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm",children:[b.jsx(Qc,{className:"w-4 h-4"}),b.jsx("span",{children:"View"})]}),b.jsxs("a",{href:e,download:!0,className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm",children:[b.jsx(TA,{className:"w-4 h-4"}),b.jsx("span",{children:"Download"})]})]})]}),b.jsx("div",{className:"relative",style:{height:Math.min(i,500)},children:l?b.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-muted-foreground h-full",children:[b.jsx(ea,{className:"w-8 h-8 mb-2"}),b.jsx("span",{className:"text-center mb-4",children:"PDF preview not available"}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("a",{href:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-primary text-primary-foreground rounded text-sm hover:bg-primary/90",children:"Open in Google Viewer"}),b.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-secondary text-secondary-foreground rounded text-sm hover:bg-secondary/90",children:"Open Original"})]})]}):b.jsxs(b.Fragment,{children:[s&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:b.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[b.jsx(ml,{className:"w-6 h-6"}),b.jsx("span",{children:"Loading PDF..."})]})}),b.jsx("iframe",{src:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,className:"w-full h-full border-0",title:t||"PDF Document",onLoad:c,onError:a(()=>{const m=document.createElement("iframe");m.src=`${e}#toolbar=0&navpanes=0&scrollbar=0`,m.className="w-full h-full border-0",m.title=t||"PDF Document",m.onload=c,m.onerror=h;const y=document.querySelector(`[data-pdf-container="${e}"]`);y&&(y.innerHTML="",y.appendChild(m))},"onError")}),b.jsx("div",{"data-pdf-container":e,className:"hidden"})]})}),b.jsx("div",{className:"p-2 bg-muted/50 border-t text-xs text-muted-foreground",children:b.jsx("span",{children:`PDF Document  Click "View" or "Download" if preview doesn't load`})})]}):kue(e)?b.jsx("div",{className:Ue("rounded-lg bg-card border p-4",r),style:{maxWidth:n},children:b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(ml,{className:"w-8 h-8 text-muted-foreground"}),b.jsxs("div",{className:"flex-1 overflow-hidden mr-6",children:[b.jsx("p",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"Document"}),b.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.split(".").pop()?.toUpperCase()," file"]})]}),b.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm font-medium",children:[b.jsx(Qc,{className:"w-4 h-4"}),b.jsx("span",{children:"Open"})]})]})}):b.jsx("div",{className:Ue("rounded-lg bg-card border p-4",r),style:{maxWidth:n},children:b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(Qc,{className:"w-8 h-8 text-muted-foreground"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm text-primary font-medium",children:t||"External Link"}),b.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e})]}),b.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm font-medium",children:[b.jsx(Qc,{className:"w-4 h-4"}),b.jsx("span",{children:"Open"})]})]})})}a(lS,"MediaContent");function sc(){Yn(),Ln();const{toast:e}=Br(),t=ule(),r=cle(),[n,i]=U.useState([]),[s,o]=U.useState([]);return{startAgent:a(async d=>{if(!d.id){e({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const g=d.id;if(!n.includes(g))try{i(m=>[...m,g]),await t.mutateAsync(g)}catch(m){console.error("Failed to start agent:",m)}finally{i(m=>m.filter(y=>y!==g))}},"startAgent"),stopAgent:a(async d=>{if(!d.id){e({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const g=d.id;if(!s.includes(g))try{o(m=>[...m,g]),await r.mutateAsync(g),e({title:"Agent Stopped",description:`${d.name} has been stopped`})}catch(m){console.error("Failed to stop agent:",m)}finally{o(m=>m.filter(y=>y!==g))}},"stopAgent"),isAgentStarting:a(d=>d?n.includes(d):!1,"isAgentStarting"),isAgentStopping:a(d=>d?s.includes(d):!1,"isAgentStopping"),startingAgents:n,stoppingAgents:s}}a(sc,"useAgentManagement");function Aue({agent:e,variant:t="destructive",size:r="default",className:n="",showIcon:i=!0,redirectToHome:s=!1,onStopComplete:o}){const{stopAgent:l,isAgentStopping:u}=sc(),c=Yn(),h=u(e.id),{confirm:d,isOpen:g,onOpenChange:m,onConfirm:y,options:x}=Xl(),A=a(()=>{d({title:"Stop Agent",description:`Are you sure you want to stop "${e.name}"?`,confirmText:"Stop",variant:"destructive"},async()=>{try{await l(e),o&&o(),s&&c("/")}catch(C){qe.error("Error stopping agent:",C)}})},"handleStopAgent");return b.jsxs(b.Fragment,{children:[b.jsx(dt,{type:"button",variant:t,size:r,className:n,onClick:A,disabled:h,children:h?b.jsxs(b.Fragment,{children:[i&&b.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}),"Stopping..."]}):b.jsxs(b.Fragment,{children:[i&&b.jsx(xU,{className:"mr-2 h-4 w-4"}),"Stop"]})}),b.jsx($l,{open:g,onOpenChange:m,title:x?.title||"",description:x?.description||"",confirmText:x?.confirmText,cancelText:x?.cancelText,variant:x?.variant,onConfirm:y})]})}a(Aue,"StopAgentButton");function NL({isOpen:e,onClose:t,agentId:r}){if(!e)return null;const{startAgent:n,isAgentStarting:i,isAgentStopping:s}=sc(),{toast:o}=Br(),l=Yn(),{data:u}=Zh(r),c=u?.data,h=c?.status===vn.ACTIVE,d=i(r),g=s(r),m=d||g,y={label:"Start",icon:b.jsx(B2,{className:"w-4 h-4"})};d&&(y.label="Starting...",y.icon=b.jsx(Fn,{className:"animate-spin w-4 h-4"}));const x=a(()=>{m||n(c)},"handleAgentStart"),A=a(()=>{if(!u?.data)return;const C={...u.data,createdAt:u.data.createdAt||Date.now(),updatedAt:u.data.updatedAt||Date.now()};r4(C,o)},"handleExportCharacter");return b.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:t,onKeyUp:a(C=>{(C.key==="Enter"||C.key===" ")&&t()},"onKeyUp"),children:b.jsxs(ds,{className:"flex flex-col w-full max-w-md md:max-w-xl overflow-hidden relative",onClick:a(C=>C.stopPropagation(),"onClick"),children:[b.jsxs(ng,{className:"p-0 space-y-0",children:[b.jsx("div",{className:"absolute top-4 right-4 z-10",children:b.jsx(dt,{variant:"ghost",size:"icon",onClick:t,children:b.jsx(yi,{className:"w-5 h-5"})})}),b.jsx("div",{className:"p-6 w-full flex items-end bg-gradient-to-b from-primary/20 to-background",children:b.jsx("div",{className:"flex w-full justify-between items-end",children:b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"w-24 h-24 flex justify-center items-center relative",children:[b.jsx("div",{className:"text-4xl bg-muted rounded-full h-full w-full flex justify-center items-center overflow-hidden border-4 border-background",children:typeof c?.settings?.avatar=="string"?b.jsx("img",{src:c.settings.avatar,alt:"Agent Avatar",className:"w-full h-full object-cover"}):Tl(c?.name??"")}),b.jsx("div",{className:`absolute bottom-1 right-1 w-4 h-4 rounded-full border-2 border-background ${h?"bg-emerald-500":"bg-muted-foreground"}`})]}),b.jsxs("div",{className:"flex flex-col justify-center mr-4",children:[b.jsx("div",{className:"text-xl font-bold truncate max-w-48",children:c?.name}),b.jsx("div",{className:"text-xs text-muted-foreground",children:b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsxs("span",{className:"cursor-pointer hover:underline",onClick:a(C=>{C.stopPropagation(),c?.id&&navigator.clipboard.writeText(c.id)},"onClick"),onKeyUp:a(C=>{(C.key==="Enter"||C.key===" ")&&(C.stopPropagation(),c?.id&&navigator.clipboard.writeText(c.id))},"onKeyUp"),children:["ID: ",c?.id??"N/A"]})}),b.jsx(nn,{side:"bottom",children:b.jsx("p",{children:"Click to copy agent ID"})})]})})]})]})})})]}),b.jsxs(Jl,{className:"p-6 overflow-auto",children:[b.jsxs("div",{className:"rounded-md bg-muted p-4 mb-6 max-h-60 overflow-y-auto",children:[b.jsx("p",{className:"font-medium text-sm mb-2",children:"About Me"}),b.jsx("p",{className:"font-light text-sm text-gray-500",children:u?.data?.system})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-sm mb-2",children:"Status"}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${h?"bg-green-500":"bg-gray-400"}`}),b.jsx("span",{className:"text-sm",children:h?"Active":"Inactive"})]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-sm mb-2",children:"Model"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(P0,{className:"w-4 h-4 text-muted-foreground"}),b.jsx("span",{className:"text-sm",children:typeof c?.settings?.model=="string"?c.settings.model:c?.settings?.model!==void 0?String(c.settings.model):"Default"})]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-sm mb-2",children:"Created"}),b.jsx("p",{className:"text-sm text-gray-500",children:c?.createdAt?vl(c.createdAt).format("LLL"):vl().format("LLL")})]}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-sm mb-2",children:"Plugins"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:c?.plugins&&c.plugins.length>0?c.plugins.map((C,M)=>{const R=C.replace("@elizaos/plugin-","").replace("@elizaos-plugins/plugin-","");return b.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground border border-border",children:R},M)}):b.jsx("p",{className:"text-sm text-gray-500",children:"No plugins enabled"})})]})]})]}),b.jsxs(ig,{className:"flex justify-between items-center p-4 border-t",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[h?b.jsx(Aue,{agent:c,showIcon:!0,size:"default",className:"h-9"}):b.jsxs(dt,{variant:"default",onClick:x,disabled:m,className:"h-9",children:[y.icon,b.jsx("span",{className:"ml-2",children:y.label})]}),b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsxs(dt,{variant:"outline",onClick:A,disabled:!c,className:"h-9",size:"sm",children:["Export",b.jsx(TA,{size:16})]})}),b.jsx(nn,{side:"bottom",children:b.jsx("p",{children:"Export character as JSON"})})]}),b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsxs(dt,{variant:"outline",onClick:a(()=>l(`/settings/${r}`),"onClick"),disabled:!c,className:"h-9",size:"sm",children:[b.jsx(Al,{size:16,className:"mr-1"}),"Settings"]})}),b.jsx(nn,{side:"bottom",children:b.jsx("p",{children:"Configure agent settings"})})]})]}),h&&b.jsx(dt,{variant:"default",className:"h-9",onClick:a(()=>l(`/chat/${c.id}`),"onClick"),children:"Message"})]})]})})}a(NL,"ProfileOverlay");function Tue(){return b.jsxs("svg",{role:"img","aria-label":"Loading animation",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"text-foreground","data-testid":"loading",children:[b.jsx("circle",{cx:"4",cy:"12",r:"2",fill:"currentColor",children:b.jsx("animate",{id:"spinner_qFRN",begin:"0;spinner_OcgL.end+0.25s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),b.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",children:b.jsx("animate",{begin:"spinner_qFRN.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),b.jsx("circle",{cx:"20",cy:"12",r:"2",fill:"currentColor",children:b.jsx("animate",{id:"spinner_OcgL",begin:"spinner_qFRN.begin+0.2s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})})]})}a(Tue,"MessageLoading");const Nue=ro("flex gap-2 max-w-[60%] relative group",{variants:{variant:{received:"self-start",sent:"self-end flex-row-reverse"},layout:{default:"",ai:"max-w-full w-full items-center"}},defaultVariants:{variant:"received",layout:"default"}}),CL=U.forwardRef(({className:e,variant:t,layout:r,children:n,...i},s)=>b.jsx("div",{className:Ue(Nue({variant:t,layout:r,className:e}),"relative group"),ref:s,...i,children:U.Children.map(n,o=>U.isValidElement(o)&&typeof o.type!="string"&&o.type!==U.Fragment?U.cloneElement(o,{variant:t,layout:r}):o)}));CL.displayName="ChatBubble";const Cue=ro("",{variants:{variant:{received:"text-secondary-foreground",sent:"px-5 py-2.5 bg-secondary text-secondary-foreground rounded-lg"},layout:{default:"",ai:"border-t w-full rounded-none bg-transparent"}},defaultVariants:{variant:"received",layout:"default"}}),IL=U.forwardRef(({className:e,variant:t,layout:r,isLoading:n=!1,children:i,...s},o)=>b.jsx("div",{className:Ue(Cue({variant:t,layout:r,className:e}),"break-words max-w-full whitespace-pre-wrap"),ref:o,...s,children:n?b.jsx("div",{className:"flex items-center space-x-2",children:b.jsx(Tue,{})}):i}));IL.displayName="ChatBubbleMessage";const Iue=a(({timestamp:e,className:t,...r})=>b.jsx("div",{className:Ue("text-xs text-right select-none",t),...r,children:e}),"ChatBubbleTimestamp"),Mue=U.forwardRef(({variant:e,className:t,children:r,...n},i)=>b.jsx("div",{ref:i,className:Ue("absolute top-1/2 -translate-y-1/2 flex opacity-0 group-hover:opacity-100 transition-opacity duration-200",e==="sent"?"-left-1 -translate-x-full flex-row-reverse":"-right-1 translate-x-full",t),...n,children:r}));Mue.displayName="ChatBubbleActionWrapper";let Ns=null;function Oue({agentId:e,text:t}){const{toast:r}=Br(),[n,i]=U.useState(!1),[s,o]=U.useState(null),[l,u]=U.useState(null),c=U.useRef(null),h=U.useRef(null),d=Mr();U.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]);const g=Pi({mutationKey:["tts",t],mutationFn:a(async()=>{console.log(" Starting TTS API call..."),console.log(" agentId:",e),console.log(" text:",t);const C=await d.audio.generateSpeech(e,{text:t});console.log(" TTS API response:",C);const{audio:M,format:R}=C;let P,L;if(M.startsWith("data:")){const[Y,ae]=M.split(","),F=Y.match(/data:([^;]+)/);L=F?F[1]:`audio/${R||"mpeg"}`,P=ae}else P=M,L=`audio/${R||"mpeg"}`;const z=atob(P),Z=new Uint8Array(z.length);for(let Y=0;Y<z.length;Y++)Z[Y]=z.charCodeAt(Y);return new Blob([Z],{type:L})},"mutationFn"),onSuccess:a(C=>{o(C),h.current=C;const M=URL.createObjectURL(C);u(M),setTimeout(()=>{m()},100)},"onSuccess"),onError:a(C=>{r({variant:"destructive",title:"Unable to read message aloud",description:C.message})},"onError")}),m=a(async()=>{if(c.current)try{Ns&&Ns!==c.current&&(Ns.pause(),Ns.currentTime=0),Ns=c.current,c.current.volume=1,c.current.muted=!1,await c.current.play(),i(!0)}catch(C){r({variant:"destructive",title:"Audio playback failed",description:C.message}),i(!1)}},"play"),y=a(()=>{c.current&&(c.current.pause(),c.current.currentTime=0,Ns===c.current&&(Ns=null)),i(!1)},"stop"),x=a(async()=>{if(g?.isPending)return;if(n){y();return}if(s||h.current||c.current?.src&&c.current.src.startsWith("blob:")){await m();return}g.mutate()},"execute"),A="text-muted-foreground size-3";return b.jsxs(b.Fragment,{children:[s?b.jsx("audio",{crossOrigin:"anonymous",playsInline:!0,ref:c,src:l||"",onEnded:a(()=>{i(!1),Ns===c.current&&(Ns=null)},"onEnded"),children:"Your browser does not support the audio element."}):null,b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx(dt,{size:"icon",variant:"ghost",type:"button",onClick:a(()=>x(),"onClick"),disabled:g?.isPending,children:g?.isPending?b.jsx(z2,{className:A}):n?b.jsx(D2,{className:A}):b.jsx(Dy,{className:A})})}),b.jsx(nn,{side:"bottom",children:b.jsx("p",{children:n?"Stop":"Read aloud"})})]})]})}a(Oue,"ChatTtsButton");function Rue({defaultOrigin:e="",allowedLinkPrefixes:t=[],allowedImagePrefixes:r=[],allowDataImages:n=!1,blockedImageClass:i="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:s="text-gray-500"}){const o=t.length&&!t.every(u=>u==="*"),l=r.length&&!r.every(u=>u==="*");if(!e&&(o||l))throw new Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return u=>{const c=Due(e,t,r,n,i,s);Nd(u,c)}}a(Rue,"harden");function uS(e,t){if(typeof e!="string")return null;try{return new URL(e)}catch{if(t)try{return new URL(e,t)}catch{return null}return null}}a(uS,"parseUrl");function Pue(e){return typeof e!="string"?!1:e.startsWith("/")}a(Pue,"isPathRelativeUrl");const Lue=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:"]);function cS(e,t,r,n=!1,i=!1){if(!e)return null;if(typeof e=="string"&&e.startsWith("#")&&!i)try{if(new URL(e,"http://example.com").hash===e)return e}catch{}if(typeof e=="string"&&e.startsWith("data:"))return i&&n&&e.startsWith("data:image/")?e:null;const s=uS(e,r);if(!s||!Lue.has(s.protocol))return null;if(s.protocol==="mailto:")return s.href;const o=Pue(e);return s&&t.some(l=>{const u=uS(l,r);return!u||u.origin!==s.origin?!1:s.href.startsWith(u.href)})?o?s.pathname+s.search+s.hash:s.href:t.includes("*")?s.protocol!=="https:"&&s.protocol!=="http:"?null:o?s.pathname+s.search+s.hash:s.href:null}a(cS,"transformUrl");const Hb=Symbol("node-seen"),Due=a((e,t,r,n,i,s)=>{const o=a((l,u,c)=>{if(l.type!=="element"||l[Hb])return nf;if(l.tagName==="a"){const h=cS(l.properties.href,t,e,!1,!1);return h===null?(l[Hb]=!0,Nd(l,o),c&&typeof u=="number"&&(c.children[u]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(l.properties.href),class:s},children:[...l.children,{type:"text",value:" [blocked]"}]}),jy):(l.properties.href=h,l.properties.target="_blank",l.properties.rel="noopener noreferrer",nf)}if(l.tagName==="img"){const h=cS(l.properties.src,r,e,n,!0);return h===null?(l[Hb]=!0,Nd(l,o),c&&typeof u=="number"&&(c.children[u]={type:"element",tagName:"span",properties:{class:i},children:[{type:"text",value:"[Image blocked: "+String(l.properties.alt||"No description")+"]"}]}),jy):(l.properties.src=h,nf)}return nf},"visitor");return o},"createVisitor"),dS=/[#.]/g;function jue(e,t){const r=e||"",n={};let i=0,s,o;for(;i<r.length;){dS.lastIndex=i;const l=dS.exec(r),u=r.slice(i,l?l.index:r.length);u&&(s?s==="#"?n.id=u:Array.isArray(n.className)?n.className.push(u):n.className=[u]:o=u,i+=u.length),l&&(s=l[0],i++)}return{type:"element",tagName:o||t||"div",properties:n,children:[]}}a(jue,"parseSelector");function ML(e,t,r){const n=r?Uue(r):void 0;function i(s,o,...l){let u;if(s==null){u={type:"root",children:[]};const c=o;l.unshift(c)}else{u=jue(s,t);const c=u.tagName.toLowerCase(),h=n?n.get(c):void 0;if(u.tagName=h||c,Bue(o))l.unshift(o);else for(const[d,g]of Object.entries(o))zue(e,u.properties,d,g)}for(const c of l)Z1(u.children,c);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return a(i,"h"),i}a(ML,"createH");function Bue(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const o of s)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}a(Bue,"isChild");function zue(e,t,r,n){const i=F2(e,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=g_(n):i.commaSeparated?s=v_(n):i.commaOrSpaceSeparated?s=g_(v_(n).join(" ")):s=hS(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?Fue(n):String(n);if(Array.isArray(s)){const o=[];for(const l of s)o.push(hS(i,i.property,l));s=o}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}a(zue,"addProperty");function Z1(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)Z1(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?Z1(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}a(Z1,"addChild");function hS(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||b_(r)===b_(t)))return!0}return r}a(hS,"parsePrimitive");function Fue(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}a(Fue,"style");function Uue(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}a(Uue,"createAdjustMap");const Hue=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],OL=ML(nm,"div"),RL=ML(Sh,"g",Hue),Wa={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gue(e,t){return PL(e,{})||{type:"root",children:[]}}a(Gue,"fromDom");function PL(e,t){const r=Vue(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}a(PL,"transform$1");function Vue(e,t){switch(e.nodeType){case 1:return Xue(e,t);case 3:return Zue(e);case 8:return $ue(e);case 9:return fS(e,t);case 10:return Yue();case 11:return fS(e,t);default:return}}a(Vue,"one$3");function fS(e,t){return{type:"root",children:LL(e,t)}}a(fS,"root$4");function Yue(){return{type:"doctype"}}a(Yue,"doctype$3");function Zue(e){return{type:"text",value:e.nodeValue||""}}a(Zue,"text$6");function $ue(e){return{type:"comment",value:e.nodeValue||""}}a($ue,"comment$3");function Xue(e,t){const r=e.namespaceURI,n=r===Wa.svg?RL:OL,i=r===Wa.html?e.tagName.toLowerCase():e.tagName,s=r===Wa.html&&i==="template"?e.content:e,o=e.getAttributeNames(),l={};let u=-1;for(;++u<o.length;)l[o[u]]=e.getAttribute(o[u])||"";return n(i,l,LL(s,t))}a(Xue,"element$5");function LL(e,t){const r=e.childNodes,n=[];let i=-1;for(;++i<r.length;){const s=PL(r[i],t);s!==void 0&&n.push(s)}return n}a(LL,"all$4");new DOMParser;function Jue(e,t){const r=Kue(e);return Gue(r)}a(Jue,"fromHtmlIsomorphic");function Kue(e){const t=document.createElement("template");return t.innerHTML=e,t.content}a(Kue,"parseFragment$1");const pS=a((function(e,t,r){const n=U2(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]}),"findAfter"),Kl=a((function(e){if(e==null)return que;if(typeof e=="string")return Que(e);if(typeof e=="object")return Wue(e);if(typeof e=="function")return n3(e);throw new Error("Expected function, string, or array as `test`")}),"convertElement");function Wue(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Kl(e[r]);return n3(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}a(Wue,"anyFactory");function Que(e){return n3(t);function t(r){return r.tagName===e}}a(Que,"tagNameFactory");function n3(e){return t;function t(r,n,i){return!!(ece(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}a(n3,"castFactory");function que(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}a(que,"element$4");function ece(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}a(ece,"looksLikeAnElement");const mS=/\n/g,gS=/[\t ]+/g,$1=Kl("br"),vS=Kl(lce),tce=Kl("p"),bS=Kl("tr"),rce=Kl(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",oce,uce]),DL=Kl(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function nce(e,t){const r=t||{},n="children"in e?e.children:[],i=DL(e),s=zL(e,{whitespace:r.whitespace||"normal"}),o=[];(e.type==="text"||e.type==="comment")&&o.push(...BL(e,{breakBefore:!0,breakAfter:!0}));let l=-1;for(;++l<n.length;)o.push(...jL(n[l],e,{whitespace:s,breakBefore:l?void 0:i,breakAfter:l<n.length-1?$1(n[l+1]):i}));const u=[];let c;for(l=-1;++l<o.length;){const h=o[l];typeof h=="number"?c!==void 0&&h>c&&(c=h):h&&(c!==void 0&&c>-1&&u.push(`
`.repeat(c)||" "),c=-1,u.push(h))}return u.join("")}a(nce,"toText");function jL(e,t,r){return e.type==="element"?ice(e,t,r):e.type==="text"?r.whitespace==="normal"?BL(e,r):ace(e):[]}a(jL,"renderedTextCollection");function ice(e,t,r){const n=zL(e,r),i=e.children||[];let s=-1,o=[];if(rce(e))return o;let l,u;for($1(e)||bS(e)&&pS(t,e,bS)?u=`
`:tce(e)?(l=2,u=2):DL(e)&&(l=1,u=1);++s<i.length;)o=o.concat(jL(i[s],e,{whitespace:n,breakBefore:s?void 0:l,breakAfter:s<i.length-1?$1(i[s+1]):u}));return vS(e)&&pS(t,e,vS)&&o.push("	"),l&&o.unshift(l),u&&o.push(u),o}a(ice,"collectElement");function BL(e,t){const r=String(e.value),n=[],i=[];let s=0;for(;s<=r.length;){mS.lastIndex=s;const u=mS.exec(r),c=u&&"index"in u?u.index:r.length;n.push(sce(r.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,c===r.length?t.breakAfter:!0)),s=c+1}let o=-1,l;for(;++o<n.length;)n[o].charCodeAt(n[o].length-1)===8203||o<n.length-1&&n[o+1].charCodeAt(0)===8203?(i.push(n[o]),l=void 0):n[o]?(typeof l=="number"&&i.push(l),i.push(n[o]),l=0):(o===0||o===n.length-1)&&i.push(0);return i}a(BL,"collectText");function ace(e){return[String(e.value)]}a(ace,"collectPreText");function sce(e,t,r){const n=[];let i=0,s;for(;i<e.length;){gS.lastIndex=i;const o=gS.exec(e);s=o?o.index:e.length,!i&&!s&&o&&!t&&n.push(""),i!==s&&n.push(e.slice(i,s)),i=o?s+o[0].length:s}return i!==s&&!r&&n.push(""),n.join(" ")}a(sce,"trimAndCollapseSpacesAndTabs");function zL(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}a(zL,"inferWhitespace");function oce(e){return!!(e.properties||{}).hidden}a(oce,"hidden");function lce(e){return e.tagName==="td"||e.tagName==="th"}a(lce,"isCell");function uce(e){return e.tagName==="dialog"&&!(e.properties||{}).open}a(uce,"closedDialog");class mi{static{a(this,"SourceLocation")}constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new mi(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}}class Di{static{a(this,"Token")}constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new Di(r,mi.range(this,t))}}class yt{static{a(this,"ParseError")}constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,i,s,o=r&&r.loc;if(o&&o.start<=o.end){var l=o.lexer.input;i=o.start,s=o.end,i===l.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var u=l.slice(i,s).replace(/[^]/g,"$&"),c;i>15?c=""+l.slice(i-15,i):c=l.slice(0,i);var h;s+15<l.length?h=l.slice(s,s+15)+"":h=l.slice(s),n+=c+u+h}var d=new Error(n);return d.name="ParseError",d.__proto__=yt.prototype,d.position=i,i!=null&&s!=null&&(d.length=s-i),d.rawMessage=t,d}}yt.prototype.__proto__=Error.prototype;var cce=a(function(t,r){return t===void 0?r:t},"deflt2"),dce=/([A-Z])/g,hce=a(function(t){return t.replace(dce,"-$1").toLowerCase()},"hyphenate2"),fce={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},pce=/[&><"']/g;function mce(e){return String(e).replace(pce,t=>fce[t])}a(mce,"escape");var FL=a(function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},"getBaseElem2"),gce=a(function(t){var r=FL(t);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},"isCharacterBox2"),vce=a(function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},"assert2"),bce=a(function(t){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},"protocolFromUrl2"),_r={deflt:cce,escape:mce,hyphenate:hce,getBaseElem:FL,isCharacterBox:gce,protocolFromUrl:bce},gd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:a(e=>"#"+e,"cliProcessor")},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:a((e,t)=>(t.push(e),t),"cliProcessor")},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:a(e=>Math.max(0,e),"processor"),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:a(e=>Math.max(0,e),"processor"),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:a(e=>Math.max(0,e),"processor"),cli:"-e, --max-expand <n>",cliProcessor:a(e=>e==="Infinity"?1/0:parseInt(e),"cliProcessor")},globalGroup:{type:"boolean",cli:!1}};function yce(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}a(yce,"getDefaultValue");class i3{static{a(this,"Settings")}constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var r in gd)if(gd.hasOwnProperty(r)){var n=gd[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:yce(n)}}reportNonstrict(t,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(t,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new yt("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+t+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+t+"]"))}}useStrictBehavior(t,r,n){var i=this.strict;if(typeof i=="function")try{i=i(t,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var r=_r.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class mo{static{a(this,"Style")}constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return Za[wce[this.id]]}sub(){return Za[_ce[this.id]]}fracNum(){return Za[xce[this.id]]}fracDen(){return Za[Ece[this.id]]}cramp(){return Za[Sce[this.id]]}text(){return Za[kce[this.id]]}isTight(){return this.size>=2}}var a3=0,xp=1,Mu=2,$s=3,hh=4,ta=5,Zu=6,ti=7,Za=[new mo(a3,0,!1),new mo(xp,0,!0),new mo(Mu,1,!1),new mo($s,1,!0),new mo(hh,2,!1),new mo(ta,2,!0),new mo(Zu,3,!1),new mo(ti,3,!0)],wce=[hh,ta,hh,ta,Zu,ti,Zu,ti],_ce=[ta,ta,ta,ta,ti,ti,ti,ti],xce=[Mu,$s,hh,ta,Zu,ti,Zu,ti],Ece=[$s,$s,ta,ta,ti,ti,ti,ti],Sce=[xp,xp,$s,$s,ta,ta,ti,ti],kce=[a3,xp,Mu,$s,Mu,$s,Mu,$s],Xt={DISPLAY:Za[a3],TEXT:Za[Mu],SCRIPT:Za[hh],SCRIPTSCRIPT:Za[Zu]},X1=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Ace(e){for(var t=0;t<X1.length;t++)for(var r=X1[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}a(Ace,"scriptFromCodepoint");var A0=[];X1.forEach(e=>e.blocks.forEach(t=>A0.push(...t)));function UL(e){for(var t=0;t<A0.length;t+=2)if(e>=A0[t]&&e<=A0[t+1])return!0;return!1}a(UL,"supportedCodepoint");var cu=80,Tce=a(function(t,r){return"M95,"+(622+t+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtMain2"),Nce=a(function(t,r){return"M263,"+(601+t+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtSize12"),Cce=a(function(t,r){return"M983 "+(10+t+r)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtSize22"),Ice=a(function(t,r){return"M424,"+(2398+t+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+r+`
h400000v`+(40+t)+"h-400000z"},"sqrtSize32"),Mce=a(function(t,r){return"M473,"+(2713+t+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+r+"h400000v"+(40+t)+"H1017.7z"},"sqrtSize42"),Oce=a(function(t){var r=t/2;return"M400000 "+t+" H0 L"+r+" 0 l65 45 L145 "+(t-80)+" H400000z"},"phasePath2"),Rce=a(function(t,r,n){var i=n-54-r-t;return"M702 "+(t+r)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+t)+"H742z"},"sqrtTall2"),Pce=a(function(t,r,n){r=1e3*r;var i="";switch(t){case"sqrtMain":i=Tce(r,cu);break;case"sqrtSize1":i=Nce(r,cu);break;case"sqrtSize2":i=Cce(r,cu);break;case"sqrtSize3":i=Ice(r,cu);break;case"sqrtSize4":i=Mce(r,cu);break;case"sqrtTall":i=Rce(r,cu,n)}return i},"sqrtPath2"),Lce=a(function(t,r){switch(t){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},"innerPath2"),yS={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Dce=a(function(t,r){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim2");class Xh{static{a(this,"DocumentFragment")}constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=a(r=>r.toText(),"toText");return this.children.map(t).join("")}}var Qa={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},zf={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},wS={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function HL(e,t){Qa[e]=t}a(HL,"setFontMetrics");function s3(e,t,r){if(!Qa[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),i=Qa[t][n];if(!i&&e[0]in wS&&(n=wS[e[0]].charCodeAt(0),i=Qa[t][n]),!i&&r==="text"&&UL(n)&&(i=Qa[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}a(s3,"getCharacterMetrics");var Gb={};function jce(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!Gb[t]){var r=Gb[t]={cssEmPerMu:zf.quad[t]/18};for(var n in zf)zf.hasOwnProperty(n)&&(r[n]=zf[n][t])}return Gb[t]}a(jce,"getGlobalMetrics");var Bce=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],_S=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],xS=a(function(t,r){return r.size<2?t:Bce[t-1][r.size-1]},"sizeAtStyle2");class Bs{static{a(this,"Options")}constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Bs.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=_S[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new Bs(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:xS(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:_S[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=xS(Bs.BASESIZE,t);return this.size===r&&this.textSize===Bs.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Bs.BASESIZE?["sizing","reset-size"+this.size,"size"+Bs.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=jce(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Bs.BASESIZE=6;var J1={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},zce={ex:!0,em:!0,mu:!0},GL=a(function(t){return typeof t!="string"&&(t=t.unit),t in J1||t in zce||t==="ex"},"validUnit2"),en=a(function(t,r){var n;if(t.unit in J1)n=J1[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(t.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,t.unit==="ex")n=i.fontMetrics().xHeight;else if(t.unit==="em")n=i.fontMetrics().quad;else throw new yt("Invalid unit: '"+t.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(t.number*n,r.maxSize)},"calculateSize2"),At=a(function(t){return+t.toFixed(4)+"em"},"makeEm2"),Do=a(function(t){return t.filter(r=>r).join(" ")},"createClass2"),VL=a(function(t,r,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},"initNode2"),YL=a(function(t){var r=document.createElement(t);r.className=Do(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r},"toNode2"),Fce=/[\s"'>/=\x00-\x1f]/,ZL=a(function(t){var r="<"+t;this.classes.length&&(r+=' class="'+_r.escape(Do(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=_r.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+_r.escape(n)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(Fce.test(s))throw new yt("Invalid attribute name '"+s+"'");r+=" "+s+'="'+_r.escape(this.attributes[s])+'"'}r+=">";for(var o=0;o<this.children.length;o++)r+=this.children[o].toMarkup();return r+="</"+t+">",r},"toMarkup2");class Jh{static{a(this,"Span")}constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,VL.call(this,t,n,i),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return this.classes.includes(t)}toNode(){return YL.call(this,"span")}toMarkup(){return ZL.call(this,"span")}}class o3{static{a(this,"Anchor")}constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,VL.call(this,r,i),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return this.classes.includes(t)}toNode(){return YL.call(this,"a")}toMarkup(){return ZL.call(this,"a")}}class Uce{static{a(this,"Img")}constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+_r.escape(this.src)+'"'+(' alt="'+_r.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=_r.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+_r.escape(r)+'"'),t+="'/>",t}}var Hce={:"",:"",:"",:""};class na{static{a(this,"SymbolNode")}constructor(t,r,n,i,s,o,l,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=s||0,this.width=o||0,this.classes=l||[],this.style=u||{},this.maxFontSize=0;var c=Ace(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=Hce[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=At(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Do(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=_r.escape(Do(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=_r.hyphenate(i)+":"+this.style[i]+";");n&&(t=!0,r+=' style="'+_r.escape(n)+'"');var s=_r.escape(this.text);return t?(r+=">",r+=s,r+="</span>",r):s}}class qs{static{a(this,"SvgNode")}constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+_r.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>",t}}class jo{static{a(this,"PathNode")}constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",yS[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+_r.escape(this.alternate)+'"/>':'<path d="'+_r.escape(yS[this.pathName])+'"/>'}}class K1{static{a(this,"LineNode")}constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+_r.escape(this.attributes[r])+'"');return t+="/>",t}}function ES(e){if(e instanceof na)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}a(ES,"assertSymbolDomNode");function Gce(e){if(e instanceof Jh)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}a(Gce,"assertSpan");var Vce={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Yce={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},jr={math:{},text:{}};function j(e,t,r,n,i,s){jr[e][i]={font:t,group:r,replace:n},s&&n&&(jr[e][n]=jr[e][i])}a(j,"defineSymbol");var V="math",ft="text",Q="main",Ee="ams",Yr="accent-token",Lt="bin",oi="close",oc="inner",$t="mathord",wn="op-token",Gi="open",cg="punct",ke="rel",so="spacing",Le="textord";j(V,Q,ke,"","\\equiv",!0);j(V,Q,ke,"","\\prec",!0);j(V,Q,ke,"","\\succ",!0);j(V,Q,ke,"","\\sim",!0);j(V,Q,ke,"","\\perp");j(V,Q,ke,"","\\preceq",!0);j(V,Q,ke,"","\\succeq",!0);j(V,Q,ke,"","\\simeq",!0);j(V,Q,ke,"","\\mid",!0);j(V,Q,ke,"","\\ll",!0);j(V,Q,ke,"","\\gg",!0);j(V,Q,ke,"","\\asymp",!0);j(V,Q,ke,"","\\parallel");j(V,Q,ke,"","\\bowtie",!0);j(V,Q,ke,"","\\smile",!0);j(V,Q,ke,"","\\sqsubseteq",!0);j(V,Q,ke,"","\\sqsupseteq",!0);j(V,Q,ke,"","\\doteq",!0);j(V,Q,ke,"","\\frown",!0);j(V,Q,ke,"","\\ni",!0);j(V,Q,ke,"","\\propto",!0);j(V,Q,ke,"","\\vdash",!0);j(V,Q,ke,"","\\dashv",!0);j(V,Q,ke,"","\\owns");j(V,Q,cg,".","\\ldotp");j(V,Q,cg,"","\\cdotp");j(V,Q,Le,"#","\\#");j(ft,Q,Le,"#","\\#");j(V,Q,Le,"&","\\&");j(ft,Q,Le,"&","\\&");j(V,Q,Le,"","\\aleph",!0);j(V,Q,Le,"","\\forall",!0);j(V,Q,Le,"","\\hbar",!0);j(V,Q,Le,"","\\exists",!0);j(V,Q,Le,"","\\nabla",!0);j(V,Q,Le,"","\\flat",!0);j(V,Q,Le,"","\\ell",!0);j(V,Q,Le,"","\\natural",!0);j(V,Q,Le,"","\\clubsuit",!0);j(V,Q,Le,"","\\wp",!0);j(V,Q,Le,"","\\sharp",!0);j(V,Q,Le,"","\\diamondsuit",!0);j(V,Q,Le,"","\\Re",!0);j(V,Q,Le,"","\\heartsuit",!0);j(V,Q,Le,"","\\Im",!0);j(V,Q,Le,"","\\spadesuit",!0);j(V,Q,Le,"","\\S",!0);j(ft,Q,Le,"","\\S");j(V,Q,Le,"","\\P",!0);j(ft,Q,Le,"","\\P");j(V,Q,Le,"","\\dag");j(ft,Q,Le,"","\\dag");j(ft,Q,Le,"","\\textdagger");j(V,Q,Le,"","\\ddag");j(ft,Q,Le,"","\\ddag");j(ft,Q,Le,"","\\textdaggerdbl");j(V,Q,oi,"","\\rmoustache",!0);j(V,Q,Gi,"","\\lmoustache",!0);j(V,Q,oi,"","\\rgroup",!0);j(V,Q,Gi,"","\\lgroup",!0);j(V,Q,Lt,"","\\mp",!0);j(V,Q,Lt,"","\\ominus",!0);j(V,Q,Lt,"","\\uplus",!0);j(V,Q,Lt,"","\\sqcap",!0);j(V,Q,Lt,"","\\ast");j(V,Q,Lt,"","\\sqcup",!0);j(V,Q,Lt,"","\\bigcirc",!0);j(V,Q,Lt,"","\\bullet",!0);j(V,Q,Lt,"","\\ddagger");j(V,Q,Lt,"","\\wr",!0);j(V,Q,Lt,"","\\amalg");j(V,Q,Lt,"&","\\And");j(V,Q,ke,"","\\longleftarrow",!0);j(V,Q,ke,"","\\Leftarrow",!0);j(V,Q,ke,"","\\Longleftarrow",!0);j(V,Q,ke,"","\\longrightarrow",!0);j(V,Q,ke,"","\\Rightarrow",!0);j(V,Q,ke,"","\\Longrightarrow",!0);j(V,Q,ke,"","\\leftrightarrow",!0);j(V,Q,ke,"","\\longleftrightarrow",!0);j(V,Q,ke,"","\\Leftrightarrow",!0);j(V,Q,ke,"","\\Longleftrightarrow",!0);j(V,Q,ke,"","\\mapsto",!0);j(V,Q,ke,"","\\longmapsto",!0);j(V,Q,ke,"","\\nearrow",!0);j(V,Q,ke,"","\\hookleftarrow",!0);j(V,Q,ke,"","\\hookrightarrow",!0);j(V,Q,ke,"","\\searrow",!0);j(V,Q,ke,"","\\leftharpoonup",!0);j(V,Q,ke,"","\\rightharpoonup",!0);j(V,Q,ke,"","\\swarrow",!0);j(V,Q,ke,"","\\leftharpoondown",!0);j(V,Q,ke,"","\\rightharpoondown",!0);j(V,Q,ke,"","\\nwarrow",!0);j(V,Q,ke,"","\\rightleftharpoons",!0);j(V,Ee,ke,"","\\nless",!0);j(V,Ee,ke,"","\\@nleqslant");j(V,Ee,ke,"","\\@nleqq");j(V,Ee,ke,"","\\lneq",!0);j(V,Ee,ke,"","\\lneqq",!0);j(V,Ee,ke,"","\\@lvertneqq");j(V,Ee,ke,"","\\lnsim",!0);j(V,Ee,ke,"","\\lnapprox",!0);j(V,Ee,ke,"","\\nprec",!0);j(V,Ee,ke,"","\\npreceq",!0);j(V,Ee,ke,"","\\precnsim",!0);j(V,Ee,ke,"","\\precnapprox",!0);j(V,Ee,ke,"","\\nsim",!0);j(V,Ee,ke,"","\\@nshortmid");j(V,Ee,ke,"","\\nmid",!0);j(V,Ee,ke,"","\\nvdash",!0);j(V,Ee,ke,"","\\nvDash",!0);j(V,Ee,ke,"","\\ntriangleleft");j(V,Ee,ke,"","\\ntrianglelefteq",!0);j(V,Ee,ke,"","\\subsetneq",!0);j(V,Ee,ke,"","\\@varsubsetneq");j(V,Ee,ke,"","\\subsetneqq",!0);j(V,Ee,ke,"","\\@varsubsetneqq");j(V,Ee,ke,"","\\ngtr",!0);j(V,Ee,ke,"","\\@ngeqslant");j(V,Ee,ke,"","\\@ngeqq");j(V,Ee,ke,"","\\gneq",!0);j(V,Ee,ke,"","\\gneqq",!0);j(V,Ee,ke,"","\\@gvertneqq");j(V,Ee,ke,"","\\gnsim",!0);j(V,Ee,ke,"","\\gnapprox",!0);j(V,Ee,ke,"","\\nsucc",!0);j(V,Ee,ke,"","\\nsucceq",!0);j(V,Ee,ke,"","\\succnsim",!0);j(V,Ee,ke,"","\\succnapprox",!0);j(V,Ee,ke,"","\\ncong",!0);j(V,Ee,ke,"","\\@nshortparallel");j(V,Ee,ke,"","\\nparallel",!0);j(V,Ee,ke,"","\\nVDash",!0);j(V,Ee,ke,"","\\ntriangleright");j(V,Ee,ke,"","\\ntrianglerighteq",!0);j(V,Ee,ke,"","\\@nsupseteqq");j(V,Ee,ke,"","\\supsetneq",!0);j(V,Ee,ke,"","\\@varsupsetneq");j(V,Ee,ke,"","\\supsetneqq",!0);j(V,Ee,ke,"","\\@varsupsetneqq");j(V,Ee,ke,"","\\nVdash",!0);j(V,Ee,ke,"","\\precneqq",!0);j(V,Ee,ke,"","\\succneqq",!0);j(V,Ee,ke,"","\\@nsubseteqq");j(V,Ee,Lt,"","\\unlhd");j(V,Ee,Lt,"","\\unrhd");j(V,Ee,ke,"","\\nleftarrow",!0);j(V,Ee,ke,"","\\nrightarrow",!0);j(V,Ee,ke,"","\\nLeftarrow",!0);j(V,Ee,ke,"","\\nRightarrow",!0);j(V,Ee,ke,"","\\nleftrightarrow",!0);j(V,Ee,ke,"","\\nLeftrightarrow",!0);j(V,Ee,ke,"","\\vartriangle");j(V,Ee,Le,"","\\hslash");j(V,Ee,Le,"","\\triangledown");j(V,Ee,Le,"","\\lozenge");j(V,Ee,Le,"","\\circledS");j(V,Ee,Le,"","\\circledR");j(ft,Ee,Le,"","\\circledR");j(V,Ee,Le,"","\\measuredangle",!0);j(V,Ee,Le,"","\\nexists");j(V,Ee,Le,"","\\mho");j(V,Ee,Le,"","\\Finv",!0);j(V,Ee,Le,"","\\Game",!0);j(V,Ee,Le,"","\\backprime");j(V,Ee,Le,"","\\blacktriangle");j(V,Ee,Le,"","\\blacktriangledown");j(V,Ee,Le,"","\\blacksquare");j(V,Ee,Le,"","\\blacklozenge");j(V,Ee,Le,"","\\bigstar");j(V,Ee,Le,"","\\sphericalangle",!0);j(V,Ee,Le,"","\\complement",!0);j(V,Ee,Le,"","\\eth",!0);j(ft,Q,Le,"","");j(V,Ee,Le,"","\\diagup");j(V,Ee,Le,"","\\diagdown");j(V,Ee,Le,"","\\square");j(V,Ee,Le,"","\\Box");j(V,Ee,Le,"","\\Diamond");j(V,Ee,Le,"","\\yen",!0);j(ft,Ee,Le,"","\\yen",!0);j(V,Ee,Le,"","\\checkmark",!0);j(ft,Ee,Le,"","\\checkmark");j(V,Ee,Le,"","\\beth",!0);j(V,Ee,Le,"","\\daleth",!0);j(V,Ee,Le,"","\\gimel",!0);j(V,Ee,Le,"","\\digamma",!0);j(V,Ee,Le,"","\\varkappa");j(V,Ee,Gi,"","\\@ulcorner",!0);j(V,Ee,oi,"","\\@urcorner",!0);j(V,Ee,Gi,"","\\@llcorner",!0);j(V,Ee,oi,"","\\@lrcorner",!0);j(V,Ee,ke,"","\\leqq",!0);j(V,Ee,ke,"","\\leqslant",!0);j(V,Ee,ke,"","\\eqslantless",!0);j(V,Ee,ke,"","\\lesssim",!0);j(V,Ee,ke,"","\\lessapprox",!0);j(V,Ee,ke,"","\\approxeq",!0);j(V,Ee,Lt,"","\\lessdot");j(V,Ee,ke,"","\\lll",!0);j(V,Ee,ke,"","\\lessgtr",!0);j(V,Ee,ke,"","\\lesseqgtr",!0);j(V,Ee,ke,"","\\lesseqqgtr",!0);j(V,Ee,ke,"","\\doteqdot");j(V,Ee,ke,"","\\risingdotseq",!0);j(V,Ee,ke,"","\\fallingdotseq",!0);j(V,Ee,ke,"","\\backsim",!0);j(V,Ee,ke,"","\\backsimeq",!0);j(V,Ee,ke,"","\\subseteqq",!0);j(V,Ee,ke,"","\\Subset",!0);j(V,Ee,ke,"","\\sqsubset",!0);j(V,Ee,ke,"","\\preccurlyeq",!0);j(V,Ee,ke,"","\\curlyeqprec",!0);j(V,Ee,ke,"","\\precsim",!0);j(V,Ee,ke,"","\\precapprox",!0);j(V,Ee,ke,"","\\vartriangleleft");j(V,Ee,ke,"","\\trianglelefteq");j(V,Ee,ke,"","\\vDash",!0);j(V,Ee,ke,"","\\Vvdash",!0);j(V,Ee,ke,"","\\smallsmile");j(V,Ee,ke,"","\\smallfrown");j(V,Ee,ke,"","\\bumpeq",!0);j(V,Ee,ke,"","\\Bumpeq",!0);j(V,Ee,ke,"","\\geqq",!0);j(V,Ee,ke,"","\\geqslant",!0);j(V,Ee,ke,"","\\eqslantgtr",!0);j(V,Ee,ke,"","\\gtrsim",!0);j(V,Ee,ke,"","\\gtrapprox",!0);j(V,Ee,Lt,"","\\gtrdot");j(V,Ee,ke,"","\\ggg",!0);j(V,Ee,ke,"","\\gtrless",!0);j(V,Ee,ke,"","\\gtreqless",!0);j(V,Ee,ke,"","\\gtreqqless",!0);j(V,Ee,ke,"","\\eqcirc",!0);j(V,Ee,ke,"","\\circeq",!0);j(V,Ee,ke,"","\\triangleq",!0);j(V,Ee,ke,"","\\thicksim");j(V,Ee,ke,"","\\thickapprox");j(V,Ee,ke,"","\\supseteqq",!0);j(V,Ee,ke,"","\\Supset",!0);j(V,Ee,ke,"","\\sqsupset",!0);j(V,Ee,ke,"","\\succcurlyeq",!0);j(V,Ee,ke,"","\\curlyeqsucc",!0);j(V,Ee,ke,"","\\succsim",!0);j(V,Ee,ke,"","\\succapprox",!0);j(V,Ee,ke,"","\\vartriangleright");j(V,Ee,ke,"","\\trianglerighteq");j(V,Ee,ke,"","\\Vdash",!0);j(V,Ee,ke,"","\\shortmid");j(V,Ee,ke,"","\\shortparallel");j(V,Ee,ke,"","\\between",!0);j(V,Ee,ke,"","\\pitchfork",!0);j(V,Ee,ke,"","\\varpropto");j(V,Ee,ke,"","\\blacktriangleleft");j(V,Ee,ke,"","\\therefore",!0);j(V,Ee,ke,"","\\backepsilon");j(V,Ee,ke,"","\\blacktriangleright");j(V,Ee,ke,"","\\because",!0);j(V,Ee,ke,"","\\llless");j(V,Ee,ke,"","\\gggtr");j(V,Ee,Lt,"","\\lhd");j(V,Ee,Lt,"","\\rhd");j(V,Ee,ke,"","\\eqsim",!0);j(V,Q,ke,"","\\Join");j(V,Ee,ke,"","\\Doteq",!0);j(V,Ee,Lt,"","\\dotplus",!0);j(V,Ee,Lt,"","\\smallsetminus");j(V,Ee,Lt,"","\\Cap",!0);j(V,Ee,Lt,"","\\Cup",!0);j(V,Ee,Lt,"","\\doublebarwedge",!0);j(V,Ee,Lt,"","\\boxminus",!0);j(V,Ee,Lt,"","\\boxplus",!0);j(V,Ee,Lt,"","\\divideontimes",!0);j(V,Ee,Lt,"","\\ltimes",!0);j(V,Ee,Lt,"","\\rtimes",!0);j(V,Ee,Lt,"","\\leftthreetimes",!0);j(V,Ee,Lt,"","\\rightthreetimes",!0);j(V,Ee,Lt,"","\\curlywedge",!0);j(V,Ee,Lt,"","\\curlyvee",!0);j(V,Ee,Lt,"","\\circleddash",!0);j(V,Ee,Lt,"","\\circledast",!0);j(V,Ee,Lt,"","\\centerdot");j(V,Ee,Lt,"","\\intercal",!0);j(V,Ee,Lt,"","\\doublecap");j(V,Ee,Lt,"","\\doublecup");j(V,Ee,Lt,"","\\boxtimes",!0);j(V,Ee,ke,"","\\dashrightarrow",!0);j(V,Ee,ke,"","\\dashleftarrow",!0);j(V,Ee,ke,"","\\leftleftarrows",!0);j(V,Ee,ke,"","\\leftrightarrows",!0);j(V,Ee,ke,"","\\Lleftarrow",!0);j(V,Ee,ke,"","\\twoheadleftarrow",!0);j(V,Ee,ke,"","\\leftarrowtail",!0);j(V,Ee,ke,"","\\looparrowleft",!0);j(V,Ee,ke,"","\\leftrightharpoons",!0);j(V,Ee,ke,"","\\curvearrowleft",!0);j(V,Ee,ke,"","\\circlearrowleft",!0);j(V,Ee,ke,"","\\Lsh",!0);j(V,Ee,ke,"","\\upuparrows",!0);j(V,Ee,ke,"","\\upharpoonleft",!0);j(V,Ee,ke,"","\\downharpoonleft",!0);j(V,Q,ke,"","\\origof",!0);j(V,Q,ke,"","\\imageof",!0);j(V,Ee,ke,"","\\multimap",!0);j(V,Ee,ke,"","\\leftrightsquigarrow",!0);j(V,Ee,ke,"","\\rightrightarrows",!0);j(V,Ee,ke,"","\\rightleftarrows",!0);j(V,Ee,ke,"","\\twoheadrightarrow",!0);j(V,Ee,ke,"","\\rightarrowtail",!0);j(V,Ee,ke,"","\\looparrowright",!0);j(V,Ee,ke,"","\\curvearrowright",!0);j(V,Ee,ke,"","\\circlearrowright",!0);j(V,Ee,ke,"","\\Rsh",!0);j(V,Ee,ke,"","\\downdownarrows",!0);j(V,Ee,ke,"","\\upharpoonright",!0);j(V,Ee,ke,"","\\downharpoonright",!0);j(V,Ee,ke,"","\\rightsquigarrow",!0);j(V,Ee,ke,"","\\leadsto");j(V,Ee,ke,"","\\Rrightarrow",!0);j(V,Ee,ke,"","\\restriction");j(V,Q,Le,"","`");j(V,Q,Le,"$","\\$");j(ft,Q,Le,"$","\\$");j(ft,Q,Le,"$","\\textdollar");j(V,Q,Le,"%","\\%");j(ft,Q,Le,"%","\\%");j(V,Q,Le,"_","\\_");j(ft,Q,Le,"_","\\_");j(ft,Q,Le,"_","\\textunderscore");j(V,Q,Le,"","\\angle",!0);j(V,Q,Le,"","\\infty",!0);j(V,Q,Le,"","\\prime");j(V,Q,Le,"","\\triangle");j(V,Q,Le,"","\\Gamma",!0);j(V,Q,Le,"","\\Delta",!0);j(V,Q,Le,"","\\Theta",!0);j(V,Q,Le,"","\\Lambda",!0);j(V,Q,Le,"","\\Xi",!0);j(V,Q,Le,"","\\Pi",!0);j(V,Q,Le,"","\\Sigma",!0);j(V,Q,Le,"","\\Upsilon",!0);j(V,Q,Le,"","\\Phi",!0);j(V,Q,Le,"","\\Psi",!0);j(V,Q,Le,"","\\Omega",!0);j(V,Q,Le,"A","");j(V,Q,Le,"B","");j(V,Q,Le,"E","");j(V,Q,Le,"Z","");j(V,Q,Le,"H","");j(V,Q,Le,"I","");j(V,Q,Le,"K","");j(V,Q,Le,"M","");j(V,Q,Le,"N","");j(V,Q,Le,"O","");j(V,Q,Le,"P","");j(V,Q,Le,"T","");j(V,Q,Le,"X","");j(V,Q,Le,"","\\neg",!0);j(V,Q,Le,"","\\lnot");j(V,Q,Le,"","\\top");j(V,Q,Le,"","\\bot");j(V,Q,Le,"","\\emptyset");j(V,Ee,Le,"","\\varnothing");j(V,Q,$t,"","\\alpha",!0);j(V,Q,$t,"","\\beta",!0);j(V,Q,$t,"","\\gamma",!0);j(V,Q,$t,"","\\delta",!0);j(V,Q,$t,"","\\epsilon",!0);j(V,Q,$t,"","\\zeta",!0);j(V,Q,$t,"","\\eta",!0);j(V,Q,$t,"","\\theta",!0);j(V,Q,$t,"","\\iota",!0);j(V,Q,$t,"","\\kappa",!0);j(V,Q,$t,"","\\lambda",!0);j(V,Q,$t,"","\\mu",!0);j(V,Q,$t,"","\\nu",!0);j(V,Q,$t,"","\\xi",!0);j(V,Q,$t,"","\\omicron",!0);j(V,Q,$t,"","\\pi",!0);j(V,Q,$t,"","\\rho",!0);j(V,Q,$t,"","\\sigma",!0);j(V,Q,$t,"","\\tau",!0);j(V,Q,$t,"","\\upsilon",!0);j(V,Q,$t,"","\\phi",!0);j(V,Q,$t,"","\\chi",!0);j(V,Q,$t,"","\\psi",!0);j(V,Q,$t,"","\\omega",!0);j(V,Q,$t,"","\\varepsilon",!0);j(V,Q,$t,"","\\vartheta",!0);j(V,Q,$t,"","\\varpi",!0);j(V,Q,$t,"","\\varrho",!0);j(V,Q,$t,"","\\varsigma",!0);j(V,Q,$t,"","\\varphi",!0);j(V,Q,Lt,"","*",!0);j(V,Q,Lt,"+","+");j(V,Q,Lt,"","-",!0);j(V,Q,Lt,"","\\cdot",!0);j(V,Q,Lt,"","\\circ",!0);j(V,Q,Lt,"","\\div",!0);j(V,Q,Lt,"","\\pm",!0);j(V,Q,Lt,"","\\times",!0);j(V,Q,Lt,"","\\cap",!0);j(V,Q,Lt,"","\\cup",!0);j(V,Q,Lt,"","\\setminus",!0);j(V,Q,Lt,"","\\land");j(V,Q,Lt,"","\\lor");j(V,Q,Lt,"","\\wedge",!0);j(V,Q,Lt,"","\\vee",!0);j(V,Q,Le,"","\\surd");j(V,Q,Gi,"","\\langle",!0);j(V,Q,Gi,"","\\lvert");j(V,Q,Gi,"","\\lVert");j(V,Q,oi,"?","?");j(V,Q,oi,"!","!");j(V,Q,oi,"","\\rangle",!0);j(V,Q,oi,"","\\rvert");j(V,Q,oi,"","\\rVert");j(V,Q,ke,"=","=");j(V,Q,ke,":",":");j(V,Q,ke,"","\\approx",!0);j(V,Q,ke,"","\\cong",!0);j(V,Q,ke,"","\\ge");j(V,Q,ke,"","\\geq",!0);j(V,Q,ke,"","\\gets");j(V,Q,ke,">","\\gt",!0);j(V,Q,ke,"","\\in",!0);j(V,Q,ke,"","\\@not");j(V,Q,ke,"","\\subset",!0);j(V,Q,ke,"","\\supset",!0);j(V,Q,ke,"","\\subseteq",!0);j(V,Q,ke,"","\\supseteq",!0);j(V,Ee,ke,"","\\nsubseteq",!0);j(V,Ee,ke,"","\\nsupseteq",!0);j(V,Q,ke,"","\\models");j(V,Q,ke,"","\\leftarrow",!0);j(V,Q,ke,"","\\le");j(V,Q,ke,"","\\leq",!0);j(V,Q,ke,"<","\\lt",!0);j(V,Q,ke,"","\\rightarrow",!0);j(V,Q,ke,"","\\to");j(V,Ee,ke,"","\\ngeq",!0);j(V,Ee,ke,"","\\nleq",!0);j(V,Q,so,"","\\ ");j(V,Q,so,"","\\space");j(V,Q,so,"","\\nobreakspace");j(ft,Q,so,"","\\ ");j(ft,Q,so,""," ");j(ft,Q,so,"","\\space");j(ft,Q,so,"","\\nobreakspace");j(V,Q,so,null,"\\nobreak");j(V,Q,so,null,"\\allowbreak");j(V,Q,cg,",",",");j(V,Q,cg,";",";");j(V,Ee,Lt,"","\\barwedge",!0);j(V,Ee,Lt,"","\\veebar",!0);j(V,Q,Lt,"","\\odot",!0);j(V,Q,Lt,"","\\oplus",!0);j(V,Q,Lt,"","\\otimes",!0);j(V,Q,Le,"","\\partial",!0);j(V,Q,Lt,"","\\oslash",!0);j(V,Ee,Lt,"","\\circledcirc",!0);j(V,Ee,Lt,"","\\boxdot",!0);j(V,Q,Lt,"","\\bigtriangleup");j(V,Q,Lt,"","\\bigtriangledown");j(V,Q,Lt,"","\\dagger");j(V,Q,Lt,"","\\diamond");j(V,Q,Lt,"","\\star");j(V,Q,Lt,"","\\triangleleft");j(V,Q,Lt,"","\\triangleright");j(V,Q,Gi,"{","\\{");j(ft,Q,Le,"{","\\{");j(ft,Q,Le,"{","\\textbraceleft");j(V,Q,oi,"}","\\}");j(ft,Q,Le,"}","\\}");j(ft,Q,Le,"}","\\textbraceright");j(V,Q,Gi,"{","\\lbrace");j(V,Q,oi,"}","\\rbrace");j(V,Q,Gi,"[","\\lbrack",!0);j(ft,Q,Le,"[","\\lbrack",!0);j(V,Q,oi,"]","\\rbrack",!0);j(ft,Q,Le,"]","\\rbrack",!0);j(V,Q,Gi,"(","\\lparen",!0);j(V,Q,oi,")","\\rparen",!0);j(ft,Q,Le,"<","\\textless",!0);j(ft,Q,Le,">","\\textgreater",!0);j(V,Q,Gi,"","\\lfloor",!0);j(V,Q,oi,"","\\rfloor",!0);j(V,Q,Gi,"","\\lceil",!0);j(V,Q,oi,"","\\rceil",!0);j(V,Q,Le,"\\","\\backslash");j(V,Q,Le,"","|");j(V,Q,Le,"","\\vert");j(ft,Q,Le,"|","\\textbar",!0);j(V,Q,Le,"","\\|");j(V,Q,Le,"","\\Vert");j(ft,Q,Le,"","\\textbardbl");j(ft,Q,Le,"~","\\textasciitilde");j(ft,Q,Le,"\\","\\textbackslash");j(ft,Q,Le,"^","\\textasciicircum");j(V,Q,ke,"","\\uparrow",!0);j(V,Q,ke,"","\\Uparrow",!0);j(V,Q,ke,"","\\downarrow",!0);j(V,Q,ke,"","\\Downarrow",!0);j(V,Q,ke,"","\\updownarrow",!0);j(V,Q,ke,"","\\Updownarrow",!0);j(V,Q,wn,"","\\coprod");j(V,Q,wn,"","\\bigvee");j(V,Q,wn,"","\\bigwedge");j(V,Q,wn,"","\\biguplus");j(V,Q,wn,"","\\bigcap");j(V,Q,wn,"","\\bigcup");j(V,Q,wn,"","\\int");j(V,Q,wn,"","\\intop");j(V,Q,wn,"","\\iint");j(V,Q,wn,"","\\iiint");j(V,Q,wn,"","\\prod");j(V,Q,wn,"","\\sum");j(V,Q,wn,"","\\bigotimes");j(V,Q,wn,"","\\bigoplus");j(V,Q,wn,"","\\bigodot");j(V,Q,wn,"","\\oint");j(V,Q,wn,"","\\oiint");j(V,Q,wn,"","\\oiiint");j(V,Q,wn,"","\\bigsqcup");j(V,Q,wn,"","\\smallint");j(ft,Q,oc,"","\\textellipsis");j(V,Q,oc,"","\\mathellipsis");j(ft,Q,oc,"","\\ldots",!0);j(V,Q,oc,"","\\ldots",!0);j(V,Q,oc,"","\\@cdots",!0);j(V,Q,oc,"","\\ddots",!0);j(V,Q,Le,"","\\varvdots");j(ft,Q,Le,"","\\varvdots");j(V,Q,Yr,"","\\acute");j(V,Q,Yr,"","\\grave");j(V,Q,Yr,"","\\ddot");j(V,Q,Yr,"~","\\tilde");j(V,Q,Yr,"","\\bar");j(V,Q,Yr,"","\\breve");j(V,Q,Yr,"","\\check");j(V,Q,Yr,"^","\\hat");j(V,Q,Yr,"","\\vec");j(V,Q,Yr,"","\\dot");j(V,Q,Yr,"","\\mathring");j(V,Q,$t,"","\\@imath");j(V,Q,$t,"","\\@jmath");j(V,Q,Le,"","");j(V,Q,Le,"","");j(ft,Q,Le,"","\\i",!0);j(ft,Q,Le,"","\\j",!0);j(ft,Q,Le,"","\\ss",!0);j(ft,Q,Le,"","\\ae",!0);j(ft,Q,Le,"","\\oe",!0);j(ft,Q,Le,"","\\o",!0);j(ft,Q,Le,"","\\AE",!0);j(ft,Q,Le,"","\\OE",!0);j(ft,Q,Le,"","\\O",!0);j(ft,Q,Yr,"","\\'");j(ft,Q,Yr,"","\\`");j(ft,Q,Yr,"","\\^");j(ft,Q,Yr,"","\\~");j(ft,Q,Yr,"","\\=");j(ft,Q,Yr,"","\\u");j(ft,Q,Yr,"","\\.");j(ft,Q,Yr,"","\\c");j(ft,Q,Yr,"","\\r");j(ft,Q,Yr,"","\\v");j(ft,Q,Yr,"",'\\"');j(ft,Q,Yr,"","\\H");j(ft,Q,Yr,"","\\textcircled");var $L={"--":!0,"---":!0,"``":!0,"''":!0};j(ft,Q,Le,"","--",!0);j(ft,Q,Le,"","\\textendash");j(ft,Q,Le,"","---",!0);j(ft,Q,Le,"","\\textemdash");j(ft,Q,Le,"","`",!0);j(ft,Q,Le,"","\\textquoteleft");j(ft,Q,Le,"","'",!0);j(ft,Q,Le,"","\\textquoteright");j(ft,Q,Le,"","``",!0);j(ft,Q,Le,"","\\textquotedblleft");j(ft,Q,Le,"","''",!0);j(ft,Q,Le,"","\\textquotedblright");j(V,Q,Le,"","\\degree",!0);j(ft,Q,Le,"","\\degree");j(ft,Q,Le,"","\\textdegree",!0);j(V,Q,Le,"","\\pounds");j(V,Q,Le,"","\\mathsterling",!0);j(ft,Q,Le,"","\\pounds");j(ft,Q,Le,"","\\textsterling",!0);j(V,Ee,Le,"","\\maltese");j(ft,Ee,Le,"","\\maltese");var SS='0123456789/@."';for(var Vb=0;Vb<SS.length;Vb++){var kS=SS.charAt(Vb);j(V,Q,Le,kS,kS)}var AS='0123456789!@*()-=+";:?/.,';for(var Yb=0;Yb<AS.length;Yb++){var TS=AS.charAt(Yb);j(ft,Q,Le,TS,TS)}var Ep="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Zb=0;Zb<Ep.length;Zb++){var Ff=Ep.charAt(Zb);j(V,Q,$t,Ff,Ff),j(ft,Q,Le,Ff,Ff)}j(V,Ee,Le,"C","");j(ft,Ee,Le,"C","");j(V,Ee,Le,"H","");j(ft,Ee,Le,"H","");j(V,Ee,Le,"N","");j(ft,Ee,Le,"N","");j(V,Ee,Le,"P","");j(ft,Ee,Le,"P","");j(V,Ee,Le,"Q","");j(ft,Ee,Le,"Q","");j(V,Ee,Le,"R","");j(ft,Ee,Le,"R","");j(V,Ee,Le,"Z","");j(ft,Ee,Le,"Z","");j(V,Q,$t,"h","");j(ft,Q,$t,"h","");var Kt="";for(var Qn=0;Qn<Ep.length;Qn++){var tn=Ep.charAt(Qn);Kt=String.fromCharCode(55349,56320+Qn),j(V,Q,$t,tn,Kt),j(ft,Q,Le,tn,Kt),Kt=String.fromCharCode(55349,56372+Qn),j(V,Q,$t,tn,Kt),j(ft,Q,Le,tn,Kt),Kt=String.fromCharCode(55349,56424+Qn),j(V,Q,$t,tn,Kt),j(ft,Q,Le,tn,Kt),Kt=String.fromCharCode(55349,56580+Qn),j(V,Q,$t,tn,Kt),j(ft,Q,Le,tn,Kt),Kt=String.fromCharCode(55349,56684+Qn),j(V,Q,$t,tn,Kt),j(ft,Q,Le,tn,Kt),Kt=String.fromCharCode(55349,56736+Qn),j(V,Q,$t,tn,Kt),j(ft,Q,Le,tn,Kt),Kt=String.fromCharCode(55349,56788+Qn),j(V,Q,$t,tn,Kt),j(ft,Q,Le,tn,Kt),Kt=String.fromCharCode(55349,56840+Qn),j(V,Q,$t,tn,Kt),j(ft,Q,Le,tn,Kt),Kt=String.fromCharCode(55349,56944+Qn),j(V,Q,$t,tn,Kt),j(ft,Q,Le,tn,Kt),Qn<26&&(Kt=String.fromCharCode(55349,56632+Qn),j(V,Q,$t,tn,Kt),j(ft,Q,Le,tn,Kt),Kt=String.fromCharCode(55349,56476+Qn),j(V,Q,$t,tn,Kt),j(ft,Q,Le,tn,Kt))}Kt="";j(V,Q,$t,"k",Kt);j(ft,Q,Le,"k",Kt);for(var nl=0;nl<10;nl++){var go=nl.toString();Kt=String.fromCharCode(55349,57294+nl),j(V,Q,$t,go,Kt),j(ft,Q,Le,go,Kt),Kt=String.fromCharCode(55349,57314+nl),j(V,Q,$t,go,Kt),j(ft,Q,Le,go,Kt),Kt=String.fromCharCode(55349,57324+nl),j(V,Q,$t,go,Kt),j(ft,Q,Le,go,Kt),Kt=String.fromCharCode(55349,57334+nl),j(V,Q,$t,go,Kt),j(ft,Q,Le,go,Kt)}var W1="";for(var $b=0;$b<W1.length;$b++){var Uf=W1.charAt($b);j(V,Q,$t,Uf,Uf),j(ft,Q,Le,Uf,Uf)}var Hf=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],NS=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Zce=a(function(t,r){var n=t.charCodeAt(0),i=t.charCodeAt(1),s=(n-55296)*1024+(i-56320)+65536,o=r==="math"?0:1;if(119808<=s&&s<120484){var l=Math.floor((s-119808)/26);return[Hf[l][2],Hf[l][o]]}else if(120782<=s&&s<=120831){var u=Math.floor((s-120782)/10);return[NS[u][2],NS[u][o]]}else{if(s===120485||s===120486)return[Hf[0][2],Hf[0][o]];if(120486<s&&s<120782)return["",""];throw new yt("Unsupported character: "+t)}},"wideCharacterFont2"),dg=a(function(t,r,n){return jr[n][t]&&jr[n][t].replace&&(t=jr[n][t].replace),{value:t,metrics:s3(t,r,n)}},"lookupSymbol2"),ga=a(function(t,r,n,i,s){var o=dg(t,r,n),l=o.metrics;t=o.value;var u;if(l){var c=l.italic;(n==="text"||i&&i.font==="mathit")&&(c=0),u=new na(t,l.height,l.depth,c,l.skew,l.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+r+"' and mode '"+n+"'")),u=new na(t,0,0,0,0,0,s);if(i){u.maxFontSize=i.sizeMultiplier,i.style.isTight()&&u.classes.push("mtight");var h=i.getColor();h&&(u.style.color=h)}return u},"makeSymbol2"),$ce=a(function(t,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&dg(t,"Main-Bold",r).metrics?ga(t,"Main-Bold",r,n,i.concat(["mathbf"])):t==="\\"||jr[r][t].font==="main"?ga(t,"Main-Regular",r,n,i):ga(t,"AMS-Regular",r,n,i.concat(["amsrm"]))},"mathsym2"),Xce=a(function(t,r,n,i,s){return s!=="textord"&&dg(t,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol2"),Jce=a(function(t,r,n){var i=t.mode,s=t.text,o=["mord"],l=i==="math"||i==="text"&&r.font,u=l?r.font:r.fontFamily,c="",h="";if(s.charCodeAt(0)===55349&&([c,h]=Zce(s,i)),c.length>0)return ga(s,c,i,r,o.concat(h));if(u){var d,g;if(u==="boldsymbol"){var m=Xce(s,i,r,o,n);d=m.fontName,g=[m.fontClass]}else l?(d=KL[u].fontName,g=[u]):(d=Gf(u,r.fontWeight,r.fontShape),g=[u,r.fontWeight,r.fontShape]);if(dg(s,d,i).metrics)return ga(s,d,i,r,o.concat(g));if($L.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var y=[],x=0;x<s.length;x++)y.push(ga(s[x],d,i,r,o.concat(g)));return JL(y)}}if(n==="mathord")return ga(s,"Math-Italic",i,r,o.concat(["mathnormal"]));if(n==="textord"){var A=jr[i][s]&&jr[i][s].font;if(A==="ams"){var C=Gf("amsrm",r.fontWeight,r.fontShape);return ga(s,C,i,r,o.concat("amsrm",r.fontWeight,r.fontShape))}else if(A==="main"||!A){var M=Gf("textrm",r.fontWeight,r.fontShape);return ga(s,M,i,r,o.concat(r.fontWeight,r.fontShape))}else{var R=Gf(A,r.fontWeight,r.fontShape);return ga(s,R,i,r,o.concat(R,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},"makeOrd2"),Kce=a((e,t)=>{if(Do(e.classes)!==Do(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},"canCombine"),Wce=a(e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof na&&n instanceof na&&Kce(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},"tryCombineChars"),l3=a(function(t){for(var r=0,n=0,i=0,s=0;s<t.children.length;s++){var o=t.children[s];o.height>r&&(r=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}t.height=r,t.depth=n,t.maxFontSize=i},"sizeElementFromChildren2"),fi=a(function(t,r,n,i){var s=new Jh(t,r,n,i);return l3(s),s},"makeSpan"),XL=a((e,t,r,n)=>new Jh(e,t,r,n),"makeSvgSpan"),Qce=a(function(t,r,n){var i=fi([t],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=At(i.height),i.maxFontSize=1,i},"makeLineSpan2"),qce=a(function(t,r,n,i){var s=new o3(t,r,n,i);return l3(s),s},"makeAnchor2"),JL=a(function(t){var r=new Xh(t);return l3(r),r},"makeFragment2"),ede=a(function(t,r){return t instanceof Xh?fi([],[t],r):t},"wrapFragment2"),tde=a(function(t){if(t.positionType==="individualShift"){for(var r=t.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,s=i,o=1;o<r.length;o++){var l=-r[o].shift-s-r[o].elem.depth,u=l-(r[o-1].elem.height+r[o-1].elem.depth);s=s+l,n.push({type:"kern",size:u}),n.push(r[o])}return{children:n,depth:i}}var c;if(t.positionType==="top"){for(var h=t.positionData,d=0;d<t.children.length;d++){var g=t.children[d];h-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}c=h}else if(t.positionType==="bottom")c=-t.positionData;else{var m=t.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")c=-m.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")c=-m.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:c}},"getVListChildrenAndDepth2"),rde=a(function(t,r){for(var{children:n,depth:i}=tde(t),s=0,o=0;o<n.length;o++){var l=n[o];if(l.type==="elem"){var u=l.elem;s=Math.max(s,u.maxFontSize,u.height)}}s+=2;var c=fi(["pstrut"],[]);c.style.height=At(s);for(var h=[],d=i,g=i,m=i,y=0;y<n.length;y++){var x=n[y];if(x.type==="kern")m+=x.size;else{var A=x.elem,C=x.wrapperClasses||[],M=x.wrapperStyle||{},R=fi(C,[c,A],void 0,M);R.style.top=At(-s-m-A.depth),x.marginLeft&&(R.style.marginLeft=x.marginLeft),x.marginRight&&(R.style.marginRight=x.marginRight),h.push(R),m+=A.height+A.depth}d=Math.min(d,m),g=Math.max(g,m)}var P=fi(["vlist"],h);P.style.height=At(g);var L;if(d<0){var z=fi([],[]),Z=fi(["vlist"],[z]);Z.style.height=At(-d);var Y=fi(["vlist-s"],[new na("")]);L=[fi(["vlist-r"],[P,Y]),fi(["vlist-r"],[Z])]}else L=[fi(["vlist-r"],[P])];var ae=fi(["vlist-t"],L);return L.length===2&&ae.classes.push("vlist-t2"),ae.height=g,ae.depth=-d,ae},"makeVList2"),nde=a((e,t)=>{var r=fi(["mspace"],[],t),n=en(e,t);return r.style.marginRight=At(n),r},"makeGlue"),Gf=a(function(t,r,n){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var s;return r==="textbf"&&n==="textit"?s="BoldItalic":r==="textbf"?s="Bold":r==="textit"?s="Italic":s="Regular",i+"-"+s},"retrieveTextFontName2"),KL={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},WL={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},ide=a(function(t,r){var[n,i,s]=WL[t],o=new jo(n),l=new qs([o],{width:At(i),height:At(s),style:"width:"+At(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),u=XL(["overlay"],[l],r);return u.height=s,u.style.height=At(s),u.style.width=At(i),u},"staticSvg2"),Xe={fontMap:KL,makeSymbol:ga,mathsym:$ce,makeSpan:fi,makeSvgSpan:XL,makeLineSpan:Qce,makeAnchor:qce,makeFragment:JL,wrapFragment:ede,makeVList:rde,makeOrd:Jce,makeGlue:nde,staticSvg:ide,svgData:WL,tryCombineChars:Wce},Qr={number:3,unit:"mu"},il={number:4,unit:"mu"},Cs={number:5,unit:"mu"},ade={mord:{mop:Qr,mbin:il,mrel:Cs,minner:Qr},mop:{mord:Qr,mop:Qr,mrel:Cs,minner:Qr},mbin:{mord:il,mop:il,mopen:il,minner:il},mrel:{mord:Cs,mop:Cs,mopen:Cs,minner:Cs},mopen:{},mclose:{mop:Qr,mbin:il,mrel:Cs,minner:Qr},mpunct:{mord:Qr,mop:Qr,mrel:Cs,mopen:Qr,mclose:Qr,mpunct:Qr,minner:Qr},minner:{mord:Qr,mop:Qr,mbin:il,mrel:Cs,mopen:Qr,mpunct:Qr,minner:Qr}},sde={mord:{mop:Qr},mop:{mord:Qr,mop:Qr},mbin:{},mrel:{},mopen:{},mclose:{mop:Qr},mpunct:{},minner:{mop:Qr}},QL={},Sp={},kp={};function Mt(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:o}=e,l={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},u=0;u<r.length;++u)QL[r[u]]=l;t&&(s&&(Sp[t]=s),o&&(kp[t]=o))}a(Mt,"defineFunction");function Wl(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;Mt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}a(Wl,"defineFunctionBuilders");var Ap=a(function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},"normalizeArgument2"),cn=a(function(t){return t.type==="ordgroup"?t.body:[t]},"ordargument2"),eo=Xe.makeSpan,ode=["leftmost","mbin","mopen","mrel","mop","mpunct"],lde=["rightmost","mrel","mclose","mpunct"],ude={display:Xt.DISPLAY,text:Xt.TEXT,script:Xt.SCRIPT,scriptscript:Xt.SCRIPTSCRIPT},cde={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},kn=a(function(t,r,n,i){i===void 0&&(i=[null,null]);for(var s=[],o=0;o<t.length;o++){var l=br(t[o],r);if(l instanceof Xh){var u=l.children;s.push(...u)}else s.push(l)}if(Xe.tryCombineChars(s),!n)return s;var c=r;if(t.length===1){var h=t[0];h.type==="sizing"?c=r.havingSize(h.size):h.type==="styling"&&(c=r.havingStyle(ude[h.style]))}var d=eo([i[0]||"leftmost"],[],r),g=eo([i[1]||"rightmost"],[],r),m=n==="root";return CS(s,(y,x)=>{var A=x.classes[0],C=y.classes[0];A==="mbin"&&lde.includes(C)?x.classes[0]="mord":C==="mbin"&&ode.includes(A)&&(y.classes[0]="mord")},{node:d},g,m),CS(s,(y,x)=>{var A=Q1(x),C=Q1(y),M=A&&C?y.hasClass("mtight")?sde[A][C]:ade[A][C]:null;if(M)return Xe.makeGlue(M,c)},{node:d},g,m),s},"buildExpression"),CS=a(function e(t,r,n,i,s){i&&t.push(i);for(var o=0;o<t.length;o++){var l=t[o],u=qL(l);if(u){e(u.children,r,n,null,s);continue}var c=!l.hasClass("mspace");if(c){var h=r(l,n.node);h&&(n.insertAfter?n.insertAfter(h):(t.unshift(h),o++))}c?n.node=l:s&&l.hasClass("newline")&&(n.node=eo(["leftmost"])),n.insertAfter=(d=>g=>{t.splice(d+1,0,g),o++})(o)}i&&t.pop()},"traverseNonSpaceNodes2"),qL=a(function(t){return t instanceof Xh||t instanceof o3||t instanceof Jh&&t.hasClass("enclosing")?t:null},"checkPartialGroup2"),dde=a(function e(t,r){var n=qL(t);if(n){var i=n.children;if(i.length){if(r==="right")return e(i[i.length-1],"right");if(r==="left")return e(i[0],"left")}}return t},"getOutermostNode2"),Q1=a(function(t,r){return t?(r&&(t=dde(t,r)),cde[t.classes[0]]||null):null},"getTypeOfDomTree2"),fh=a(function(t,r){var n=["nulldelimiter"].concat(t.baseSizingClasses());return eo(r.concat(n))},"makeNullDelimiter2"),br=a(function(t,r,n){if(!t)return eo();if(Sp[t.type]){var i=Sp[t.type](t,r);if(n&&r.size!==n.size){i=eo(r.sizingClasses(n),[i],r);var s=r.sizeMultiplier/n.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new yt("Got group of unknown type: '"+t.type+"'")},"buildGroup");function Vf(e,t){var r=eo(["base"],e,t),n=eo(["strut"]);return n.style.height=At(r.height+r.depth),r.depth&&(n.style.verticalAlign=At(-r.depth)),r.children.unshift(n),r}a(Vf,"buildHTMLUnbreakable");function q1(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=kn(e,t,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var s=[],o=[],l=0;l<n.length;l++)if(o.push(n[l]),n[l].hasClass("mbin")||n[l].hasClass("mrel")||n[l].hasClass("allowbreak")){for(var u=!1;l<n.length-1&&n[l+1].hasClass("mspace")&&!n[l+1].hasClass("newline");)l++,o.push(n[l]),n[l].hasClass("nobreak")&&(u=!0);u||(s.push(Vf(o,t)),o=[])}else n[l].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(Vf(o,t)),o=[]),s.push(n[l]));o.length>0&&s.push(Vf(o,t));var c;r?(c=Vf(kn(r,t,!0)),c.classes=["tag"],s.push(c)):i&&s.push(i);var h=eo(["katex-html"],s);if(h.setAttribute("aria-hidden","true"),c){var d=c.children[0];d.style.height=At(h.height+h.depth),h.depth&&(d.style.verticalAlign=At(-h.depth))}return h}a(q1,"buildHTML");function eD(e){return new Xh(e)}a(eD,"newDocumentFragment");class Ri{static{a(this,"MathNode")}constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=Do(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof qa&&this.children[n+1]instanceof qa){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof qa;)i+=this.children[++n].toText();t.appendChild(new qa(i).toNode())}else t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=_r.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+_r.escape(Do(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class qa{static{a(this,"TextNode")}constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return _r.escape(this.toText())}toText(){return this.text}}class hde{static{a(this,"SpaceNode")}constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",At(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+At(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var vt={MathNode:Ri,TextNode:qa,SpaceNode:hde,newDocumentFragment:eD},ia=a(function(t,r,n){return jr[r][t]&&jr[r][t].replace&&t.charCodeAt(0)!==55349&&!($L.hasOwnProperty(t)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(t=jr[r][t].replace),new vt.TextNode(t)},"makeText2"),u3=a(function(t){return t.length===1?t[0]:new vt.MathNode("mrow",t)},"makeRow2"),c3=a(function(t,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=t.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var s=t.text;if(["\\imath","\\jmath"].includes(s))return null;jr[i][s]&&jr[i][s].replace&&(s=jr[i][s].replace);var o=Xe.fontMap[n].fontName;return s3(s,o,i)?Xe.fontMap[n].variant:null},"getVariant2");function Xb(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof qa&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof qa&&r.text===","}else return!1}a(Xb,"isNumberPunctuation");var Ei=a(function(t,r,n){if(t.length===1){var i=Rr(t[0],r);return n&&i instanceof Ri&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],o,l=0;l<t.length;l++){var u=Rr(t[l],r);if(u instanceof Ri&&o instanceof Ri){if(u.type==="mtext"&&o.type==="mtext"&&u.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...u.children);continue}else if(u.type==="mn"&&o.type==="mn"){o.children.push(...u.children);continue}else if(Xb(u)&&o.type==="mn"){o.children.push(...u.children);continue}else if(u.type==="mn"&&Xb(o))u.children=[...o.children,...u.children],s.pop();else if((u.type==="msup"||u.type==="msub")&&u.children.length>=1&&(o.type==="mn"||Xb(o))){var c=u.children[0];c instanceof Ri&&c.type==="mn"&&(c.children=[...o.children,...c.children],s.pop())}else if(o.type==="mi"&&o.children.length===1){var h=o.children[0];if(h instanceof qa&&h.text===""&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var d=u.children[0];d instanceof qa&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),s.pop())}}}s.push(u),o=u}return s},"buildExpression3"),Bo=a(function(t,r,n){return u3(Ei(t,r,n))},"buildExpressionRow2"),Rr=a(function(t,r){if(!t)return new vt.MathNode("mrow");if(kp[t.type]){var n=kp[t.type](t,r);return n}else throw new yt("Got group of unknown type: '"+t.type+"'")},"buildGroup3");function IS(e,t,r,n,i){var s=Ei(e,r),o;s.length===1&&s[0]instanceof Ri&&["mrow","mtable"].includes(s[0].type)?o=s[0]:o=new vt.MathNode("mrow",s);var l=new vt.MathNode("annotation",[new vt.TextNode(t)]);l.setAttribute("encoding","application/x-tex");var u=new vt.MathNode("semantics",[o,l]),c=new vt.MathNode("math",[u]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&c.setAttribute("display","block");var h=i?"katex":"katex-mathml";return Xe.makeSpan([h],[c])}a(IS,"buildMathML");var tD=a(function(t){return new Bs({style:t.displayMode?Xt.DISPLAY:Xt.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},"optionsFromSettings2"),rD=a(function(t,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),t=Xe.makeSpan(n,[t])}return t},"displayWrap2"),fde=a(function(t,r,n){var i=tD(n),s;if(n.output==="mathml")return IS(t,r,i,n.displayMode,!0);if(n.output==="html"){var o=q1(t,i);s=Xe.makeSpan(["katex"],[o])}else{var l=IS(t,r,i,n.displayMode,!1),u=q1(t,i);s=Xe.makeSpan(["katex"],[l,u])}return rD(s,n)},"buildTree2"),pde=a(function(t,r,n){var i=tD(n),s=q1(t,i),o=Xe.makeSpan(["katex"],[s]);return rD(o,n)},"buildHTMLTree2"),mde={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},gde=a(function(t){var r=new vt.MathNode("mo",[new vt.TextNode(mde[t.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},"mathMLnode2"),vde={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},bde=a(function(t){return t.type==="ordgroup"?t.body.length:1},"groupLength2"),yde=a(function(t,r){function n(){var l=4e5,u=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(u)){var c=t,h=bde(c.base),d,g,m;if(h>5)u==="widehat"||u==="widecheck"?(d=420,l=2364,m=.42,g=u+"4"):(d=312,l=2340,m=.34,g="tilde4");else{var y=[1,1,2,2,3,3][h];u==="widehat"||u==="widecheck"?(l=[0,1062,2364,2364,2364][y],d=[0,239,300,360,420][y],m=[0,.24,.3,.3,.36,.42][y],g=u+y):(l=[0,600,1033,2339,2340][y],d=[0,260,286,306,312][y],m=[0,.26,.286,.3,.306,.34][y],g="tilde"+y)}var x=new jo(g),A=new qs([x],{width:"100%",height:At(m),viewBox:"0 0 "+l+" "+d,preserveAspectRatio:"none"});return{span:Xe.makeSvgSpan([],[A],r),minWidth:0,height:m}}else{var C=[],M=vde[u],[R,P,L]=M,z=L/1e3,Z=R.length,Y,ae;if(Z===1){var F=M[3];Y=["hide-tail"],ae=[F]}else if(Z===2)Y=["halfarrow-left","halfarrow-right"],ae=["xMinYMin","xMaxYMin"];else if(Z===3)Y=["brace-left","brace-center","brace-right"],ae=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Z+" children.");for(var W=0;W<Z;W++){var f=new jo(R[W]),w=new qs([f],{width:"400em",height:At(z),viewBox:"0 0 "+l+" "+L,preserveAspectRatio:ae[W]+" slice"}),v=Xe.makeSvgSpan([Y[W]],[w],r);if(Z===1)return{span:v,minWidth:P,height:z};v.style.height=At(z),C.push(v)}return{span:Xe.makeSpan(["stretchy"],C,r),minWidth:P,height:z}}}a(n,"buildSvgSpan_");var{span:i,minWidth:s,height:o}=n();return i.height=o,i.style.height=At(o),s>0&&(i.style.minWidth=At(s)),i},"svgSpan2"),wde=a(function(t,r,n,i,s){var o,l=t.height+t.depth+n+i;if(/fbox|color|angl/.test(r)){if(o=Xe.makeSpan(["stretchy",r],[],s),r==="fbox"){var u=s.color&&s.getColor();u&&(o.style.borderColor=u)}}else{var c=[];/^[bx]cancel$/.test(r)&&c.push(new K1({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&c.push(new K1({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new qs(c,{width:"100%",height:At(l)});o=Xe.makeSvgSpan([],[h],s)}return o.height=l,o.style.height=At(l),o},"encloseSpan2"),to={encloseSpan:wde,mathMLnode:gde,svgSpan:yde};function ar(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}a(ar,"assertNodeType");function d3(e){var t=hg(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}a(d3,"assertSymbolNodeType");function hg(e){return e&&(e.type==="atom"||Yce.hasOwnProperty(e.type))?e:null}a(hg,"checkSymbolNodeType");var h3=a((e,t)=>{var r,n,i;e&&e.type==="supsub"?(n=ar(e.base,"accent"),r=n.base,e.base=r,i=Gce(br(e,t)),e.base=n):(n=ar(e,"accent"),r=n.base);var s=br(r,t.havingCrampedStyle()),o=n.isShifty&&_r.isCharacterBox(r),l=0;if(o){var u=_r.getBaseElem(r),c=br(u,t.havingCrampedStyle());l=ES(c).skew}var h=n.label==="\\c",d=h?s.height+s.depth:Math.min(s.height,t.fontMetrics().xHeight),g;if(n.isStretchy)g=to.svgSpan(n,t),g=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+At(2*l)+")",marginLeft:At(2*l)}:void 0}]},t);else{var m,y;n.label==="\\vec"?(m=Xe.staticSvg("vec",t),y=Xe.svgData.vec[1]):(m=Xe.makeOrd({mode:n.mode,text:n.label},t,"textord"),m=ES(m),m.italic=0,y=m.width,h&&(d+=m.depth)),g=Xe.makeSpan(["accent-body"],[m]);var x=n.label==="\\textcircled";x&&(g.classes.push("accent-full"),d=s.height);var A=l;x||(A-=y/2),g.style.left=At(A),n.label==="\\textcircled"&&(g.style.top=".2em"),g=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:g}]},t)}var C=Xe.makeSpan(["mord","accent"],[g],t);return i?(i.children[0]=C,i.height=Math.max(C.height,i.height),i.classes[0]="mord",i):C},"htmlBuilder$a"),nD=a((e,t)=>{var r=e.isStretchy?to.mathMLnode(e.label):new vt.MathNode("mo",[ia(e.label,e.mode)]),n=new vt.MathNode("mover",[Rr(e.base,t),r]);return n.setAttribute("accent","true"),n},"mathmlBuilder$9"),_de=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Mt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:a((e,t)=>{var r=Ap(t[0]),n=!_de.test(e.funcName),i=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},"handler"),htmlBuilder:h3,mathmlBuilder:nD});Mt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:a((e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},"handler"),htmlBuilder:h3,mathmlBuilder:nD});Mt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},"handler"),htmlBuilder:a((e,t)=>{var r=br(e.base,t),n=to.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,s=Xe.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return Xe.makeSpan(["mord","accentunder"],[s],t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=to.mathMLnode(e.label),n=new vt.MathNode("munder",[Rr(e.base,t),r]);return n.setAttribute("accentunder","true"),n},"mathmlBuilder")});var Yf=a(e=>{var t=new vt.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t},"paddedNode");Mt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:i}=e;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),i=Xe.wrapFragment(br(e.body,n,t),t),s=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var o;e.below&&(n=t.havingStyle(r.sub()),o=Xe.wrapFragment(br(e.below,n,t),t),o.classes.push(s+"-arrow-pad"));var l=to.svgSpan(e,t),u=-t.fontMetrics().axisHeight+.5*l.height,c=-t.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(c-=i.depth);var h;if(o){var d=-t.fontMetrics().axisHeight+o.height+.5*l.height+.111;h=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:l,shift:u},{type:"elem",elem:o,shift:d}]},t)}else h=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:l,shift:u}]},t);return h.children[0].children[0].children[1].classes.push("svg-align"),Xe.makeSpan(["mrel","x-arrow"],[h],t)},mathmlBuilder(e,t){var r=to.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var i=Yf(Rr(e.body,t));if(e.below){var s=Yf(Rr(e.below,t));n=new vt.MathNode("munderover",[r,s,i])}else n=new vt.MathNode("mover",[r,i])}else if(e.below){var o=Yf(Rr(e.below,t));n=new vt.MathNode("munder",[r,o])}else n=Yf(),n=new vt.MathNode("mover",[r,n]);return n}});var xde=Xe.makeSpan;function iD(e,t){var r=kn(e.body,t,!0);return xde([e.mclass],r,t)}a(iD,"htmlBuilder$9");function aD(e,t){var r,n=Ei(e.body,t);return e.mclass==="minner"?r=new vt.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new vt.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new vt.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}a(aD,"mathmlBuilder$8");Mt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:cn(i),isCharacterBox:_r.isCharacterBox(i)}},htmlBuilder:iD,mathmlBuilder:aD});var fg=a(e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"},"binrelClass");Mt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:fg(t[0]),body:cn(t[1]),isCharacterBox:_r.isCharacterBox(t[1])}}});Mt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,i=t[1],s=t[0],o;n!=="\\stackrel"?o=fg(i):o="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:cn(i)},u={type:"supsub",mode:s.mode,base:l,sup:n==="\\underset"?null:s,sub:n==="\\underset"?s:null};return{type:"mclass",mode:r.mode,mclass:o,body:[u],isCharacterBox:_r.isCharacterBox(u)}},htmlBuilder:iD,mathmlBuilder:aD});Mt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:fg(t[0]),body:cn(t[0])}},htmlBuilder(e,t){var r=kn(e.body,t,!0),n=Xe.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=Ei(e.body,t),n=new vt.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var Ede={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},MS=a(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),OS=a(e=>e.type==="textord"&&e.text==="@","isStartOfArrow"),Sde=a((e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t,"isLabelEnd");function kde(e,t,r){var n=Ede[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[t[0]],[]),s={type:"atom",text:n,mode:"math",family:"rel"},o=r.callFunction("\\Big",[s],[]),l=r.callFunction("\\\\cdright",[t[1]],[]),u={type:"ordgroup",mode:"math",body:[i,o,l]};return r.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}a(kde,"cdArrow");function Ade(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new yt("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],i=[n],s=0;s<t.length;s++){for(var o=t[s],l=MS(),u=0;u<o.length;u++)if(!OS(o[u]))l.body.push(o[u]);else{n.push(l),u+=1;var c=d3(o[u]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var d=0;d<2;d++){for(var g=!0,m=u+1;m<o.length;m++){if(Sde(o[m],c)){g=!1,u=m;break}if(OS(o[m]))throw new yt("Missing a "+c+" character to complete a CD arrow.",o[m]);h[d].body.push(o[m])}if(g)throw new yt("Missing a "+c+" character to complete a CD arrow.",o[u])}else throw new yt('Expected one of "<>AV=|." after @',o[u]);var y=kde(c,h,e),x={type:"styling",body:[y],mode:"math",style:"display"};n.push(x),l=MS()}s%2===0?n.push(l):n.shift(),n=[],i.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var A=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:A,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}a(Ade,"parseCD");Mt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=Xe.wrapFragment(br(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=At(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new vt.MathNode("mrow",[Rr(e.label,t)]);return r=new vt.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new vt.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Mt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=Xe.wrapFragment(br(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new vt.MathNode("mrow",[Rr(e.fragment,t)])}});Mt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=ar(t[0],"ordgroup"),i=n.body,s="",o=0;o<i.length;o++){var l=ar(i[o],"textord");s+=l.text}var u=parseInt(s),c;if(isNaN(u))throw new yt("\\@char has non-numeric argument "+s);if(u<0||u>=1114111)throw new yt("\\@char with invalid code point "+s);return u<=65535?c=String.fromCharCode(u):(u-=65536,c=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:r.mode,text:c}}});var sD=a((e,t)=>{var r=kn(e.body,t.withColor(e.color),!1);return Xe.makeFragment(r)},"htmlBuilder$8"),oD=a((e,t)=>{var r=Ei(e.body,t.withColor(e.color)),n=new vt.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n},"mathmlBuilder$7");Mt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=ar(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:cn(i)}},htmlBuilder:sD,mathmlBuilder:oD});Mt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,i=ar(t[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var s=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:s}},htmlBuilder:sD,mathmlBuilder:oD});Mt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,s=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:s,size:i&&ar(i,"size").value}},htmlBuilder(e,t){var r=Xe.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=At(en(e.size,t)))),r},mathmlBuilder(e,t){var r=new vt.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",At(en(e.size,t)))),r}});var e2={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},lD=a(e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new yt("Expected a control sequence",e);return t},"checkControlSequence"),Tde=a(e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},"getRHS"),uD=a((e,t,r,n)=>{var i=e.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,i,n)},"letCommand");Mt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(e2[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=e2[n.text]),ar(t.parseFunction(),"internal");throw new yt("Invalid token after macro prefix",n)}});Mt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new yt("Expected a control sequence",n);for(var s=0,o,l=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){o=t.gullet.future(),l[s].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new yt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new yt('Argument number "'+n.text+'" out of order');s++,l.push([])}else{if(n.text==="EOF")throw new yt("Expected a macro definition");l[s].push(n.text)}var{tokens:u}=t.gullet.consumeArg();return o&&u.unshift(o),(r==="\\edef"||r==="\\xdef")&&(u=t.gullet.expandTokens(u),u.reverse()),t.gullet.macros.set(i,{tokens:u,numArgs:s,delimiters:l},r===e2[r]),{type:"internal",mode:t.mode}}});Mt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=lD(t.gullet.popToken());t.gullet.consumeSpaces();var i=Tde(t);return uD(t,n,i,r==="\\\\globallet"),{type:"internal",mode:t.mode}}});Mt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=lD(t.gullet.popToken()),i=t.gullet.popToken(),s=t.gullet.popToken();return uD(t,n,s,r==="\\\\globalfuture"),t.gullet.pushToken(s),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var ld=a(function(t,r,n){var i=jr.math[t]&&jr.math[t].replace,s=s3(i||t,r,n);if(!s)throw new Error("Unsupported symbol "+t+" and font size "+r+".");return s},"getMetrics2"),f3=a(function(t,r,n,i){var s=n.havingBaseStyle(r),o=Xe.makeSpan(i.concat(s.sizingClasses(n)),[t],n),l=s.sizeMultiplier/n.sizeMultiplier;return o.height*=l,o.depth*=l,o.maxFontSize=s.sizeMultiplier,o},"styleWrap2"),cD=a(function(t,r,n){var i=r.havingBaseStyle(n),s=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=At(s),t.height-=s,t.depth+=s},"centerSpan2"),Nde=a(function(t,r,n,i,s,o){var l=Xe.makeSymbol(t,"Main-Regular",s,i),u=f3(l,r,i,o);return n&&cD(u,i,r),u},"makeSmallDelim2"),Cde=a(function(t,r,n,i){return Xe.makeSymbol(t,"Size"+r+"-Regular",n,i)},"mathrmSize2"),dD=a(function(t,r,n,i,s,o){var l=Cde(t,r,s,i),u=f3(Xe.makeSpan(["delimsizing","size"+r],[l],i),Xt.TEXT,i,o);return n&&cD(u,i,Xt.TEXT),u},"makeLargeDelim2"),Jb=a(function(t,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=Xe.makeSpan(["delimsizinginner",i],[Xe.makeSpan([],[Xe.makeSymbol(t,r,n)])]);return{type:"elem",elem:s}},"makeGlyphSpan2"),Kb=a(function(t,r,n){var i=Qa["Size4-Regular"][t.charCodeAt(0)]?Qa["Size4-Regular"][t.charCodeAt(0)][4]:Qa["Size1-Regular"][t.charCodeAt(0)][4],s=new jo("inner",Lce(t,Math.round(1e3*r))),o=new qs([s],{width:At(i),height:At(r),style:"width:"+At(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),l=Xe.makeSvgSpan([],[o],n);return l.height=r,l.style.height=At(r),l.style.width=At(i),{type:"elem",elem:l}},"makeInner2"),t2=.008,Zf={type:"kern",size:-1*t2},Ide=["|","\\lvert","\\rvert","\\vert"],Mde=["\\|","\\lVert","\\rVert","\\Vert"],hD=a(function(t,r,n,i,s,o){var l,u,c,h,d="",g=0;l=c=h=t,u=null;var m="Size1-Regular";t==="\\uparrow"?c=h="":t==="\\Uparrow"?c=h="":t==="\\downarrow"?l=c="":t==="\\Downarrow"?l=c="":t==="\\updownarrow"?(l="\\uparrow",c="",h="\\downarrow"):t==="\\Updownarrow"?(l="\\Uparrow",c="",h="\\Downarrow"):Ide.includes(t)?(c="",d="vert",g=333):Mde.includes(t)?(c="",d="doublevert",g=556):t==="["||t==="\\lbrack"?(l="",c="",h="",m="Size4-Regular",d="lbrack",g=667):t==="]"||t==="\\rbrack"?(l="",c="",h="",m="Size4-Regular",d="rbrack",g=667):t==="\\lfloor"||t===""?(c=l="",h="",m="Size4-Regular",d="lfloor",g=667):t==="\\lceil"||t===""?(l="",c=h="",m="Size4-Regular",d="lceil",g=667):t==="\\rfloor"||t===""?(c=l="",h="",m="Size4-Regular",d="rfloor",g=667):t==="\\rceil"||t===""?(l="",c=h="",m="Size4-Regular",d="rceil",g=667):t==="("||t==="\\lparen"?(l="",c="",h="",m="Size4-Regular",d="lparen",g=875):t===")"||t==="\\rparen"?(l="",c="",h="",m="Size4-Regular",d="rparen",g=875):t==="\\{"||t==="\\lbrace"?(l="",u="",h="",c="",m="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(l="",u="",h="",c="",m="Size4-Regular"):t==="\\lgroup"||t===""?(l="",h="",c="",m="Size4-Regular"):t==="\\rgroup"||t===""?(l="",h="",c="",m="Size4-Regular"):t==="\\lmoustache"||t===""?(l="",h="",c="",m="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(l="",h="",c="",m="Size4-Regular");var y=ld(l,m,s),x=y.height+y.depth,A=ld(c,m,s),C=A.height+A.depth,M=ld(h,m,s),R=M.height+M.depth,P=0,L=1;if(u!==null){var z=ld(u,m,s);P=z.height+z.depth,L=2}var Z=x+R+P,Y=Math.max(0,Math.ceil((r-Z)/(L*C))),ae=Z+Y*L*C,F=i.fontMetrics().axisHeight;n&&(F*=i.sizeMultiplier);var W=ae/2-F,f=[];if(d.length>0){var w=ae-x-R,v=Math.round(ae*1e3),_=Dce(d,Math.round(w*1e3)),S=new jo(d,_),T=(g/1e3).toFixed(3)+"em",N=(v/1e3).toFixed(3)+"em",k=new qs([S],{width:T,height:N,viewBox:"0 0 "+g+" "+v}),p=Xe.makeSvgSpan([],[k],i);p.height=v/1e3,p.style.width=T,p.style.height=N,f.push({type:"elem",elem:p})}else{if(f.push(Jb(h,m,s)),f.push(Zf),u===null){var E=ae-x-R+2*t2;f.push(Kb(c,E,i))}else{var I=(ae-x-R-P)/2+2*t2;f.push(Kb(c,I,i)),f.push(Zf),f.push(Jb(u,m,s)),f.push(Zf),f.push(Kb(c,I,i))}f.push(Zf),f.push(Jb(l,m,s))}var O=i.havingBaseStyle(Xt.TEXT),B=Xe.makeVList({positionType:"bottom",positionData:W,children:f},O);return f3(Xe.makeSpan(["delimsizing","mult"],[B],O),Xt.TEXT,i,o)},"makeStackedDelim2"),Wb=80,Qb=.08,qb=a(function(t,r,n,i,s){var o=Pce(t,i,n),l=new jo(t,o),u=new qs([l],{width:"400em",height:At(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Xe.makeSvgSpan(["hide-tail"],[u],s)},"sqrtSvg2"),Ode=a(function(t,r){var n=r.havingBaseSizing(),i=gD("\\surd",t*n.sizeMultiplier,mD,n),s=n.sizeMultiplier,o=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),l,u=0,c=0,h=0,d;return i.type==="small"?(h=1e3+1e3*o+Wb,t<1?s=1:t<1.4&&(s=.7),u=(1+o+Qb)/s,c=(1+o)/s,l=qb("sqrtMain",u,h,o,r),l.style.minWidth="0.853em",d=.833/s):i.type==="large"?(h=(1e3+Wb)*vd[i.size],c=(vd[i.size]+o)/s,u=(vd[i.size]+o+Qb)/s,l=qb("sqrtSize"+i.size,u,h,o,r),l.style.minWidth="1.02em",d=1/s):(u=t+o+Qb,c=t+o,h=Math.floor(1e3*t+o)+Wb,l=qb("sqrtTall",u,h,o,r),l.style.minWidth="0.742em",d=1.056),l.height=c,l.style.height=At(u),{span:l,advanceWidth:d,ruleWidth:(r.fontMetrics().sqrtRuleThickness+o)*s}},"makeSqrtImage2"),fD=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Rde=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],pD=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],vd=[0,1.2,1.8,2.4,3],Pde=a(function(t,r,n,i,s){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),fD.includes(t)||pD.includes(t))return dD(t,r,!1,n,i,s);if(Rde.includes(t))return hD(t,vd[r],!1,n,i,s);throw new yt("Illegal delimiter: '"+t+"'")},"makeSizedDelim2"),Lde=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Dde=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"stack"}],mD=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],jde=a(function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},"delimTypeToFont2"),gD=a(function(t,r,n,i){for(var s=Math.min(2,3-i.style.size),o=s;o<n.length&&n[o].type!=="stack";o++){var l=ld(t,jde(n[o]),"math"),u=l.height+l.depth;if(n[o].type==="small"){var c=i.havingBaseStyle(n[o].style);u*=c.sizeMultiplier}if(u>r)return n[o]}return n[n.length-1]},"traverseSequence2"),vD=a(function(t,r,n,i,s,o){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var l;pD.includes(t)?l=Lde:fD.includes(t)?l=mD:l=Dde;var u=gD(t,r,l,i);return u.type==="small"?Nde(t,u.style,n,i,s,o):u.type==="large"?dD(t,u.size,n,i,s,o):hD(t,r,n,i,s,o)},"makeCustomSizedDelim2"),Bde=a(function(t,r,n,i,s,o){var l=i.fontMetrics().axisHeight*i.sizeMultiplier,u=901,c=5/i.fontMetrics().ptPerEm,h=Math.max(r-l,n+l),d=Math.max(h/500*u,2*h-c);return vD(t,d,!0,i,s,o)},"makeLeftRightDelim2"),Xs={sqrtImage:Ode,sizedDelim:Pde,sizeToMaxHeight:vd,customSizedDelim:vD,leftRightDelim:Bde},RS={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},zde=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function pg(e,t){var r=hg(e);if(r&&zde.includes(r.text))return r;throw r?new yt("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new yt("Invalid delimiter type '"+e.type+"'",e)}a(pg,"checkDelimiter");Mt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:a((e,t)=>{var r=pg(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:RS[e.funcName].size,mclass:RS[e.funcName].mclass,delim:r.text}},"handler"),htmlBuilder:a((e,t)=>e.delim==="."?Xe.makeSpan([e.mclass]):Xs.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),"htmlBuilder"),mathmlBuilder:a(e=>{var t=[];e.delim!=="."&&t.push(ia(e.delim,e.mode));var r=new vt.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=At(Xs.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r},"mathmlBuilder")});function PS(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}a(PS,"assertParsed");Mt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:a((e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new yt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:pg(t[0],e).text,color:r}},"handler")});Mt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:a((e,t)=>{var r=pg(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var s=ar(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:s.delim,rightColor:s.color}},"handler"),htmlBuilder:a((e,t)=>{PS(e);for(var r=kn(e.body,t,!0,["mopen","mclose"]),n=0,i=0,s=!1,o=0;o<r.length;o++)r[o].isMiddle?s=!0:(n=Math.max(r[o].height,n),i=Math.max(r[o].depth,i));n*=t.sizeMultiplier,i*=t.sizeMultiplier;var l;if(e.left==="."?l=fh(t,["mopen"]):l=Xs.leftRightDelim(e.left,n,i,t,e.mode,["mopen"]),r.unshift(l),s)for(var u=1;u<r.length;u++){var c=r[u],h=c.isMiddle;h&&(r[u]=Xs.leftRightDelim(h.delim,n,i,h.options,e.mode,[]))}var d;if(e.right===".")d=fh(t,["mclose"]);else{var g=e.rightColor?t.withColor(e.rightColor):t;d=Xs.leftRightDelim(e.right,n,i,g,e.mode,["mclose"])}return r.push(d),Xe.makeSpan(["minner"],r,t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{PS(e);var r=Ei(e.body,t);if(e.left!=="."){var n=new vt.MathNode("mo",[ia(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var i=new vt.MathNode("mo",[ia(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),r.push(i)}return u3(r)},"mathmlBuilder")});Mt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:a((e,t)=>{var r=pg(t[0],e);if(!e.parser.leftrightDepth)throw new yt("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},"handler"),htmlBuilder:a((e,t)=>{var r;if(e.delim===".")r=fh(t,[]);else{r=Xs.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?ia("|","text"):ia(e.delim,e.mode),n=new vt.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n},"mathmlBuilder")});var p3=a((e,t)=>{var r=Xe.wrapFragment(br(e.body,t),t),n=e.label.slice(1),i=t.sizeMultiplier,s,o=0,l=_r.isCharacterBox(e.body);if(n==="sout")s=Xe.makeSpan(["stretchy","sout"]),s.height=t.fontMetrics().defaultRuleThickness/i,o=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var u=en({number:.6,unit:"pt"},t),c=en({number:.35,unit:"ex"},t),h=t.havingBaseSizing();i=i/h.sizeMultiplier;var d=r.height+r.depth+u+c;r.style.paddingLeft=At(d/2+u);var g=Math.floor(1e3*d*i),m=Oce(g),y=new qs([new jo("phase",m)],{width:"400em",height:At(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});s=Xe.makeSvgSpan(["hide-tail"],[y],t),s.style.height=At(d),o=r.depth+u+c}else{/cancel/.test(n)?l||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var x=0,A=0,C=0;/box/.test(n)?(C=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),x=t.fontMetrics().fboxsep+(n==="colorbox"?0:C),A=x):n==="angl"?(C=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),x=4*C,A=Math.max(0,.25-r.depth)):(x=l?.2:0,A=x),s=to.encloseSpan(r,n,x,A,t),/fbox|boxed|fcolorbox/.test(n)?(s.style.borderStyle="solid",s.style.borderWidth=At(C)):n==="angl"&&C!==.049&&(s.style.borderTopWidth=At(C),s.style.borderRightWidth=At(C)),o=r.depth+A,e.backgroundColor&&(s.style.backgroundColor=e.backgroundColor,e.borderColor&&(s.style.borderColor=e.borderColor))}var M;if(e.backgroundColor)M=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:r,shift:0}]},t);else{var R=/cancel|phase/.test(n)?["svg-align"]:[];M=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:R}]},t)}return/cancel/.test(n)&&(M.height=r.height,M.depth=r.depth),/cancel/.test(n)&&!l?Xe.makeSpan(["mord","cancel-lap"],[M],t):Xe.makeSpan(["mord"],[M],t)},"htmlBuilder$7"),m3=a((e,t)=>{var r=0,n=new vt.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Rr(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n},"mathmlBuilder$6");Mt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,s=ar(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,body:o}},htmlBuilder:p3,mathmlBuilder:m3});Mt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,s=ar(t[0],"color-token").color,o=ar(t[1],"color-token").color,l=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,borderColor:s,body:l}},htmlBuilder:p3,mathmlBuilder:m3});Mt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}});Mt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:p3,mathmlBuilder:m3});Mt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var bD={};function fs(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:o}=e,l={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},u=0;u<r.length;++u)bD[r[u]]=l;s&&(Sp[t]=s),o&&(kp[t]=o)}a(fs,"defineEnvironment");var yD={};function re(e,t){yD[e]=t}a(re,"defineMacro");function LS(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}a(LS,"getHLines");var mg=a(e=>{var t=e.parser.settings;if(!t.displayMode)throw new yt("{"+e.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext");function g3(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}a(g3,"getAutoTag");function Go(e,t,r){var{hskipBeforeAndAfter:n,addJot:i,cols:s,arraystretch:o,colSeparationType:l,autoTag:u,singleRow:c,emptySingleRow:h,maxNumCols:d,leqno:g}=t;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!o){var m=e.gullet.expandMacroAsText("\\arraystretch");if(m==null)o=1;else if(o=parseFloat(m),!o||o<0)throw new yt("Invalid \\arraystretch: "+m)}e.gullet.beginGroup();var y=[],x=[y],A=[],C=[],M=u!=null?[]:void 0;function R(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}a(R,"beginRow");function P(){M&&(e.gullet.macros.get("\\df@tag")?(M.push(e.subparse([new Di("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):M.push(!!u&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(a(P,"endRow"),R(),C.push(LS(e));;){var L=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),L={type:"ordgroup",mode:e.mode,body:L},r&&(L={type:"styling",mode:e.mode,style:r,body:[L]}),y.push(L);var z=e.fetch().text;if(z==="&"){if(d&&y.length===d){if(c||l)throw new yt("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(z==="\\end"){P(),y.length===1&&L.type==="styling"&&L.body[0].body.length===0&&(x.length>1||!h)&&x.pop(),C.length<x.length+1&&C.push([]);break}else if(z==="\\\\"){e.consume();var Z=void 0;e.gullet.future().text!==" "&&(Z=e.parseSizeGroup(!0)),A.push(Z?Z.value:null),P(),C.push(LS(e)),y=[],x.push(y),R()}else throw new yt("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:o,body:x,cols:s,rowGaps:A,hskipBeforeAndAfter:n,hLinesBeforeRow:C,colSeparationType:l,tags:M,leqno:g}}a(Go,"parseArray");function v3(e){return e.slice(0,1)==="d"?"display":"text"}a(v3,"dCellStyle");var ps=a(function(t,r){var n,i,s=t.body.length,o=t.hLinesBeforeRow,l=0,u=new Array(s),c=[],h=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),d=1/r.fontMetrics().ptPerEm,g=5*d;if(t.colSeparationType&&t.colSeparationType==="small"){var m=r.havingStyle(Xt.SCRIPT).sizeMultiplier;g=.2778*(m/r.sizeMultiplier)}var y=t.colSeparationType==="CD"?en({number:3,unit:"ex"},r):12*d,x=3*d,A=t.arraystretch*y,C=.7*A,M=.3*A,R=0;function P(te){for(var fe=0;fe<te.length;++fe)fe>0&&(R+=.25),c.push({pos:R,isDashed:te[fe]})}for(a(P,"setHLinePos"),P(o[0]),n=0;n<t.body.length;++n){var L=t.body[n],z=C,Z=M;l<L.length&&(l=L.length);var Y=new Array(L.length);for(i=0;i<L.length;++i){var ae=br(L[i],r);Z<ae.depth&&(Z=ae.depth),z<ae.height&&(z=ae.height),Y[i]=ae}var F=t.rowGaps[n],W=0;F&&(W=en(F,r),W>0&&(W+=M,Z<W&&(Z=W),W=0)),t.addJot&&(Z+=x),Y.height=z,Y.depth=Z,R+=z,Y.pos=R,R+=Z+W,u[n]=Y,P(o[n+1])}var f=R/2+r.fontMetrics().axisHeight,w=t.cols||[],v=[],_,S,T=[];if(t.tags&&t.tags.some(te=>te))for(n=0;n<s;++n){var N=u[n],k=N.pos-f,p=t.tags[n],E=void 0;p===!0?E=Xe.makeSpan(["eqn-num"],[],r):p===!1?E=Xe.makeSpan([],[],r):E=Xe.makeSpan([],kn(p,r,!0),r),E.depth=N.depth,E.height=N.height,T.push({type:"elem",elem:E,shift:k})}for(i=0,S=0;i<l||S<w.length;++i,++S){for(var I=w[S]||{},O=!0;I.type==="separator";){if(O||(_=Xe.makeSpan(["arraycolsep"],[]),_.style.width=At(r.fontMetrics().doubleRuleSep),v.push(_)),I.separator==="|"||I.separator===":"){var B=I.separator==="|"?"solid":"dashed",H=Xe.makeSpan(["vertical-separator"],[],r);H.style.height=At(R),H.style.borderRightWidth=At(h),H.style.borderRightStyle=B,H.style.margin="0 "+At(-h/2);var G=R-f;G&&(H.style.verticalAlign=At(-G)),v.push(H)}else throw new yt("Invalid separator type: "+I.separator);S++,I=w[S]||{},O=!1}if(!(i>=l)){var J=void 0;(i>0||t.hskipBeforeAndAfter)&&(J=_r.deflt(I.pregap,g),J!==0&&(_=Xe.makeSpan(["arraycolsep"],[]),_.style.width=At(J),v.push(_)));var ce=[];for(n=0;n<s;++n){var ne=u[n],se=ne[i];if(se){var Ye=ne.pos-f;se.depth=ne.depth,se.height=ne.height,ce.push({type:"elem",elem:se,shift:Ye})}}ce=Xe.makeVList({positionType:"individualShift",children:ce},r),ce=Xe.makeSpan(["col-align-"+(I.align||"c")],[ce]),v.push(ce),(i<l-1||t.hskipBeforeAndAfter)&&(J=_r.deflt(I.postgap,g),J!==0&&(_=Xe.makeSpan(["arraycolsep"],[]),_.style.width=At(J),v.push(_)))}}if(u=Xe.makeSpan(["mtable"],v),c.length>0){for(var Te=Xe.makeLineSpan("hline",r,h),ye=Xe.makeLineSpan("hdashline",r,h),Me=[{type:"elem",elem:u,shift:0}];c.length>0;){var X=c.pop(),oe=X.pos-f;X.isDashed?Me.push({type:"elem",elem:ye,shift:oe}):Me.push({type:"elem",elem:Te,shift:oe})}u=Xe.makeVList({positionType:"individualShift",children:Me},r)}if(T.length===0)return Xe.makeSpan(["mord"],[u],r);var ee=Xe.makeVList({positionType:"individualShift",children:T},r);return ee=Xe.makeSpan(["tag"],[ee],r),Xe.makeFragment([u,ee])},"htmlBuilder"),Fde={c:"center ",l:"left ",r:"right "},ms=a(function(t,r){for(var n=[],i=new vt.MathNode("mtd",[],["mtr-glue"]),s=new vt.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<t.body.length;o++){for(var l=t.body[o],u=[],c=0;c<l.length;c++)u.push(new vt.MathNode("mtd",[Rr(l[c],r)]));t.tags&&t.tags[o]&&(u.unshift(i),u.push(i),t.leqno?u.unshift(s):u.push(s)),n.push(new vt.MathNode("mtr",u))}var h=new vt.MathNode("mtable",n),d=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);h.setAttribute("rowspacing",At(d));var g="",m="";if(t.cols&&t.cols.length>0){var y=t.cols,x="",A=!1,C=0,M=y.length;y[0].type==="separator"&&(g+="top ",C=1),y[y.length-1].type==="separator"&&(g+="bottom ",M-=1);for(var R=C;R<M;R++)y[R].type==="align"?(m+=Fde[y[R].align],A&&(x+="none "),A=!0):y[R].type==="separator"&&A&&(x+=y[R].separator==="|"?"solid ":"dashed ",A=!1);h.setAttribute("columnalign",m.trim()),/[sd]/.test(x)&&h.setAttribute("columnlines",x.trim())}if(t.colSeparationType==="align"){for(var P=t.cols||[],L="",z=1;z<P.length;z++)L+=z%2?"0em ":"1em ";h.setAttribute("columnspacing",L.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var Z="",Y=t.hLinesBeforeRow;g+=Y[0].length>0?"left ":"",g+=Y[Y.length-1].length>0?"right ":"";for(var ae=1;ae<Y.length-1;ae++)Z+=Y[ae].length===0?"none ":Y[ae][0]?"dashed ":"solid ";return/[sd]/.test(Z)&&h.setAttribute("rowlines",Z.trim()),g!==""&&(h=new vt.MathNode("menclose",[h]),h.setAttribute("notation",g.trim())),t.arraystretch&&t.arraystretch<1&&(h=new vt.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},"mathmlBuilder"),wD=a(function(t,r){t.envName.indexOf("ed")===-1&&mg(t);var n=[],i=t.envName.indexOf("at")>-1?"alignat":"align",s=t.envName==="split",o=Go(t.parser,{cols:n,addJot:!0,autoTag:s?void 0:g3(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:t.parser.settings.leqno},"display"),l,u=0,c={type:"ordgroup",mode:t.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var h="",d=0;d<r[0].body.length;d++){var g=ar(r[0].body[d],"textord");h+=g.text}l=Number(h),u=l*2}var m=!u;o.body.forEach(function(C){for(var M=1;M<C.length;M+=2){var R=ar(C[M],"styling"),P=ar(R.body[0],"ordgroup");P.body.unshift(c)}if(m)u<C.length&&(u=C.length);else{var L=C.length/2;if(l<L)throw new yt("Too many math in a row: "+("expected "+l+", but got "+L),C[0])}});for(var y=0;y<u;++y){var x="r",A=0;y%2===1?x="l":y>0&&m&&(A=1),n[y]={type:"align",align:x,pregap:A,postgap:0}}return o.colSeparationType=m?"align":"alignat",o},"alignedHandler2");fs({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=hg(t[0]),n=r?[t[0]]:ar(t[0],"ordgroup").body,i=n.map(function(o){var l=d3(o),u=l.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new yt("Unknown column alignment: "+u,o)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Go(e.parser,s,v3(e.envName))},htmlBuilder:ps,mathmlBuilder:ms});fs({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new yt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var s=Go(e.parser,n,v3(e.envName)),o=Math.max(0,...s.body.map(l=>l.length));return s.cols=new Array(o).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:ps,mathmlBuilder:ms});fs({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=Go(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:ps,mathmlBuilder:ms});fs({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=hg(t[0]),n=r?[t[0]]:ar(t[0],"ordgroup").body,i=n.map(function(o){var l=d3(o),u=l.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new yt("Unknown column alignment: "+u,o)});if(i.length>1)throw new yt("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Go(e.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new yt("{subarray} can contain only one column");return s},htmlBuilder:ps,mathmlBuilder:ms});fs({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Go(e.parser,t,v3(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ps,mathmlBuilder:ms});fs({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:wD,htmlBuilder:ps,mathmlBuilder:ms});fs({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&mg(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:g3(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Go(e.parser,t,"display")},htmlBuilder:ps,mathmlBuilder:ms});fs({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:wD,htmlBuilder:ps,mathmlBuilder:ms});fs({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){mg(e);var t={autoTag:g3(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Go(e.parser,t,"display")},htmlBuilder:ps,mathmlBuilder:ms});fs({type:"array",names:["CD"],props:{numArgs:0},handler(e){return mg(e),Ade(e.parser)},htmlBuilder:ps,mathmlBuilder:ms});re("\\nonumber","\\gdef\\@eqnsw{0}");re("\\notag","\\nonumber");Mt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new yt(e.funcName+" valid only within array environment")}});var DS=bD;Mt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];if(i.type!=="ordgroup")throw new yt("Invalid environment name",i);for(var s="",o=0;o<i.body.length;++o)s+=ar(i.body[o],"textord").text;if(n==="\\begin"){if(!DS.hasOwnProperty(s))throw new yt("No such environment: "+s,i);var l=DS[s],{args:u,optArgs:c}=r.parseArguments("\\begin{"+s+"}",l),h={mode:r.mode,envName:s,parser:r},d=l.handler(h,u,c);r.expect("\\end",!1);var g=r.nextToken,m=ar(r.parseFunction(),"environment");if(m.name!==s)throw new yt("Mismatch: \\begin{"+s+"} matched by \\end{"+m.name+"}",g);return d}return{type:"environment",mode:r.mode,name:s,nameGroup:i}}});var _D=a((e,t)=>{var r=e.font,n=t.withFont(r);return br(e.body,n)},"htmlBuilder$5"),xD=a((e,t)=>{var r=e.font,n=t.withFont(r);return Rr(e.body,n)},"mathmlBuilder$4"),jS={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Mt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=Ap(t[0]),s=n;return s in jS&&(s=jS[s]),{type:"font",mode:r.mode,font:s.slice(1),body:i}},"handler"),htmlBuilder:_D,mathmlBuilder:xD});Mt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:a((e,t)=>{var{parser:r}=e,n=t[0],i=_r.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:fg(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}},"handler")});Mt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:a((e,t)=>{var{parser:r,funcName:n,breakOnTokenText:i}=e,{mode:s}=r,o=r.parseExpression(!0,i),l="math"+n.slice(1);return{type:"font",mode:s,font:l,body:{type:"ordgroup",mode:r.mode,body:o}}},"handler"),htmlBuilder:_D,mathmlBuilder:xD});var ED=a((e,t)=>{var r=t;return e==="display"?r=r.id>=Xt.SCRIPT.id?r.text():Xt.DISPLAY:e==="text"&&r.size===Xt.DISPLAY.size?r=Xt.TEXT:e==="script"?r=Xt.SCRIPT:e==="scriptscript"&&(r=Xt.SCRIPTSCRIPT),r},"adjustStyle"),b3=a((e,t)=>{var r=ED(e.size,t.style),n=r.fracNum(),i=r.fracDen(),s;s=t.havingStyle(n);var o=br(e.numer,s,t);if(e.continued){var l=8.5/t.fontMetrics().ptPerEm,u=3.5/t.fontMetrics().ptPerEm;o.height=o.height<l?l:o.height,o.depth=o.depth<u?u:o.depth}s=t.havingStyle(i);var c=br(e.denom,s,t),h,d,g;e.hasBarLine?(e.barSize?(d=en(e.barSize,t),h=Xe.makeLineSpan("frac-line",t,d)):h=Xe.makeLineSpan("frac-line",t),d=h.height,g=h.height):(h=null,d=0,g=t.fontMetrics().defaultRuleThickness);var m,y,x;r.size===Xt.DISPLAY.size||e.size==="display"?(m=t.fontMetrics().num1,d>0?y=3*g:y=7*g,x=t.fontMetrics().denom1):(d>0?(m=t.fontMetrics().num2,y=g):(m=t.fontMetrics().num3,y=3*g),x=t.fontMetrics().denom2);var A;if(h){var M=t.fontMetrics().axisHeight;m-o.depth-(M+.5*d)<y&&(m+=y-(m-o.depth-(M+.5*d))),M-.5*d-(c.height-x)<y&&(x+=y-(M-.5*d-(c.height-x)));var R=-(M-.5*d);A=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:x},{type:"elem",elem:h,shift:R},{type:"elem",elem:o,shift:-m}]},t)}else{var C=m-o.depth-(c.height-x);C<y&&(m+=.5*(y-C),x+=.5*(y-C)),A=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:x},{type:"elem",elem:o,shift:-m}]},t)}s=t.havingStyle(r),A.height*=s.sizeMultiplier/t.sizeMultiplier,A.depth*=s.sizeMultiplier/t.sizeMultiplier;var P;r.size===Xt.DISPLAY.size?P=t.fontMetrics().delim1:r.size===Xt.SCRIPTSCRIPT.size?P=t.havingStyle(Xt.SCRIPT).fontMetrics().delim2:P=t.fontMetrics().delim2;var L,z;return e.leftDelim==null?L=fh(t,["mopen"]):L=Xs.customSizedDelim(e.leftDelim,P,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?z=Xe.makeSpan([]):e.rightDelim==null?z=fh(t,["mclose"]):z=Xs.customSizedDelim(e.rightDelim,P,!0,t.havingStyle(r),e.mode,["mclose"]),Xe.makeSpan(["mord"].concat(s.sizingClasses(t)),[L,Xe.makeSpan(["mfrac"],[A]),z],t)},"htmlBuilder$4"),y3=a((e,t)=>{var r=new vt.MathNode("mfrac",[Rr(e.numer,t),Rr(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=en(e.barSize,t);r.setAttribute("linethickness",At(n))}var i=ED(e.size,t.style);if(i.size!==t.style.size){r=new vt.MathNode("mstyle",[r]);var s=i.size===Xt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",s),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var o=[];if(e.leftDelim!=null){var l=new vt.MathNode("mo",[new vt.TextNode(e.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}if(o.push(r),e.rightDelim!=null){var u=new vt.MathNode("mo",[new vt.TextNode(e.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),o.push(u)}return u3(o)}return r},"mathmlBuilder$3");Mt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=t[1],o,l=null,u=null,c="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,l="(",u=")";break;case"\\\\bracefrac":o=!1,l="\\{",u="\\}";break;case"\\\\brackfrac":o=!1,l="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:s,hasBarLine:o,leftDelim:l,rightDelim:u,size:c,barSize:null}},"handler"),htmlBuilder:b3,mathmlBuilder:y3});Mt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}},"handler")});Mt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:n}}});var BS=["display","text","script","scriptscript"],zS=a(function(t){var r=null;return t.length>0&&(r=t,r=r==="."?null:r),r},"delimFromValue2");Mt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],i=t[5],s=Ap(t[0]),o=s.type==="atom"&&s.family==="open"?zS(s.text):null,l=Ap(t[1]),u=l.type==="atom"&&l.family==="close"?zS(l.text):null,c=ar(t[2],"size"),h,d=null;c.isBlank?h=!0:(d=c.value,h=d.number>0);var g="auto",m=t[3];if(m.type==="ordgroup"){if(m.body.length>0){var y=ar(m.body[0],"textord");g=BS[Number(y.text)]}}else m=ar(m,"textord"),g=BS[Number(m.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:h,barSize:d,leftDelim:o,rightDelim:u,size:g}},htmlBuilder:b3,mathmlBuilder:y3});Mt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:i}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:ar(t[0],"size").value,token:i}}});Mt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=vce(ar(t[1],"infix").size),o=t[2],l=s.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:o,continued:!1,hasBarLine:l,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},"handler"),htmlBuilder:b3,mathmlBuilder:y3});var SD=a((e,t)=>{var r=t.style,n,i;e.type==="supsub"?(n=e.sup?br(e.sup,t.havingStyle(r.sup()),t):br(e.sub,t.havingStyle(r.sub()),t),i=ar(e.base,"horizBrace")):i=ar(e,"horizBrace");var s=br(i.base,t.havingBaseStyle(Xt.DISPLAY)),o=to.svgSpan(i,t),l;if(i.isOver?(l=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},t),l.children[0].children[0].children[1].classes.push("svg-align")):(l=Xe.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},t),l.children[0].children[0].children[0].classes.push("svg-align")),n){var u=Xe.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t);i.isOver?l=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:n}]},t):l=Xe.makeVList({positionType:"bottom",positionData:u.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:u}]},t)}return Xe.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t)},"htmlBuilder$3"),Ude=a((e,t)=>{var r=to.mathMLnode(e.label);return new vt.MathNode(e.isOver?"mover":"munder",[Rr(e.base,t),r])},"mathmlBuilder$2");Mt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:SD,mathmlBuilder:Ude});Mt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e,n=t[1],i=ar(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:cn(n)}:r.formatUnsupportedCmd("\\href")},"handler"),htmlBuilder:a((e,t)=>{var r=kn(e.body,t,!1);return Xe.makeAnchor(e.href,[],r,t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=Bo(e.body,t);return r instanceof Ri||(r=new Ri("mrow",[r])),r.setAttribute("href",e.href),r},"mathmlBuilder")});Mt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e,n=ar(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<n.length;s++){var o=n[s];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var l={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:cn(l)}},"handler")});Mt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:cn(t[0])}},htmlBuilder(e,t){var r=kn(e.body,t,!1);return Xe.makeFragment(r)},mathmlBuilder(e,t){return new vt.MathNode("mrow",Ei(e.body,t))}});Mt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:a((e,t)=>{var{parser:r,funcName:n,token:i}=e,s=ar(t[0],"raw").string,o=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,u={};switch(n){case"\\htmlClass":u.class=s,l={command:"\\htmlClass",class:s};break;case"\\htmlId":u.id=s,l={command:"\\htmlId",id:s};break;case"\\htmlStyle":u.style=s,l={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(d.length!==2)throw new yt("Error parsing key-value for \\htmlData");u["data-"+d[0].trim()]=d[1].trim()}l={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(l)?{type:"html",mode:r.mode,attributes:u,body:cn(o)}:r.formatUnsupportedCmd(n)},"handler"),htmlBuilder:a((e,t)=>{var r=kn(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var i=Xe.makeSpan(n,r,t);for(var s in e.attributes)s!=="class"&&e.attributes.hasOwnProperty(s)&&i.setAttribute(s,e.attributes[s]);return i},"htmlBuilder"),mathmlBuilder:a((e,t)=>Bo(e.body,t),"mathmlBuilder")});Mt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:cn(t[0]),mathml:cn(t[1])}},"handler"),htmlBuilder:a((e,t)=>{var r=kn(e.html,t,!1);return Xe.makeFragment(r)},"htmlBuilder"),mathmlBuilder:a((e,t)=>Bo(e.mathml,t),"mathmlBuilder")});var ey=a(function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!r)throw new yt("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!GL(n))throw new yt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n},"sizeData2");Mt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:a((e,t,r)=>{var{parser:n}=e,i={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},l="";if(r[0])for(var u=ar(r[0],"raw").string,c=u.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(d.length===2){var g=d[1].trim();switch(d[0].trim()){case"alt":l=g;break;case"width":i=ey(g);break;case"height":s=ey(g);break;case"totalheight":o=ey(g);break;default:throw new yt("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var m=ar(t[0],"url").url;return l===""&&(l=m,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:n.mode,alt:l,width:i,height:s,totalheight:o,src:m}:n.formatUnsupportedCmd("\\includegraphics")},"handler"),htmlBuilder:a((e,t)=>{var r=en(e.height,t),n=0;e.totalheight.number>0&&(n=en(e.totalheight,t)-r);var i=0;e.width.number>0&&(i=en(e.width,t));var s={height:At(r+n)};i>0&&(s.width=At(i)),n>0&&(s.verticalAlign=At(-n));var o=new Uce(e.src,e.alt,s);return o.height=r,o.depth=n,o},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=new vt.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=en(e.height,t),i=0;if(e.totalheight.number>0&&(i=en(e.totalheight,t)-n,r.setAttribute("valign",At(-i))),r.setAttribute("height",At(n+i)),e.width.number>0){var s=en(e.width,t);r.setAttribute("width",At(s))}return r.setAttribute("src",e.src),r},"mathmlBuilder")});Mt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=ar(t[0],"size");if(r.settings.strict){var s=n[1]==="m",o=i.value.unit==="mu";s?(o||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):o&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(e,t){return Xe.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=en(e.dimension,t);return new vt.SpaceNode(r)}});Mt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},"handler"),htmlBuilder:a((e,t)=>{var r;e.alignment==="clap"?(r=Xe.makeSpan([],[br(e.body,t)]),r=Xe.makeSpan(["inner"],[r],t)):r=Xe.makeSpan(["inner"],[br(e.body,t)]);var n=Xe.makeSpan(["fix"],[]),i=Xe.makeSpan([e.alignment],[r,n],t),s=Xe.makeSpan(["strut"]);return s.style.height=At(i.height+i.depth),i.depth&&(s.style.verticalAlign=At(-i.depth)),i.children.unshift(s),i=Xe.makeSpan(["thinbox"],[i],t),Xe.makeSpan(["mord","vbox"],[i],t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=new vt.MathNode("mpadded",[Rr(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r},"mathmlBuilder")});Mt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,i=n.mode;n.switchMode("math");var s=r==="\\("?"\\)":"$",o=n.parseExpression(!1,s);return n.expect(s),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:o}}});Mt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new yt("Mismatched "+e.funcName)}});var FS=a((e,t)=>{switch(t.style.size){case Xt.DISPLAY.size:return e.display;case Xt.TEXT.size:return e.text;case Xt.SCRIPT.size:return e.script;case Xt.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}},"chooseMathStyle");Mt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:a((e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:cn(t[0]),text:cn(t[1]),script:cn(t[2]),scriptscript:cn(t[3])}},"handler"),htmlBuilder:a((e,t)=>{var r=FS(e,t),n=kn(r,t,!1);return Xe.makeFragment(n)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=FS(e,t);return Bo(r,t)},"mathmlBuilder")});var kD=a((e,t,r,n,i,s,o)=>{e=Xe.makeSpan([],[e]);var l=r&&_r.isCharacterBox(r),u,c;if(t){var h=br(t,n.havingStyle(i.sup()),n);c={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-h.depth)}}if(r){var d=br(r,n.havingStyle(i.sub()),n);u={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-d.height)}}var g;if(c&&u){var m=n.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+e.depth+o;g=Xe.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:At(-s)},{type:"kern",size:u.kern},{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:At(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(u){var y=e.height-o;g=Xe.makeVList({positionType:"top",positionData:y,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:At(-s)},{type:"kern",size:u.kern},{type:"elem",elem:e}]},n)}else if(c){var x=e.depth+o;g=Xe.makeVList({positionType:"bottom",positionData:x,children:[{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:At(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var A=[g];if(u&&s!==0&&!l){var C=Xe.makeSpan(["mspace"],[],n);C.style.marginRight=At(s),A.unshift(C)}return Xe.makeSpan(["mop","op-limits"],A,n)},"assembleSupSub"),AD=["\\smallint"],lc=a((e,t)=>{var r,n,i=!1,s;e.type==="supsub"?(r=e.sup,n=e.sub,s=ar(e.base,"op"),i=!0):s=ar(e,"op");var o=t.style,l=!1;o.size===Xt.DISPLAY.size&&s.symbol&&!AD.includes(s.name)&&(l=!0);var u;if(s.symbol){var c=l?"Size2-Regular":"Size1-Regular",h="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(h=s.name.slice(1),s.name=h==="oiint"?"\\iint":"\\iiint"),u=Xe.makeSymbol(s.name,c,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),h.length>0){var d=u.italic,g=Xe.staticSvg(h+"Size"+(l?"2":"1"),t);u=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:g,shift:l?.08:0}]},t),s.name="\\"+h,u.classes.unshift("mop"),u.italic=d}}else if(s.body){var m=kn(s.body,t,!0);m.length===1&&m[0]instanceof na?(u=m[0],u.classes[0]="mop"):u=Xe.makeSpan(["mop"],m,t)}else{for(var y=[],x=1;x<s.name.length;x++)y.push(Xe.mathsym(s.name[x],s.mode,t));u=Xe.makeSpan(["mop"],y,t)}var A=0,C=0;return(u instanceof na||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(A=(u.height-u.depth)/2-t.fontMetrics().axisHeight,C=u.italic),i?kD(u,r,n,t,o,C,A):(A&&(u.style.position="relative",u.style.top=At(A)),u)},"htmlBuilder$2"),Kh=a((e,t)=>{var r;if(e.symbol)r=new Ri("mo",[ia(e.name,e.mode)]),AD.includes(e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new Ri("mo",Ei(e.body,t));else{r=new Ri("mi",[new qa(e.name.slice(1))]);var n=new Ri("mo",[ia("","text")]);e.parentIsSupSub?r=new Ri("mrow",[r,n]):r=eD([r,n])}return r},"mathmlBuilder$1"),Hde={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Mt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=n;return i.length===1&&(i=Hde[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},"handler"),htmlBuilder:lc,mathmlBuilder:Kh});Mt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:a((e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:cn(n)}},"handler"),htmlBuilder:lc,mathmlBuilder:Kh});var Gde={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Mt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:lc,mathmlBuilder:Kh});Mt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:lc,mathmlBuilder:Kh});Mt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=Gde[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:lc,mathmlBuilder:Kh});var TD=a((e,t)=>{var r,n,i=!1,s;e.type==="supsub"?(r=e.sup,n=e.sub,s=ar(e.base,"operatorname"),i=!0):s=ar(e,"operatorname");var o;if(s.body.length>0){for(var l=s.body.map(d=>{var g=d.text;return typeof g=="string"?{type:"textord",mode:d.mode,text:g}:d}),u=kn(l,t.withFont("mathrm"),!0),c=0;c<u.length;c++){var h=u[c];h instanceof na&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=Xe.makeSpan(["mop"],u,t)}else o=Xe.makeSpan(["mop"],[],t);return i?kD(o,r,n,t,t.style,0,0):o},"htmlBuilder$1"),Vde=a((e,t)=>{for(var r=Ei(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var s=r[i];if(!(s instanceof vt.SpaceNode))if(s instanceof vt.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof vt.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var l=r.map(h=>h.toText()).join("");r=[new vt.TextNode(l)]}var u=new vt.MathNode("mi",r);u.setAttribute("mathvariant","normal");var c=new vt.MathNode("mo",[ia("","text")]);return e.parentIsSupSub?new vt.MathNode("mrow",[u,c]):vt.newDocumentFragment([u,c])},"mathmlBuilder2");Mt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"operatorname",mode:r.mode,body:cn(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},"handler"),htmlBuilder:TD,mathmlBuilder:Vde});re("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Wl({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?Xe.makeFragment(kn(e.body,t,!1)):Xe.makeSpan(["mord"],kn(e.body,t,!0),t)},mathmlBuilder(e,t){return Bo(e.body,t,!0)}});Mt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=br(e.body,t.havingCrampedStyle()),n=Xe.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,s=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t);return Xe.makeSpan(["mord","overline"],[s],t)},mathmlBuilder(e,t){var r=new vt.MathNode("mo",[new vt.TextNode("")]);r.setAttribute("stretchy","true");var n=new vt.MathNode("mover",[Rr(e.body,t),r]);return n.setAttribute("accent","true"),n}});Mt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:cn(n)}},"handler"),htmlBuilder:a((e,t)=>{var r=kn(e.body,t.withPhantom(),!1);return Xe.makeFragment(r)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=Ei(e.body,t);return new vt.MathNode("mphantom",r)},"mathmlBuilder")});Mt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:a((e,t)=>{var r=Xe.makeSpan([],[br(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),Xe.makeSpan(["mord"],[r],t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=Ei(cn(e.body),t),n=new vt.MathNode("mphantom",r),i=new vt.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i},"mathmlBuilder")});Mt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:a((e,t)=>{var r=Xe.makeSpan(["inner"],[br(e.body,t.withPhantom())]),n=Xe.makeSpan(["fix"],[]);return Xe.makeSpan(["mord","rlap"],[r,n],t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=Ei(cn(e.body),t),n=new vt.MathNode("mphantom",r),i=new vt.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i},"mathmlBuilder")});Mt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=ar(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(e,t){var r=br(e.body,t),n=en(e.dy,t);return Xe.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new vt.MathNode("mpadded",[Rr(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}});Mt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Mt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,i=r[0],s=ar(t[0],"size"),o=ar(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&ar(i,"size").value,width:s.value,height:o.value}},htmlBuilder(e,t){var r=Xe.makeSpan(["mord","rule"],[],t),n=en(e.width,t),i=en(e.height,t),s=e.shift?en(e.shift,t):0;return r.style.borderRightWidth=At(n),r.style.borderTopWidth=At(i),r.style.bottom=At(s),r.width=n,r.height=i+s,r.depth=-s,r.maxFontSize=i*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=en(e.width,t),n=en(e.height,t),i=e.shift?en(e.shift,t):0,s=t.color&&t.getColor()||"black",o=new vt.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",At(r)),o.setAttribute("height",At(n));var l=new vt.MathNode("mpadded",[o]);return i>=0?l.setAttribute("height",At(i)):(l.setAttribute("height",At(i)),l.setAttribute("depth",At(-i))),l.setAttribute("voffset",At(i)),l}});function ND(e,t,r){for(var n=kn(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,s=0;s<n.length;s++){var o=n[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(n[s].classes,t.sizingClasses(r)):n[s].classes[o+1]==="reset-size"+t.size&&(n[s].classes[o+1]="reset-size"+r.size),n[s].height*=i,n[s].depth*=i}return Xe.makeFragment(n)}a(ND,"sizingGroup");var US=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Yde=a((e,t)=>{var r=t.havingSize(e.size);return ND(e.body,r,t)},"htmlBuilder2");Mt({type:"sizing",names:US,props:{numArgs:0,allowedInText:!0},handler:a((e,t)=>{var{breakOnTokenText:r,funcName:n,parser:i}=e,s=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:US.indexOf(n)+1,body:s}},"handler"),htmlBuilder:Yde,mathmlBuilder:a((e,t)=>{var r=t.havingSize(e.size),n=Ei(e.body,r),i=new vt.MathNode("mstyle",n);return i.setAttribute("mathsize",At(r.sizeMultiplier)),i},"mathmlBuilder")});Mt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:a((e,t,r)=>{var{parser:n}=e,i=!1,s=!1,o=r[0]&&ar(r[0],"ordgroup");if(o)for(var l="",u=0;u<o.body.length;++u){var c=o.body[u];if(l=c.text,l==="t")i=!0;else if(l==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var h=t[0];return{type:"smash",mode:n.mode,body:h,smashHeight:i,smashDepth:s}},"handler"),htmlBuilder:a((e,t)=>{var r=Xe.makeSpan([],[br(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var s=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return Xe.makeSpan(["mord"],[s],t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=new vt.MathNode("mpadded",[Rr(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r},"mathmlBuilder")});Mt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,i=r[0],s=t[0];return{type:"sqrt",mode:n.mode,body:s,index:i}},htmlBuilder(e,t){var r=br(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=Xe.wrapFragment(r,t);var n=t.fontMetrics(),i=n.defaultRuleThickness,s=i;t.style.id<Xt.TEXT.id&&(s=t.fontMetrics().xHeight);var o=i+s/4,l=r.height+r.depth+o+i,{span:u,ruleWidth:c,advanceWidth:h}=Xs.sqrtImage(l,t),d=u.height-c;d>r.height+r.depth+o&&(o=(o+d-r.height-r.depth)/2);var g=u.height-r.height-o-c;r.style.paddingLeft=At(h);var m=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+g)},{type:"elem",elem:u},{type:"kern",size:c}]},t);if(e.index){var y=t.havingStyle(Xt.SCRIPTSCRIPT),x=br(e.index,y,t),A=.6*(m.height-m.depth),C=Xe.makeVList({positionType:"shift",positionData:-A,children:[{type:"elem",elem:x}]},t),M=Xe.makeSpan(["root"],[C]);return Xe.makeSpan(["mord","sqrt"],[M,m],t)}else return Xe.makeSpan(["mord","sqrt"],[m],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new vt.MathNode("mroot",[Rr(r,t),Rr(n,t)]):new vt.MathNode("msqrt",[Rr(r,t)])}});var HS={display:Xt.DISPLAY,text:Xt.TEXT,script:Xt.SCRIPT,scriptscript:Xt.SCRIPTSCRIPT};Mt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:i}=e,s=i.parseExpression(!0,r),o=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:o,body:s}},htmlBuilder(e,t){var r=HS[e.style],n=t.havingStyle(r).withFont("");return ND(e.body,n,t)},mathmlBuilder(e,t){var r=HS[e.style],n=t.havingStyle(r),i=Ei(e.body,n),s=new vt.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=o[e.style];return s.setAttribute("scriptlevel",l[0]),s.setAttribute("displaystyle",l[1]),s}});var Zde=a(function(t,r){var n=t.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===Xt.DISPLAY.size||n.alwaysHandleSupSub);return i?lc:null}else if(n.type==="operatorname"){var s=n.alwaysHandleSupSub&&(r.style.size===Xt.DISPLAY.size||n.limits);return s?TD:null}else{if(n.type==="accent")return _r.isCharacterBox(n.base)?h3:null;if(n.type==="horizBrace"){var o=!t.sub;return o===n.isOver?SD:null}else return null}else return null},"htmlBuilderDelegate2");Wl({type:"supsub",htmlBuilder(e,t){var r=Zde(e,t);if(r)return r(e,t);var{base:n,sup:i,sub:s}=e,o=br(n,t),l,u,c=t.fontMetrics(),h=0,d=0,g=n&&_r.isCharacterBox(n);if(i){var m=t.havingStyle(t.style.sup());l=br(i,m,t),g||(h=o.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(s){var y=t.havingStyle(t.style.sub());u=br(s,y,t),g||(d=o.depth+y.fontMetrics().subDrop*y.sizeMultiplier/t.sizeMultiplier)}var x;t.style===Xt.DISPLAY?x=c.sup1:t.style.cramped?x=c.sup3:x=c.sup2;var A=t.sizeMultiplier,C=At(.5/c.ptPerEm/A),M=null;if(u){var R=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(o instanceof na||R)&&(M=At(-o.italic))}var P;if(l&&u){h=Math.max(h,x,l.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var L=c.defaultRuleThickness,z=4*L;if(h-l.depth-(u.height-d)<z){d=z-(h-l.depth)+u.height;var Z=.8*c.xHeight-(h-l.depth);Z>0&&(h+=Z,d-=Z)}var Y=[{type:"elem",elem:u,shift:d,marginRight:C,marginLeft:M},{type:"elem",elem:l,shift:-h,marginRight:C}];P=Xe.makeVList({positionType:"individualShift",children:Y},t)}else if(u){d=Math.max(d,c.sub1,u.height-.8*c.xHeight);var ae=[{type:"elem",elem:u,marginLeft:M,marginRight:C}];P=Xe.makeVList({positionType:"shift",positionData:d,children:ae},t)}else if(l)h=Math.max(h,x,l.depth+.25*c.xHeight),P=Xe.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:l,marginRight:C}]},t);else throw new Error("supsub must have either sup or sub.");var F=Q1(o,"right")||"mord";return Xe.makeSpan([F],[o,Xe.makeSpan(["msupsub"],[P])],t)},mathmlBuilder(e,t){var r=!1,n,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var s=[Rr(e.base,t)];e.sub&&s.push(Rr(e.sub,t)),e.sup&&s.push(Rr(e.sup,t));var o;if(r)o=n?"mover":"munder";else if(e.sub)if(e.sup){var c=e.base;c&&c.type==="op"&&c.limits&&t.style===Xt.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(t.style===Xt.DISPLAY||c.limits)?o="munderover":o="msubsup"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===Xt.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===Xt.DISPLAY)?o="munder":o="msub"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===Xt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===Xt.DISPLAY)?o="mover":o="msup"}return new vt.MathNode(o,s)}});Wl({type:"atom",htmlBuilder(e,t){return Xe.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new vt.MathNode("mo",[ia(e.text,e.mode)]);if(e.family==="bin"){var n=c3(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}});var CD={mi:"italic",mn:"normal",mtext:"normal"};Wl({type:"mathord",htmlBuilder(e,t){return Xe.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new vt.MathNode("mi",[ia(e.text,e.mode,t)]),n=c3(e,t)||"italic";return n!==CD[r.type]&&r.setAttribute("mathvariant",n),r}});Wl({type:"textord",htmlBuilder(e,t){return Xe.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=ia(e.text,e.mode,t),n=c3(e,t)||"normal",i;return e.mode==="text"?i=new vt.MathNode("mtext",[r]):/[0-9]/.test(e.text)?i=new vt.MathNode("mn",[r]):e.text==="\\prime"?i=new vt.MathNode("mo",[r]):i=new vt.MathNode("mi",[r]),n!==CD[i.type]&&i.setAttribute("mathvariant",n),i}});var ty={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},ry={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Wl({type:"spacing",htmlBuilder(e,t){if(ry.hasOwnProperty(e.text)){var r=ry[e.text].className||"";if(e.mode==="text"){var n=Xe.makeOrd(e,t,"textord");return n.classes.push(r),n}else return Xe.makeSpan(["mspace",r],[Xe.mathsym(e.text,e.mode,t)],t)}else{if(ty.hasOwnProperty(e.text))return Xe.makeSpan(["mspace",ty[e.text]],[],t);throw new yt('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(ry.hasOwnProperty(e.text))r=new vt.MathNode("mtext",[new vt.TextNode("")]);else{if(ty.hasOwnProperty(e.text))return new vt.MathNode("mspace");throw new yt('Unknown type of space "'+e.text+'"')}return r}});var GS=a(()=>{var e=new vt.MathNode("mtd",[]);return e.setAttribute("width","50%"),e},"pad");Wl({type:"tag",mathmlBuilder(e,t){var r=new vt.MathNode("mtable",[new vt.MathNode("mtr",[GS(),new vt.MathNode("mtd",[Bo(e.body,t)]),GS(),new vt.MathNode("mtd",[Bo(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var VS={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},YS={"\\textbf":"textbf","\\textmd":"textmd"},$de={"\\textit":"textit","\\textup":"textup"},ZS=a((e,t)=>{var r=e.font;if(r){if(VS[r])return t.withTextFontFamily(VS[r]);if(YS[r])return t.withTextFontWeight(YS[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape($de[r])},"optionsWithFont");Mt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"text",mode:r.mode,body:cn(i),font:n}},htmlBuilder(e,t){var r=ZS(e,t),n=kn(e.body,r,!0);return Xe.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=ZS(e,t);return Bo(e.body,r)}});Mt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=br(e.body,t),n=Xe.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,s=Xe.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},t);return Xe.makeSpan(["mord","underline"],[s],t)},mathmlBuilder(e,t){var r=new vt.MathNode("mo",[new vt.TextNode("")]);r.setAttribute("stretchy","true");var n=new vt.MathNode("munder",[Rr(e.body,t),r]);return n.setAttribute("accentunder","true"),n}});Mt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=br(e.body,t),n=t.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Xe.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new vt.MathNode("mpadded",[Rr(e.body,t)],["vcenter"])}});Mt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new yt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=$S(e),n=[],i=t.havingStyle(t.style.text()),s=0;s<r.length;s++){var o=r[s];o==="~"&&(o="\\textasciitilde"),n.push(Xe.makeSymbol(o,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Xe.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Xe.tryCombineChars(n),i)},mathmlBuilder(e,t){var r=new vt.TextNode($S(e)),n=new vt.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var $S=a(e=>e.body.replace(/ /g,e.star?"":""),"makeVerb"),Eo=QL,ID=`[ \r
	]`,Xde="\\\\[a-zA-Z@]+",Jde="\\\\[^\uD800-\uDFFF]",Kde="("+Xde+")"+ID+"*",Wde=`\\\\(
|[ \r	]+
?)[ \r	]*`,r2="[-]",Qde=new RegExp(r2+"+$"),qde="("+ID+"+)|"+(Wde+"|")+"([!-\\[\\]---]"+(r2+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(r2+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Kde)+("|"+Jde+")");class XS{static{a(this,"Lexer")}constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(qde,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new Di("EOF",new mi(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new yt("Unexpected character: '"+t[r]+"'",new Di(t[r],new mi(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=t.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Di(i,new mi(this,r,this.tokenRegex.lastIndex))}}class ehe{static{a(this,"Namespace")}constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new yt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(t)&&(s[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}}var the=yD;re("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});re("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});re("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});re("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});re("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});re("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");re("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var JS={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};re("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new yt("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=JS[t.text],n==null||n>=r)throw new yt("Invalid base-"+r+" digit "+t.text);for(var i;(i=JS[e.future().text])!=null&&i<r;)n*=r,n+=i,e.popToken()}return"\\@char{"+n+"}"});var w3=a((e,t,r,n)=>{var i=e.consumeArg().tokens;if(i.length!==1)throw new yt("\\newcommand's first argument must be a macro name");var s=i[0].text,o=e.isDefined(s);if(o&&!t)throw new yt("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!o&&!r)throw new yt("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var l=0;if(i=e.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var u="",c=e.expandNextToken();c.text!=="]"&&c.text!=="EOF";)u+=c.text,c=e.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new yt("Invalid number of arguments: "+u);l=parseInt(u),i=e.consumeArg().tokens}return o&&n||e.macros.set(s,{tokens:i,numArgs:l}),""},"newcommand");re("\\newcommand",e=>w3(e,!1,!0,!1));re("\\renewcommand",e=>w3(e,!0,!1,!1));re("\\providecommand",e=>w3(e,!0,!0,!0));re("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""});re("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""});re("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),Eo[r],jr.math[r],jr.text[r]),""});re("\\bgroup","{");re("\\egroup","}");re("~","\\nobreakspace");re("\\lq","`");re("\\rq","'");re("\\aa","\\r a");re("\\AA","\\r A");re("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");re("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");re("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");re("","\\mathscr{B}");re("","\\mathscr{E}");re("","\\mathscr{F}");re("","\\mathscr{H}");re("","\\mathscr{I}");re("","\\mathscr{L}");re("","\\mathscr{M}");re("","\\mathscr{R}");re("","\\mathfrak{C}");re("","\\mathfrak{H}");re("","\\mathfrak{Z}");re("\\Bbbk","\\Bbb{k}");re("","\\cdotp");re("\\llap","\\mathllap{\\textrm{#1}}");re("\\rlap","\\mathrlap{\\textrm{#1}}");re("\\clap","\\mathclap{\\textrm{#1}}");re("\\mathstrut","\\vphantom{(}");re("\\underbar","\\underline{\\text{#1}}");re("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');re("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");re("\\ne","\\neq");re("","\\neq");re("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");re("","\\notin");re("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");re("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");re("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");re("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");re("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");re("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");re("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");re("","\\perp");re("","\\mathclose{!\\mkern-0.8mu!}");re("","\\notni");re("","\\ulcorner");re("","\\urcorner");re("","\\llcorner");re("","\\lrcorner");re("","\\copyright");re("","\\textregistered");re("","\\textregistered");re("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');re("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');re("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');re("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');re("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");re("","\\vdots");re("\\varGamma","\\mathit{\\Gamma}");re("\\varDelta","\\mathit{\\Delta}");re("\\varTheta","\\mathit{\\Theta}");re("\\varLambda","\\mathit{\\Lambda}");re("\\varXi","\\mathit{\\Xi}");re("\\varPi","\\mathit{\\Pi}");re("\\varSigma","\\mathit{\\Sigma}");re("\\varUpsilon","\\mathit{\\Upsilon}");re("\\varPhi","\\mathit{\\Phi}");re("\\varPsi","\\mathit{\\Psi}");re("\\varOmega","\\mathit{\\Omega}");re("\\substack","\\begin{subarray}{c}#1\\end{subarray}");re("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");re("\\boxed","\\fbox{$\\displaystyle{#1}$}");re("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");re("\\implies","\\DOTSB\\;\\Longrightarrow\\;");re("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");re("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");re("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var KS={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};re("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in KS?t=KS[r]:(r.slice(0,4)==="\\not"||r in jr.math&&["bin","rel"].includes(jr.math[r].group))&&(t="\\dotsb"),t});var _3={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};re("\\dotso",function(e){var t=e.future().text;return t in _3?"\\ldots\\,":"\\ldots"});re("\\dotsc",function(e){var t=e.future().text;return t in _3&&t!==","?"\\ldots\\,":"\\ldots"});re("\\cdots",function(e){var t=e.future().text;return t in _3?"\\@cdots\\,":"\\@cdots"});re("\\dotsb","\\cdots");re("\\dotsm","\\cdots");re("\\dotsi","\\!\\cdots");re("\\dotsx","\\ldots\\,");re("\\DOTSI","\\relax");re("\\DOTSB","\\relax");re("\\DOTSX","\\relax");re("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");re("\\,","\\tmspace+{3mu}{.1667em}");re("\\thinspace","\\,");re("\\>","\\mskip{4mu}");re("\\:","\\tmspace+{4mu}{.2222em}");re("\\medspace","\\:");re("\\;","\\tmspace+{5mu}{.2777em}");re("\\thickspace","\\;");re("\\!","\\tmspace-{3mu}{.1667em}");re("\\negthinspace","\\!");re("\\negmedspace","\\tmspace-{4mu}{.2222em}");re("\\negthickspace","\\tmspace-{5mu}{.277em}");re("\\enspace","\\kern.5em ");re("\\enskip","\\hskip.5em\\relax");re("\\quad","\\hskip1em\\relax");re("\\qquad","\\hskip2em\\relax");re("\\tag","\\@ifstar\\tag@literal\\tag@paren");re("\\tag@paren","\\tag@literal{({#1})}");re("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new yt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});re("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");re("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");re("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");re("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");re("\\newline","\\\\\\relax");re("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var MD=At(Qa["Main-Regular"][84][1]-.7*Qa["Main-Regular"][65][1]);re("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+MD+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");re("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+MD+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");re("\\hspace","\\@ifstar\\@hspacer\\@hspace");re("\\@hspace","\\hskip #1\\relax");re("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");re("\\ordinarycolon",":");re("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");re("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');re("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');re("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');re("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');re("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');re("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');re("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');re("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');re("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');re("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');re("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');re("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');re("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');re("","\\dblcolon");re("","\\eqcolon");re("","\\coloneqq");re("","\\eqqcolon");re("","\\Coloneqq");re("\\ratio","\\vcentcolon");re("\\coloncolon","\\dblcolon");re("\\colonequals","\\coloneqq");re("\\coloncolonequals","\\Coloneqq");re("\\equalscolon","\\eqqcolon");re("\\equalscoloncolon","\\Eqqcolon");re("\\colonminus","\\coloneq");re("\\coloncolonminus","\\Coloneq");re("\\minuscolon","\\eqcolon");re("\\minuscoloncolon","\\Eqcolon");re("\\coloncolonapprox","\\Colonapprox");re("\\coloncolonsim","\\Colonsim");re("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");re("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");re("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");re("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");re("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");re("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");re("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");re("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");re("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");re("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");re("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");re("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");re("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");re("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");re("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");re("\\ngeqq","\\html@mathml{\\@ngeqq}{}");re("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");re("\\nleqq","\\html@mathml{\\@nleqq}{}");re("\\nleqslant","\\html@mathml{\\@nleqslant}{}");re("\\nshortmid","\\html@mathml{\\@nshortmid}{}");re("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");re("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");re("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");re("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");re("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");re("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");re("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");re("\\imath","\\html@mathml{\\@imath}{}");re("\\jmath","\\html@mathml{\\@jmath}{}");re("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");re("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");re("","\\llbracket");re("","\\rrbracket");re("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");re("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");re("","\\lBrace");re("","\\rBrace");re("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");re("","\\minuso");re("\\darr","\\downarrow");re("\\dArr","\\Downarrow");re("\\Darr","\\Downarrow");re("\\lang","\\langle");re("\\rang","\\rangle");re("\\uarr","\\uparrow");re("\\uArr","\\Uparrow");re("\\Uarr","\\Uparrow");re("\\N","\\mathbb{N}");re("\\R","\\mathbb{R}");re("\\Z","\\mathbb{Z}");re("\\alef","\\aleph");re("\\alefsym","\\aleph");re("\\Alpha","\\mathrm{A}");re("\\Beta","\\mathrm{B}");re("\\bull","\\bullet");re("\\Chi","\\mathrm{X}");re("\\clubs","\\clubsuit");re("\\cnums","\\mathbb{C}");re("\\Complex","\\mathbb{C}");re("\\Dagger","\\ddagger");re("\\diamonds","\\diamondsuit");re("\\empty","\\emptyset");re("\\Epsilon","\\mathrm{E}");re("\\Eta","\\mathrm{H}");re("\\exist","\\exists");re("\\harr","\\leftrightarrow");re("\\hArr","\\Leftrightarrow");re("\\Harr","\\Leftrightarrow");re("\\hearts","\\heartsuit");re("\\image","\\Im");re("\\infin","\\infty");re("\\Iota","\\mathrm{I}");re("\\isin","\\in");re("\\Kappa","\\mathrm{K}");re("\\larr","\\leftarrow");re("\\lArr","\\Leftarrow");re("\\Larr","\\Leftarrow");re("\\lrarr","\\leftrightarrow");re("\\lrArr","\\Leftrightarrow");re("\\Lrarr","\\Leftrightarrow");re("\\Mu","\\mathrm{M}");re("\\natnums","\\mathbb{N}");re("\\Nu","\\mathrm{N}");re("\\Omicron","\\mathrm{O}");re("\\plusmn","\\pm");re("\\rarr","\\rightarrow");re("\\rArr","\\Rightarrow");re("\\Rarr","\\Rightarrow");re("\\real","\\Re");re("\\reals","\\mathbb{R}");re("\\Reals","\\mathbb{R}");re("\\Rho","\\mathrm{P}");re("\\sdot","\\cdot");re("\\sect","\\S");re("\\spades","\\spadesuit");re("\\sub","\\subset");re("\\sube","\\subseteq");re("\\supe","\\supseteq");re("\\Tau","\\mathrm{T}");re("\\thetasym","\\vartheta");re("\\weierp","\\wp");re("\\Zeta","\\mathrm{Z}");re("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");re("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");re("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");re("\\bra","\\mathinner{\\langle{#1}|}");re("\\ket","\\mathinner{|{#1}\\rangle}");re("\\braket","\\mathinner{\\langle{#1}\\rangle}");re("\\Bra","\\left\\langle#1\\right|");re("\\Ket","\\left|#1\\right\\rangle");var OD=a(e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,i=t.consumeArg().tokens,s=t.consumeArg().tokens,o=t.macros.get("|"),l=t.macros.get("\\|");t.macros.beginGroup();var u=a(d=>g=>{e&&(g.macros.set("|",o),i.length&&g.macros.set("\\|",l));var m=d;if(!d&&i.length){var y=g.future();y.text==="|"&&(g.popToken(),m=!0)}return{tokens:m?i:n,numArgs:0}},"midMacro");t.macros.set("|",u(!1)),i.length&&t.macros.set("\\|",u(!0));var c=t.consumeArg().tokens,h=t.expandTokens([...s,...c,...r]);return t.macros.endGroup(),{tokens:h.reverse(),numArgs:0}},"braketHelper");re("\\bra@ket",OD(!1));re("\\bra@set",OD(!0));re("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");re("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");re("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");re("\\angln","{\\angl n}");re("\\blue","\\textcolor{##6495ed}{#1}");re("\\orange","\\textcolor{##ffa500}{#1}");re("\\pink","\\textcolor{##ff00af}{#1}");re("\\red","\\textcolor{##df0030}{#1}");re("\\green","\\textcolor{##28ae7b}{#1}");re("\\gray","\\textcolor{gray}{#1}");re("\\purple","\\textcolor{##9d38bd}{#1}");re("\\blueA","\\textcolor{##ccfaff}{#1}");re("\\blueB","\\textcolor{##80f6ff}{#1}");re("\\blueC","\\textcolor{##63d9ea}{#1}");re("\\blueD","\\textcolor{##11accd}{#1}");re("\\blueE","\\textcolor{##0c7f99}{#1}");re("\\tealA","\\textcolor{##94fff5}{#1}");re("\\tealB","\\textcolor{##26edd5}{#1}");re("\\tealC","\\textcolor{##01d1c1}{#1}");re("\\tealD","\\textcolor{##01a995}{#1}");re("\\tealE","\\textcolor{##208170}{#1}");re("\\greenA","\\textcolor{##b6ffb0}{#1}");re("\\greenB","\\textcolor{##8af281}{#1}");re("\\greenC","\\textcolor{##74cf70}{#1}");re("\\greenD","\\textcolor{##1fab54}{#1}");re("\\greenE","\\textcolor{##0d923f}{#1}");re("\\goldA","\\textcolor{##ffd0a9}{#1}");re("\\goldB","\\textcolor{##ffbb71}{#1}");re("\\goldC","\\textcolor{##ff9c39}{#1}");re("\\goldD","\\textcolor{##e07d10}{#1}");re("\\goldE","\\textcolor{##a75a05}{#1}");re("\\redA","\\textcolor{##fca9a9}{#1}");re("\\redB","\\textcolor{##ff8482}{#1}");re("\\redC","\\textcolor{##f9685d}{#1}");re("\\redD","\\textcolor{##e84d39}{#1}");re("\\redE","\\textcolor{##bc2612}{#1}");re("\\maroonA","\\textcolor{##ffbde0}{#1}");re("\\maroonB","\\textcolor{##ff92c6}{#1}");re("\\maroonC","\\textcolor{##ed5fa6}{#1}");re("\\maroonD","\\textcolor{##ca337c}{#1}");re("\\maroonE","\\textcolor{##9e034e}{#1}");re("\\purpleA","\\textcolor{##ddd7ff}{#1}");re("\\purpleB","\\textcolor{##c6b9fc}{#1}");re("\\purpleC","\\textcolor{##aa87ff}{#1}");re("\\purpleD","\\textcolor{##7854ab}{#1}");re("\\purpleE","\\textcolor{##543b78}{#1}");re("\\mintA","\\textcolor{##f5f9e8}{#1}");re("\\mintB","\\textcolor{##edf2df}{#1}");re("\\mintC","\\textcolor{##e0e5cc}{#1}");re("\\grayA","\\textcolor{##f6f7f7}{#1}");re("\\grayB","\\textcolor{##f0f1f2}{#1}");re("\\grayC","\\textcolor{##e3e5e6}{#1}");re("\\grayD","\\textcolor{##d6d8da}{#1}");re("\\grayE","\\textcolor{##babec2}{#1}");re("\\grayF","\\textcolor{##888d93}{#1}");re("\\grayG","\\textcolor{##626569}{#1}");re("\\grayH","\\textcolor{##3b3e40}{#1}");re("\\grayI","\\textcolor{##21242c}{#1}");re("\\kaBlue","\\textcolor{##314453}{#1}");re("\\kaGreen","\\textcolor{##71B307}{#1}");var RD={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class rhe{static{a(this,"MacroExpander")}constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new ehe(the,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new XS(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new Di("EOF",n.loc)),this.pushTokens(i),new Di("",mi.range(r,n))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var i=this.future(),s,o=0,l=0;do{if(s=this.popToken(),r.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new yt("Extra }",s)}else if(s.text==="EOF")throw new yt("Unexpected end of input in a macro argument, expected '"+(t&&n?t[l]:"}")+"'",s);if(t&&n)if((o===0||o===1&&t[l]==="{")&&s.text===t[l]){if(++l,l===t.length){r.splice(-l,l);break}}else l=0}while(o!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:s}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new yt("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var s=this.popToken();if(n[i]!==s.text)throw new yt("Use of the macro doesn't match its definition",s)}}for(var o=[],l=0;l<t;l++)o.push(this.consumeArg(r&&r[l+1]).tokens);return o}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new yt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||t&&i.unexpandable){if(t&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new yt("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var s=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var l=s.length-1;l>=0;--l){var u=s[l];if(u.text==="#"){if(l===0)throw new yt("Incomplete placeholder at end of macro body",u);if(u=s[--l],u.text==="#")s.splice(l+1,1);else if(/^[1-9]$/.test(u.text))s.splice(l,2,...o[+u.text-1]);else throw new yt("Not a valid argument number",u)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Di(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var l=new XS(i,this.settings),u=[],c=l.lex();c.text!=="EOF";)u.push(c),c=l.lex();u.reverse();var h={tokens:u,numArgs:s};return h}return i}isDefined(t){return this.macros.has(t)||Eo.hasOwnProperty(t)||jr.math.hasOwnProperty(t)||jr.text.hasOwnProperty(t)||RD.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Eo.hasOwnProperty(t)&&!Eo[t].primitive}}var WS=/^[]/,$f=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),ny={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},QS={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let PD=class LD{static{a(this,"Parser")}constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new rhe(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new yt("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Di("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(LD.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||t&&Eo[i.text]&&Eo[i.text].infix)break;var s=this.parseAtom(r);if(s){if(s.type==="internal")continue}else break;n.push(s)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,i=0;i<t.length;i++)if(t[i].type==="infix"){if(r!==-1)throw new yt("only one infix operator per group",t[i].token);r=i,n=t[i].replaceWith}if(r!==-1&&n){var s,o,l=t.slice(0,r),u=t.slice(r+1);l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l},u.length===1&&u[0].type==="ordgroup"?o=u[0]:o={type:"ordgroup",mode:this.mode,body:u};var c;return n==="\\\\abovefrac"?c=this.callFunction(n,[s,t[r],o],[]):c=this.callFunction(n,[s,o],[]),[c]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(t)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new yt("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var i={type:"text",mode:this.mode,body:r},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(t){var r=this.parseGroup("atom",t);if(r?.type==="internal"||this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(r&&r.type==="op"){var o=s.text==="\\limits";r.limits=o,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=s.text==="\\limits");else throw new yt("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(n)throw new yt("Double superscript",s);n=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new yt("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(n)throw new yt("Double superscript",s);var l={type:"textord",mode:this.mode,text:"\\prime"},u=[l];for(this.consume();this.fetch().text==="'";)u.push(l),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:u}}else if($f[s.text]){var c=WS.test(s.text),h=[];for(h.push(new Di($f[s.text])),this.consume();;){var d=this.fetch().text;if(!$f[d]||WS.test(d)!==c)break;h.unshift(new Di($f[d])),this.consume()}var g=this.subparse(h);c?i={type:"ordgroup",mode:"math",body:g}:n={type:"ordgroup",mode:"math",body:g}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(t,r){var n=this.fetch(),i=n.text,s=Eo[i];if(!s)return null;if(this.consume(),r&&r!=="atom"&&!s.allowedInArgument)throw new yt("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!s.allowedInText)throw new yt("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&s.allowedInMath===!1)throw new yt("Can't use function '"+i+"' in math mode",n);var{args:o,optArgs:l}=this.parseArguments(i,s);return this.callFunction(i,o,l,n,t)}callFunction(t,r,n,i,s){var o={funcName:t,parser:this,token:i,breakOnTokenText:s},l=Eo[t];if(l&&l.handler)return l.handler(o,r,n);throw new yt("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],s=[],o=0;o<n;o++){var l=r.argTypes&&r.argTypes[o],u=o<r.numOptionalArgs;(r.primitive&&l==null||r.type==="sqrt"&&o===1&&s[0]==null)&&(l="primitive");var c=this.parseGroupOfType("argument to '"+t+"'",l,u);if(u)s.push(c);else if(c!=null)i.push(c);else throw new yt("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",n);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(n)throw new yt("A primitive argument cannot be optional");var o=this.parseGroup(t);if(o==null)throw new yt("Expected group as "+t,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new yt("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(t,r){for(var n=this.fetch(),i=n,s="",o;(o=this.fetch()).text!=="EOF"&&t.test(s+o.text);)i=o,s+=i.text,this.consume();if(s==="")throw new yt("Invalid "+r+": '"+n.text+"'",n);return n.range(i,s)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new yt("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new yt("Invalid size: '"+r.text+"'",r);var s={number:+(i[1]+i[2]),unit:i[3]};if(!GL(s))throw new yt("Invalid unit: '"+s.unit+"'",r);return{type:"size",mode:this.mode,value:s,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:n.loc,body:s};return r&&this.switchMode(i),o}parseGroup(t,r){var n=this.fetch(),i=n.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,o),u=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:mi.range(n,u),body:l,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(r,t)||this.parseSymbol(),s==null&&i[0]==="\\"&&!RD.hasOwnProperty(i)){if(this.settings.throwOnError)throw new yt("Undefined control sequence: "+i,n);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var i=t[n],s=i.text;s==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:mi.range(i,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:mi.range(i,t[n+1]),text:"--"}),r-=1)),(s==="'"||s==="`")&&t[n+1].text===s&&(t.splice(n,2,{type:"textord",mode:"text",loc:mi.range(i,t[n+1]),text:s+s}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new yt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}QS.hasOwnProperty(r[0])&&!jr[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=QS[r[0]]+r.slice(1));var s=Qde.exec(r);s&&(r=r.substring(0,s.index),r==="i"?r="":r==="j"&&(r=""));var o;if(jr[this.mode][r]){this.settings.strict&&this.mode==="math"&&W1.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var l=jr[this.mode][r].group,u=mi.range(t),c;if(Vce.hasOwnProperty(l)){var h=l;c={type:"atom",mode:this.mode,family:h,loc:u,text:r}}else c={type:l,mode:this.mode,loc:u,text:r};o=c}else if(r.charCodeAt(0)>=128)this.settings.strict&&(UL(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),o={type:"textord",mode:"text",loc:mi.range(t),text:r};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var g=s[0][d];if(!ny[g])throw new yt("Unknown accent ' "+g+"'",t);var m=ny[g][this.mode]||ny[g].text;if(!m)throw new yt("Accent "+g+" unsupported in "+this.mode+" mode",t);o={type:"accent",mode:this.mode,loc:mi.range(t),label:m,isStretchy:!1,isShifty:!0,base:o}}return o}};PD.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var x3=a(function(t,r){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new PD(t,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new yt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new Di("\\df@tag")])}]}return i},"parseTree2"),E3=a(function(t,r,n){r.textContent="";var i=gg(t,n).toNode();r.appendChild(i)},"render2");typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),E3=a(function(){throw new yt("KaTeX doesn't work in quirks mode.")},"render3"));var DD=a(function(t,r){var n=gg(t,r).toMarkup();return n},"renderToString2"),jD=a(function(t,r){var n=new i3(r);return x3(t,n)},"generateParseTree2"),BD=a(function(t,r,n){if(n.throwOnError||!(t instanceof yt))throw t;var i=Xe.makeSpan(["katex-error"],[new na(r)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+n.errorColor),i},"renderError2"),gg=a(function(t,r){var n=new i3(r);try{var i=x3(t,n);return fde(i,t,n)}catch(s){return BD(s,t,n)}},"renderToDomTree2"),zD=a(function(t,r){var n=new i3(r);try{var i=x3(t,n);return pde(i,t,n)}catch(s){return BD(s,t,n)}},"renderToHTMLTree2"),FD="0.16.25",UD={Span:Jh,Anchor:o3,SymbolNode:na,SvgNode:qs,PathNode:jo,LineNode:K1},n2={version:FD,render:E3,renderToString:DD,ParseError:yt,SETTINGS_SCHEMA:gd,__parse:jD,__renderToDomTree:gg,__renderToHTMLTree:zD,__setFontMetrics:HL,__defineSymbol:j,__defineFunction:Mt,__defineMacro:re,__domTree:UD};const N3e=Object.freeze(Object.defineProperty({__proto__:null,ParseError:yt,SETTINGS_SCHEMA:gd,__defineFunction:Mt,__defineMacro:re,__defineSymbol:j,__domTree:UD,__parse:jD,__renderToDomTree:gg,__renderToHTMLTree:zD,__setFontMetrics:HL,default:n2,get render(){return E3},renderToString:DD,version:FD},Symbol.toStringTag,{value:"Module"})),nhe={},ihe=[];function i2(e){const t=e||nhe;return function(r,n){NA(r,"element",function(i,s){const o=Array.isArray(i.properties.className)?i.properties.className:ihe,l=o.includes("language-math"),u=o.includes("math-display"),c=o.includes("math-inline");let h=u;if(!l&&!u&&!c)return;let d=s[s.length-1],g=i;if(i.tagName==="code"&&l&&d&&d.type==="element"&&d.tagName==="pre"&&(g=d,d=s[s.length-2],h=!0),!d)return;const m=nce(g,{whitespace:"pre"});let y;try{y=n2.renderToString(m,{...t,displayMode:h,throwOnError:!0})}catch(A){const C=A,M=C.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...s,i],cause:C,place:i.position,ruleId:M,source:"rehype-katex"});try{y=n2.renderToString(m,{...t,displayMode:h,strict:"ignore",throwOnError:!1})}catch{y=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(A)},children:[{type:"text",value:m}]}]}}typeof y=="string"&&(y=Jue(y).children);const x=d.children.indexOf(g);return d.children.splice(x,1,...y),jy})}}a(i2,"rehypeKatex");function ahe(e){const t=String(e),r=[];return{toOffset:i,toPoint:n};function n(s){if(typeof s=="number"&&s>-1&&s<=t.length){let o=0;for(;;){let l=r[o];if(l===void 0){const u=qS(t,r[o-1]);l=u===-1?t.length+1:u+1,r[o]=l}if(l>s)return{line:o+1,column:s-(o>0?r[o-1]:0)+1,offset:s};o++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;r.length<s.line;){const l=r[r.length-1],u=qS(t,l),c=u===-1?t.length+1:u+1;if(l===c)break;r.push(c)}const o=(s.line>1?r[s.line-2]:0)+s.column-1;if(o<r[s.line-1])return o}}}a(ahe,"location$1");function qS(e,t){const r=e.indexOf("\r",t),n=e.indexOf(`
`,t);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}a(qS,"next");const HD={}.hasOwnProperty,she=Object.prototype;function ohe(e,t){const r=t||{};return S3({file:r.file||void 0,location:!1,schema:r.space==="svg"?Sh:nm,verbose:r.verbose||!1},e)}a(ohe,"fromParse5");function S3(e,t){let r;switch(t.nodeName){case"#comment":{const n=t;return r={type:"comment",value:n.data},T0(e,n,r),r}case"#document":case"#document-fragment":{const n=t,i="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:GD(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=ahe(s),l=o.toPoint(0),u=o.toPoint(s.length);r.position={start:l,end:u}}return r}case"#documentType":{const n=t;return r={type:"doctype"},T0(e,n,r),r}case"#text":{const n=t;return r={type:"text",value:n.value},T0(e,n,r),r}default:return r=lhe(e,t),r}}a(S3,"one$2");function GD(e,t){let r=-1;const n=[];for(;++r<t.length;){const i=S3(e,t[r]);n.push(i)}return n}a(GD,"all$3");function lhe(e,t){const r=e.schema;e.schema=t.namespaceURI===Wa.svg?Sh:nm;let n=-1;const i={};for(;++n<t.attrs.length;){const l=t.attrs[n],u=(l.prefix?l.prefix+":":"")+l.name;HD.call(she,u)||(i[u]=l.value)}const o=(e.schema.space==="svg"?RL:OL)(t.tagName,i,GD(e,t.childNodes));if(T0(e,t,o),o.tagName==="template"){const l=t,u=l.sourceCodeLocation,c=u&&u.startTag&&Su(u.startTag),h=u&&u.endTag&&Su(u.endTag),d=S3(e,l.content);c&&h&&e.file&&(d.position={start:c.end,end:h.start}),o.content=d}return e.schema=r,o}a(lhe,"element$3");function T0(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const n=uhe(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}a(T0,"patch$1");function uhe(e,t,r){const n=Su(r);if(t.type==="element"){const i=t.children[t.children.length-1];if(n&&!r.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(r.attrs)for(o in r.attrs)HD.call(r.attrs,o)&&(s[F2(e.schema,o).property]=Su(r.attrs[o]));qn(r.startTag);const l=Su(r.startTag),u=r.endTag?Su(r.endTag):void 0,c={opening:l};u&&(c.closing=u),c.properties=s,t.data={position:c}}}return n}a(uhe,"createLocation");function Su(e){const t=e9({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=e9({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}a(Su,"position");function e9(e){return e.line&&e.column?e:void 0}a(e9,"point");class Wh{static{a(this,"Schema")}constructor(t,r,n){this.property=t,this.normal=r,n&&(this.space=n)}}Wh.prototype.property={};Wh.prototype.normal={};Wh.prototype.space=null;function VD(e,t){const r={},n={};let i=-1;for(;++i<e.length;)Object.assign(r,e[i].property),Object.assign(n,e[i].normal);return new Wh(r,n,t)}a(VD,"merge");function a2(e){return e.toLowerCase()}a(a2,"normalize");class aa{static{a(this,"Info")}constructor(t,r){this.property=t,this.attribute=r}}aa.prototype.space=null;aa.prototype.boolean=!1;aa.prototype.booleanish=!1;aa.prototype.overloadedBoolean=!1;aa.prototype.number=!1;aa.prototype.commaSeparated=!1;aa.prototype.spaceSeparated=!1;aa.prototype.commaOrSpaceSeparated=!1;aa.prototype.mustUseProperty=!1;aa.prototype.defined=!1;let che=0;const nr=Ql(),fn=Ql(),YD=Ql(),wt=Ql(),Dr=Ql(),Ou=Ql(),Ci=Ql();function Ql(){return 2**++che}a(Ql,"increment");const s2=Object.freeze(Object.defineProperty({__proto__:null,boolean:nr,booleanish:fn,commaOrSpaceSeparated:Ci,commaSeparated:Ou,number:wt,overloadedBoolean:YD,spaceSeparated:Dr},Symbol.toStringTag,{value:"Module"})),iy=Object.keys(s2);class k3 extends aa{static{a(this,"DefinedInfo")}constructor(t,r,n,i){let s=-1;if(super(t,r),t9(this,"space",i),typeof n=="number")for(;++s<iy.length;){const o=iy[s];t9(this,iy[s],(n&s2[o])===s2[o])}}}k3.prototype.defined=!0;function t9(e,t,r){r&&(e[t]=r)}a(t9,"mark");const dhe={}.hasOwnProperty;function uc(e){const t={},r={};let n;for(n in e.properties)if(dhe.call(e.properties,n)){const i=e.properties[n],s=new k3(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[a2(n)]=n,r[a2(s.attribute)]=n}return new Wh(t,r,e.space)}a(uc,"create");const ZD=uc({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),$D=uc({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function XD(e,t){return t in e?e[t]:t}a(XD,"caseSensitiveTransform");function JD(e,t){return XD(e,t.toLowerCase())}a(JD,"caseInsensitiveTransform");const KD=uc({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:JD,properties:{xmlns:null,xmlnsXLink:null}}),WD=uc({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:fn,ariaAutoComplete:null,ariaBusy:fn,ariaChecked:fn,ariaColCount:wt,ariaColIndex:wt,ariaColSpan:wt,ariaControls:Dr,ariaCurrent:null,ariaDescribedBy:Dr,ariaDetails:null,ariaDisabled:fn,ariaDropEffect:Dr,ariaErrorMessage:null,ariaExpanded:fn,ariaFlowTo:Dr,ariaGrabbed:fn,ariaHasPopup:null,ariaHidden:fn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Dr,ariaLevel:wt,ariaLive:null,ariaModal:fn,ariaMultiLine:fn,ariaMultiSelectable:fn,ariaOrientation:null,ariaOwns:Dr,ariaPlaceholder:null,ariaPosInSet:wt,ariaPressed:fn,ariaReadOnly:fn,ariaRelevant:null,ariaRequired:fn,ariaRoleDescription:Dr,ariaRowCount:wt,ariaRowIndex:wt,ariaRowSpan:wt,ariaSelected:fn,ariaSetSize:wt,ariaSort:null,ariaValueMax:wt,ariaValueMin:wt,ariaValueNow:wt,ariaValueText:null,role:null}}),hhe=uc({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:JD,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ou,acceptCharset:Dr,accessKey:Dr,action:null,allow:null,allowFullScreen:nr,allowPaymentRequest:nr,allowUserMedia:nr,alt:null,as:null,async:nr,autoCapitalize:null,autoComplete:Dr,autoFocus:nr,autoPlay:nr,blocking:Dr,capture:null,charSet:null,checked:nr,cite:null,className:Dr,cols:wt,colSpan:null,content:null,contentEditable:fn,controls:nr,controlsList:Dr,coords:wt|Ou,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nr,defer:nr,dir:null,dirName:null,disabled:nr,download:YD,draggable:fn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nr,formTarget:null,headers:Dr,height:wt,hidden:nr,high:wt,href:null,hrefLang:null,htmlFor:Dr,httpEquiv:Dr,id:null,imageSizes:null,imageSrcSet:null,inert:nr,inputMode:null,integrity:null,is:null,isMap:nr,itemId:null,itemProp:Dr,itemRef:Dr,itemScope:nr,itemType:Dr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nr,low:wt,manifest:null,max:null,maxLength:wt,media:null,method:null,min:null,minLength:wt,multiple:nr,muted:nr,name:null,nonce:null,noModule:nr,noValidate:nr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nr,optimum:wt,pattern:null,ping:Dr,placeholder:null,playsInline:nr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nr,referrerPolicy:null,rel:Dr,required:nr,reversed:nr,rows:wt,rowSpan:wt,sandbox:Dr,scope:null,scoped:nr,seamless:nr,selected:nr,shadowRootClonable:nr,shadowRootDelegatesFocus:nr,shadowRootMode:null,shape:null,size:wt,sizes:null,slot:null,span:wt,spellCheck:fn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:wt,step:null,style:null,tabIndex:wt,target:null,title:null,translate:null,type:null,typeMustMatch:nr,useMap:null,value:fn,width:wt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Dr,axis:null,background:null,bgColor:null,border:wt,borderColor:null,bottomMargin:wt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nr,declare:nr,event:null,face:null,frame:null,frameBorder:null,hSpace:wt,leftMargin:wt,link:null,longDesc:null,lowSrc:null,marginHeight:wt,marginWidth:wt,noResize:nr,noHref:nr,noShade:nr,noWrap:nr,object:null,profile:null,prompt:null,rev:null,rightMargin:wt,rules:null,scheme:null,scrolling:fn,standby:null,summary:null,text:null,topMargin:wt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:wt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nr,disableRemotePlayback:nr,prefix:null,property:null,results:wt,security:null,unselectable:null}}),fhe=uc({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:XD,properties:{about:Ci,accentHeight:wt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:wt,amplitude:wt,arabicForm:null,ascent:wt,attributeName:null,attributeType:null,azimuth:wt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:wt,by:null,calcMode:null,capHeight:wt,className:Dr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:wt,diffuseConstant:wt,direction:null,display:null,dur:null,divisor:wt,dominantBaseline:null,download:nr,dx:null,dy:null,edgeMode:null,editable:null,elevation:wt,enableBackground:null,end:null,event:null,exponent:wt,externalResourcesRequired:null,fill:null,fillOpacity:wt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ou,g2:Ou,glyphName:Ou,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:wt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:wt,horizOriginX:wt,horizOriginY:wt,id:null,ideographic:wt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:wt,k:wt,k1:wt,k2:wt,k3:wt,k4:wt,kernelMatrix:Ci,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:wt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:wt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:wt,overlineThickness:wt,paintOrder:null,panose1:null,path:null,pathLength:wt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Dr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:wt,pointsAtY:wt,pointsAtZ:wt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ci,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ci,rev:Ci,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ci,requiredFeatures:Ci,requiredFonts:Ci,requiredFormats:Ci,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:wt,specularExponent:wt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:wt,strikethroughThickness:wt,string:null,stroke:null,strokeDashArray:Ci,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:wt,strokeOpacity:wt,strokeWidth:null,style:null,surfaceScale:wt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ci,tabIndex:wt,tableValues:null,target:null,targetX:wt,targetY:wt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ci,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:wt,underlineThickness:wt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:wt,values:null,vAlphabetic:wt,vMathematical:wt,vectorEffect:null,vHanging:wt,vIdeographic:wt,version:null,vertAdvY:wt,vertOriginX:wt,vertOriginY:wt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:wt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),phe=/^data[-\w.:]+$/i,r9=/-[a-z]/g,mhe=/[A-Z]/g;function ghe(e,t){const r=a2(t);let n=t,i=aa;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&phe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(r9,bhe);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!r9.test(s)){let o=s.replace(mhe,vhe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=k3}return new i(n,t)}a(ghe,"find");function vhe(e){return"-"+e.toLowerCase()}a(vhe,"kebab");function bhe(e){return e.charAt(1).toUpperCase()}a(bhe,"camelcase");const yhe=VD([$D,ZD,KD,WD,hhe],"html"),QD=VD([$D,ZD,KD,WD,fhe],"svg"),n9={}.hasOwnProperty;function A3(e,t){const r=t||{};function n(i,...s){let o=n.invalid;const l=n.handlers;if(i&&n9.call(i,e)){const u=String(i[e]);o=n9.call(l,u)?l[u]:n.unknown}if(o)return o.call(this,i,...s)}return a(n,"one"),n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}a(A3,"zwitch");const whe={},_he={}.hasOwnProperty,qD=A3("type",{handlers:{root:Ehe,element:Nhe,text:Ahe,comment:The,doctype:khe}});function xhe(e,t){const n=(t||whe).space;return qD(e,n==="svg"?QD:yhe)}a(xhe,"toParse5");function Ehe(e,t){const r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=T3(e.children,r,t),cc(e,r),r}a(Ehe,"root$3");function She(e,t){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=T3(e.children,r,t),cc(e,r),r}a(She,"fragment");function khe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return cc(e,t),t}a(khe,"doctype$2");function Ahe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return cc(e,t),t}a(Ahe,"text$4");function The(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return cc(e,t),t}a(The,"comment$2");function Nhe(e,t){const r=t;let n=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=QD);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&_he.call(e.properties,s)){const u=Che(n,s,e.properties[s]);u&&i.push(u)}}const o=n.space,l={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Wa[o],childNodes:[],parentNode:null};return l.childNodes=T3(e.children,l,n),cc(e,l),e.tagName==="template"&&e.content&&(l.content=She(e.content,n)),l}a(Nhe,"element$2");function Che(e,t,r){const n=ghe(e,t);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?CA(r):IA(r));const i={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=n.attribute.slice(0,s)),i.namespace=Wa[n.space]}return i}a(Che,"createProperty");function T3(e,t,r){let n=-1;const i=[];if(e)for(;++n<e.length;){const s=qD(e[n],r);s.parentNode=t,i.push(s)}return i}a(T3,"all$2");function cc(e,t){const r=e.position;r&&r.start&&r.end&&(qn(typeof r.start.offset=="number"),qn(typeof r.end.offset=="number"),t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}a(cc,"patch");const ej=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Ihe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Vr="";var he;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(he||(he={}));const di={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function tj(e){return e>=55296&&e<=57343}a(tj,"isSurrogate");function Mhe(e){return e>=56320&&e<=57343}a(Mhe,"isSurrogatePair");function Ohe(e,t){return(e-55296)*1024+9216+t}a(Ohe,"getSurrogatePairCodePoint");function rj(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}a(rj,"isControlCodePoint");function nj(e){return e>=64976&&e<=65007||Ihe.has(e)}a(nj,"isUndefinedCodePoint");var it;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(it||(it={}));const Rhe=65536;class Phe{static{a(this,"Preprocessor")}constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Rhe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:i,offset:s}=this,o=i+r,l=s+r;return{code:t,startLine:n,endLine:n,startCol:o,endCol:o,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(Mhe(r))return this.pos++,this._addGap(),Ohe(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,he.EOF;return this._err(it.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,he.EOF;const n=this.html.charCodeAt(r);return n===he.CARRIAGE_RETURN?he.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,he.EOF;let t=this.html.charCodeAt(this.pos);return t===he.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,he.LINE_FEED):t===he.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,tj(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===he.LINE_FEED||t===he.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){rj(t)?this._err(it.controlCharacterInInputStream):nj(t)&&this._err(it.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var cr;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(cr||(cr={}));function ij(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}a(ij,"getTokenAttr");const Lhe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Dhe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function jhe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Dhe.get(e))!==null&&t!==void 0?t:e}a(jhe,"replaceCodePoint");var Rn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Rn||(Rn={}));const Bhe=32;var So;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(So||(So={}));function o2(e){return e>=Rn.ZERO&&e<=Rn.NINE}a(o2,"isNumber");function zhe(e){return e>=Rn.UPPER_A&&e<=Rn.UPPER_F||e>=Rn.LOWER_A&&e<=Rn.LOWER_F}a(zhe,"isHexadecimalCharacter");function Fhe(e){return e>=Rn.UPPER_A&&e<=Rn.UPPER_Z||e>=Rn.LOWER_A&&e<=Rn.LOWER_Z||o2(e)}a(Fhe,"isAsciiAlphaNumeric$1");function Uhe(e){return e===Rn.EQUALS||Fhe(e)}a(Uhe,"isEntityInAttributeInvalidEnd");var Cn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Cn||(Cn={}));var zs;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(zs||(zs={}));class Hhe{static{a(this,"EntityDecoder")}constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=Cn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=zs.Strict}startEntity(t){this.decodeMode=t,this.state=Cn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case Cn.EntityStart:return t.charCodeAt(r)===Rn.NUM?(this.state=Cn.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=Cn.NamedEntity,this.stateNamedEntity(t,r));case Cn.NumericStart:return this.stateNumericStart(t,r);case Cn.NumericDecimal:return this.stateNumericDecimal(t,r);case Cn.NumericHex:return this.stateNumericHex(t,r);case Cn.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|Bhe)===Rn.LOWER_X?(this.state=Cn.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=Cn.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,i){if(r!==n){const s=n-r;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(r,s),i),this.consumed+=s}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(o2(i)||zhe(i))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(o2(i))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Rn.SEMI)this.consumed+=1;else if(this.decodeMode===zs.Strict)return 0;return this.emitCodePoint(jhe(this.result),this.consumed),this.errors&&(t!==Rn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let i=n[this.treeIndex],s=(i&So.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const o=t.charCodeAt(r);if(this.treeIndex=Ghe(n,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===zs.Attribute&&(s===0||Uhe(o))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],s=(i&So.VALUE_LENGTH)>>14,s!==0){if(o===Rn.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==zs.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,i=(n[r]&So.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[t]&~So.VALUE_LENGTH:i[t+1],n),r===3&&this.emitCodePoint(i[t+2],n),n}end(){var t;switch(this.state){case Cn.NamedEntity:return this.result!==0&&(this.decodeMode!==zs.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Cn.NumericDecimal:return this.emitNumericEntity(0,2);case Cn.NumericHex:return this.emitNumericEntity(0,3);case Cn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Cn.EntityStart:return 0}}}function Ghe(e,t,r,n){const i=(t&So.BRANCH_LENGTH)>>7,s=t&So.JUMP_TABLE;if(i===0)return s!==0&&n===s?r:-1;if(s){const u=n-s;return u<0||u>=i?-1:e[r+u]-1}let o=r,l=o+i-1;for(;o<=l;){const u=o+l>>>1,c=e[u];if(c<n)o=u+1;else if(c>n)l=u-1;else return e[u+i]}return-1}a(Ghe,"determineBranch");var pt;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(pt||(pt={}));var Sl;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Sl||(Sl={}));var Xi;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Xi||(Xi={}));var Ve;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ve||(Ve={}));var D;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(D||(D={}));const Vhe=new Map([[Ve.A,D.A],[Ve.ADDRESS,D.ADDRESS],[Ve.ANNOTATION_XML,D.ANNOTATION_XML],[Ve.APPLET,D.APPLET],[Ve.AREA,D.AREA],[Ve.ARTICLE,D.ARTICLE],[Ve.ASIDE,D.ASIDE],[Ve.B,D.B],[Ve.BASE,D.BASE],[Ve.BASEFONT,D.BASEFONT],[Ve.BGSOUND,D.BGSOUND],[Ve.BIG,D.BIG],[Ve.BLOCKQUOTE,D.BLOCKQUOTE],[Ve.BODY,D.BODY],[Ve.BR,D.BR],[Ve.BUTTON,D.BUTTON],[Ve.CAPTION,D.CAPTION],[Ve.CENTER,D.CENTER],[Ve.CODE,D.CODE],[Ve.COL,D.COL],[Ve.COLGROUP,D.COLGROUP],[Ve.DD,D.DD],[Ve.DESC,D.DESC],[Ve.DETAILS,D.DETAILS],[Ve.DIALOG,D.DIALOG],[Ve.DIR,D.DIR],[Ve.DIV,D.DIV],[Ve.DL,D.DL],[Ve.DT,D.DT],[Ve.EM,D.EM],[Ve.EMBED,D.EMBED],[Ve.FIELDSET,D.FIELDSET],[Ve.FIGCAPTION,D.FIGCAPTION],[Ve.FIGURE,D.FIGURE],[Ve.FONT,D.FONT],[Ve.FOOTER,D.FOOTER],[Ve.FOREIGN_OBJECT,D.FOREIGN_OBJECT],[Ve.FORM,D.FORM],[Ve.FRAME,D.FRAME],[Ve.FRAMESET,D.FRAMESET],[Ve.H1,D.H1],[Ve.H2,D.H2],[Ve.H3,D.H3],[Ve.H4,D.H4],[Ve.H5,D.H5],[Ve.H6,D.H6],[Ve.HEAD,D.HEAD],[Ve.HEADER,D.HEADER],[Ve.HGROUP,D.HGROUP],[Ve.HR,D.HR],[Ve.HTML,D.HTML],[Ve.I,D.I],[Ve.IMG,D.IMG],[Ve.IMAGE,D.IMAGE],[Ve.INPUT,D.INPUT],[Ve.IFRAME,D.IFRAME],[Ve.KEYGEN,D.KEYGEN],[Ve.LABEL,D.LABEL],[Ve.LI,D.LI],[Ve.LINK,D.LINK],[Ve.LISTING,D.LISTING],[Ve.MAIN,D.MAIN],[Ve.MALIGNMARK,D.MALIGNMARK],[Ve.MARQUEE,D.MARQUEE],[Ve.MATH,D.MATH],[Ve.MENU,D.MENU],[Ve.META,D.META],[Ve.MGLYPH,D.MGLYPH],[Ve.MI,D.MI],[Ve.MO,D.MO],[Ve.MN,D.MN],[Ve.MS,D.MS],[Ve.MTEXT,D.MTEXT],[Ve.NAV,D.NAV],[Ve.NOBR,D.NOBR],[Ve.NOFRAMES,D.NOFRAMES],[Ve.NOEMBED,D.NOEMBED],[Ve.NOSCRIPT,D.NOSCRIPT],[Ve.OBJECT,D.OBJECT],[Ve.OL,D.OL],[Ve.OPTGROUP,D.OPTGROUP],[Ve.OPTION,D.OPTION],[Ve.P,D.P],[Ve.PARAM,D.PARAM],[Ve.PLAINTEXT,D.PLAINTEXT],[Ve.PRE,D.PRE],[Ve.RB,D.RB],[Ve.RP,D.RP],[Ve.RT,D.RT],[Ve.RTC,D.RTC],[Ve.RUBY,D.RUBY],[Ve.S,D.S],[Ve.SCRIPT,D.SCRIPT],[Ve.SEARCH,D.SEARCH],[Ve.SECTION,D.SECTION],[Ve.SELECT,D.SELECT],[Ve.SOURCE,D.SOURCE],[Ve.SMALL,D.SMALL],[Ve.SPAN,D.SPAN],[Ve.STRIKE,D.STRIKE],[Ve.STRONG,D.STRONG],[Ve.STYLE,D.STYLE],[Ve.SUB,D.SUB],[Ve.SUMMARY,D.SUMMARY],[Ve.SUP,D.SUP],[Ve.TABLE,D.TABLE],[Ve.TBODY,D.TBODY],[Ve.TEMPLATE,D.TEMPLATE],[Ve.TEXTAREA,D.TEXTAREA],[Ve.TFOOT,D.TFOOT],[Ve.TD,D.TD],[Ve.TH,D.TH],[Ve.THEAD,D.THEAD],[Ve.TITLE,D.TITLE],[Ve.TR,D.TR],[Ve.TRACK,D.TRACK],[Ve.TT,D.TT],[Ve.U,D.U],[Ve.UL,D.UL],[Ve.SVG,D.SVG],[Ve.VAR,D.VAR],[Ve.WBR,D.WBR],[Ve.XMP,D.XMP]]);function dc(e){var t;return(t=Vhe.get(e))!==null&&t!==void 0?t:D.UNKNOWN}a(dc,"getTagID");const gt=D,Yhe={[pt.HTML]:new Set([gt.ADDRESS,gt.APPLET,gt.AREA,gt.ARTICLE,gt.ASIDE,gt.BASE,gt.BASEFONT,gt.BGSOUND,gt.BLOCKQUOTE,gt.BODY,gt.BR,gt.BUTTON,gt.CAPTION,gt.CENTER,gt.COL,gt.COLGROUP,gt.DD,gt.DETAILS,gt.DIR,gt.DIV,gt.DL,gt.DT,gt.EMBED,gt.FIELDSET,gt.FIGCAPTION,gt.FIGURE,gt.FOOTER,gt.FORM,gt.FRAME,gt.FRAMESET,gt.H1,gt.H2,gt.H3,gt.H4,gt.H5,gt.H6,gt.HEAD,gt.HEADER,gt.HGROUP,gt.HR,gt.HTML,gt.IFRAME,gt.IMG,gt.INPUT,gt.LI,gt.LINK,gt.LISTING,gt.MAIN,gt.MARQUEE,gt.MENU,gt.META,gt.NAV,gt.NOEMBED,gt.NOFRAMES,gt.NOSCRIPT,gt.OBJECT,gt.OL,gt.P,gt.PARAM,gt.PLAINTEXT,gt.PRE,gt.SCRIPT,gt.SECTION,gt.SELECT,gt.SOURCE,gt.STYLE,gt.SUMMARY,gt.TABLE,gt.TBODY,gt.TD,gt.TEMPLATE,gt.TEXTAREA,gt.TFOOT,gt.TH,gt.THEAD,gt.TITLE,gt.TR,gt.TRACK,gt.UL,gt.WBR,gt.XMP]),[pt.MATHML]:new Set([gt.MI,gt.MO,gt.MN,gt.MS,gt.MTEXT,gt.ANNOTATION_XML]),[pt.SVG]:new Set([gt.TITLE,gt.FOREIGN_OBJECT,gt.DESC]),[pt.XLINK]:new Set,[pt.XML]:new Set,[pt.XMLNS]:new Set},l2=new Set([gt.H1,gt.H2,gt.H3,gt.H4,gt.H5,gt.H6]);Ve.STYLE,Ve.SCRIPT,Ve.XMP,Ve.IFRAME,Ve.NOEMBED,Ve.NOFRAMES,Ve.PLAINTEXT;var be;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(be||(be={}));const un={DATA:be.DATA,RCDATA:be.RCDATA,RAWTEXT:be.RAWTEXT,SCRIPT_DATA:be.SCRIPT_DATA,PLAINTEXT:be.PLAINTEXT,CDATA_SECTION:be.CDATA_SECTION};function Zhe(e){return e>=he.DIGIT_0&&e<=he.DIGIT_9}a(Zhe,"isAsciiDigit");function ud(e){return e>=he.LATIN_CAPITAL_A&&e<=he.LATIN_CAPITAL_Z}a(ud,"isAsciiUpper");function $he(e){return e>=he.LATIN_SMALL_A&&e<=he.LATIN_SMALL_Z}a($he,"isAsciiLower");function vo(e){return $he(e)||ud(e)}a(vo,"isAsciiLetter");function i9(e){return vo(e)||Zhe(e)}a(i9,"isAsciiAlphaNumeric");function Xf(e){return e+32}a(Xf,"toAsciiLower");function aj(e){return e===he.SPACE||e===he.LINE_FEED||e===he.TABULATION||e===he.FORM_FEED}a(aj,"isWhitespace");function a9(e){return aj(e)||e===he.SOLIDUS||e===he.GREATER_THAN_SIGN}a(a9,"isScriptDataDoubleEscapeSequenceEnd");function Xhe(e){return e===he.NULL?it.nullCharacterReference:e>1114111?it.characterReferenceOutsideUnicodeRange:tj(e)?it.surrogateCharacterReference:nj(e)?it.noncharacterCharacterReference:rj(e)||e===he.CARRIAGE_RETURN?it.controlCharacterReference:null}a(Xhe,"getErrorForNumericCharacterReference");class Jhe{static{a(this,"Tokenizer")}constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=be.DATA,this.returnState=be.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Phe(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Hhe(Lhe,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:a(()=>{this._err(it.missingSemicolonAfterCharacterReference,1)},"missingSemicolonAfterCharacterReference"),absenceOfDigitsInNumericCharacterReference:a(n=>{this._err(it.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},"absenceOfDigitsInNumericCharacterReference"),validateNumericCharacterReference:a(n=>{const i=Xhe(n);i&&this._err(i,1)},"validateNumericCharacterReference")}:void 0)}_err(t,r=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:cr.START_TAG,tagName:"",tagID:D.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:cr.END_TAG,tagName:"",tagID:D.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:cr.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:cr.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if(ij(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(it.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=dc(t.tagName),t.type===cr.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(it.endTagWithAttributes),t.selfClosing&&this._err(it.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case cr.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case cr.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case cr.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:cr.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=aj(t)?cr.WHITESPACE_CHARACTER:t===he.NULL?cr.NULL_CHARACTER:cr.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(cr.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=be.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?zs.Attribute:zs.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===be.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===be.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===be.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case be.DATA:{this._stateData(t);break}case be.RCDATA:{this._stateRcdata(t);break}case be.RAWTEXT:{this._stateRawtext(t);break}case be.SCRIPT_DATA:{this._stateScriptData(t);break}case be.PLAINTEXT:{this._statePlaintext(t);break}case be.TAG_OPEN:{this._stateTagOpen(t);break}case be.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case be.TAG_NAME:{this._stateTagName(t);break}case be.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case be.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case be.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case be.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case be.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case be.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case be.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case be.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case be.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case be.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case be.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case be.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case be.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case be.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case be.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case be.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case be.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case be.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case be.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case be.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case be.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case be.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case be.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case be.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case be.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case be.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case be.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case be.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case be.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case be.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case be.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case be.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case be.BOGUS_COMMENT:{this._stateBogusComment(t);break}case be.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case be.COMMENT_START:{this._stateCommentStart(t);break}case be.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case be.COMMENT:{this._stateComment(t);break}case be.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case be.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case be.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case be.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case be.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case be.COMMENT_END:{this._stateCommentEnd(t);break}case be.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case be.DOCTYPE:{this._stateDoctype(t);break}case be.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case be.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case be.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case be.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case be.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case be.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case be.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case be.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case be.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case be.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case be.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case be.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case be.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case be.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case be.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case be.CDATA_SECTION:{this._stateCdataSection(t);break}case be.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case be.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case be.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case be.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case he.LESS_THAN_SIGN:{this.state=be.TAG_OPEN;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.NULL:{this._err(it.unexpectedNullCharacter),this._emitCodePoint(t);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case he.AMPERSAND:{this._startCharacterReference();break}case he.LESS_THAN_SIGN:{this.state=be.RCDATA_LESS_THAN_SIGN;break}case he.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Vr);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case he.LESS_THAN_SIGN:{this.state=be.RAWTEXT_LESS_THAN_SIGN;break}case he.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Vr);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case he.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_LESS_THAN_SIGN;break}case he.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Vr);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case he.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Vr);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(vo(t))this._createStartTagToken(),this.state=be.TAG_NAME,this._stateTagName(t);else switch(t){case he.EXCLAMATION_MARK:{this.state=be.MARKUP_DECLARATION_OPEN;break}case he.SOLIDUS:{this.state=be.END_TAG_OPEN;break}case he.QUESTION_MARK:{this._err(it.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=be.BOGUS_COMMENT,this._stateBogusComment(t);break}case he.EOF:{this._err(it.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(it.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=be.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(vo(t))this._createEndTagToken(),this.state=be.TAG_NAME,this._stateTagName(t);else switch(t){case he.GREATER_THAN_SIGN:{this._err(it.missingEndTagName),this.state=be.DATA;break}case he.EOF:{this._err(it.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(it.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=be.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=be.BEFORE_ATTRIBUTE_NAME;break}case he.SOLIDUS:{this.state=be.SELF_CLOSING_START_TAG;break}case he.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentTagToken();break}case he.NULL:{this._err(it.unexpectedNullCharacter),r.tagName+=Vr;break}case he.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(ud(t)?Xf(t):t)}}_stateRcdataLessThanSign(t){t===he.SOLIDUS?this.state=be.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=be.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){vo(t)?(this.state=be.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=be.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=be.BEFORE_ATTRIBUTE_NAME,!1;case he.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=be.SELF_CLOSING_START_TAG,!1;case he.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=be.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=be.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===he.SOLIDUS?this.state=be.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=be.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){vo(t)?(this.state=be.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=be.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=be.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case he.SOLIDUS:{this.state=be.SCRIPT_DATA_END_TAG_OPEN;break}case he.EXCLAMATION_MARK:{this.state=be.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=be.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){vo(t)?(this.state=be.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=be.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=be.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===he.HYPHEN_MINUS?(this.state=be.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=be.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===he.HYPHEN_MINUS?(this.state=be.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=be.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case he.HYPHEN_MINUS:{this.state=be.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case he.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Vr);break}case he.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case he.HYPHEN_MINUS:{this.state=be.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case he.NULL:{this._err(it.unexpectedNullCharacter),this.state=be.SCRIPT_DATA_ESCAPED,this._emitChars(Vr);break}case he.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=be.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case he.HYPHEN_MINUS:{this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case he.GREATER_THAN_SIGN:{this.state=be.SCRIPT_DATA,this._emitChars(">");break}case he.NULL:{this._err(it.unexpectedNullCharacter),this.state=be.SCRIPT_DATA_ESCAPED,this._emitChars(Vr);break}case he.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=be.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===he.SOLIDUS?this.state=be.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:vo(t)?(this._emitChars("<"),this.state=be.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=be.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){vo(t)?(this.state=be.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=be.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=be.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(di.SCRIPT,!1)&&a9(this.preprocessor.peek(di.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<di.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=be.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case he.HYPHEN_MINUS:{this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case he.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Vr);break}case he.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case he.HYPHEN_MINUS:{this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case he.NULL:{this._err(it.unexpectedNullCharacter),this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Vr);break}case he.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case he.HYPHEN_MINUS:{this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case he.GREATER_THAN_SIGN:{this.state=be.SCRIPT_DATA,this._emitChars(">");break}case he.NULL:{this._err(it.unexpectedNullCharacter),this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Vr);break}case he.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===he.SOLIDUS?(this.state=be.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(di.SCRIPT,!1)&&a9(this.preprocessor.peek(di.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<di.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=be.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.SOLIDUS:case he.GREATER_THAN_SIGN:case he.EOF:{this.state=be.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case he.EQUALS_SIGN:{this._err(it.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=be.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=be.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:case he.SOLIDUS:case he.GREATER_THAN_SIGN:case he.EOF:{this._leaveAttrName(),this.state=be.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case he.EQUALS_SIGN:{this._leaveAttrName(),this.state=be.BEFORE_ATTRIBUTE_VALUE;break}case he.QUOTATION_MARK:case he.APOSTROPHE:case he.LESS_THAN_SIGN:{this._err(it.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case he.NULL:{this._err(it.unexpectedNullCharacter),this.currentAttr.name+=Vr;break}default:this.currentAttr.name+=String.fromCodePoint(ud(t)?Xf(t):t)}}_stateAfterAttributeName(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.SOLIDUS:{this.state=be.SELF_CLOSING_START_TAG;break}case he.EQUALS_SIGN:{this.state=be.BEFORE_ATTRIBUTE_VALUE;break}case he.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentTagToken();break}case he.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=be.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.QUOTATION_MARK:{this.state=be.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this.state=be.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(it.missingAttributeValue),this.state=be.DATA,this.emitCurrentTagToken();break}default:this.state=be.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case he.QUOTATION_MARK:{this.state=be.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.NULL:{this._err(it.unexpectedNullCharacter),this.currentAttr.value+=Vr;break}case he.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case he.APOSTROPHE:{this.state=be.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.NULL:{this._err(it.unexpectedNullCharacter),this.currentAttr.value+=Vr;break}case he.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this._leaveAttrValue(),this.state=be.BEFORE_ATTRIBUTE_NAME;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=be.DATA,this.emitCurrentTagToken();break}case he.NULL:{this._err(it.unexpectedNullCharacter),this.currentAttr.value+=Vr;break}case he.QUOTATION_MARK:case he.APOSTROPHE:case he.LESS_THAN_SIGN:case he.EQUALS_SIGN:case he.GRAVE_ACCENT:{this._err(it.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case he.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this._leaveAttrValue(),this.state=be.BEFORE_ATTRIBUTE_NAME;break}case he.SOLIDUS:{this._leaveAttrValue(),this.state=be.SELF_CLOSING_START_TAG;break}case he.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=be.DATA,this.emitCurrentTagToken();break}case he.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this._err(it.missingWhitespaceBetweenAttributes),this.state=be.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case he.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=be.DATA,this.emitCurrentTagToken();break}case he.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this._err(it.unexpectedSolidusInTag),this.state=be.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case he.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentComment(r);break}case he.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case he.NULL:{this._err(it.unexpectedNullCharacter),r.data+=Vr;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(di.DASH_DASH,!0)?(this._createCommentToken(di.DASH_DASH.length+1),this.state=be.COMMENT_START):this._consumeSequenceIfMatch(di.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(di.DOCTYPE.length+1),this.state=be.DOCTYPE):this._consumeSequenceIfMatch(di.CDATA_START,!0)?this.inForeignNode?this.state=be.CDATA_SECTION:(this._err(it.cdataInHtmlContent),this._createCommentToken(di.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=be.BOGUS_COMMENT):this._ensureHibernation()||(this._err(it.incorrectlyOpenedComment),this._createCommentToken(2),this.state=be.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case he.HYPHEN_MINUS:{this.state=be.COMMENT_START_DASH;break}case he.GREATER_THAN_SIGN:{this._err(it.abruptClosingOfEmptyComment),this.state=be.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=be.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case he.HYPHEN_MINUS:{this.state=be.COMMENT_END;break}case he.GREATER_THAN_SIGN:{this._err(it.abruptClosingOfEmptyComment),this.state=be.DATA,this.emitCurrentComment(r);break}case he.EOF:{this._err(it.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=be.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case he.HYPHEN_MINUS:{this.state=be.COMMENT_END_DASH;break}case he.LESS_THAN_SIGN:{r.data+="<",this.state=be.COMMENT_LESS_THAN_SIGN;break}case he.NULL:{this._err(it.unexpectedNullCharacter),r.data+=Vr;break}case he.EOF:{this._err(it.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case he.EXCLAMATION_MARK:{r.data+="!",this.state=be.COMMENT_LESS_THAN_SIGN_BANG;break}case he.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=be.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===he.HYPHEN_MINUS?this.state=be.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=be.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===he.HYPHEN_MINUS?this.state=be.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=be.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==he.GREATER_THAN_SIGN&&t!==he.EOF&&this._err(it.nestedComment),this.state=be.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case he.HYPHEN_MINUS:{this.state=be.COMMENT_END;break}case he.EOF:{this._err(it.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=be.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case he.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentComment(r);break}case he.EXCLAMATION_MARK:{this.state=be.COMMENT_END_BANG;break}case he.HYPHEN_MINUS:{r.data+="-";break}case he.EOF:{this._err(it.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=be.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case he.HYPHEN_MINUS:{r.data+="--!",this.state=be.COMMENT_END_DASH;break}case he.GREATER_THAN_SIGN:{this._err(it.incorrectlyClosedComment),this.state=be.DATA,this.emitCurrentComment(r);break}case he.EOF:{this._err(it.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=be.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=be.BEFORE_DOCTYPE_NAME;break}case he.GREATER_THAN_SIGN:{this.state=be.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case he.EOF:{this._err(it.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingWhitespaceBeforeDoctypeName),this.state=be.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(ud(t))this._createDoctypeToken(String.fromCharCode(Xf(t))),this.state=be.DOCTYPE_NAME;else switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.NULL:{this._err(it.unexpectedNullCharacter),this._createDoctypeToken(Vr),this.state=be.DOCTYPE_NAME;break}case he.GREATER_THAN_SIGN:{this._err(it.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=be.DATA;break}case he.EOF:{this._err(it.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=be.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=be.AFTER_DOCTYPE_NAME;break}case he.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentDoctype(r);break}case he.NULL:{this._err(it.unexpectedNullCharacter),r.name+=Vr;break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(ud(t)?Xf(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentDoctype(r);break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(di.PUBLIC,!1)?this.state=be.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(di.SYSTEM,!1)?this.state=be.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(it.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=be.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case he.QUOTATION_MARK:{this._err(it.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=be.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this._err(it.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=be.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(it.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=be.DATA,this.emitCurrentDoctype(r);break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.QUOTATION_MARK:{r.publicId="",this.state=be.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{r.publicId="",this.state=be.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(it.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=be.DATA,this.emitCurrentDoctype(r);break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case he.QUOTATION_MARK:{this.state=be.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case he.NULL:{this._err(it.unexpectedNullCharacter),r.publicId+=Vr;break}case he.GREATER_THAN_SIGN:{this._err(it.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=be.DATA;break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case he.APOSTROPHE:{this.state=be.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case he.NULL:{this._err(it.unexpectedNullCharacter),r.publicId+=Vr;break}case he.GREATER_THAN_SIGN:{this._err(it.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=be.DATA;break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=be.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case he.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentDoctype(r);break}case he.QUOTATION_MARK:{this._err(it.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this._err(it.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=be.DATA;break}case he.QUOTATION_MARK:{r.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{r.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=be.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case he.QUOTATION_MARK:{this._err(it.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this._err(it.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(it.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=be.DATA,this.emitCurrentDoctype(r);break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.QUOTATION_MARK:{r.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{r.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(it.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=be.DATA,this.emitCurrentDoctype(r);break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case he.QUOTATION_MARK:{this.state=be.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case he.NULL:{this._err(it.unexpectedNullCharacter),r.systemId+=Vr;break}case he.GREATER_THAN_SIGN:{this._err(it.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=be.DATA;break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case he.APOSTROPHE:{this.state=be.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case he.NULL:{this._err(it.unexpectedNullCharacter),r.systemId+=Vr;break}case he.GREATER_THAN_SIGN:{this._err(it.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=be.DATA;break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=be.DATA;break}case he.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case he.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=be.DATA;break}case he.NULL:{this._err(it.unexpectedNullCharacter);break}case he.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case he.RIGHT_SQUARE_BRACKET:{this.state=be.CDATA_SECTION_BRACKET;break}case he.EOF:{this._err(it.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===he.RIGHT_SQUARE_BRACKET?this.state=be.CDATA_SECTION_END:(this._emitChars("]"),this.state=be.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case he.GREATER_THAN_SIGN:{this.state=be.DATA;break}case he.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=be.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(he.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&i9(this.preprocessor.peek(1))?be.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){i9(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===he.SEMICOLON&&this._err(it.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const sj=new Set([D.DD,D.DT,D.LI,D.OPTGROUP,D.OPTION,D.P,D.RB,D.RP,D.RT,D.RTC]),s9=new Set([...sj,D.CAPTION,D.COLGROUP,D.TBODY,D.TD,D.TFOOT,D.TH,D.THEAD,D.TR]),Tp=new Set([D.APPLET,D.CAPTION,D.HTML,D.MARQUEE,D.OBJECT,D.TABLE,D.TD,D.TEMPLATE,D.TH]),Khe=new Set([...Tp,D.OL,D.UL]),Whe=new Set([...Tp,D.BUTTON]),o9=new Set([D.ANNOTATION_XML,D.MI,D.MN,D.MO,D.MS,D.MTEXT]),l9=new Set([D.DESC,D.FOREIGN_OBJECT,D.TITLE]),Qhe=new Set([D.TR,D.TEMPLATE,D.HTML]),qhe=new Set([D.TBODY,D.TFOOT,D.THEAD,D.TEMPLATE,D.HTML]),efe=new Set([D.TABLE,D.TEMPLATE,D.HTML]),tfe=new Set([D.TD,D.TH]);class rfe{static{a(this,"OpenElementStack")}get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=D.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===D.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===pt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const i=this._indexOf(t)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==pt.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(l2,pt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(tfe,pt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(efe,pt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(qhe,pt.HTML)}clearBackToTableRowContext(){this.clearBackTo(Qhe,pt.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===D.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===D.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case pt.HTML:{if(i===t)return!0;if(r.has(i))return!1;break}case pt.SVG:{if(l9.has(i))return!1;break}case pt.MATHML:{if(o9.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Tp)}hasInListItemScope(t){return this.hasInDynamicScope(t,Khe)}hasInButtonScope(t){return this.hasInDynamicScope(t,Whe)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case pt.HTML:{if(l2.has(r))return!0;if(Tp.has(r))return!1;break}case pt.SVG:{if(l9.has(r))return!1;break}case pt.MATHML:{if(o9.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===pt.HTML)switch(this.tagIDs[r]){case t:return!0;case D.TABLE:case D.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===pt.HTML)switch(this.tagIDs[t]){case D.TBODY:case D.THEAD:case D.TFOOT:return!0;case D.TABLE:case D.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===pt.HTML)switch(this.tagIDs[r]){case t:return!0;case D.OPTION:case D.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&sj.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&s9.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&s9.has(this.currentTagId);)this.pop()}}const ay=3;var $a;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})($a||($a={}));const u9={type:$a.Marker};class nfe{static{a(this,"FormattingElementList")}constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],i=r.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const u=this.entries[l];if(u.type===$a.Marker)break;const{element:c}=u;if(this.treeAdapter.getTagName(c)===s&&this.treeAdapter.getNamespaceURI(c)===o){const h=this.treeAdapter.getAttrList(c);h.length===i&&n.push({idx:l,attrs:h})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<ay)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<ay)return;const i=new Map(r.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<n.length;o++){const l=n[o];l.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=ay&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(u9)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:$a.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:$a.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(u9);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===$a.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===$a.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===$a.Element&&r.element===t)}}const bo={createDocument(){return{nodeName:"#document",mode:Xi.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=r,i.systemId=n;else{const s={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};bo.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(bo.isTextNode(r)){r.value+=t;return}}bo.appendChild(e,bo.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&bo.isTextNode(n)?n.value+=t:bo.insertBefore(e,bo.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},oj="html",ife="about:legacy-compat",afe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",lj=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],sfe=[...lj,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],ofe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),uj=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],lfe=[...uj,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function c9(e,t){return t.some(r=>e.startsWith(r))}a(c9,"hasPrefix");function ufe(e){return e.name===oj&&e.publicId===null&&(e.systemId===null||e.systemId===ife)}a(ufe,"isConforming");function cfe(e){if(e.name!==oj)return Xi.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===afe)return Xi.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),ofe.has(r))return Xi.QUIRKS;let n=t===null?sfe:lj;if(c9(r,n))return Xi.QUIRKS;if(n=t===null?uj:lfe,c9(r,n))return Xi.LIMITED_QUIRKS}return Xi.NO_QUIRKS}a(cfe,"getDocumentMode");const d9={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},dfe="definitionurl",hfe="definitionURL",ffe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),pfe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:pt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:pt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:pt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:pt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:pt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:pt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:pt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:pt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:pt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:pt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:pt.XMLNS}]]),mfe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),gfe=new Set([D.B,D.BIG,D.BLOCKQUOTE,D.BODY,D.BR,D.CENTER,D.CODE,D.DD,D.DIV,D.DL,D.DT,D.EM,D.EMBED,D.H1,D.H2,D.H3,D.H4,D.H5,D.H6,D.HEAD,D.HR,D.I,D.IMG,D.LI,D.LISTING,D.MENU,D.META,D.NOBR,D.OL,D.P,D.PRE,D.RUBY,D.S,D.SMALL,D.SPAN,D.STRONG,D.STRIKE,D.SUB,D.SUP,D.TABLE,D.TT,D.U,D.UL,D.VAR]);function vfe(e){const t=e.tagID;return t===D.FONT&&e.attrs.some(({name:n})=>n===Sl.COLOR||n===Sl.SIZE||n===Sl.FACE)||gfe.has(t)}a(vfe,"causesExit");function cj(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===dfe){e.attrs[t].name=hfe;break}}a(cj,"adjustTokenMathMLAttrs");function dj(e){for(let t=0;t<e.attrs.length;t++){const r=ffe.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}a(dj,"adjustTokenSVGAttrs");function N3(e){for(let t=0;t<e.attrs.length;t++){const r=pfe.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}a(N3,"adjustTokenXMLAttrs");function bfe(e){const t=mfe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=dc(e.tagName))}a(bfe,"adjustTokenSVGTagName");function yfe(e,t){return t===pt.MATHML&&(e===D.MI||e===D.MO||e===D.MN||e===D.MS||e===D.MTEXT)}a(yfe,"isMathMLTextIntegrationPoint");function wfe(e,t,r){if(t===pt.MATHML&&e===D.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===Sl.ENCODING){const i=r[n].value.toLowerCase();return i===d9.TEXT_HTML||i===d9.APPLICATION_XML}}return t===pt.SVG&&(e===D.FOREIGN_OBJECT||e===D.DESC||e===D.TITLE)}a(wfe,"isHtmlIntegrationPoint");function _fe(e,t,r,n){return(!n||n===pt.HTML)&&wfe(e,t,r)||(!n||n===pt.MATHML)&&yfe(e,t)}a(_fe,"isIntegrationPoint");const xfe="hidden",Efe=8,Sfe=3;var Ae;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Ae||(Ae={}));const kfe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},hj=new Set([D.TABLE,D.TBODY,D.TFOOT,D.THEAD,D.TR]),h9={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:bo,onParseError:null};class f9{static{a(this,"Parser")}constructor(t,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Ae.INITIAL,this.originalInsertionMode=Ae.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...h9,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new Jhe(this.options,this),this.activeFormattingElements=new nfe(this.treeAdapter),this.fragmentContextID=n?dc(this.treeAdapter.getTagName(n)):D.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new rfe(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...h9,...r};t??(t=n.treeAdapter.createElement(Ve.TEMPLATE,pt.HTML,[]));const i=n.treeAdapter.createElement("documentmock",pt.HTML,[]),s=new this(n,i,t);return s.fragmentContextID===D.TEMPLATE&&s.tmplInsertionModeStack.unshift(Ae.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:kfe,o={code:r,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:n?s.startLine:s.endLine,endCol:n?s.startCol:s.endCol,endOffset:n?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,r,n){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,t,this.openElements.current),r){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===pt.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,pt.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=Ae.TEXT}switchToPlaintextParsing(){this.insertionMode=Ae.TEXT,this.originalInsertionMode=Ae.IN_BODY,this.tokenizer.state=un.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ve.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==pt.HTML))switch(this.fragmentContextID){case D.TITLE:case D.TEXTAREA:{this.tokenizer.state=un.RCDATA;break}case D.STYLE:case D.XMP:case D.IFRAME:case D.NOEMBED:case D.NOFRAMES:case D.NOSCRIPT:{this.tokenizer.state=un.RAWTEXT;break}case D.SCRIPT:{this.tokenizer.state=un.SCRIPT_DATA;break}case D.PLAINTEXT:{this.tokenizer.state=un.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,pt.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,pt.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ve.HTML,pt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,D.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(r),s=n?i.lastIndexOf(n):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:c,endOffset:h}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:c,endOffset:h})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(t),s=r.type===cr.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===D.SVG&&this.treeAdapter.getTagName(r)===Ve.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===pt.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===D.MGLYPH||t.tagID===D.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,pt.HTML)}_processToken(t){switch(t.type){case cr.CHARACTER:{this.onCharacter(t);break}case cr.NULL_CHARACTER:{this.onNullCharacter(t);break}case cr.COMMENT:{this.onComment(t);break}case cr.DOCTYPE:{this.onDoctype(t);break}case cr.START_TAG:{this._processStartTag(t);break}case cr.END_TAG:{this.onEndTag(t);break}case cr.EOF:{this.onEof(t);break}case cr.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const i=this.treeAdapter.getNamespaceURI(r),s=this.treeAdapter.getAttrList(r);return _fe(t,i,s,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(i=>i.type===$a.Marker||this.openElements.contains(i.element)),n=r===-1?t-1:r-1;for(let i=n;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Ae.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(D.P),this.openElements.popUntilTagNamePopped(D.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case D.TR:{this.insertionMode=Ae.IN_ROW;return}case D.TBODY:case D.THEAD:case D.TFOOT:{this.insertionMode=Ae.IN_TABLE_BODY;return}case D.CAPTION:{this.insertionMode=Ae.IN_CAPTION;return}case D.COLGROUP:{this.insertionMode=Ae.IN_COLUMN_GROUP;return}case D.TABLE:{this.insertionMode=Ae.IN_TABLE;return}case D.BODY:{this.insertionMode=Ae.IN_BODY;return}case D.FRAMESET:{this.insertionMode=Ae.IN_FRAMESET;return}case D.SELECT:{this._resetInsertionModeForSelect(t);return}case D.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case D.HTML:{this.insertionMode=this.headElement?Ae.AFTER_HEAD:Ae.BEFORE_HEAD;return}case D.TD:case D.TH:{if(t>0){this.insertionMode=Ae.IN_CELL;return}break}case D.HEAD:{if(t>0){this.insertionMode=Ae.IN_HEAD;return}break}}this.insertionMode=Ae.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===D.TEMPLATE)break;if(n===D.TABLE){this.insertionMode=Ae.IN_SELECT_IN_TABLE;return}}this.insertionMode=Ae.IN_SELECT}_isElementCausesFosterParenting(t){return hj.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case D.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===pt.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case D.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return Yhe[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){tpe(this,t);return}switch(this.insertionMode){case Ae.INITIAL:{Yc(this,t);break}case Ae.BEFORE_HTML:{bd(this,t);break}case Ae.BEFORE_HEAD:{yd(this,t);break}case Ae.IN_HEAD:{wd(this,t);break}case Ae.IN_HEAD_NO_SCRIPT:{_d(this,t);break}case Ae.AFTER_HEAD:{xd(this,t);break}case Ae.IN_BODY:case Ae.IN_CAPTION:case Ae.IN_CELL:case Ae.IN_TEMPLATE:{pj(this,t);break}case Ae.TEXT:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Ae.IN_TABLE:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:{sy(this,t);break}case Ae.IN_TABLE_TEXT:{wj(this,t);break}case Ae.IN_COLUMN_GROUP:{Np(this,t);break}case Ae.AFTER_BODY:{Cp(this,t);break}case Ae.AFTER_AFTER_BODY:{N0(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){epe(this,t);return}switch(this.insertionMode){case Ae.INITIAL:{Yc(this,t);break}case Ae.BEFORE_HTML:{bd(this,t);break}case Ae.BEFORE_HEAD:{yd(this,t);break}case Ae.IN_HEAD:{wd(this,t);break}case Ae.IN_HEAD_NO_SCRIPT:{_d(this,t);break}case Ae.AFTER_HEAD:{xd(this,t);break}case Ae.TEXT:{this._insertCharacters(t);break}case Ae.IN_TABLE:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:{sy(this,t);break}case Ae.IN_COLUMN_GROUP:{Np(this,t);break}case Ae.AFTER_BODY:{Cp(this,t);break}case Ae.AFTER_AFTER_BODY:{N0(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){u2(this,t);return}switch(this.insertionMode){case Ae.INITIAL:case Ae.BEFORE_HTML:case Ae.BEFORE_HEAD:case Ae.IN_HEAD:case Ae.IN_HEAD_NO_SCRIPT:case Ae.AFTER_HEAD:case Ae.IN_BODY:case Ae.IN_TABLE:case Ae.IN_CAPTION:case Ae.IN_COLUMN_GROUP:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:case Ae.IN_CELL:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:case Ae.IN_TEMPLATE:case Ae.IN_FRAMESET:case Ae.AFTER_FRAMESET:{u2(this,t);break}case Ae.IN_TABLE_TEXT:{Zc(this,t);break}case Ae.AFTER_BODY:{Ofe(this,t);break}case Ae.AFTER_AFTER_BODY:case Ae.AFTER_AFTER_FRAMESET:{Rfe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Ae.INITIAL:{Pfe(this,t);break}case Ae.BEFORE_HEAD:case Ae.IN_HEAD:case Ae.IN_HEAD_NO_SCRIPT:case Ae.AFTER_HEAD:{this._err(t,it.misplacedDoctype);break}case Ae.IN_TABLE_TEXT:{Zc(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,it.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?rpe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Ae.INITIAL:{Yc(this,t);break}case Ae.BEFORE_HTML:{Lfe(this,t);break}case Ae.BEFORE_HEAD:{jfe(this,t);break}case Ae.IN_HEAD:{ja(this,t);break}case Ae.IN_HEAD_NO_SCRIPT:{Ffe(this,t);break}case Ae.AFTER_HEAD:{Hfe(this,t);break}case Ae.IN_BODY:{Xn(this,t);break}case Ae.IN_TABLE:{$u(this,t);break}case Ae.IN_TABLE_TEXT:{Zc(this,t);break}case Ae.IN_CAPTION:{B0e(this,t);break}case Ae.IN_COLUMN_GROUP:{M3(this,t);break}case Ae.IN_TABLE_BODY:{yg(this,t);break}case Ae.IN_ROW:{wg(this,t);break}case Ae.IN_CELL:{U0e(this,t);break}case Ae.IN_SELECT:{Ej(this,t);break}case Ae.IN_SELECT_IN_TABLE:{G0e(this,t);break}case Ae.IN_TEMPLATE:{Y0e(this,t);break}case Ae.AFTER_BODY:{$0e(this,t);break}case Ae.IN_FRAMESET:{X0e(this,t);break}case Ae.AFTER_FRAMESET:{K0e(this,t);break}case Ae.AFTER_AFTER_BODY:{Q0e(this,t);break}case Ae.AFTER_AFTER_FRAMESET:{q0e(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?npe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Ae.INITIAL:{Yc(this,t);break}case Ae.BEFORE_HTML:{Dfe(this,t);break}case Ae.BEFORE_HEAD:{Bfe(this,t);break}case Ae.IN_HEAD:{zfe(this,t);break}case Ae.IN_HEAD_NO_SCRIPT:{Ufe(this,t);break}case Ae.AFTER_HEAD:{Gfe(this,t);break}case Ae.IN_BODY:{bg(this,t);break}case Ae.TEXT:{N0e(this,t);break}case Ae.IN_TABLE:{ph(this,t);break}case Ae.IN_TABLE_TEXT:{Zc(this,t);break}case Ae.IN_CAPTION:{z0e(this,t);break}case Ae.IN_COLUMN_GROUP:{F0e(this,t);break}case Ae.IN_TABLE_BODY:{c2(this,t);break}case Ae.IN_ROW:{xj(this,t);break}case Ae.IN_CELL:{H0e(this,t);break}case Ae.IN_SELECT:{Sj(this,t);break}case Ae.IN_SELECT_IN_TABLE:{V0e(this,t);break}case Ae.IN_TEMPLATE:{Z0e(this,t);break}case Ae.AFTER_BODY:{Aj(this,t);break}case Ae.IN_FRAMESET:{J0e(this,t);break}case Ae.AFTER_FRAMESET:{W0e(this,t);break}case Ae.AFTER_AFTER_BODY:{N0(this,t);break}}}onEof(t){switch(this.insertionMode){case Ae.INITIAL:{Yc(this,t);break}case Ae.BEFORE_HTML:{bd(this,t);break}case Ae.BEFORE_HEAD:{yd(this,t);break}case Ae.IN_HEAD:{wd(this,t);break}case Ae.IN_HEAD_NO_SCRIPT:{_d(this,t);break}case Ae.AFTER_HEAD:{xd(this,t);break}case Ae.IN_BODY:case Ae.IN_TABLE:case Ae.IN_CAPTION:case Ae.IN_COLUMN_GROUP:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:case Ae.IN_CELL:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:{bj(this,t);break}case Ae.TEXT:{C0e(this,t);break}case Ae.IN_TABLE_TEXT:{Zc(this,t);break}case Ae.IN_TEMPLATE:{kj(this,t);break}case Ae.AFTER_BODY:case Ae.IN_FRAMESET:case Ae.AFTER_FRAMESET:case Ae.AFTER_AFTER_BODY:case Ae.AFTER_AFTER_FRAMESET:{I3(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===he.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Ae.IN_HEAD:case Ae.IN_HEAD_NO_SCRIPT:case Ae.AFTER_HEAD:case Ae.TEXT:case Ae.IN_COLUMN_GROUP:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:case Ae.IN_FRAMESET:case Ae.AFTER_FRAMESET:{this._insertCharacters(t);break}case Ae.IN_BODY:case Ae.IN_CAPTION:case Ae.IN_CELL:case Ae.IN_TEMPLATE:case Ae.AFTER_BODY:case Ae.AFTER_AFTER_BODY:case Ae.AFTER_AFTER_FRAMESET:{fj(this,t);break}case Ae.IN_TABLE:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:{sy(this,t);break}case Ae.IN_TABLE_TEXT:{yj(this,t);break}}}}function Afe(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):vj(e,t),r}a(Afe,"aaObtainFormattingElementEntry");function Tfe(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const i=e.openElements.items[n];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[n])&&(r=i)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}a(Tfe,"aaObtainFurthestBlock");function Nfe(e,t,r){let n=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==r;s++,o=i){i=e.openElements.getCommonAncestor(o);const l=e.activeFormattingElements.getElementEntry(o),u=l&&s>=Sfe;!l||u?(u&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(o)):(o=Cfe(e,l),n===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(o,n),n=o)}return n}a(Nfe,"aaInnerLoop");function Cfe(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}a(Cfe,"aaRecreateElementFromEntry");function Ife(e,t,r){const n=e.treeAdapter.getTagName(t),i=dc(n);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(r);else{const s=e.treeAdapter.getNamespaceURI(t);i===D.TEMPLATE&&s===pt.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}a(Ife,"aaInsertLastNodeInCommonAncestor");function Mfe(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:i}=r,s=e.treeAdapter.createElement(i.tagName,n,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,s,i.tagID)}a(Mfe,"aaReplaceFormattingElement");function C3(e,t){for(let r=0;r<Efe;r++){const n=Afe(e,t);if(!n)break;const i=Tfe(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;const s=Nfe(e,i,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(s),o&&Ife(e,o,s),Mfe(e,i,n)}}a(C3,"callAdoptionAgency");function u2(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}a(u2,"appendComment");function Ofe(e,t){e._appendCommentNode(t,e.openElements.items[0])}a(Ofe,"appendCommentToRootHtmlElement");function Rfe(e,t){e._appendCommentNode(t,e.document)}a(Rfe,"appendCommentToDocument");function I3(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}a(I3,"stopParsing");function Pfe(e,t){e._setDocumentType(t);const r=t.forceQuirks?Xi.QUIRKS:cfe(t);ufe(t)||e._err(t,it.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=Ae.BEFORE_HTML}a(Pfe,"doctypeInInitialMode");function Yc(e,t){e._err(t,it.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Xi.QUIRKS),e.insertionMode=Ae.BEFORE_HTML,e._processToken(t)}a(Yc,"tokenInInitialMode");function Lfe(e,t){t.tagID===D.HTML?(e._insertElement(t,pt.HTML),e.insertionMode=Ae.BEFORE_HEAD):bd(e,t)}a(Lfe,"startTagBeforeHtml");function Dfe(e,t){const r=t.tagID;(r===D.HTML||r===D.HEAD||r===D.BODY||r===D.BR)&&bd(e,t)}a(Dfe,"endTagBeforeHtml");function bd(e,t){e._insertFakeRootElement(),e.insertionMode=Ae.BEFORE_HEAD,e._processToken(t)}a(bd,"tokenBeforeHtml");function jfe(e,t){switch(t.tagID){case D.HTML:{Xn(e,t);break}case D.HEAD:{e._insertElement(t,pt.HTML),e.headElement=e.openElements.current,e.insertionMode=Ae.IN_HEAD;break}default:yd(e,t)}}a(jfe,"startTagBeforeHead");function Bfe(e,t){const r=t.tagID;r===D.HEAD||r===D.BODY||r===D.HTML||r===D.BR?yd(e,t):e._err(t,it.endTagWithoutMatchingOpenElement)}a(Bfe,"endTagBeforeHead");function yd(e,t){e._insertFakeElement(Ve.HEAD,D.HEAD),e.headElement=e.openElements.current,e.insertionMode=Ae.IN_HEAD,e._processToken(t)}a(yd,"tokenBeforeHead");function ja(e,t){switch(t.tagID){case D.HTML:{Xn(e,t);break}case D.BASE:case D.BASEFONT:case D.BGSOUND:case D.LINK:case D.META:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case D.TITLE:{e._switchToTextParsing(t,un.RCDATA);break}case D.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,un.RAWTEXT):(e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_HEAD_NO_SCRIPT);break}case D.NOFRAMES:case D.STYLE:{e._switchToTextParsing(t,un.RAWTEXT);break}case D.SCRIPT:{e._switchToTextParsing(t,un.SCRIPT_DATA);break}case D.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Ae.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Ae.IN_TEMPLATE);break}case D.HEAD:{e._err(t,it.misplacedStartTagForHeadElement);break}default:wd(e,t)}}a(ja,"startTagInHead");function zfe(e,t){switch(t.tagID){case D.HEAD:{e.openElements.pop(),e.insertionMode=Ae.AFTER_HEAD;break}case D.BODY:case D.BR:case D.HTML:{wd(e,t);break}case D.TEMPLATE:{ql(e,t);break}default:e._err(t,it.endTagWithoutMatchingOpenElement)}}a(zfe,"endTagInHead");function ql(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==D.TEMPLATE&&e._err(t,it.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(D.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,it.endTagWithoutMatchingOpenElement)}a(ql,"templateEndTagInHead");function wd(e,t){e.openElements.pop(),e.insertionMode=Ae.AFTER_HEAD,e._processToken(t)}a(wd,"tokenInHead");function Ffe(e,t){switch(t.tagID){case D.HTML:{Xn(e,t);break}case D.BASEFONT:case D.BGSOUND:case D.HEAD:case D.LINK:case D.META:case D.NOFRAMES:case D.STYLE:{ja(e,t);break}case D.NOSCRIPT:{e._err(t,it.nestedNoscriptInHead);break}default:_d(e,t)}}a(Ffe,"startTagInHeadNoScript");function Ufe(e,t){switch(t.tagID){case D.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Ae.IN_HEAD;break}case D.BR:{_d(e,t);break}default:e._err(t,it.endTagWithoutMatchingOpenElement)}}a(Ufe,"endTagInHeadNoScript");function _d(e,t){const r=t.type===cr.EOF?it.openElementsLeftAfterEof:it.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=Ae.IN_HEAD,e._processToken(t)}a(_d,"tokenInHeadNoScript");function Hfe(e,t){switch(t.tagID){case D.HTML:{Xn(e,t);break}case D.BODY:{e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=Ae.IN_BODY;break}case D.FRAMESET:{e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_FRAMESET;break}case D.BASE:case D.BASEFONT:case D.BGSOUND:case D.LINK:case D.META:case D.NOFRAMES:case D.SCRIPT:case D.STYLE:case D.TEMPLATE:case D.TITLE:{e._err(t,it.abandonedHeadElementChild),e.openElements.push(e.headElement,D.HEAD),ja(e,t),e.openElements.remove(e.headElement);break}case D.HEAD:{e._err(t,it.misplacedStartTagForHeadElement);break}default:xd(e,t)}}a(Hfe,"startTagAfterHead");function Gfe(e,t){switch(t.tagID){case D.BODY:case D.HTML:case D.BR:{xd(e,t);break}case D.TEMPLATE:{ql(e,t);break}default:e._err(t,it.endTagWithoutMatchingOpenElement)}}a(Gfe,"endTagAfterHead");function xd(e,t){e._insertFakeElement(Ve.BODY,D.BODY),e.insertionMode=Ae.IN_BODY,vg(e,t)}a(xd,"tokenAfterHead");function vg(e,t){switch(t.type){case cr.CHARACTER:{pj(e,t);break}case cr.WHITESPACE_CHARACTER:{fj(e,t);break}case cr.COMMENT:{u2(e,t);break}case cr.START_TAG:{Xn(e,t);break}case cr.END_TAG:{bg(e,t);break}case cr.EOF:{bj(e,t);break}}}a(vg,"modeInBody");function fj(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}a(fj,"whitespaceCharacterInBody");function pj(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}a(pj,"characterInBody");function Vfe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}a(Vfe,"htmlStartTagInBody");function Yfe(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}a(Yfe,"bodyStartTagInBody");function Zfe(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_FRAMESET)}a(Zfe,"framesetStartTagInBody");function $fe(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,pt.HTML)}a($fe,"addressStartTagInBody");function Xfe(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&l2.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,pt.HTML)}a(Xfe,"numberedHeaderStartTagInBody");function Jfe(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}a(Jfe,"preStartTagInBody");function Kfe(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,pt.HTML),r||(e.formElement=e.openElements.current))}a(Kfe,"formStartTagInBody");function Wfe(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const i=e.openElements.tagIDs[n];if(r===D.LI&&i===D.LI||(r===D.DD||r===D.DT)&&(i===D.DD||i===D.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==D.ADDRESS&&i!==D.DIV&&i!==D.P&&e._isSpecialElement(e.openElements.items[n],i))break}e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,pt.HTML)}a(Wfe,"listItemStartTagInBody");function Qfe(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.tokenizer.state=un.PLAINTEXT}a(Qfe,"plaintextStartTagInBody");function qfe(e,t){e.openElements.hasInScope(D.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(D.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.framesetOk=!1}a(qfe,"buttonStartTagInBody");function e0e(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ve.A);r&&(C3(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}a(e0e,"aStartTagInBody");function t0e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}a(t0e,"bStartTagInBody");function r0e(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(D.NOBR)&&(C3(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}a(r0e,"nobrStartTagInBody");function n0e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}a(n0e,"appletStartTagInBody");function i0e(e,t){e.treeAdapter.getDocumentMode(e.document)!==Xi.QUIRKS&&e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=Ae.IN_TABLE}a(i0e,"tableStartTagInBody");function mj(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,pt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}a(mj,"areaStartTagInBody");function gj(e){const t=ij(e,Sl.TYPE);return t!=null&&t.toLowerCase()===xfe}a(gj,"isHiddenInput");function a0e(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,pt.HTML),gj(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}a(a0e,"inputStartTagInBody");function s0e(e,t){e._appendElement(t,pt.HTML),t.ackSelfClosing=!0}a(s0e,"paramStartTagInBody");function o0e(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._appendElement(t,pt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}a(o0e,"hrStartTagInBody");function l0e(e,t){t.tagName=Ve.IMG,t.tagID=D.IMG,mj(e,t)}a(l0e,"imageStartTagInBody");function u0e(e,t){e._insertElement(t,pt.HTML),e.skipNextNewLine=!0,e.tokenizer.state=un.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Ae.TEXT}a(u0e,"textareaStartTagInBody");function c0e(e,t){e.openElements.hasInButtonScope(D.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,un.RAWTEXT)}a(c0e,"xmpStartTagInBody");function d0e(e,t){e.framesetOk=!1,e._switchToTextParsing(t,un.RAWTEXT)}a(d0e,"iframeStartTagInBody");function p9(e,t){e._switchToTextParsing(t,un.RAWTEXT)}a(p9,"rawTextStartTagInBody");function h0e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Ae.IN_TABLE||e.insertionMode===Ae.IN_CAPTION||e.insertionMode===Ae.IN_TABLE_BODY||e.insertionMode===Ae.IN_ROW||e.insertionMode===Ae.IN_CELL?Ae.IN_SELECT_IN_TABLE:Ae.IN_SELECT}a(h0e,"selectStartTagInBody");function f0e(e,t){e.openElements.currentTagId===D.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML)}a(f0e,"optgroupStartTagInBody");function p0e(e,t){e.openElements.hasInScope(D.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,pt.HTML)}a(p0e,"rbStartTagInBody");function m0e(e,t){e.openElements.hasInScope(D.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(D.RTC),e._insertElement(t,pt.HTML)}a(m0e,"rtStartTagInBody");function g0e(e,t){e._reconstructActiveFormattingElements(),cj(t),N3(t),t.selfClosing?e._appendElement(t,pt.MATHML):e._insertElement(t,pt.MATHML),t.ackSelfClosing=!0}a(g0e,"mathStartTagInBody");function v0e(e,t){e._reconstructActiveFormattingElements(),dj(t),N3(t),t.selfClosing?e._appendElement(t,pt.SVG):e._insertElement(t,pt.SVG),t.ackSelfClosing=!0}a(v0e,"svgStartTagInBody");function m9(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML)}a(m9,"genericStartTagInBody");function Xn(e,t){switch(t.tagID){case D.I:case D.S:case D.B:case D.U:case D.EM:case D.TT:case D.BIG:case D.CODE:case D.FONT:case D.SMALL:case D.STRIKE:case D.STRONG:{t0e(e,t);break}case D.A:{e0e(e,t);break}case D.H1:case D.H2:case D.H3:case D.H4:case D.H5:case D.H6:{Xfe(e,t);break}case D.P:case D.DL:case D.OL:case D.UL:case D.DIV:case D.DIR:case D.NAV:case D.MAIN:case D.MENU:case D.ASIDE:case D.CENTER:case D.FIGURE:case D.FOOTER:case D.HEADER:case D.HGROUP:case D.DIALOG:case D.DETAILS:case D.ADDRESS:case D.ARTICLE:case D.SEARCH:case D.SECTION:case D.SUMMARY:case D.FIELDSET:case D.BLOCKQUOTE:case D.FIGCAPTION:{$fe(e,t);break}case D.LI:case D.DD:case D.DT:{Wfe(e,t);break}case D.BR:case D.IMG:case D.WBR:case D.AREA:case D.EMBED:case D.KEYGEN:{mj(e,t);break}case D.HR:{o0e(e,t);break}case D.RB:case D.RTC:{p0e(e,t);break}case D.RT:case D.RP:{m0e(e,t);break}case D.PRE:case D.LISTING:{Jfe(e,t);break}case D.XMP:{c0e(e,t);break}case D.SVG:{v0e(e,t);break}case D.HTML:{Vfe(e,t);break}case D.BASE:case D.LINK:case D.META:case D.STYLE:case D.TITLE:case D.SCRIPT:case D.BGSOUND:case D.BASEFONT:case D.TEMPLATE:{ja(e,t);break}case D.BODY:{Yfe(e,t);break}case D.FORM:{Kfe(e,t);break}case D.NOBR:{r0e(e,t);break}case D.MATH:{g0e(e,t);break}case D.TABLE:{i0e(e,t);break}case D.INPUT:{a0e(e,t);break}case D.PARAM:case D.TRACK:case D.SOURCE:{s0e(e,t);break}case D.IMAGE:{l0e(e,t);break}case D.BUTTON:{qfe(e,t);break}case D.APPLET:case D.OBJECT:case D.MARQUEE:{n0e(e,t);break}case D.IFRAME:{d0e(e,t);break}case D.SELECT:{h0e(e,t);break}case D.OPTION:case D.OPTGROUP:{f0e(e,t);break}case D.NOEMBED:case D.NOFRAMES:{p9(e,t);break}case D.FRAMESET:{Zfe(e,t);break}case D.TEXTAREA:{u0e(e,t);break}case D.NOSCRIPT:{e.options.scriptingEnabled?p9(e,t):m9(e,t);break}case D.PLAINTEXT:{Qfe(e,t);break}case D.COL:case D.TH:case D.TD:case D.TR:case D.HEAD:case D.FRAME:case D.TBODY:case D.TFOOT:case D.THEAD:case D.CAPTION:case D.COLGROUP:break;default:m9(e,t)}}a(Xn,"startTagInBody");function b0e(e,t){if(e.openElements.hasInScope(D.BODY)&&(e.insertionMode=Ae.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}a(b0e,"bodyEndTagInBody");function y0e(e,t){e.openElements.hasInScope(D.BODY)&&(e.insertionMode=Ae.AFTER_BODY,Aj(e,t))}a(y0e,"htmlEndTagInBody");function w0e(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}a(w0e,"addressEndTagInBody");function _0e(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(D.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(D.FORM):r&&e.openElements.remove(r))}a(_0e,"formEndTagInBody");function x0e(e){e.openElements.hasInButtonScope(D.P)||e._insertFakeElement(Ve.P,D.P),e._closePElement()}a(x0e,"pEndTagInBody");function E0e(e){e.openElements.hasInListItemScope(D.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(D.LI),e.openElements.popUntilTagNamePopped(D.LI))}a(E0e,"liEndTagInBody");function S0e(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}a(S0e,"ddEndTagInBody");function k0e(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}a(k0e,"numberedHeaderEndTagInBody");function A0e(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}a(A0e,"appletEndTagInBody");function T0e(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ve.BR,D.BR),e.openElements.pop(),e.framesetOk=!1}a(T0e,"brEndTagInBody");function vj(e,t){const r=t.tagName,n=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(n===o&&(n!==D.UNKNOWN||e.treeAdapter.getTagName(s)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}a(vj,"genericEndTagInBody");function bg(e,t){switch(t.tagID){case D.A:case D.B:case D.I:case D.S:case D.U:case D.EM:case D.TT:case D.BIG:case D.CODE:case D.FONT:case D.NOBR:case D.SMALL:case D.STRIKE:case D.STRONG:{C3(e,t);break}case D.P:{x0e(e);break}case D.DL:case D.UL:case D.OL:case D.DIR:case D.DIV:case D.NAV:case D.PRE:case D.MAIN:case D.MENU:case D.ASIDE:case D.BUTTON:case D.CENTER:case D.FIGURE:case D.FOOTER:case D.HEADER:case D.HGROUP:case D.DIALOG:case D.ADDRESS:case D.ARTICLE:case D.DETAILS:case D.SEARCH:case D.SECTION:case D.SUMMARY:case D.LISTING:case D.FIELDSET:case D.BLOCKQUOTE:case D.FIGCAPTION:{w0e(e,t);break}case D.LI:{E0e(e);break}case D.DD:case D.DT:{S0e(e,t);break}case D.H1:case D.H2:case D.H3:case D.H4:case D.H5:case D.H6:{k0e(e);break}case D.BR:{T0e(e);break}case D.BODY:{b0e(e,t);break}case D.HTML:{y0e(e,t);break}case D.FORM:{_0e(e);break}case D.APPLET:case D.OBJECT:case D.MARQUEE:{A0e(e,t);break}case D.TEMPLATE:{ql(e,t);break}default:vj(e,t)}}a(bg,"endTagInBody");function bj(e,t){e.tmplInsertionModeStack.length>0?kj(e,t):I3(e,t)}a(bj,"eofInBody");function N0e(e,t){var r;t.tagID===D.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}a(N0e,"endTagInText");function C0e(e,t){e._err(t,it.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}a(C0e,"eofInText");function sy(e,t){if(e.openElements.currentTagId!==void 0&&hj.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Ae.IN_TABLE_TEXT,t.type){case cr.CHARACTER:{wj(e,t);break}case cr.WHITESPACE_CHARACTER:{yj(e,t);break}}else Qh(e,t)}a(sy,"characterInTable");function I0e(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_CAPTION}a(I0e,"captionStartTagInTable");function M0e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_COLUMN_GROUP}a(M0e,"colgroupStartTagInTable");function O0e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ve.COLGROUP,D.COLGROUP),e.insertionMode=Ae.IN_COLUMN_GROUP,M3(e,t)}a(O0e,"colStartTagInTable");function R0e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_TABLE_BODY}a(R0e,"tbodyStartTagInTable");function P0e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ve.TBODY,D.TBODY),e.insertionMode=Ae.IN_TABLE_BODY,yg(e,t)}a(P0e,"tdStartTagInTable");function L0e(e,t){e.openElements.hasInTableScope(D.TABLE)&&(e.openElements.popUntilTagNamePopped(D.TABLE),e._resetInsertionMode(),e._processStartTag(t))}a(L0e,"tableStartTagInTable");function D0e(e,t){gj(t)?e._appendElement(t,pt.HTML):Qh(e,t),t.ackSelfClosing=!0}a(D0e,"inputStartTagInTable");function j0e(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,pt.HTML),e.formElement=e.openElements.current,e.openElements.pop())}a(j0e,"formStartTagInTable");function $u(e,t){switch(t.tagID){case D.TD:case D.TH:case D.TR:{P0e(e,t);break}case D.STYLE:case D.SCRIPT:case D.TEMPLATE:{ja(e,t);break}case D.COL:{O0e(e,t);break}case D.FORM:{j0e(e,t);break}case D.TABLE:{L0e(e,t);break}case D.TBODY:case D.TFOOT:case D.THEAD:{R0e(e,t);break}case D.INPUT:{D0e(e,t);break}case D.CAPTION:{I0e(e,t);break}case D.COLGROUP:{M0e(e,t);break}default:Qh(e,t)}}a($u,"startTagInTable");function ph(e,t){switch(t.tagID){case D.TABLE:{e.openElements.hasInTableScope(D.TABLE)&&(e.openElements.popUntilTagNamePopped(D.TABLE),e._resetInsertionMode());break}case D.TEMPLATE:{ql(e,t);break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:case D.TBODY:case D.TD:case D.TFOOT:case D.TH:case D.THEAD:case D.TR:break;default:Qh(e,t)}}a(ph,"endTagInTable");function Qh(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,vg(e,t),e.fosterParentingEnabled=r}a(Qh,"tokenInTable");function yj(e,t){e.pendingCharacterTokens.push(t)}a(yj,"whitespaceCharacterInTableText");function wj(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}a(wj,"characterInTableText");function Zc(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)Qh(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}a(Zc,"tokenInTableText");const _j=new Set([D.CAPTION,D.COL,D.COLGROUP,D.TBODY,D.TD,D.TFOOT,D.TH,D.THEAD,D.TR]);function B0e(e,t){const r=t.tagID;_j.has(r)?e.openElements.hasInTableScope(D.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(D.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Ae.IN_TABLE,$u(e,t)):Xn(e,t)}a(B0e,"startTagInCaption");function z0e(e,t){const r=t.tagID;switch(r){case D.CAPTION:case D.TABLE:{e.openElements.hasInTableScope(D.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(D.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Ae.IN_TABLE,r===D.TABLE&&ph(e,t));break}case D.BODY:case D.COL:case D.COLGROUP:case D.HTML:case D.TBODY:case D.TD:case D.TFOOT:case D.TH:case D.THEAD:case D.TR:break;default:bg(e,t)}}a(z0e,"endTagInCaption");function M3(e,t){switch(t.tagID){case D.HTML:{Xn(e,t);break}case D.COL:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case D.TEMPLATE:{ja(e,t);break}default:Np(e,t)}}a(M3,"startTagInColumnGroup");function F0e(e,t){switch(t.tagID){case D.COLGROUP:{e.openElements.currentTagId===D.COLGROUP&&(e.openElements.pop(),e.insertionMode=Ae.IN_TABLE);break}case D.TEMPLATE:{ql(e,t);break}case D.COL:break;default:Np(e,t)}}a(F0e,"endTagInColumnGroup");function Np(e,t){e.openElements.currentTagId===D.COLGROUP&&(e.openElements.pop(),e.insertionMode=Ae.IN_TABLE,e._processToken(t))}a(Np,"tokenInColumnGroup");function yg(e,t){switch(t.tagID){case D.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_ROW;break}case D.TH:case D.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ve.TR,D.TR),e.insertionMode=Ae.IN_ROW,wg(e,t);break}case D.CAPTION:case D.COL:case D.COLGROUP:case D.TBODY:case D.TFOOT:case D.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE,$u(e,t));break}default:$u(e,t)}}a(yg,"startTagInTableBody");function c2(e,t){const r=t.tagID;switch(t.tagID){case D.TBODY:case D.TFOOT:case D.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE);break}case D.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE,ph(e,t));break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:case D.TD:case D.TH:case D.TR:break;default:ph(e,t)}}a(c2,"endTagInTableBody");function wg(e,t){switch(t.tagID){case D.TH:case D.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_CELL,e.activeFormattingElements.insertMarker();break}case D.CAPTION:case D.COL:case D.COLGROUP:case D.TBODY:case D.TFOOT:case D.THEAD:case D.TR:{e.openElements.hasInTableScope(D.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE_BODY,yg(e,t));break}default:$u(e,t)}}a(wg,"startTagInRow");function xj(e,t){switch(t.tagID){case D.TR:{e.openElements.hasInTableScope(D.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE_BODY);break}case D.TABLE:{e.openElements.hasInTableScope(D.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE_BODY,c2(e,t));break}case D.TBODY:case D.TFOOT:case D.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(D.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE_BODY,c2(e,t));break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:case D.TD:case D.TH:break;default:ph(e,t)}}a(xj,"endTagInRow");function U0e(e,t){const r=t.tagID;_j.has(r)?(e.openElements.hasInTableScope(D.TD)||e.openElements.hasInTableScope(D.TH))&&(e._closeTableCell(),wg(e,t)):Xn(e,t)}a(U0e,"startTagInCell");function H0e(e,t){const r=t.tagID;switch(r){case D.TD:case D.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Ae.IN_ROW);break}case D.TABLE:case D.TBODY:case D.TFOOT:case D.THEAD:case D.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),xj(e,t));break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:break;default:bg(e,t)}}a(H0e,"endTagInCell");function Ej(e,t){switch(t.tagID){case D.HTML:{Xn(e,t);break}case D.OPTION:{e.openElements.currentTagId===D.OPTION&&e.openElements.pop(),e._insertElement(t,pt.HTML);break}case D.OPTGROUP:{e.openElements.currentTagId===D.OPTION&&e.openElements.pop(),e.openElements.currentTagId===D.OPTGROUP&&e.openElements.pop(),e._insertElement(t,pt.HTML);break}case D.HR:{e.openElements.currentTagId===D.OPTION&&e.openElements.pop(),e.openElements.currentTagId===D.OPTGROUP&&e.openElements.pop(),e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case D.INPUT:case D.KEYGEN:case D.TEXTAREA:case D.SELECT:{e.openElements.hasInSelectScope(D.SELECT)&&(e.openElements.popUntilTagNamePopped(D.SELECT),e._resetInsertionMode(),t.tagID!==D.SELECT&&e._processStartTag(t));break}case D.SCRIPT:case D.TEMPLATE:{ja(e,t);break}}}a(Ej,"startTagInSelect");function Sj(e,t){switch(t.tagID){case D.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===D.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===D.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===D.OPTGROUP&&e.openElements.pop();break}case D.OPTION:{e.openElements.currentTagId===D.OPTION&&e.openElements.pop();break}case D.SELECT:{e.openElements.hasInSelectScope(D.SELECT)&&(e.openElements.popUntilTagNamePopped(D.SELECT),e._resetInsertionMode());break}case D.TEMPLATE:{ql(e,t);break}}}a(Sj,"endTagInSelect");function G0e(e,t){const r=t.tagID;r===D.CAPTION||r===D.TABLE||r===D.TBODY||r===D.TFOOT||r===D.THEAD||r===D.TR||r===D.TD||r===D.TH?(e.openElements.popUntilTagNamePopped(D.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Ej(e,t)}a(G0e,"startTagInSelectInTable");function V0e(e,t){const r=t.tagID;r===D.CAPTION||r===D.TABLE||r===D.TBODY||r===D.TFOOT||r===D.THEAD||r===D.TR||r===D.TD||r===D.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(D.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Sj(e,t)}a(V0e,"endTagInSelectInTable");function Y0e(e,t){switch(t.tagID){case D.BASE:case D.BASEFONT:case D.BGSOUND:case D.LINK:case D.META:case D.NOFRAMES:case D.SCRIPT:case D.STYLE:case D.TEMPLATE:case D.TITLE:{ja(e,t);break}case D.CAPTION:case D.COLGROUP:case D.TBODY:case D.TFOOT:case D.THEAD:{e.tmplInsertionModeStack[0]=Ae.IN_TABLE,e.insertionMode=Ae.IN_TABLE,$u(e,t);break}case D.COL:{e.tmplInsertionModeStack[0]=Ae.IN_COLUMN_GROUP,e.insertionMode=Ae.IN_COLUMN_GROUP,M3(e,t);break}case D.TR:{e.tmplInsertionModeStack[0]=Ae.IN_TABLE_BODY,e.insertionMode=Ae.IN_TABLE_BODY,yg(e,t);break}case D.TD:case D.TH:{e.tmplInsertionModeStack[0]=Ae.IN_ROW,e.insertionMode=Ae.IN_ROW,wg(e,t);break}default:e.tmplInsertionModeStack[0]=Ae.IN_BODY,e.insertionMode=Ae.IN_BODY,Xn(e,t)}}a(Y0e,"startTagInTemplate");function Z0e(e,t){t.tagID===D.TEMPLATE&&ql(e,t)}a(Z0e,"endTagInTemplate");function kj(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(D.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):I3(e,t)}a(kj,"eofInTemplate");function $0e(e,t){t.tagID===D.HTML?Xn(e,t):Cp(e,t)}a($0e,"startTagAfterBody");function Aj(e,t){var r;if(t.tagID===D.HTML){if(e.fragmentContext||(e.insertionMode=Ae.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===D.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else Cp(e,t)}a(Aj,"endTagAfterBody");function Cp(e,t){e.insertionMode=Ae.IN_BODY,vg(e,t)}a(Cp,"tokenAfterBody");function X0e(e,t){switch(t.tagID){case D.HTML:{Xn(e,t);break}case D.FRAMESET:{e._insertElement(t,pt.HTML);break}case D.FRAME:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case D.NOFRAMES:{ja(e,t);break}}}a(X0e,"startTagInFrameset");function J0e(e,t){t.tagID===D.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==D.FRAMESET&&(e.insertionMode=Ae.AFTER_FRAMESET))}a(J0e,"endTagInFrameset");function K0e(e,t){switch(t.tagID){case D.HTML:{Xn(e,t);break}case D.NOFRAMES:{ja(e,t);break}}}a(K0e,"startTagAfterFrameset");function W0e(e,t){t.tagID===D.HTML&&(e.insertionMode=Ae.AFTER_AFTER_FRAMESET)}a(W0e,"endTagAfterFrameset");function Q0e(e,t){t.tagID===D.HTML?Xn(e,t):N0(e,t)}a(Q0e,"startTagAfterAfterBody");function N0(e,t){e.insertionMode=Ae.IN_BODY,vg(e,t)}a(N0,"tokenAfterAfterBody");function q0e(e,t){switch(t.tagID){case D.HTML:{Xn(e,t);break}case D.NOFRAMES:{ja(e,t);break}}}a(q0e,"startTagAfterAfterFrameset");function epe(e,t){t.chars=Vr,e._insertCharacters(t)}a(epe,"nullCharacterInForeignContent");function tpe(e,t){e._insertCharacters(t),e.framesetOk=!1}a(tpe,"characterInForeignContent");function Tj(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==pt.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}a(Tj,"popUntilHtmlOrIntegrationPoint");function rpe(e,t){if(vfe(t))Tj(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===pt.MATHML?cj(t):n===pt.SVG&&(bfe(t),dj(t)),N3(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}a(rpe,"startTagInForeignContent");function npe(e,t){if(t.tagID===D.P||t.tagID===D.BR){Tj(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===pt.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(n);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(r);break}}}a(npe,"endTagInForeignContent");Ve.AREA,Ve.BASE,Ve.BASEFONT,Ve.BGSOUND,Ve.BR,Ve.COL,Ve.EMBED,Ve.FRAME,Ve.HR,Ve.IMG,Ve.INPUT,Ve.KEYGEN,Ve.LINK,Ve.META,Ve.PARAM,Ve.SOURCE,Ve.TRACK,Ve.WBR;const ipe=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,ape=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),g9={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Nj(e,t){const r=mpe(e),n=A3("type",{handlers:{root:spe,element:ope,text:lpe,comment:Ij,doctype:upe,raw:dpe},unknown:hpe}),i={parser:r?new f9(g9):f9.getFragmentParser(void 0,g9),handle(l){n(l,i)},stitches:!1,options:t||{}};n(e,i),hc(i,Ul());const s=r?i.parser.document:i.parser.getFragment(),o=ohe(s,{file:i.options.file});return i.stitches&&Nd(o,"comment",function(l,u,c){const h=l;if(h.value.stitch&&c&&u!==void 0){const d=c.children;return d[u]=h.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}a(Nj,"raw$1");function Cj(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}a(Cj,"all$1");function spe(e,t){Cj(e.children,t)}a(spe,"root$2");function ope(e,t){fpe(e,t),Cj(e.children,t),ppe(e,t)}a(ope,"element$1");function lpe(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const r={type:cr.CHARACTER,chars:e.value,location:qh(e)};hc(t,Ul(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}a(lpe,"text$3");function upe(e,t){const r={type:cr.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:qh(e)};hc(t,Ul(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}a(upe,"doctype$1");function cpe(e,t){t.stitches=!0;const r=gpe(e);if("children"in e&&"children"in r){const n=Nj({type:"root",children:e.children},t.options);r.children=n.children}Ij({type:"comment",value:{stitch:r}},t)}a(cpe,"stitch");function Ij(e,t){const r=e.value,n={type:cr.COMMENT,data:r,location:qh(e)};hc(t,Ul(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}a(Ij,"comment$1");function dpe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Mj(t,Ul(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(ipe,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=t.parser.tokenizer._consume();t.parser.tokenizer._callState(r)}}a(dpe,"handleRaw");function hpe(e,t){const r=e;if(t.options.passThrough&&t.options.passThrough.includes(r.type))cpe(r,t);else{let n="";throw ape.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}a(hpe,"unknown$1");function hc(e,t){Mj(e,t);const r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=un.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}a(hc,"resetTokenizer");function Mj(e,t){if(t&&t.offset!==void 0){const r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}a(Mj,"setPoint");function fpe(e,t){const r=e.tagName.toLowerCase();if(t.parser.tokenizer.state===un.PLAINTEXT)return;hc(t,Ul(e));const n=t.parser.openElements.current;let i="namespaceURI"in n?n.namespaceURI:Wa.html;i===Wa.html&&r==="svg"&&(i=Wa.svg);const s=xhe({...e,children:[]},{space:i===Wa.svg?"svg":"html"}),o={type:cr.START_TAG,tagName:r,tagID:dc(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:qh(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=r}a(fpe,"startTag");function ppe(e,t){const r=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&ej.includes(r)||t.parser.tokenizer.state===un.PLAINTEXT)return;hc(t,MA(e));const n={type:cr.END_TAG,tagName:r,tagID:dc(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:qh(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),r===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===un.RCDATA||t.parser.tokenizer.state===un.RAWTEXT||t.parser.tokenizer.state===un.SCRIPT_DATA)&&(t.parser.tokenizer.state=un.DATA)}a(ppe,"endTag");function mpe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}a(mpe,"documentMode");function qh(e){const t=Ul(e)||{line:void 0,column:void 0,offset:void 0},r=MA(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}a(qh,"createParse5Location");function gpe(e){return"children"in e?y_({...e,children:[]}):y_(e)}a(gpe,"cloneWithoutChildren");function vpe(e){return function(t,r){return Nj(t,{...e,file:r})}}a(vpe,"rehypeRaw");const Gs={eof:null,asterisk:42,underscore:95,tilde:126},Xu={attentionSideAfter:2,characterGroupPunctuation:2,characterGroupWhitespace:1},Va={data:"data",characterEscape:"characterEscape",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",strong:"strong",strongSequence:"strongSequence",strongText:"strongText"};function bpe(e){return e===161||e===164||e===167||e===168||e===170||e===173||e===174||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||e===198||e===208||e===215||e===216||e>=222&&e<=225||e===230||e>=232&&e<=234||e===236||e===237||e===240||e===242||e===243||e>=247&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||e===294||e===295||e===299||e>=305&&e<=307||e===312||e>=319&&e<=322||e===324||e>=328&&e<=331||e===333||e===338||e===339||e===358||e===359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||e>=713&&e<=715||e===717||e===720||e>=728&&e<=731||e===733||e===735||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||e===1025||e>=1040&&e<=1103||e===1105||e===8208||e>=8211&&e<=8214||e===8216||e===8217||e===8220||e===8221||e>=8224&&e<=8226||e>=8228&&e<=8231||e===8240||e===8242||e===8243||e===8245||e===8251||e===8254||e===8308||e===8319||e>=8321&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||e===8481||e===8482||e===8486||e===8491||e===8531||e===8532||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||e===8585||e>=8592&&e<=8601||e===8632||e===8633||e===8658||e===8660||e===8679||e===8704||e===8706||e===8707||e===8711||e===8712||e===8715||e===8719||e===8721||e===8725||e===8730||e>=8733&&e<=8736||e===8739||e===8741||e>=8743&&e<=8748||e===8750||e>=8756&&e<=8759||e===8764||e===8765||e===8776||e===8780||e===8786||e===8800||e===8801||e>=8804&&e<=8807||e===8810||e===8811||e===8814||e===8815||e===8834||e===8835||e===8838||e===8839||e===8853||e===8857||e===8869||e===8895||e===8978||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||e===9632||e===9633||e>=9635&&e<=9641||e===9650||e===9651||e===9654||e===9655||e===9660||e===9661||e===9664||e===9665||e>=9670&&e<=9672||e===9675||e>=9678&&e<=9681||e>=9698&&e<=9701||e===9711||e===9733||e===9734||e===9737||e===9742||e===9743||e===9756||e===9758||e===9792||e===9794||e===9824||e===9825||e>=9827&&e<=9829||e>=9831&&e<=9834||e===9836||e===9837||e===9839||e===9886||e===9887||e===9919||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||e===9955||e===9960||e===9961||e>=9963&&e<=9969||e===9972||e>=9974&&e<=9977||e===9979||e===9980||e===9982||e===9983||e===10045||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||e===65533||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||e===127375||e===127376||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109}a(bpe,"isAmbiguous");function ype(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}a(ype,"isFullWidth");function wpe(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e>=94192&&e<=94198||e>=94208&&e<=101589||e>=101631&&e<=101662||e>=101760&&e<=101874||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128728||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129674||e>=129678&&e<=129734||e===129736||e>=129741&&e<=129756||e>=129759&&e<=129770||e>=129775&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}a(wpe,"isWide");function _pe(e){return bpe(e)?"ambiguous":ype(e)?"fullwidth":e===8361||e>=65377&&e<=65470||e>=65474&&e<=65479||e>=65482&&e<=65487||e>=65490&&e<=65495||e>=65498&&e<=65500||e>=65512&&e<=65518?"halfwidth":e>=32&&e<=126||e===162||e===163||e===165||e===166||e===172||e===175||e>=10214&&e<=10221||e===10629||e===10630?"narrow":wpe(e)?"wide":"neutral"}a(_pe,"getCategory");function xpe(e){if(!Number.isSafeInteger(e))throw new TypeError(`Expected a code point, got \`${typeof e}\`.`)}a(xpe,"validate");function Epe(e){return xpe(e),_pe(e)}a(Epe,"eastAsianWidthType");var Spe=Object.defineProperty,kpe=a((e,t,r)=>t in e?Spe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"__defNormalProp$1"),Ape=a((e,t,r)=>kpe(e,t+"",r),"__publicField$1");function Tpe(e){return/^\p{Emoji_Presentation}/u.test(String.fromCodePoint(e))}a(Tpe,"isEmoji");function Npe(e){if(!e||e<4352)return!1;switch(Epe(e)){case"fullwidth":case"halfwidth":return!0;case"wide":return!Tpe(e);case"narrow":return!1;case"ambiguous":return 917760<=e&&e<=917999?null:!1;case"neutral":return/^\p{sc=Hangul}/u.test(String.fromCodePoint(e))}}a(Npe,"cjkOrIvs");function Cpe(e,t){return t!==65025||!e||e<8216?!1:e===8216||e===8217||e===8220||e===8221}a(Cpe,"isCjkAmbiguousPunctuation");function Ipe(e){return e!==null&&e>=65024&&e<=65038}a(Ipe,"nonEmojiGeneralUseVS");var Mpe=Oj(/\p{P}|\p{S}/u),Ope=Oj(/\s/);function Oj(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCodePoint(r))}}a(Oj,"regexCheck");var ji;(e=>{e.spaceOrPunctuation=3,e.cjk=4096,e.cjkPunctuation=4098,e.ivs=8192,e.cjkOrIvs=12288,e.nonEmojiGeneralUseVS=16384,e.variationSelector=24576,e.ivsToCjkRightShift=1})(ji||(ji={}));function Ru(e){if(e===Gs.eof||wi(e)||Ope(e))return Xu.characterGroupWhitespace;let t=0;if(e>=4352){if(Ipe(e))return ji.nonEmojiGeneralUseVS;switch(Npe(e)){case null:return ji.ivs;case!0:t|=ji.cjk;break}}return Mpe(e)&&(t|=Xu.characterGroupPunctuation),t}a(Ru,"classifyCharacter");function Rj(e,t,r){if(!Dpe(e))return e;const n=t(),i=Ru(n);return!n||mh(i)?e:Cpe(n,r)?ji.cjkPunctuation:Rpe(i)}a(Rj,"classifyPrecedingCharacter");function Rpe(e){return e&~ji.ivs}a(Rpe,"stripIvs");function mh(e){return!!(e&Xu.characterGroupWhitespace)}a(mh,"isUnicodeWhitespace");function Ip(e){return(e&ji.cjkPunctuation)===Xu.characterGroupPunctuation}a(Ip,"isNonCjkPunctuation");function d2(e){return!!(e&ji.cjk)}a(d2,"isCjk");function Ppe(e){return e===ji.ivs}a(Ppe,"isIvs");function Lpe(e){return!!(e&ji.cjkOrIvs)}a(Lpe,"isCjkOrIvs");function Dpe(e){return e===ji.nonEmojiGeneralUseVS}a(Dpe,"isNonEmojiGeneralUseVS");function v9(e){return!!(e&ji.spaceOrPunctuation)}a(v9,"isSpaceOrPunctuation");function Pj(e){return!!(e&&e>=55296&&e<=56319)}a(Pj,"isCodeHighSurrogate");function Lj(e){return!!(e&&e>=56320&&e<=57343)}a(Lj,"isCodeLowSurrogate");function Dj(e,t,r){if(t._bufferIndex<2)return e;const i=r({start:{...t,_bufferIndex:t._bufferIndex-2},end:t}).codePointAt(0);return i&&i>=65536?i:e}a(Dj,"tryGetGenuinePreviousCode");function jpe(e,t,r){const n=e>=65536?2:1;if(t._bufferIndex<1+n)return null;const i=t._bufferIndex-n-2,s=r({start:{...t,_bufferIndex:i>=0?i:0},end:{...t,_bufferIndex:t._bufferIndex-n}}),o=s.charCodeAt(s.length-1);if(Number.isNaN(o))return null;if(s.length<2||o<56320||57343<o)return o;const l=s.codePointAt(0);return l&&l>=65536?l:o}a(jpe,"tryGetCodeTwoBefore");var jj=class{static{a(this,"TwoPreviousCode")}constructor(e,t,r){this.previousCode=e,this.nowPoint=t,this.sliceSerialize=r,Ape(this,"cachedValue")}value(){return this.cachedValue===void 0&&(this.cachedValue=jpe(this.previousCode,this.nowPoint,this.sliceSerialize)),this.cachedValue}};function Bj(e,t,r){const n=r({start:t,end:{...t,_bufferIndex:t._bufferIndex+2}}).codePointAt(0);return n&&n>=65536?n:e}a(Bj,"tryGetGenuineNextCode");var oy={name:"attention",resolveAll:Bpe,tokenize:zpe};function Bpe(e,t){let r=-1,n,i,s,o,l,u,c,h;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d={...e[n][1].end},g={...e[r][1].start};b9(d,-u),b9(g,u),o={type:u>1?Va.strongSequence:Va.emphasisSequence,start:d,end:{...e[n][1].end}},l={type:u>1?Va.strongSequence:Va.emphasisSequence,start:{...e[r][1].start},end:g},s={type:u>1?Va.strongText:Va.emphasisText,start:{...e[n][1].end},end:{...e[r][1].start}},i={type:u>1?Va.strong:Va.emphasis,start:{...o.start},end:{...l.end}},e[n][1].end={...o.start},e[r][1].start={...l.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=bc(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=bc(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),qn(t.parser.constructs.insideSpan.null),c=bc(c,H2(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=bc(c,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(h=2,c=bc(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):h=0,gl(e,n-1,r-n+3,c),r=n+c.length-h-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}a(Bpe,"resolveAllAttention");function zpe(e,t){const r=this.parser.constructs.attentionMarkers.null,{now:n,sliceSerialize:i,previous:s}=this,o=Lj(s)?Dj(s,n(),i):s,l=Ru(o),u=new jj(o,n(),i),c=Rj(l,u.value.bind(u),o);let h;return d;function d(m){return h=m,e.enter("attentionSequence"),g(m)}function g(m){if(m===h)return e.consume(m),g;const y=e.exit("attentionSequence"),x=Pj(m)?Bj(m,n(),i):m,A=Ru(x),C=Ip(c),M=C||mh(c),R=Ip(A),P=R||mh(A),L=Lpe(c),z=!P||R&&(M||L)||r.includes(m),Z=!M||C&&(P||d2(A))||r.includes(o);return y._open=!!(h===Gs.asterisk?z:z&&(v9(c)||!Z)),y._close=!!(h===Gs.asterisk?Z:Z&&(v9(A)||!z)),t(m)}}a(zpe,"tokenizeAttention");function b9(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}a(b9,"movePoint");function Fpe(){return{text:{[Gs.asterisk]:oy,[Gs.underscore]:oy},insideSpan:{null:[oy]}}}a(Fpe,"cjkFriendlyExtension");function Upe(){const e=this.data();(e.micromarkExtensions||(e.micromarkExtensions=[])).push(Fpe())}a(Upe,"remarkCjkFriendly");function Hpe(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{[Gs.tilde]:n},insideSpan:{null:[n]},attentionMarkers:{null:[Gs.tilde]}};function i(o,l){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},g=[["enter",h,l],["enter",o[c][1],l],["exit",o[c][1],l],["enter",d,l]],m=l.parser.constructs.insideSpan.null;m&&gl(g,g.length,0,H2(m,o.slice(c+1,u),l)),gl(g,g.length,0,[["exit",d,l],["enter",o[u][1],l],["exit",o[u][1],l],["exit",h,l]]),gl(o,c-1,u-c+3,g),u=c+g.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type=Va.data);return o}a(i,"resolveAllStrikethrough");function s(o,l,u){const{now:c,sliceSerialize:h,previous:d}=this,g=Lj(d)?Dj(d,c(),h):d,m=Ru(g),y=new jj(g,c(),h),x=Rj(m,y.value.bind(y),g),A=this.events;let C=0;return M;function M(P){return g===Gs.tilde&&A[A.length-1][1].type!==Va.characterEscape?u(P):(o.enter("strikethroughSequenceTemporary"),R(P))}function R(P){const L=Ru(g);if(P===Gs.tilde)return C>1?u(P):(o.consume(P),C++,R);if(C<2&&!r)return u(P);const z=o.exit("strikethroughSequenceTemporary"),Z=Pj(P)?Bj(P,c(),h):P,Y=Ru(Z),F=Ip(x)||mh(x),f=Ip(Y)||mh(Y),w=d2(x)||Ppe(L);return z._open=!f||Y===Xu.attentionSideAfter&&(F||w),z._close=!F||L===Xu.attentionSideAfter&&(f||d2(Y)),l(P)}}a(s,"tokenizeStrikethrough")}a(Hpe,"gfmStrikethroughCjkFriendly");function Gpe(e){const t=this.data();(t.micromarkExtensions||(t.micromarkExtensions=[])).push(Hpe(e))}a(Gpe,"remarkGfmStrikethroughCjkFriendly");function Mp(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}a(Mp,"ccount");function Vpe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}a(Vpe,"escapeStringRegexp");function Ype(e,t,r){const i=U2((r||{}).ignore||[]),s=Zpe(t);let o=-1;for(;++o<s.length;)NA(e,"text",l);function l(c,h){let d=-1,g;for(;++d<h.length;){const m=h[d],y=g?g.children:void 0;if(i(m,y?y.indexOf(m):void 0,g))return;g=m}if(g)return u(c,h)}a(l,"visitor");function u(c,h){const d=h[h.length-1],g=s[o][0],m=s[o][1];let y=0;const A=d.children.indexOf(c);let C=!1,M=[];g.lastIndex=0;let R=g.exec(c.value);for(;R;){const P=R.index,L={index:R.index,input:R.input,stack:[...h,c]};let z=m(...R,L);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?g.lastIndex=P+1:(y!==P&&M.push({type:"text",value:c.value.slice(y,P)}),Array.isArray(z)?M.push(...z):z&&M.push(z),y=P+R[0].length,C=!0),!g.global)break;R=g.exec(c.value)}return C?(y<c.value.length&&M.push({type:"text",value:c.value.slice(y)}),d.children.splice(A,1,...M)):M=[c],A+M.length}a(u,"handler")}a(Ype,"findAndReplace");function Zpe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([$pe(i[0]),Xpe(i[1])])}return t}a(Zpe,"toPairs");function $pe(e){return typeof e=="string"?new RegExp(Vpe(e),"g"):e}a($pe,"toExpression");function Xpe(e){return typeof e=="function"?e:function(){return e}}a(Xpe,"toFunction");const ly="phrasing",uy=["autolink","link","image","label"];function Jpe(){return{transforms:[rme],enter:{literalAutolink:Wpe,literalAutolinkEmail:cy,literalAutolinkHttp:cy,literalAutolinkWww:cy},exit:{literalAutolink:tme,literalAutolinkEmail:eme,literalAutolinkHttp:Qpe,literalAutolinkWww:qpe}}}a(Jpe,"gfmAutolinkLiteralFromMarkdown");function Kpe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ly,notInConstruct:uy},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ly,notInConstruct:uy},{character:":",before:"[ps]",after:"\\/",inConstruct:ly,notInConstruct:uy}]}}a(Kpe,"gfmAutolinkLiteralToMarkdown");function Wpe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}a(Wpe,"enterLiteralAutolink");function cy(e){this.config.enter.autolinkProtocol.call(this,e)}a(cy,"enterLiteralAutolinkValue");function Qpe(e){this.config.exit.autolinkProtocol.call(this,e)}a(Qpe,"exitLiteralAutolinkHttp");function qpe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];qn(t.type==="link"),t.url="http://"+this.sliceSerialize(e)}a(qpe,"exitLiteralAutolinkWww");function eme(e){this.config.exit.autolinkEmail.call(this,e)}a(eme,"exitLiteralAutolinkEmail");function tme(e){this.exit(e)}a(tme,"exitLiteralAutolink");function rme(e){Ype(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,nme],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,ime]],{ignore:["link","linkReference"]})}a(rme,"transformGfmAutolinkLiterals");function nme(e,t,r,n,i){let s="";if(!zj(i)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!ame(r)))return!1;const o=sme(r+n);if(!o[0])return!1;const l={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}a(nme,"findUrl");function ime(e,t,r,n){return!zj(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}a(ime,"findEmail");function ame(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}a(ame,"isCorrectDomain");function sme(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=Mp(e,"(");let s=Mp(e,")");for(;n!==-1&&i>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}a(sme,"splitUrl");function zj(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Du(r)||G2(r))&&(!t||r!==47)}a(zj,"previous$1");Fj.peek=mme;function ome(){this.buffer()}a(ome,"enterFootnoteCallString");function lme(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}a(lme,"enterFootnoteCall");function ume(){this.buffer()}a(ume,"enterFootnoteDefinitionLabelString");function cme(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}a(cme,"enterFootnoteDefinition");function dme(e){const t=this.resume(),r=this.stack[this.stack.length-1];qn(r.type==="footnoteReference"),r.identifier=kh(this.sliceSerialize(e)).toLowerCase(),r.label=t}a(dme,"exitFootnoteCallString");function hme(e){this.exit(e)}a(hme,"exitFootnoteCall");function fme(e){const t=this.resume(),r=this.stack[this.stack.length-1];qn(r.type==="footnoteDefinition"),r.identifier=kh(this.sliceSerialize(e)).toLowerCase(),r.label=t}a(fme,"exitFootnoteDefinitionLabelString");function pme(e){this.exit(e)}a(pme,"exitFootnoteDefinition");function mme(){return"["}a(mme,"footnoteReferencePeek");function Fj(e,t,r,n){const i=r.createTracker(n);let s=i.move("[^");const o=r.enter("footnoteReference"),l=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),l(),o(),s+=i.move("]"),s}a(Fj,"footnoteReference");function gme(){return{enter:{gfmFootnoteCallString:ome,gfmFootnoteCall:lme,gfmFootnoteDefinitionLabelString:ume,gfmFootnoteDefinition:cme},exit:{gfmFootnoteCallString:dme,gfmFootnoteCall:hme,gfmFootnoteDefinitionLabelString:fme,gfmFootnoteDefinition:pme}}}a(gme,"gfmFootnoteFromMarkdown");function vme(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:Fj},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,o){const l=s.createTracker(o);let u=l.move("[^");const c=s.enter("footnoteDefinition"),h=s.enter("label");return u+=l.move(s.safe(s.associationId(n),{before:u,after:"]"})),h(),u+=l.move("]:"),n.children&&n.children.length>0&&(l.shift(4),u+=l.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,l.current()),t?Uj:bme))),c(),u}a(r,"footnoteDefinition")}a(vme,"gfmFootnoteToMarkdown");function bme(e,t,r){return t===0?e:Uj(e,t,r)}a(bme,"mapExceptFirst");function Uj(e,t,r){return(r?"":"    ")+e}a(Uj,"mapAll");const yme=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Hj.peek=Sme;function wme(){return{canContainEols:["delete"],enter:{strikethrough:xme},exit:{strikethrough:Eme}}}a(wme,"gfmStrikethroughFromMarkdown");function _me(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:yme}],handlers:{delete:Hj}}}a(_me,"gfmStrikethroughToMarkdown");function xme(e){this.enter({type:"delete",children:[]},e)}a(xme,"enterStrikethrough");function Eme(e){this.exit(e)}a(Eme,"exitStrikethrough");function Hj(e,t,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let o=i.move("~~");return o+=r.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}a(Hj,"handleDelete");function Sme(){return"~"}a(Sme,"peekDelete");function kme(e){return e.length}a(kme,"defaultStringLength");function Ame(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||kme,s=[],o=[],l=[],u=[];let c=0,h=-1;for(;++h<e.length;){const x=[],A=[];let C=-1;for(e[h].length>c&&(c=e[h].length);++C<e[h].length;){const M=Tme(e[h][C]);if(r.alignDelimiters!==!1){const R=i(M);A[C]=R,(u[C]===void 0||R>u[C])&&(u[C]=R)}x.push(M)}o[h]=x,l[h]=A}let d=-1;if(typeof n=="object"&&"length"in n)for(;++d<c;)s[d]=y9(n[d]);else{const x=y9(n);for(;++d<c;)s[d]=x}d=-1;const g=[],m=[];for(;++d<c;){const x=s[d];let A="",C="";x===99?(A=":",C=":"):x===108?A=":":x===114&&(C=":");let M=r.alignDelimiters===!1?1:Math.max(1,u[d]-A.length-C.length);const R=A+"-".repeat(M)+C;r.alignDelimiters!==!1&&(M=A.length+M+C.length,M>u[d]&&(u[d]=M),m[d]=M),g[d]=R}o.splice(1,0,g),l.splice(1,0,m),h=-1;const y=[];for(;++h<o.length;){const x=o[h],A=l[h];d=-1;const C=[];for(;++d<c;){const M=x[d]||"";let R="",P="";if(r.alignDelimiters!==!1){const L=u[d]-(A[d]||0),z=s[d];z===114?R=" ".repeat(L):z===99?L%2?(R=" ".repeat(L/2+.5),P=" ".repeat(L/2-.5)):(R=" ".repeat(L/2),P=R):P=" ".repeat(L)}r.delimiterStart!==!1&&!d&&C.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&M==="")&&(r.delimiterStart!==!1||d)&&C.push(" "),r.alignDelimiters!==!1&&C.push(R),C.push(M),r.alignDelimiters!==!1&&C.push(P),r.padding!==!1&&C.push(" "),(r.delimiterEnd!==!1||d!==c-1)&&C.push("|")}y.push(r.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return y.join(`
`)}a(Ame,"markdownTable");function Tme(e){return e==null?"":String(e)}a(Tme,"serialize");function y9(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}a(y9,"toAlignment");function Nme(e,t,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const o=r.indentLines(r.containerFlow(e,s.current()),Cme);return i(),o}a(Nme,"blockquote");function Cme(e,t,r){return">"+(r?"":" ")+e}a(Cme,"map$1");function Ime(e,t){return w9(e,t.inConstruct,!0)&&!w9(e,t.notInConstruct,!1)}a(Ime,"patternInScope");function w9(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}a(w9,"listInScope");function _9(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&Ime(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}a(_9,"hardBreak");function Gj(e,t){const r=String(e);let n=r.indexOf(t),i=n,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>o&&(o=s):s=1,i=n+t.length,n=r.indexOf(t,i);return o}a(Gj,"longestStreak");function Mme(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}a(Mme,"formatCodeAsIndented");function Ome(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}a(Ome,"checkFence");function Rme(e,t,r,n){const i=Ome(r),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Mme(e,r)){const d=r.enter("codeIndented"),g=r.indentLines(s,Pme);return d(),g}const l=r.createTracker(n),u=i.repeat(Math.max(Gj(s,i)+1,3)),c=r.enter("codeFenced");let h=l.move(u);if(e.lang){const d=r.enter(`codeFencedLang${o}`);h+=l.move(r.safe(e.lang,{before:h,after:" ",encode:["`"],...l.current()})),d()}if(e.lang&&e.meta){const d=r.enter(`codeFencedMeta${o}`);h+=l.move(" "),h+=l.move(r.safe(e.meta,{before:h,after:`
`,encode:["`"],...l.current()})),d()}return h+=l.move(`
`),s&&(h+=l.move(s+`
`)),h+=l.move(u),c(),h}a(Rme,"code$1");function Pme(e,t,r){return(r?"":"    ")+e}a(Pme,"map");function O3(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}a(O3,"checkQuote");function Lme(e,t,r,n){const i=O3(r),s=i==='"'?"Quote":"Apostrophe",o=r.enter("definition");let l=r.enter("label");const u=r.createTracker(n);let c=u.move("[");return c+=u.move(r.safe(r.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(r.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=r.enter("destinationRaw"),c+=u.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),l(),e.title&&(l=r.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(r.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),l()),o(),c}a(Lme,"definition");function Dme(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}a(Dme,"checkEmphasis");function gh(e){return"&#x"+e.toString(16).toUpperCase()+";"}a(gh,"encodeCharacterReference");function Op(e,t,r){const n=L0(e),i=L0(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}a(Op,"encodeInfo");Vj.peek=jme;function Vj(e,t,r,n){const i=Dme(r),s=r.enter("emphasis"),o=r.createTracker(n),l=o.move(i);let u=o.move(r.containerPhrasing(e,{after:i,before:l,...o.current()}));const c=u.charCodeAt(0),h=Op(n.before.charCodeAt(n.before.length-1),c,i);h.inside&&(u=gh(c)+u.slice(1));const d=u.charCodeAt(u.length-1),g=Op(n.after.charCodeAt(0),d,i);g.inside&&(u=u.slice(0,-1)+gh(d));const m=o.move(i);return s(),r.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},l+u+m}a(Vj,"emphasis");function jme(e,t,r){return r.options.emphasis||"*"}a(jme,"emphasisPeek");function Bme(e,t){let r=!1;return Nd(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,EU}),!!((!e.depth||e.depth<3)&&OA(e)&&(t.options.setext||r))}a(Bme,"formatHeadingAsSetext");function zme(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(Bme(e,r)){const h=r.enter("headingSetext"),d=r.enter("phrasing"),g=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),h(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=r.enter("headingAtx"),u=r.enter("phrasing");s.move(o+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=gh(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,r.options.closeAtx&&(c+=" "+o),u(),l(),c}a(zme,"heading");Yj.peek=Fme;function Yj(e){return e.value||""}a(Yj,"html$2");function Fme(){return"<"}a(Fme,"htmlPeek");Zj.peek=Ume;function Zj(e,t,r,n){const i=O3(r),s=i==='"'?"Quote":"Apostrophe",o=r.enter("image");let l=r.enter("label");const u=r.createTracker(n);let c=u.move("![");return c+=u.move(r.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(r.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=r.enter("destinationRaw"),c+=u.move(r.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),l(),e.title&&(l=r.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(r.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),l()),c+=u.move(")"),o(),c}a(Zj,"image");function Ume(){return"!"}a(Ume,"imagePeek");$j.peek=Hme;function $j(e,t,r,n){const i=e.referenceType,s=r.enter("imageReference");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("![");const c=r.safe(e.alt,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),o();const h=r.stack;r.stack=[],o=r.enter("reference");const d=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return o(),r.stack=h,s(),i==="full"||!c||c!==d?u+=l.move(d+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}a($j,"imageReference");function Hme(){return"!"}a(Hme,"imageReferencePeek");Xj.peek=Gme;function Xj(e,t,r){let n=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const o=r.unsafe[s],l=r.compilePattern(o);let u;if(o.atBreak)for(;u=l.exec(n);){let c=u.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(u.index+1)}}return i+n+i}a(Xj,"inlineCode");function Gme(){return"`"}a(Gme,"inlineCodePeek");function Jj(e,t){const r=OA(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}a(Jj,"formatLinkAsAutolink");Kj.peek=Vme;function Kj(e,t,r,n){const i=O3(r),s=i==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let l,u;if(Jj(e,r)){const h=r.stack;r.stack=[],l=r.enter("autolink");let d=o.move("<");return d+=o.move(r.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),l(),r.stack=h,d}l=r.enter("link"),u=r.enter("label");let c=o.move("[");return c+=o.move(r.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=r.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(r.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(u=r.enter("destinationRaw"),c+=o.move(r.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=r.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(r.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),u()),c+=o.move(")"),l(),c}a(Kj,"link");function Vme(e,t,r){return Jj(e,r)?"<":"["}a(Vme,"linkPeek");Wj.peek=Yme;function Wj(e,t,r,n){const i=e.referenceType,s=r.enter("linkReference");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("[");const c=r.containerPhrasing(e,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),o();const h=r.stack;r.stack=[],o=r.enter("reference");const d=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return o(),r.stack=h,s(),i==="full"||!c||c!==d?u+=l.move(d+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}a(Wj,"linkReference");function Yme(){return"["}a(Yme,"linkReferencePeek");function R3(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}a(R3,"checkBullet");function Zme(e){const t=R3(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}a(Zme,"checkBulletOther");function $me(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}a($me,"checkBulletOrdered");function Qj(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}a(Qj,"checkRule");function Xme(e,t,r,n){const i=r.enter("list"),s=r.bulletCurrent;let o=e.ordered?$me(r):R3(r);const l=e.ordered?o==="."?")":".":Zme(r);let u=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),Qj(r)===o&&h){let d=-1;for(;++d<e.children.length;){const g=e.children[d];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=l),r.bulletCurrent=o;const c=r.containerFlow(e,n);return r.bulletLastUsed=o,r.bulletCurrent=s,i(),c}a(Xme,"list");function Jme(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}a(Jme,"checkListItemIndent");function Kme(e,t,r,n){const i=Jme(r);let s=r.bulletCurrent||R3(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=r.createTracker(n);l.move(s+" ".repeat(o-s.length)),l.shift(o);const u=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,l.current()),h);return u(),c;function h(d,g,m){return g?(m?"":" ".repeat(o))+d:(m?s:s+" ".repeat(o-s.length))+d}a(h,"map")}a(Kme,"listItem");function Wme(e,t,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),o=r.containerPhrasing(e,n);return s(),i(),o}a(Wme,"paragraph");const Qme=U2(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function qme(e,t,r,n){return(e.children.some(function(o){return Qme(o)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}a(qme,"root$1");function ege(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}a(ege,"checkStrong");qj.peek=tge;function qj(e,t,r,n){const i=ege(r),s=r.enter("strong"),o=r.createTracker(n),l=o.move(i+i);let u=o.move(r.containerPhrasing(e,{after:i,before:l,...o.current()}));const c=u.charCodeAt(0),h=Op(n.before.charCodeAt(n.before.length-1),c,i);h.inside&&(u=gh(c)+u.slice(1));const d=u.charCodeAt(u.length-1),g=Op(n.after.charCodeAt(0),d,i);g.inside&&(u=u.slice(0,-1)+gh(d));const m=o.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},l+u+m}a(qj,"strong");function tge(e,t,r){return r.options.strong||"*"}a(tge,"strongPeek");function rge(e,t,r,n){return r.safe(e.value,n)}a(rge,"text$2");function nge(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}a(nge,"checkRuleRepetition");function ige(e,t,r){const n=(Qj(r)+(r.options.ruleSpaces?" ":"")).repeat(nge(r));return r.options.ruleSpaces?n.slice(0,-1):n}a(ige,"thematicBreak");const eB={blockquote:Nme,break:_9,code:Rme,definition:Lme,emphasis:Vj,hardBreak:_9,heading:zme,html:Yj,image:Zj,imageReference:$j,inlineCode:Xj,link:Kj,linkReference:Wj,list:Xme,listItem:Kme,paragraph:Wme,root:qme,strong:qj,text:rge,thematicBreak:ige};function age(){return{enter:{table:sge,tableData:x9,tableHeader:x9,tableRow:lge},exit:{codeText:uge,table:oge,tableData:dy,tableHeader:dy,tableRow:dy}}}a(age,"gfmTableFromMarkdown");function sge(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}a(sge,"enterTable");function oge(e){this.exit(e),this.data.inTable=void 0}a(oge,"exitTable");function lge(e){this.enter({type:"tableRow",children:[]},e)}a(lge,"enterRow");function dy(e){this.exit(e)}a(dy,"exit");function x9(e){this.enter({type:"tableCell",children:[]},e)}a(x9,"enterCell");function uge(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,cge));const r=this.stack[this.stack.length-1];qn(r.type==="inlineCode"),r.value=t,this.exit(e)}a(uge,"exitCodeText");function cge(e,t){return t==="|"?t:e}a(cge,"replace");function dge(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:u,tableRow:l}};function o(m,y,x,A){return c(h(m,x,A),m.align)}function l(m,y,x,A){const C=d(m,x,A),M=c([C]);return M.slice(0,M.indexOf(`
`))}function u(m,y,x,A){const C=x.enter("tableCell"),M=x.enter("phrasing"),R=x.containerPhrasing(m,{...A,before:s,after:s});return M(),C(),R}function c(m,y){return Ame(m,{align:y,alignDelimiters:n,padding:r,stringLength:i})}function h(m,y,x){const A=m.children;let C=-1;const M=[],R=y.enter("table");for(;++C<A.length;)M[C]=d(A[C],y,x);return R(),M}function d(m,y,x){const A=m.children;let C=-1;const M=[],R=y.enter("tableRow");for(;++C<A.length;)M[C]=u(A[C],m,y,x);return R(),M}function g(m,y,x){let A=eB.inlineCode(m,y,x);return x.stack.includes("tableCell")&&(A=A.replace(/\|/g,"\\$&")),A}}a(dge,"gfmTableToMarkdown");function hge(){return{exit:{taskListCheckValueChecked:E9,taskListCheckValueUnchecked:E9,paragraph:pge}}}a(hge,"gfmTaskListItemFromMarkdown");function fge(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:mge}}}a(fge,"gfmTaskListItemToMarkdown");function E9(e){const t=this.stack[this.stack.length-2];qn(t.type==="listItem"),t.checked=e.type==="taskListCheckValueChecked"}a(E9,"exitCheck");function pge(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];qn(r.type==="paragraph");const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){o=l;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}a(pge,"exitParagraphWithTaskListItem");function mge(e,t,r,n){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",l=r.createTracker(n);s&&l.move(o);let u=eB.listItem(e,t,r,{...n,...l.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(h){return h+o}a(c,"check")}a(mge,"listItemWithTaskListItem");function gge(){return[Jpe(),gme(),wme(),age(),hge()]}a(gge,"gfmFromMarkdown");function vge(e){return{extensions:[Kpe(),vme(e),_me(),dge(e),fge()]}}a(vge,"gfmToMarkdown");const bge={tokenize:Sge,partial:!0},tB={tokenize:kge,partial:!0},rB={tokenize:Age,partial:!0},nB={tokenize:Tge,partial:!0},yge={tokenize:Nge,partial:!0},iB={name:"wwwAutolink",tokenize:xge,previous:sB},aB={name:"protocolAutolink",tokenize:Ege,previous:oB},oo={name:"emailAutolink",tokenize:_ge,previous:lB},gs={};function wge(){return{text:gs}}a(wge,"gfmAutolinkLiteral");let al=48;for(;al<123;)gs[al]=oo,al++,al===58?al=65:al===91&&(al=97);gs[43]=oo;gs[45]=oo;gs[46]=oo;gs[95]=oo;gs[72]=[oo,aB];gs[104]=[oo,aB];gs[87]=[oo,iB];gs[119]=[oo,iB];function _ge(e,t,r){const n=this;let i,s;return o;function o(d){return!h2(d)||!lB.call(n,n.previous)||P3(n.events)?r(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(d))}function l(d){return h2(d)?(e.consume(d),l):d===64?(e.consume(d),u):r(d)}function u(d){return d===46?e.check(yge,h,c)(d):d===45||d===95||V2(d)?(s=!0,e.consume(d),u):h(d)}function c(d){return e.consume(d),i=!0,u}function h(d){return s&&i&&Cd(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):r(d)}}a(_ge,"tokenizeEmailAutolink");function xge(e,t,r){const n=this;return i;function i(o){return o!==87&&o!==119||!sB.call(n,n.previous)||P3(n.events)?r(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(bge,e.attempt(tB,e.attempt(rB,s),r),r)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}a(xge,"tokenizeWwwAutolink");function Ege(e,t,r){const n=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&oB.call(n,n.previous)&&!P3(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),l):r(d)}function l(d){if(Cd(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),l;if(d===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(d),u}return r(d)}function u(d){return d===47?(e.consume(d),s?c:(s=!0,u)):r(d)}function c(d){return d===null||SU(d)||wi(d)||Du(d)||G2(d)?r(d):e.attempt(tB,e.attempt(rB,h),r)(d)}function h(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}a(Ege,"tokenizeProtocolAutolink");function Sge(e,t,r){let n=0;return i;function i(o){return(o===87||o===119)&&n<3?(n++,e.consume(o),i):o===46&&n===3?(e.consume(o),s):r(o)}function s(o){return o===null?r(o):t(o)}}a(Sge,"tokenizeWwwPrefix");function kge(e,t,r){let n,i,s;return o;function o(c){return c===46||c===95?e.check(nB,u,l)(c):c===null||wi(c)||Du(c)||c!==45&&G2(c)?u(c):(s=!0,e.consume(c),o)}function l(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),o}function u(c){return i||n||!s?r(c):t(c)}}a(kge,"tokenizeDomain");function Age(e,t){let r=0,n=0;return i;function i(o){return o===40?(r++,e.consume(o),i):o===41&&n<r?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(nB,t,s)(o):o===null||wi(o)||Du(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&n++,e.consume(o),i}}a(Age,"tokenizePath");function Tge(e,t,r){return n;function n(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),n):l===38?(e.consume(l),s):l===93?(e.consume(l),i):l===60||l===null||wi(l)||Du(l)?t(l):r(l)}function i(l){return l===null||l===40||l===91||wi(l)||Du(l)?t(l):n(l)}function s(l){return Cd(l)?o(l):r(l)}function o(l){return l===59?(e.consume(l),n):Cd(l)?(e.consume(l),o):r(l)}}a(Tge,"tokenizeTrail");function Nge(e,t,r){return n;function n(s){return e.consume(s),i}function i(s){return V2(s)?r(s):t(s)}}a(Nge,"tokenizeEmailDomainDotTrail");function sB(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||wi(e)}a(sB,"previousWww");function oB(e){return!Cd(e)}a(oB,"previousProtocol");function lB(e){return!(e===47||h2(e))}a(lB,"previousEmail");function h2(e){return e===43||e===45||e===46||e===95||V2(e)}a(h2,"gfmAtext");function P3(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}a(P3,"previousUnbalanced");const Cge={tokenize:jge,partial:!0};function Ige(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Pge,continuation:{tokenize:Lge},exit:Dge}},text:{91:{name:"gfmFootnoteCall",tokenize:Rge},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Mge,resolveTo:Oge}}}}a(Ige,"gfmFootnote");function Mge(e,t,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;i--;){const u=n.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return l;function l(u){if(!o||!o._balanced)return r(u);const c=kh(n.sliceSerialize({start:o.end,end:n.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?r(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}a(Mge,"tokenizePotentialGfmFootnoteCall");function Oge(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...l),e}a(Oge,"resolveToPotentialGfmFootnoteCall");function Rge(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,o;return l;function l(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),u}function u(d){return d!==94?r(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||wi(d))return r(d);if(d===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(kh(n.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(d)}return wi(d)||(o=!0),s++,e.consume(d),d===92?h:c}function h(d){return d===91||d===92||d===93?(e.consume(d),s++,c):c(d)}}a(Rge,"tokenizeGfmFootnoteCall");function Pge(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,o=0,l;return u;function u(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):r(y)}function h(y){if(o>999||y===93&&!l||y===null||y===91||wi(y))return r(y);if(y===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return s=kh(n.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return wi(y)||(l=!0),o++,e.consume(y),y===92?d:h}function d(y){return y===91||y===92||y===93?(e.consume(y),o++,h):h(y)}function g(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),i.includes(s)||i.push(s),Ki(e,m,"gfmFootnoteDefinitionWhitespace")):r(y)}function m(y){return t(y)}}a(Pge,"tokenizeDefinitionStart");function Lge(e,t,r){return e.check(kU,t,e.attempt(Cge,t,r))}a(Lge,"tokenizeDefinitionContinuation");function Dge(e){e.exit("gfmFootnoteDefinition")}a(Dge,"gfmFootnoteDefinitionEnd");function jge(e,t,r){const n=this;return Ki(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):r(s)}}a(jge,"tokenizeIndent");function Bge(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(o,l){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},g=[["enter",h,l],["enter",o[c][1],l],["exit",o[c][1],l],["enter",d,l]],m=l.parser.constructs.insideSpan.null;m&&gl(g,g.length,0,H2(m,o.slice(c+1,u),l)),gl(g,g.length,0,[["exit",d,l],["enter",o[u][1],l],["exit",o[u][1],l],["exit",h,l]]),gl(o,c-1,u-c+3,g),u=c+g.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}a(i,"resolveAllStrikethrough");function s(o,l,u){const c=this.previous,h=this.events;let d=0;return g;function g(y){return c===126&&h[h.length-1][1].type!=="characterEscape"?u(y):(o.enter("strikethroughSequenceTemporary"),m(y))}function m(y){const x=L0(c);if(y===126)return d>1?u(y):(o.consume(y),d++,m);if(d<2&&!r)return u(y);const A=o.exit("strikethroughSequenceTemporary"),C=L0(y);return A._open=!C||C===2&&!!x,A._close=!x||x===2&&!!C,l(y)}}a(s,"tokenizeStrikethrough")}a(Bge,"gfmStrikethrough");class zge{static{a(this,"EditMap")}constructor(){this.map=[]}add(t,r,n){Fge(this,t,r,n)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const s of i)t.push(s);i=n.pop()}this.map.length=0}}function Fge(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}a(Fge,"addImplementation");function Uge(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}a(Uge,"gfmTableAlign");function Hge(){return{flow:{null:{name:"table",tokenize:Gge,resolveAll:Vge}}}}a(Hge,"gfmTable");function Gge(e,t,r){const n=this;let i=0,s=0,o;return l;function l(F){let W=n.events.length-1;for(;W>-1;){const v=n.events[W][1].type;if(v==="lineEnding"||v==="linePrefix")W--;else break}const f=W>-1?n.events[W][1].type:null,w=f==="tableHead"||f==="tableRow"?z:u;return w===z&&n.parser.lazy[n.now().line]?r(F):w(F)}function u(F){return e.enter("tableHead"),e.enter("tableRow"),c(F)}function c(F){return F===124||(o=!0,s+=1),h(F)}function h(F){return F===null?r(F):Wi(F)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),m):r(F):fu(F)?Ki(e,h,"whitespace")(F):(s+=1,o&&(o=!1,i+=1),F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),o=!0,h):(e.enter("data"),d(F)))}function d(F){return F===null||F===124||wi(F)?(e.exit("data"),h(F)):(e.consume(F),F===92?g:d)}function g(F){return F===92||F===124?(e.consume(F),d):d(F)}function m(F){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(F):(e.enter("tableDelimiterRow"),o=!1,fu(F)?Ki(e,y,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):y(F))}function y(F){return F===45||F===58?A(F):F===124?(o=!0,e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),x):L(F)}function x(F){return fu(F)?Ki(e,A,"whitespace")(F):A(F)}function A(F){return F===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),C):F===45?(s+=1,C(F)):F===null||Wi(F)?P(F):L(F)}function C(F){return F===45?(e.enter("tableDelimiterFiller"),M(F)):L(F)}function M(F){return F===45?(e.consume(F),M):F===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),R):(e.exit("tableDelimiterFiller"),R(F))}function R(F){return fu(F)?Ki(e,P,"whitespace")(F):P(F)}function P(F){return F===124?y(F):F===null||Wi(F)?!o||i!==s?L(F):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(F)):L(F)}function L(F){return r(F)}function z(F){return e.enter("tableRow"),Z(F)}function Z(F){return F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),Z):F===null||Wi(F)?(e.exit("tableRow"),t(F)):fu(F)?Ki(e,Z,"whitespace")(F):(e.enter("data"),Y(F))}function Y(F){return F===null||F===124||wi(F)?(e.exit("data"),Z(F)):(e.consume(F),F===92?ae:Y)}function ae(F){return F===92||F===124?(e.consume(F),Y):Y(F)}}a(Gge,"tokenizeTable");function Vge(e,t){let r=-1,n=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],l=!1,u=0,c,h,d;const g=new zge;for(;++r<e.length;){const m=e[r],y=m[1];m[0]==="enter"?y.type==="tableHead"?(l=!1,u!==0&&(S9(g,t,u,c,h),h=void 0,u=0),c={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},g.add(r,0,[["enter",c,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(n=!0,d=void 0,s=[0,0,0,0],o=[0,r+1,0,0],l&&(l=!1,h={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},g.add(r,0,[["enter",h,t]])),i=y.type==="tableDelimiterRow"?2:h?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=Jf(g,t,s,i,void 0,d),s=[0,0,0,0]),o[2]=r)):y.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(o[0]=o[1],d=Jf(g,t,s,i,void 0,d)),s=o,o=[s[1],r,0,0])):y.type==="tableHead"?(l=!0,u=r):y.type==="tableRow"||y.type==="tableDelimiterRow"?(u=r,s[1]!==0?(o[0]=o[1],d=Jf(g,t,s,i,r,d)):o[1]!==0&&(d=Jf(g,t,o,i,r,d)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(o[3]=r)}for(u!==0&&S9(g,t,u,c,h),g.consume(t.events),r=-1;++r<t.events.length;){const m=t.events[r];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Uge(t.events,r))}return e}a(Vge,"resolveTable");function Jf(e,t,r,n,i,s){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",l="tableContent";r[0]!==0&&(s.end=Object.assign({},gu(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const u=gu(t.events,r[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const c=gu(t.events,r[2]),h=gu(t.events,r[3]),d={type:l,start:Object.assign({},c),end:Object.assign({},h)};if(e.add(r[2],0,[["enter",d,t]]),n!==2){const g=t.events[r[2]],m=t.events[r[3]];if(g[1].end=Object.assign({},m[1].end),g[1].type="chunkText",g[1].contentType="text",r[3]>r[2]+1){const y=r[2]+1,x=r[3]-r[2]-1;e.add(y,x,[])}}e.add(r[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},gu(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}a(Jf,"flushCell");function S9(e,t,r,n,i){const s=[],o=gu(t.events,r);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),n.end=Object.assign({},o),s.push(["exit",n,t]),e.add(r+1,0,s)}a(S9,"flushTableEnd");function gu(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}a(gu,"getPoint");const Yge={name:"tasklistCheck",tokenize:$ge};function Zge(){return{text:{91:Yge}}}a(Zge,"gfmTaskListItem");function $ge(e,t,r){const n=this;return i;function i(u){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return wi(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):r(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):r(u)}function l(u){return Wi(u)?t(u):fu(u)?e.check({tokenize:Xge},t,r)(u):r(u)}}a($ge,"tokenizeTasklistCheck");function Xge(e,t,r){return Ki(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}a(Xge,"spaceThenNonSpace");function Jge(e){return AU([wge(),Ige(),Bge(e),Hge(),Zge()])}a(Jge,"gfm");const Kge={};function Wge(e){const t=this,r=e||Kge,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Jge(r)),s.push(gge()),o.push(vge(r))}a(Wge,"remarkGfm");function Qge(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:s},exit:{mathFlow:i,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:l,mathText:o,mathTextData:l}};function e(u){const c={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[c]}},u)}function t(){this.buffer()}function r(){const u=this.resume(),c=this.stack[this.stack.length-1];qn(c.type==="math"),c.meta=u}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(u){const c=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),h=this.stack[this.stack.length-1];qn(h.type==="math"),this.exit(u),h.value=c;const d=h.data.hChildren[0];qn(d.type==="element"),qn(d.tagName==="code"),d.children.push({type:"text",value:c}),this.data.mathFlowInside=void 0}function s(u){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},u),this.buffer()}function o(u){const c=this.resume(),h=this.stack[this.stack.length-1];qn(h.type==="inlineMath"),this.exit(u),h.value=c,h.data.hChildren.push({type:"text",value:c})}function l(u){this.config.enter.data.call(this,u),this.config.exit.data.call(this,u)}}a(Qge,"mathFromMarkdown");function qge(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),n.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(s,o,l,u){const c=s.value||"",h=l.createTracker(u),d="$".repeat(Math.max(Gj(c,"$")+1,2)),g=l.enter("mathFlow");let m=h.move(d);if(s.meta){const y=l.enter("mathFlowMeta");m+=h.move(l.safe(s.meta,{after:`
`,before:m,encode:["$"],...h.current()})),y()}return m+=h.move(`
`),c&&(m+=h.move(c+`
`)),m+=h.move(d),g(),m}a(r,"math");function n(s,o,l){let u=s.value||"",c=1;for(t||c++;new RegExp("(^|[^$])"+"\\$".repeat(c)+"([^$]|$)").test(u);)c++;const h="$".repeat(c);/[^ \r\n]/.test(u)&&(/^[ \r\n]/.test(u)&&/[ \r\n]$/.test(u)||/^\$|\$$/.test(u))&&(u=" "+u+" ");let d=-1;for(;++d<l.unsafe.length;){const g=l.unsafe[d];if(!g.atBreak)continue;const m=l.compilePattern(g);let y;for(;y=m.exec(u);){let x=y.index;u.codePointAt(x)===10&&u.codePointAt(x-1)===13&&x--,u=u.slice(0,x)+" "+u.slice(y.index+1)}}return h+u+h}a(n,"inlineMath");function i(){return"$"}a(i,"inlineMathPeek")}a(qge,"mathToMarkdown");const eve={tokenize:tve,concrete:!0,name:"mathFlow"},k9={tokenize:rve,partial:!0};function tve(e,t,r){const n=this,i=n.events[n.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let o=0;return l;function l(M){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),u(M)}function u(M){return M===36?(e.consume(M),o++,u):o<2?r(M):(e.exit("mathFlowFenceSequence"),Ki(e,c,"whitespace")(M))}function c(M){return M===null||Wi(M)?d(M):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(M))}function h(M){return M===null||Wi(M)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),d(M)):M===36?r(M):(e.consume(M),h)}function d(M){return e.exit("mathFlowFence"),n.interrupt?t(M):e.attempt(k9,g,A)(M)}function g(M){return e.attempt({tokenize:C,partial:!0},A,m)(M)}function m(M){return(s?Ki(e,y,"linePrefix",s+1):y)(M)}function y(M){return M===null?A(M):Wi(M)?e.attempt(k9,g,A)(M):(e.enter("mathFlowValue"),x(M))}function x(M){return M===null||Wi(M)?(e.exit("mathFlowValue"),y(M)):(e.consume(M),x)}function A(M){return e.exit("mathFlow"),t(M)}function C(M,R,P){let L=0;return Ki(M,z,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function z(ae){return M.enter("mathFlowFence"),M.enter("mathFlowFenceSequence"),Z(ae)}function Z(ae){return ae===36?(L++,M.consume(ae),Z):L<o?P(ae):(M.exit("mathFlowFenceSequence"),Ki(M,Y,"whitespace")(ae))}function Y(ae){return ae===null||Wi(ae)?(M.exit("mathFlowFence"),R(ae)):P(ae)}}}a(tve,"tokenizeMathFenced");function rve(e,t,r){const n=this;return i;function i(o){return o===null?t(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}a(rve,"tokenizeNonLazyContinuation");function nve(e){let r=(e||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:ive,previous:ave,name:"mathText"};function n(i,s,o){let l=0,u,c;return h;function h(x){return i.enter("mathText"),i.enter("mathTextSequence"),d(x)}function d(x){return x===36?(i.consume(x),l++,d):l<2&&!r?o(x):(i.exit("mathTextSequence"),g(x))}function g(x){return x===null?o(x):x===36?(c=i.enter("mathTextSequence"),u=0,y(x)):x===32?(i.enter("space"),i.consume(x),i.exit("space"),g):Wi(x)?(i.enter("lineEnding"),i.consume(x),i.exit("lineEnding"),g):(i.enter("mathTextData"),m(x))}function m(x){return x===null||x===32||x===36||Wi(x)?(i.exit("mathTextData"),g(x)):(i.consume(x),m)}function y(x){return x===36?(i.consume(x),u++,y):u===l?(i.exit("mathTextSequence"),i.exit("mathText"),s(x)):(c.type="mathTextData",m(x))}}a(n,"tokenizeMathText")}a(nve,"mathText");function ive(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[r][1].type="mathTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="mathTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}a(ive,"resolveMathText");function ave(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}a(ave,"previous");function sve(e){return{flow:{36:eve},text:{36:nve(e)}}}a(sve,"math");const ove={};function lve(e){const t=this,r=e||ove,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(sve(r)),s.push(Qge()),o.push(qge(r))}a(lve,"remarkMath");let gn=class extends Error{static{a(this,"ShikiError")}constructor(t){super(t),this.name="ShikiError"}};function uve(e){return L3(e)}a(uve,"clone");function L3(e){return Array.isArray(e)?cve(e):e instanceof RegExp?e:typeof e=="object"?dve(e):e}a(L3,"doClone");function cve(e){let t=[];for(let r=0,n=e.length;r<n;r++)t[r]=L3(e[r]);return t}a(cve,"cloneArray");function dve(e){let t={};for(let r in e)t[r]=L3(e[r]);return t}a(dve,"cloneObj");function uB(e,...t){return t.forEach(r=>{for(let n in r)e[n]=r[n]}),e}a(uB,"mergeObjects");function cB(e){const t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return t===0?e:~t===e.length-1?cB(e.substring(0,e.length-1)):e.substr(~t+1)}a(cB,"basename");var hy=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Kf=class{static{a(this,"RegexSource")}static hasCaptures(e){return e===null?!1:(hy.lastIndex=0,hy.test(e))}static replaceCaptures(e,t,r){return e.replace(hy,(n,i,s,o)=>{let l=r[parseInt(i||s,10)];if(l){let u=t.substring(l.start,l.end);for(;u[0]===".";)u=u.substring(1);switch(o){case"downcase":return u.toLowerCase();case"upcase":return u.toUpperCase();default:return u}}else return n})}};function dB(e,t){return e<t?-1:e>t?1:0}a(dB,"strcmp");function hB(e,t){if(e===null&&t===null)return 0;if(!e)return-1;if(!t)return 1;let r=e.length,n=t.length;if(r===n){for(let i=0;i<r;i++){let s=dB(e[i],t[i]);if(s!==0)return s}return 0}return r-n}a(hB,"strArrCmp");function A9(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}a(A9,"isValidHexColor");function fB(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}a(fB,"escapeRegExpCharacters");var pB=class{static{a(this,"CachedFn")}constructor(e){this.fn=e}cache=new Map;get(e){if(this.cache.has(e))return this.cache.get(e);const t=this.fn(e);return this.cache.set(e,t),t}},Rp=class{static{a(this,"Theme")}constructor(e,t,r){this._colorMap=e,this._defaults=t,this._root=r}static createFromRawTheme(e,t){return this.createFromParsedTheme(pve(e),t)}static createFromParsedTheme(e,t){return gve(e,t)}_cachedMatchRoot=new pB(e=>this._root.match(e));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(e===null)return this._defaults;const t=e.scopeName,n=this._cachedMatchRoot.get(t).find(i=>hve(e.parent,i.parentScopes));return n?new mB(n.fontStyle,n.foreground,n.background):null}},fy=class C0{static{a(this,"_ScopeStack")}constructor(t,r){this.parent=t,this.scopeName=r}static push(t,r){for(const n of r)t=new C0(t,n);return t}static from(...t){let r=null;for(let n=0;n<t.length;n++)r=new C0(r,t[n]);return r}push(t){return new C0(this,t)}getSegments(){let t=this;const r=[];for(;t;)r.push(t.scopeName),t=t.parent;return r.reverse(),r}toString(){return this.getSegments().join(" ")}extends(t){return this===t?!0:this.parent===null?!1:this.parent.extends(t)}getExtensionIfDefined(t){const r=[];let n=this;for(;n&&n!==t;)r.push(n.scopeName),n=n.parent;return n===t?r.reverse():void 0}};function hve(e,t){if(t.length===0)return!0;for(let r=0;r<t.length;r++){let n=t[r],i=!1;if(n===">"){if(r===t.length-1)return!1;n=t[++r],i=!0}for(;e&&!fve(e.scopeName,n);){if(i)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0}a(hve,"_scopePathMatchesParentScopes");function fve(e,t){return t===e||e.startsWith(t)&&e[t.length]==="."}a(fve,"_matchesScope");var mB=class{static{a(this,"StyleAttributes")}constructor(e,t,r){this.fontStyle=e,this.foregroundId=t,this.backgroundId=r}};function pve(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,r=[],n=0;for(let i=0,s=t.length;i<s;i++){let o=t[i];if(!o.settings)continue;let l;if(typeof o.scope=="string"){let d=o.scope;d=d.replace(/^[,]+/,""),d=d.replace(/[,]+$/,""),l=d.split(",")}else Array.isArray(o.scope)?l=o.scope:l=[""];let u=-1;if(typeof o.settings.fontStyle=="string"){u=0;let d=o.settings.fontStyle.split(" ");for(let g=0,m=d.length;g<m;g++)switch(d[g]){case"italic":u=u|1;break;case"bold":u=u|2;break;case"underline":u=u|4;break;case"strikethrough":u=u|8;break}}let c=null;typeof o.settings.foreground=="string"&&A9(o.settings.foreground)&&(c=o.settings.foreground);let h=null;typeof o.settings.background=="string"&&A9(o.settings.background)&&(h=o.settings.background);for(let d=0,g=l.length;d<g;d++){let y=l[d].trim().split(" "),x=y[y.length-1],A=null;y.length>1&&(A=y.slice(0,y.length-1),A.reverse()),r[n++]=new mve(x,A,i,u,c,h)}}return r}a(pve,"parseTheme");var mve=class{static{a(this,"ParsedThemeRule")}constructor(e,t,r,n,i,s){this.scope=e,this.parentScopes=t,this.index=r,this.fontStyle=n,this.foreground=i,this.background=s}},Vn=(e=>(e[e.NotSet=-1]="NotSet",e[e.None=0]="None",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold",e[e.Underline=4]="Underline",e[e.Strikethrough=8]="Strikethrough",e))(Vn||{});function gve(e,t){e.sort((u,c)=>{let h=dB(u.scope,c.scope);return h!==0||(h=hB(u.parentScopes,c.parentScopes),h!==0)?h:u.index-c.index});let r=0,n="#000000",i="#ffffff";for(;e.length>=1&&e[0].scope==="";){let u=e.shift();u.fontStyle!==-1&&(r=u.fontStyle),u.foreground!==null&&(n=u.foreground),u.background!==null&&(i=u.background)}let s=new vve(t),o=new mB(r,s.getId(n),s.getId(i)),l=new yve(new f2(0,null,-1,0,0),[]);for(let u=0,c=e.length;u<c;u++){let h=e[u];l.insert(0,h.scope,h.parentScopes,h.fontStyle,s.getId(h.foreground),s.getId(h.background))}return new Rp(s,o,l)}a(gve,"resolveParsedThemeRules");var vve=class{static{a(this,"ColorMap")}_isFrozen;_lastColorId;_id2color;_color2id;constructor(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,r=e.length;t<r;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(e===null)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}},bve=Object.freeze([]),f2=class gB{static{a(this,"_ThemeTrieElementRule")}scopeDepth;parentScopes;fontStyle;foreground;background;constructor(t,r,n,i,s){this.scopeDepth=t,this.parentScopes=r||bve,this.fontStyle=n,this.foreground=i,this.background=s}clone(){return new gB(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(t){let r=[];for(let n=0,i=t.length;n<i;n++)r[n]=t[n].clone();return r}acceptOverwrite(t,r,n,i){this.scopeDepth>t?console.log("how did this happen?"):this.scopeDepth=t,r!==-1&&(this.fontStyle=r),n!==0&&(this.foreground=n),i!==0&&(this.background=i)}},yve=class p2{static{a(this,"_ThemeTrieElement")}constructor(t,r=[],n={}){this._mainRule=t,this._children=n,this._rulesWithParentScopes=r}_rulesWithParentScopes;static _cmpBySpecificity(t,r){if(t.scopeDepth!==r.scopeDepth)return r.scopeDepth-t.scopeDepth;let n=0,i=0;for(;t.parentScopes[n]===">"&&n++,r.parentScopes[i]===">"&&i++,!(n>=t.parentScopes.length||i>=r.parentScopes.length);){const s=r.parentScopes[i].length-t.parentScopes[n].length;if(s!==0)return s;n++,i++}return r.parentScopes.length-t.parentScopes.length}match(t){if(t!==""){let n=t.indexOf("."),i,s;if(n===-1?(i=t,s=""):(i=t.substring(0,n),s=t.substring(n+1)),this._children.hasOwnProperty(i))return this._children[i].match(s)}const r=this._rulesWithParentScopes.concat(this._mainRule);return r.sort(p2._cmpBySpecificity),r}insert(t,r,n,i,s,o){if(r===""){this._doInsertHere(t,n,i,s,o);return}let l=r.indexOf("."),u,c;l===-1?(u=r,c=""):(u=r.substring(0,l),c=r.substring(l+1));let h;this._children.hasOwnProperty(u)?h=this._children[u]:(h=new p2(this._mainRule.clone(),f2.cloneArr(this._rulesWithParentScopes)),this._children[u]=h),h.insert(t+1,c,n,i,s,o)}_doInsertHere(t,r,n,i,s){if(r===null){this._mainRule.acceptOverwrite(t,n,i,s);return}for(let o=0,l=this._rulesWithParentScopes.length;o<l;o++){let u=this._rulesWithParentScopes[o];if(hB(u.parentScopes,r)===0){u.acceptOverwrite(t,n,i,s);return}}n===-1&&(n=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),s===0&&(s=this._mainRule.background),this._rulesWithParentScopes.push(new f2(t,r,n,i,s))}},Ju=class Zi{static{a(this,"_EncodedTokenMetadata")}static toBinaryStr(t){return t.toString(2).padStart(32,"0")}static print(t){const r=Zi.getLanguageId(t),n=Zi.getTokenType(t),i=Zi.getFontStyle(t),s=Zi.getForeground(t),o=Zi.getBackground(t);console.log({languageId:r,tokenType:n,fontStyle:i,foreground:s,background:o})}static getLanguageId(t){return(t&255)>>>0}static getTokenType(t){return(t&768)>>>8}static containsBalancedBrackets(t){return(t&1024)!==0}static getFontStyle(t){return(t&30720)>>>11}static getForeground(t){return(t&16744448)>>>15}static getBackground(t){return(t&4278190080)>>>24}static set(t,r,n,i,s,o,l){let u=Zi.getLanguageId(t),c=Zi.getTokenType(t),h=Zi.containsBalancedBrackets(t)?1:0,d=Zi.getFontStyle(t),g=Zi.getForeground(t),m=Zi.getBackground(t);return r!==0&&(u=r),n!==8&&(c=n),i!==null&&(h=i?1:0),s!==-1&&(d=s),o!==0&&(g=o),l!==0&&(m=l),(u<<0|c<<8|h<<10|d<<11|g<<15|m<<24)>>>0}};function Pp(e,t){const r=[],n=wve(e);let i=n.next();for(;i!==null;){let u=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":u=1;break;case"L":u=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=n.next()}let c=o();if(r.push({matcher:c,priority:u}),i!==",")break;i=n.next()}return r;function s(){if(i==="-"){i=n.next();const u=s();return c=>!!u&&!u(c)}if(i==="("){i=n.next();const u=l();return i===")"&&(i=n.next()),u}if(T9(i)){const u=[];do u.push(i),i=n.next();while(T9(i));return c=>t(u,c)}return null}function o(){const u=[];let c=s();for(;c;)u.push(c),c=s();return h=>u.every(d=>d(h))}function l(){const u=[];let c=o();for(;c&&(u.push(c),i==="|"||i===",");){do i=n.next();while(i==="|"||i===",");c=o()}return h=>u.some(d=>d(h))}}a(Pp,"createMatchers");function T9(e){return!!e&&!!e.match(/[\w\.:]+/)}a(T9,"isIdentifier");function wve(e){let t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,r=t.exec(e);return{next:a(()=>{if(!r)return null;const n=r[0];return r=t.exec(e),n},"next")}}a(wve,"newTokenizer");function vB(e){typeof e.dispose=="function"&&e.dispose()}a(vB,"disposeOnigString");var vh=class{static{a(this,"TopLevelRuleReference")}constructor(e){this.scopeName=e}toKey(){return this.scopeName}},_ve=class{static{a(this,"TopLevelRepositoryRuleReference")}constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}},xve=class{static{a(this,"ExternalReferenceCollector")}_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(e){const t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}},Eve=class{static{a(this,"ScopeDependencyProcessor")}constructor(e,t){this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new vh(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const e=this.Q;this.Q=[];const t=new xve;for(const r of e)Sve(r,this.initialScopeName,this.repo,t);for(const r of t.references)if(r instanceof vh){if(this.seenFullScopeRequests.has(r.scopeName))continue;this.seenFullScopeRequests.add(r.scopeName),this.Q.push(r)}else{if(this.seenFullScopeRequests.has(r.scopeName)||this.seenPartialScopeRequests.has(r.toKey()))continue;this.seenPartialScopeRequests.add(r.toKey()),this.Q.push(r)}}};function Sve(e,t,r,n){const i=r.lookup(e.scopeName);if(!i){if(e.scopeName===t)throw new Error(`No grammar provided for <${t}>`);return}const s=r.lookup(t);e instanceof vh?I0({baseGrammar:s,selfGrammar:i},n):m2(e.ruleName,{baseGrammar:s,selfGrammar:i,repository:i.repository},n);const o=r.injections(e.scopeName);if(o)for(const l of o)n.add(new vh(l))}a(Sve,"collectReferencesOfReference");function m2(e,t,r){if(t.repository&&t.repository[e]){const n=t.repository[e];Lp([n],t,r)}}a(m2,"collectExternalReferencesInTopLevelRepositoryRule");function I0(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&Lp(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&Lp(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}a(I0,"collectExternalReferencesInTopLevelRule");function Lp(e,t,r){for(const n of e){if(r.visitedRule.has(n))continue;r.visitedRule.add(n);const i=n.repository?uB({},t.repository,n.repository):t.repository;Array.isArray(n.patterns)&&Lp(n.patterns,{...t,repository:i},r);const s=n.include;if(!s)continue;const o=bB(s);switch(o.kind){case 0:I0({...t,selfGrammar:t.baseGrammar},r);break;case 1:I0(t,r);break;case 2:m2(o.ruleName,{...t,repository:i},r);break;case 3:case 4:const l=o.scopeName===t.selfGrammar.scopeName?t.selfGrammar:o.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(l){const u={baseGrammar:t.baseGrammar,selfGrammar:l,repository:i};o.kind===4?m2(o.ruleName,u,r):I0(u,r)}else o.kind===4?r.add(new _ve(o.scopeName,o.ruleName)):r.add(new vh(o.scopeName));break}}}a(Lp,"collectExternalReferencesInRules");var kve=class{static{a(this,"BaseReference")}kind=0},Ave=class{static{a(this,"SelfReference")}kind=1},Tve=class{static{a(this,"RelativeReference")}constructor(e){this.ruleName=e}kind=2},Nve=class{static{a(this,"TopLevelReference")}constructor(e){this.scopeName=e}kind=3},Cve=class{static{a(this,"TopLevelRepositoryReference")}constructor(e,t){this.scopeName=e,this.ruleName=t}kind=4};function bB(e){if(e==="$base")return new kve;if(e==="$self")return new Ave;const t=e.indexOf("#");if(t===-1)return new Nve(e);if(t===0)return new Tve(e.substring(1));{const r=e.substring(0,t),n=e.substring(t+1);return new Cve(r,n)}}a(bB,"parseInclude");var Ive=/\\(\d+)/,N9=/\\(\d+)/g,Mve=-1,yB=-2;var ef=class{static{a(this,"Rule")}$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(e,t,r,n){this.$location=e,this.id=t,this._name=r||null,this._nameIsCapturing=Kf.hasCaptures(this._name),this._contentName=n||null,this._contentNameIsCapturing=Kf.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${cB(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return!this._nameIsCapturing||this._name===null||e===null||t===null?this._name:Kf.replaceCaptures(this._name,e,t)}getContentName(e,t){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Kf.replaceCaptures(this._contentName,e,t)}},Ove=class extends ef{static{a(this,"CaptureRule")}retokenizeCapturedWithRuleId;constructor(e,t,r,n,i){super(e,t,r,n),this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(e,t){throw new Error("Not supported!")}compile(e,t){throw new Error("Not supported!")}compileAG(e,t,r,n){throw new Error("Not supported!")}},Rve=class extends ef{static{a(this,"MatchRule")}_match;captures;_cachedCompiledPatterns;constructor(e,t,r,n,i){super(e,t,r,null),this._match=new bh(n,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,t){t.push(this._match)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new yh,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},C9=class extends ef{static{a(this,"IncludeOnlyRule")}hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,i){super(e,t,r,n),this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,t){for(const r of this.patterns)e.getRule(r).collectPatterns(e,t)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new yh,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},g2=class extends ef{static{a(this,"BeginEndRule")}_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,i,s,o,l,u,c){super(e,t,r,n),this._begin=new bh(i,this.id),this.beginCaptures=s,this._end=new bh(o||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=l,this.applyEndPatternLast=u||!1,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,t){return this._end.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e,t).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e,t).compileAG(e,r,n)}_getCachedCompiledPatterns(e,t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new yh;for(const r of this.patterns)e.getRule(r).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns}},Dp=class extends ef{static{a(this,"BeginWhileRule")}_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(e,t,r,n,i,s,o,l,u){super(e,t,r,n),this._begin=new bh(i,this.id),this.beginCaptures=s,this.whileCaptures=l,this._while=new bh(o,yB),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,t){return this._while.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new yh;for(const t of this.patterns)e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,t){return this._getCachedCompiledWhilePatterns(e,t).compile(e)}compileWhileAG(e,t,r,n){return this._getCachedCompiledWhilePatterns(e,t).compileAG(e,r,n)}_getCachedCompiledWhilePatterns(e,t){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new yh,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||""),this._cachedCompiledWhilePatterns}},wB=class Gn{static{a(this,"_RuleFactory")}static createCaptureRule(t,r,n,i,s){return t.registerRule(o=>new Ove(r,o,n,i,s))}static getCompiledRuleId(t,r,n){return t.id||r.registerRule(i=>{if(t.id=i,t.match)return new Rve(t.$vscodeTextmateLocation,t.id,t.name,t.match,Gn._compileCaptures(t.captures,r,n));if(typeof t.begin>"u"){t.repository&&(n=uB({},n,t.repository));let s=t.patterns;return typeof s>"u"&&t.include&&(s=[{include:t.include}]),new C9(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,Gn._compilePatterns(s,r,n))}return t.while?new Dp(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,Gn._compileCaptures(t.beginCaptures||t.captures,r,n),t.while,Gn._compileCaptures(t.whileCaptures||t.captures,r,n),Gn._compilePatterns(t.patterns,r,n)):new g2(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,Gn._compileCaptures(t.beginCaptures||t.captures,r,n),t.end,Gn._compileCaptures(t.endCaptures||t.captures,r,n),t.applyEndPatternLast,Gn._compilePatterns(t.patterns,r,n))}),t.id}static _compileCaptures(t,r,n){let i=[];if(t){let s=0;for(const o in t){if(o==="$vscodeTextmateLocation")continue;const l=parseInt(o,10);l>s&&(s=l)}for(let o=0;o<=s;o++)i[o]=null;for(const o in t){if(o==="$vscodeTextmateLocation")continue;const l=parseInt(o,10);let u=0;t[o].patterns&&(u=Gn.getCompiledRuleId(t[o],r,n)),i[l]=Gn.createCaptureRule(r,t[o].$vscodeTextmateLocation,t[o].name,t[o].contentName,u)}}return i}static _compilePatterns(t,r,n){let i=[];if(t)for(let s=0,o=t.length;s<o;s++){const l=t[s];let u=-1;if(l.include){const c=bB(l.include);switch(c.kind){case 0:case 1:u=Gn.getCompiledRuleId(n[l.include],r,n);break;case 2:let h=n[c.ruleName];h&&(u=Gn.getCompiledRuleId(h,r,n));break;case 3:case 4:const d=c.scopeName,g=c.kind===4?c.ruleName:null,m=r.getExternalGrammar(d,n);if(m)if(g){let y=m.repository[g];y&&(u=Gn.getCompiledRuleId(y,r,m.repository))}else u=Gn.getCompiledRuleId(m.repository.$self,r,m.repository);break}}else u=Gn.getCompiledRuleId(l,r,n);if(u!==-1){const c=r.getRule(u);let h=!1;if((c instanceof C9||c instanceof g2||c instanceof Dp)&&c.hasMissingPatterns&&c.patterns.length===0&&(h=!0),h)continue;i.push(u)}}return{patterns:i,hasMissingPatterns:(t?t.length:0)!==i.length}}},bh=class _B{static{a(this,"_RegExpSource")}source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(t,r){if(t&&typeof t=="string"){const n=t.length;let i=0,s=[],o=!1;for(let l=0;l<n;l++)if(t.charAt(l)==="\\"&&l+1<n){const c=t.charAt(l+1);c==="z"?(s.push(t.substring(i,l)),s.push("$(?!\\n)(?<!\\n)"),i=l+2):(c==="A"||c==="G")&&(o=!0),l++}this.hasAnchor=o,i===0?this.source=t:(s.push(t.substring(i,n)),this.source=s.join(""))}else this.hasAnchor=!1,this.source=t;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=r,typeof this.source=="string"?this.hasBackReferences=Ive.test(this.source):this.hasBackReferences=!1}clone(){return new _B(this.source,this.ruleId)}setSource(t){this.source!==t&&(this.source=t,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(t,r){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let n=r.map(i=>t.substring(i.start,i.end));return N9.lastIndex=0,this.source.replace(N9,(i,s)=>fB(n[parseInt(s,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let t=[],r=[],n=[],i=[],s,o,l,u;for(s=0,o=this.source.length;s<o;s++)l=this.source.charAt(s),t[s]=l,r[s]=l,n[s]=l,i[s]=l,l==="\\"&&s+1<o&&(u=this.source.charAt(s+1),u==="A"?(t[s+1]="",r[s+1]="",n[s+1]="A",i[s+1]="A"):u==="G"?(t[s+1]="",r[s+1]="G",n[s+1]="",i[s+1]="G"):(t[s+1]=u,r[s+1]=u,n[s+1]=u,i[s+1]=u),s++);return{A0_G0:t.join(""),A0_G1:r.join(""),A1_G0:n.join(""),A1_G1:i.join("")}}resolveAnchors(t,r){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:t?r?this._anchorCache.A1_G1:this._anchorCache.A1_G0:r?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},yh=class{static{a(this,"RegExpSourceList")}_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(r=>r.source);this._cached=new I9(e,t,this._items.map(r=>r.ruleId))}return this._cached}compileAG(e,t,r){return this._hasAnchors?t?r?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G0):r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,r){let n=this._items.map(i=>i.resolveAnchors(t,r));return new I9(e,n,this._items.map(i=>i.ruleId))}},I9=class{static{a(this,"CompiledRule")}constructor(e,t,r){this.regExps=t,this.rules=r,this.scanner=e.createOnigScanner(t)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let t=0,r=this.rules.length;t<r;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join(`
`)}findNextMatchSync(e,t,r){const n=this.scanner.findNextMatchSync(e,t,r);return n?{ruleId:this.rules[n.index],captureIndices:n.captureIndices}:null}},py=class{static{a(this,"BasicScopeAttributes")}constructor(e,t){this.languageId=e,this.tokenType=t}},Pve=class v2{static{a(this,"_BasicScopeAttributesProvider")}_defaultAttributes;_embeddedLanguagesMatcher;constructor(t,r){this._defaultAttributes=new py(t,8),this._embeddedLanguagesMatcher=new Lve(Object.entries(r||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return t===null?v2._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}static _NULL_SCOPE_METADATA=new py(0,0);_getBasicScopeAttributes=new pB(t=>{const r=this._scopeToLanguage(t),n=this._toStandardTokenType(t);return new py(r,n)});_scopeToLanguage(t){return this._embeddedLanguagesMatcher.match(t)||0}_toStandardTokenType(t){const r=t.match(v2.STANDARD_TOKEN_TYPE_REGEXP);if(!r)return 8;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},Lve=class{static{a(this,"ScopeMatcher")}values;scopesRegExp;constructor(e){if(e.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map(([r,n])=>fB(r));t.sort(),t.reverse(),this.scopesRegExp=new RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}},M9=class{static{a(this,"TokenizeStringResult")}constructor(e,t){this.stack=e,this.stoppedEarly=t}};function xB(e,t,r,n,i,s,o,l){const u=t.content.length;let c=!1,h=-1;if(o){const m=Dve(e,t,r,n,i,s);i=m.stack,n=m.linePos,r=m.isFirstLine,h=m.anchorPosition}const d=Date.now();for(;!c;){if(l!==0&&Date.now()-d>l)return new M9(i,!0);g()}return new M9(i,!1);function g(){const m=jve(e,t,r,n,i,h);if(!m){s.produce(i,u),c=!0;return}const y=m.captureIndices,x=m.matchedRuleId,A=y&&y.length>0?y[0].end>n:!1;if(x===Mve){const C=i.getRule(e);s.produce(i,y[0].start),i=i.withContentNameScopesList(i.nameScopesList),cd(e,t,r,i,s,C.endCaptures,y),s.produce(i,y[0].end);const M=i;if(i=i.parent,h=M.getAnchorPos(),!A&&M.getEnterPos()===n){i=M,s.produce(i,u),c=!0;return}}else{const C=e.getRule(x);s.produce(i,y[0].start);const M=i,R=C.getName(t.content,y),P=i.contentNameScopesList.pushAttributed(R,e);if(i=i.push(x,n,h,y[0].end===u,null,P,P),C instanceof g2){const L=C;cd(e,t,r,i,s,L.beginCaptures,y),s.produce(i,y[0].end),h=y[0].end;const z=L.getContentName(t.content,y),Z=P.pushAttributed(z,e);if(i=i.withContentNameScopesList(Z),L.endHasBackReferences&&(i=i.withEndRule(L.getEndWithResolvedBackReferences(t.content,y))),!A&&M.hasSameRuleAs(i)){i=i.pop(),s.produce(i,u),c=!0;return}}else if(C instanceof Dp){const L=C;cd(e,t,r,i,s,L.beginCaptures,y),s.produce(i,y[0].end),h=y[0].end;const z=L.getContentName(t.content,y),Z=P.pushAttributed(z,e);if(i=i.withContentNameScopesList(Z),L.whileHasBackReferences&&(i=i.withEndRule(L.getWhileWithResolvedBackReferences(t.content,y))),!A&&M.hasSameRuleAs(i)){i=i.pop(),s.produce(i,u),c=!0;return}}else if(cd(e,t,r,i,s,C.captures,y),s.produce(i,y[0].end),i=i.pop(),!A){i=i.safePop(),s.produce(i,u),c=!0;return}}y[0].end>n&&(n=y[0].end,r=!1)}}a(xB,"_tokenizeString");function Dve(e,t,r,n,i,s){let o=i.beginRuleCapturedEOL?0:-1;const l=[];for(let u=i;u;u=u.pop()){const c=u.getRule(e);c instanceof Dp&&l.push({rule:c,stack:u})}for(let u=l.pop();u;u=l.pop()){const{ruleScanner:c,findOptions:h}=Fve(u.rule,e,u.stack.endRule,r,n===o),d=c.findNextMatchSync(t,n,h);if(d){if(d.ruleId!==yB){i=u.stack.pop();break}d.captureIndices&&d.captureIndices.length&&(s.produce(u.stack,d.captureIndices[0].start),cd(e,t,r,u.stack,s,u.rule.whileCaptures,d.captureIndices),s.produce(u.stack,d.captureIndices[0].end),o=d.captureIndices[0].end,d.captureIndices[0].end>n&&(n=d.captureIndices[0].end,r=!1))}else{i=u.stack.pop();break}}return{stack:i,linePos:n,anchorPosition:o,isFirstLine:r}}a(Dve,"_checkWhileConditions");function jve(e,t,r,n,i,s){const o=Bve(e,t,r,n,i,s),l=e.getInjections();if(l.length===0)return o;const u=zve(l,e,t,r,n,i,s);if(!u)return o;if(!o)return u;const c=o.captureIndices[0].start,h=u.captureIndices[0].start;return h<c||u.priorityMatch&&h===c?u:o}a(jve,"matchRuleOrInjections");function Bve(e,t,r,n,i,s){const o=i.getRule(e),{ruleScanner:l,findOptions:u}=EB(o,e,i.endRule,r,n===s),c=l.findNextMatchSync(t,n,u);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}a(Bve,"matchRule");function zve(e,t,r,n,i,s,o){let l=Number.MAX_VALUE,u=null,c,h=0;const d=s.contentNameScopesList.getScopeNames();for(let g=0,m=e.length;g<m;g++){const y=e[g];if(!y.matcher(d))continue;const x=t.getRule(y.ruleId),{ruleScanner:A,findOptions:C}=EB(x,t,null,n,i===o),M=A.findNextMatchSync(r,i,C);if(!M)continue;const R=M.captureIndices[0].start;if(!(R>=l)&&(l=R,u=M.captureIndices,c=M.ruleId,h=y.priority,l===i))break}return u?{priorityMatch:h===-1,captureIndices:u,matchedRuleId:c}:null}a(zve,"matchInjections");function EB(e,t,r,n,i){return{ruleScanner:e.compileAG(t,r,n,i),findOptions:0}}a(EB,"prepareRuleSearch");function Fve(e,t,r,n,i){return{ruleScanner:e.compileWhileAG(t,r,n,i),findOptions:0}}a(Fve,"prepareRuleWhileSearch");function cd(e,t,r,n,i,s,o){if(s.length===0)return;const l=t.content,u=Math.min(s.length,o.length),c=[],h=o[0].end;for(let d=0;d<u;d++){const g=s[d];if(g===null)continue;const m=o[d];if(m.length===0)continue;if(m.start>h)break;for(;c.length>0&&c[c.length-1].endPos<=m.start;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?i.produceFromScopes(c[c.length-1].scopes,m.start):i.produce(n,m.start),g.retokenizeCapturedWithRuleId){const x=g.getName(l,o),A=n.contentNameScopesList.pushAttributed(x,e),C=g.getContentName(l,o),M=A.pushAttributed(C,e),R=n.push(g.retokenizeCapturedWithRuleId,m.start,-1,!1,null,A,M),P=e.createOnigString(l.substring(0,m.end));xB(e,P,r&&m.start===0,m.start,R,i,!1,0),vB(P);continue}const y=g.getName(l,o);if(y!==null){const A=(c.length>0?c[c.length-1].scopes:n.contentNameScopesList).pushAttributed(y,e);c.push(new Uve(A,m.end))}}for(;c.length>0;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}a(cd,"handleCaptures");var Uve=class{static{a(this,"LocalStackElement")}scopes;endPos;constructor(e,t){this.scopes=e,this.endPos=t}};function Hve(e,t,r,n,i,s,o,l){return new Vve(e,t,r,n,i,s,o,l)}a(Hve,"createGrammar");function O9(e,t,r,n,i){const s=Pp(t,jp),o=wB.getCompiledRuleId(r,n,i.repository);for(const l of s)e.push({debugSelector:t,matcher:l.matcher,ruleId:o,grammar:i,priority:l.priority})}a(O9,"collectInjections");function jp(e,t){if(t.length<e.length)return!1;let r=0;return e.every(n=>{for(let i=r;i<t.length;i++)if(Gve(t[i],n))return r=i+1,!0;return!1})}a(jp,"nameMatcher");function Gve(e,t){if(!e)return!1;if(e===t)return!0;const r=t.length;return e.length>r&&e.substr(0,r)===t&&e[r]==="."}a(Gve,"scopesAreMatching");var Vve=class{static{a(this,"Grammar")}constructor(e,t,r,n,i,s,o,l){if(this._rootScopeName=e,this.balancedBracketSelectors=s,this._onigLib=l,this._basicScopeAttributesProvider=new Pve(r,n),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=R9(t,null),this._injections=null,this._tokenTypeMatchers=[],i)for(const u of Object.keys(i)){const c=Pp(u,jp);for(const h of c)this._tokenTypeMatchers.push({matcher:h.matcher,type:i[u]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e={lookup:a(i=>i===this._rootScopeName?this._grammar:this.getExternalGrammar(i),"lookup"),injections:a(i=>this._grammarRepository.injections(i),"injections")},t=[],r=this._rootScopeName,n=e.lookup(r);if(n){const i=n.injections;if(i)for(let o in i)O9(t,o,i[o],this,n);const s=this._grammarRepository.injections(r);s&&s.forEach(o=>{const l=this.getExternalGrammar(o);if(l){const u=l.injectionSelector;u&&O9(t,u,l,this,l)}})}return t.sort((i,s)=>i.priority-s.priority),t}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(e){const t=++this._lastRuleId,r=e(t);return this._ruleId2desc[t]=r,r}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=R9(r,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,r=0){const n=this._tokenize(e,t,!1,r);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}tokenizeLine2(e,t,r=0){const n=this._tokenize(e,t,!0,r);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}_tokenize(e,t,r,n){this._rootId===-1&&(this._rootId=wB.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let i;if(!t||t===b2.NULL){i=!0;const c=this._basicScopeAttributesProvider.getDefaultAttributes(),h=this.themeProvider.getDefaults(),d=Ju.set(0,c.languageId,c.tokenType,null,h.fontStyle,h.foregroundId,h.backgroundId),g=this.getRule(this._rootId).getName(null,null);let m;g?m=Ed.createRootAndLookUpScopeName(g,d,this):m=Ed.createRoot("unknown",d),t=new b2(null,this._rootId,-1,-1,!1,null,m,m)}else i=!1,t.reset();e=e+`
`;const s=this.createOnigString(e),o=s.content.length,l=new Zve(r,e,this._tokenTypeMatchers,this.balancedBracketSelectors),u=xB(this,s,i,0,t,l,!0,n);return vB(s),{lineLength:o,lineTokens:l,ruleStack:u.stack,stoppedEarly:u.stoppedEarly}}};function R9(e,t){return e=uve(e),e.repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}a(R9,"initGrammar");var Ed=class Ua{static{a(this,"_AttributedScopeStack")}constructor(t,r,n){this.parent=t,this.scopePath=r,this.tokenAttributes=n}static fromExtension(t,r){let n=t,i=t?.scopePath??null;for(const s of r)i=fy.push(i,s.scopeNames),n=new Ua(n,i,s.encodedTokenAttributes);return n}static createRoot(t,r){return new Ua(null,new fy(null,t),r)}static createRootAndLookUpScopeName(t,r,n){const i=n.getMetadataForScope(t),s=new fy(null,t),o=n.themeProvider.themeMatch(s),l=Ua.mergeAttributes(r,i,o);return new Ua(null,s,l)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return Ua.equals(this,t)}static equals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.scopeName!==r.scopeName||t.tokenAttributes!==r.tokenAttributes)return!1;t=t.parent,r=r.parent}while(!0)}static mergeAttributes(t,r,n){let i=-1,s=0,o=0;return n!==null&&(i=n.fontStyle,s=n.foregroundId,o=n.backgroundId),Ju.set(t,r.languageId,r.tokenType,null,i,s,o)}pushAttributed(t,r){if(t===null)return this;if(t.indexOf(" ")===-1)return Ua._pushAttributed(this,t,r);const n=t.split(/ /g);let i=this;for(const s of n)i=Ua._pushAttributed(i,s,r);return i}static _pushAttributed(t,r,n){const i=n.getMetadataForScope(r),s=t.scopePath.push(r),o=n.themeProvider.themeMatch(s),l=Ua.mergeAttributes(t.tokenAttributes,i,o);return new Ua(t,s,l)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(t){const r=[];let n=this;for(;n&&n!==t;)r.push({encodedTokenAttributes:n.tokenAttributes,scopeNames:n.scopePath.getExtensionIfDefined(n.parent?.scopePath??null)}),n=n.parent;return n===t?r.reverse():void 0}},b2=class ol{static{a(this,"_StateStackImpl")}constructor(t,r,n,i,s,o,l,u){this.parent=t,this.ruleId=r,this.beginRuleCapturedEOL=s,this.endRule=o,this.nameScopesList=l,this.contentNameScopesList=u,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=n,this._anchorPos=i}_stackElementBrand=void 0;static NULL=new ol(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(t){return t===null?!1:ol._equals(this,t)}static _equals(t,r){return t===r?!0:this._structuralEquals(t,r)?Ed.equals(t.contentNameScopesList,r.contentNameScopesList):!1}static _structuralEquals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.depth!==r.depth||t.ruleId!==r.ruleId||t.endRule!==r.endRule)return!1;t=t.parent,r=r.parent}while(!0)}clone(){return this}static _reset(t){for(;t;)t._enterPos=-1,t._anchorPos=-1,t=t.parent}reset(){ol._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,r,n,i,s,o,l){return new ol(this,t,r,n,i,s,o,l)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(t){return t.getRule(this.ruleId)}toString(){const t=[];return this._writeString(t,0),"["+t.join(",")+"]"}_writeString(t,r){return this.parent&&(r=this.parent._writeString(t,r)),t[r++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,r}withContentNameScopesList(t){return this.contentNameScopesList===t?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,t)}withEndRule(t){return this.endRule===t?this:new ol(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(t){let r=this;for(;r&&r._enterPos===t._enterPos;){if(r.ruleId===t.ruleId)return!0;r=r.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(t,r){const n=Ed.fromExtension(t?.nameScopesList??null,r.nameScopesList);return new ol(t,r.ruleId,r.enterPos??-1,r.anchorPos??-1,r.beginRuleCapturedEOL,r.endRule,n,Ed.fromExtension(n,r.contentNameScopesList))}},Yve=class{static{a(this,"BalancedBracketSelectors")}balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(e,t){this.balancedBracketScopes=e.flatMap(r=>r==="*"?(this.allowAny=!0,[]):Pp(r,jp).map(n=>n.matcher)),this.unbalancedBracketScopes=t.flatMap(r=>Pp(r,jp).map(n=>n.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(e){for(const t of this.unbalancedBracketScopes)if(t(e))return!1;for(const t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}},Zve=class{static{a(this,"LineTokens")}constructor(e,t,r,n){this.balancedBracketSelectors=n,this._emitBinaryTokens=e,this._tokenTypeOverrides=r,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let n=e?.tokenAttributes??0,i=!1;if(this.balancedBracketSelectors?.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const s=e?.getScopeNames()??[];for(const o of this._tokenTypeOverrides)o.matcher(s)&&(n=Ju.set(n,0,o.type,null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(s))}if(i&&(n=Ju.set(n,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n),this._lastTokenEndIndex=t;return}const r=e?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:r}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);const r=new Uint32Array(this._binaryTokens.length);for(let n=0,i=this._binaryTokens.length;n<i;n++)r[n]=this._binaryTokens[n];return r}},$ve=class{static{a(this,"SyncRegistry")}constructor(e,t){this._onigLib=t,this._theme=e}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,r,n,i){if(!this._grammars.has(e)){let s=this._rawGrammars.get(e);if(!s)return null;this._grammars.set(e,Hve(e,s,t,r,n,i,this,this._onigLib))}return this._grammars.get(e)}},Xve=class{static{a(this,"Registry")}_options;_syncRegistry;_ensureGrammarCache;constructor(t){this._options=t,this._syncRegistry=new $ve(Rp.createFromRawTheme(t.theme,t.colorMap),t.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(t,r){this._syncRegistry.setTheme(Rp.createFromRawTheme(t,r))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(t,r,n){return this.loadGrammarWithConfiguration(t,r,{embeddedLanguages:n})}loadGrammarWithConfiguration(t,r,n){return this._loadGrammar(t,r,n.embeddedLanguages,n.tokenTypes,new Yve(n.balancedBracketSelectors||[],n.unbalancedBracketSelectors||[]))}loadGrammar(t){return this._loadGrammar(t,0,null,null,null)}_loadGrammar(t,r,n,i,s){const o=new Eve(this._syncRegistry,t);for(;o.Q.length>0;)o.Q.map(l=>this._loadSingleGrammar(l.scopeName)),o.processQueue();return this._grammarForScopeName(t,r,n,i,s)}_loadSingleGrammar(t){this._ensureGrammarCache.has(t)||(this._doLoadSingleGrammar(t),this._ensureGrammarCache.set(t,!0))}_doLoadSingleGrammar(t){const r=this._options.loadGrammar(t);if(r){const n=typeof this._options.getInjections=="function"?this._options.getInjections(t):void 0;this._syncRegistry.addGrammar(r,n)}}addGrammar(t,r=[],n=0,i=null){return this._syncRegistry.addGrammar(t,r),this._grammarForScopeName(t.scopeName,n,i)}_grammarForScopeName(t,r=0,n=null,i=null,s=null){return this._syncRegistry.grammarForScopeName(t,r,n,i,s)}},y2=b2.NULL;const Jve=/["&'<>`]/g,Kve=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wve=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Qve=/[|\\{}()[\]^$+*?.]/g,P9=new WeakMap;function qve(e,t){if(e=e.replace(t.subset?ebe(t.subset):Jve,n),t.subset||t.escapeOnly)return e;return e.replace(Kve,r).replace(Wve,n);function r(i,s,o){return t.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),t)}function n(i,s,o){return t.format(i.charCodeAt(0),o.charCodeAt(s+1),t)}}a(qve,"core");function ebe(e){let t=P9.get(e);return t||(t=tbe(e),P9.set(e,t)),t}a(ebe,"charactersToExpressionCached");function tbe(e){const t=[];let r=-1;for(;++r<e.length;)t.push(e[r].replace(Qve,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}a(tbe,"charactersToExpression");const rbe=/[\dA-Fa-f]/;function nbe(e,t,r){const n="&#x"+e.toString(16).toUpperCase();return r&&t&&!rbe.test(String.fromCharCode(t))?n:n+";"}a(nbe,"toHexadecimal");const ibe=/\d/;function abe(e,t,r){const n="&#"+String(e);return r&&t&&!ibe.test(String.fromCharCode(t))?n:n+";"}a(abe,"toDecimal");const sbe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],my={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},obe=["cent","copy","divide","gt","lt","not","para","times"],SB={}.hasOwnProperty,w2={};let Wf;for(Wf in my)SB.call(my,Wf)&&(w2[my[Wf]]=Wf);const lbe=/[^\dA-Za-z]/;function ube(e,t,r,n){const i=String.fromCharCode(e);if(SB.call(w2,i)){const s=w2[i],o="&"+s;return r&&sbe.includes(s)&&!obe.includes(s)&&(!n||t&&t!==61&&lbe.test(String.fromCharCode(t)))?o:o+";"}return""}a(ube,"toNamed");function cbe(e,t,r){let n=nbe(e,t,r.omitOptionalSemicolons),i;if((r.useNamedReferences||r.useShortestReferences)&&(i=ube(e,t,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!i)&&r.useShortestReferences){const s=abe(e,t,r.omitOptionalSemicolons);s.length<n.length&&(n=s)}return i&&(!r.useShortestReferences||i.length<n.length)?i:n}a(cbe,"formatSmart");function Pu(e,t){return qve(e,Object.assign({format:cbe},t))}a(Pu,"stringifyEntities");const dbe=/^>|^->|<!--|-->|--!>|<!-$/g,hbe=[">"],fbe=["<",">"];function pbe(e,t,r,n){return n.settings.bogusComments?"<?"+Pu(e.value,Object.assign({},n.settings.characterReferences,{subset:hbe}))+">":"<!--"+e.value.replace(dbe,i)+"-->";function i(s){return Pu(s,Object.assign({},n.settings.characterReferences,{subset:fbe}))}}a(pbe,"comment");function mbe(e,t,r,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}a(mbe,"doctype");const Tn=AB(1),kB=AB(-1),gbe=[];function AB(e){return t;function t(r,n,i){const s=r?r.children:gbe;let o=(n||0)+e,l=s[o];if(!i)for(;l&&Y2(l);)o+=e,l=s[o];return l}}a(AB,"siblings");const vbe={}.hasOwnProperty;function TB(e){return t;function t(r,n,i){return vbe.call(e,r.tagName)&&e[r.tagName](r,n,i)}}a(TB,"omission");const D3=TB({body:ybe,caption:gy,colgroup:gy,dd:Ebe,dt:xbe,head:gy,html:bbe,li:_be,optgroup:Sbe,option:kbe,p:wbe,rp:L9,rt:L9,tbody:Tbe,td:D9,tfoot:Nbe,th:D9,thead:Abe,tr:Cbe});function gy(e,t,r){const n=Tn(r,t,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Y2(n.value.charAt(0)))}a(gy,"headOrColgroupOrCaption");function bbe(e,t,r){const n=Tn(r,t);return!n||n.type!=="comment"}a(bbe,"html$1");function ybe(e,t,r){const n=Tn(r,t);return!n||n.type!=="comment"}a(ybe,"body$1");function wbe(e,t,r){const n=Tn(r,t);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!r||!(r.type==="element"&&(r.tagName==="a"||r.tagName==="audio"||r.tagName==="del"||r.tagName==="ins"||r.tagName==="map"||r.tagName==="noscript"||r.tagName==="video"))}a(wbe,"p");function _be(e,t,r){const n=Tn(r,t);return!n||n.type==="element"&&n.tagName==="li"}a(_be,"li");function xbe(e,t,r){const n=Tn(r,t);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}a(xbe,"dt");function Ebe(e,t,r){const n=Tn(r,t);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}a(Ebe,"dd");function L9(e,t,r){const n=Tn(r,t);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}a(L9,"rubyElement");function Sbe(e,t,r){const n=Tn(r,t);return!n||n.type==="element"&&n.tagName==="optgroup"}a(Sbe,"optgroup");function kbe(e,t,r){const n=Tn(r,t);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}a(kbe,"option");function Abe(e,t,r){const n=Tn(r,t);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}a(Abe,"thead");function Tbe(e,t,r){const n=Tn(r,t);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}a(Tbe,"tbody$1");function Nbe(e,t,r){return!Tn(r,t)}a(Nbe,"tfoot");function Cbe(e,t,r){const n=Tn(r,t);return!n||n.type==="element"&&n.tagName==="tr"}a(Cbe,"tr");function D9(e,t,r){const n=Tn(r,t);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}a(D9,"cells");const Ibe=TB({body:Rbe,colgroup:Pbe,head:Obe,html:Mbe,tbody:Lbe});function Mbe(e){const t=Tn(e,-1);return!t||t.type!=="comment"}a(Mbe,"html");function Obe(e){const t=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(t.has(n.tagName))return!1;t.add(n.tagName)}const r=e.children[0];return!r||r.type==="element"}a(Obe,"head");function Rbe(e){const t=Tn(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Y2(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}a(Rbe,"body");function Pbe(e,t,r){const n=kB(r,t),i=Tn(e,-1,!0);return r&&n&&n.type==="element"&&n.tagName==="colgroup"&&D3(n,r.children.indexOf(n),r)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}a(Pbe,"colgroup");function Lbe(e,t,r){const n=kB(r,t),i=Tn(e,-1);return r&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&D3(n,r.children.indexOf(n),r)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}a(Lbe,"tbody");const Qf={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Dbe(e,t,r,n){const i=n.schema,s=i.space==="svg"?!1:n.settings.omitOptionalTags;let o=i.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const l=[];let u;i.space==="html"&&e.tagName==="svg"&&(n.schema=Sh);const c=jbe(n,e.properties),h=n.all(i.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=i,h&&(o=!1),(c||!s||!Ibe(e,t,r))&&(l.push("<",e.tagName,c?" "+c:""),o&&(i.space==="svg"||n.settings.closeSelfClosing)&&(u=c.charAt(c.length-1),(!n.settings.tightSelfClosing||u==="/"||u&&u!=='"'&&u!=="'")&&l.push(" "),l.push("/")),l.push(">")),l.push(h),!o&&(!s||!D3(e,t,r))&&l.push("</"+e.tagName+">"),l.join("")}a(Dbe,"element");function jbe(e,t){const r=[];let n=-1,i;if(t){for(i in t)if(t[i]!==null&&t[i]!==void 0){const s=Bbe(e,i,t[i]);s&&r.push(s)}}for(;++n<r.length;){const s=e.settings.tightAttributes?r[n].charAt(r[n].length-1):void 0;n!==r.length-1&&s!=='"'&&s!=="'"&&(r[n]+=" ")}return r.join("")}a(jbe,"serializeAttributes");function Bbe(e,t,r){const n=F2(e.schema,t),i=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,s=e.settings.allowDangerousCharacters?0:1;let o=e.quote,l;if(n.overloadedBoolean&&(r===n.attribute||r==="")?r=!0:(n.boolean||n.overloadedBoolean)&&(typeof r!="string"||r===n.attribute||r==="")&&(r=!!r),r==null||r===!1||typeof r=="number"&&Number.isNaN(r))return"";const u=Pu(n.attribute,Object.assign({},e.settings.characterReferences,{subset:Qf.name[i][s]}));return r===!0||(r=Array.isArray(r)?(n.commaSeparated?CA:IA)(r,{padLeft:!e.settings.tightCommaSeparatedLists}):String(r),e.settings.collapseEmptyAttributes&&!r)?u:(e.settings.preferUnquoted&&(l=Pu(r,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Qf.unquoted[i][s]}))),l!==r&&(e.settings.quoteSmart&&Mp(r,o)>Mp(r,e.alternative)&&(o=e.alternative),l=o+Pu(r,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?Qf.single:Qf.double)[i][s],attribute:!0}))+o),u+(l&&"="+l))}a(Bbe,"serializeAttribute");const zbe=["<","&"];function NB(e,t,r,n){return r&&r.type==="element"&&(r.tagName==="script"||r.tagName==="style")?e.value:Pu(e.value,Object.assign({},n.settings.characterReferences,{subset:zbe}))}a(NB,"text");function Fbe(e,t,r,n){return n.settings.allowDangerousHtml?e.value:NB(e,t,r,n)}a(Fbe,"raw");function Ube(e,t,r,n){return n.all(e)}a(Ube,"root");const Hbe=A3("type",{invalid:Gbe,unknown:Vbe,handlers:{comment:pbe,doctype:mbe,element:Dbe,raw:Fbe,root:Ube,text:NB}});function Gbe(e){throw new Error("Expected node, not `"+e+"`")}a(Gbe,"invalid");function Vbe(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}a(Vbe,"unknown");const Ybe={},Zbe={},$be=[];function Xbe(e,t){const r=t||Ybe,n=r.quote||'"',i=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:Jbe,all:Kbe,settings:{omitOptionalTags:r.omitOptionalTags||!1,allowParseErrors:r.allowParseErrors||!1,allowDangerousCharacters:r.allowDangerousCharacters||!1,quoteSmart:r.quoteSmart||!1,preferUnquoted:r.preferUnquoted||!1,tightAttributes:r.tightAttributes||!1,upperDoctype:r.upperDoctype||!1,tightDoctype:r.tightDoctype||!1,bogusComments:r.bogusComments||!1,tightCommaSeparatedLists:r.tightCommaSeparatedLists||!1,tightSelfClosing:r.tightSelfClosing||!1,collapseEmptyAttributes:r.collapseEmptyAttributes||!1,allowDangerousHtml:r.allowDangerousHtml||!1,voids:r.voids||ej,characterReferences:r.characterReferences||Zbe,closeSelfClosing:r.closeSelfClosing||!1,closeEmptyElements:r.closeEmptyElements||!1},schema:r.space==="svg"?Sh:nm,quote:n,alternative:i}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}a(Xbe,"toHtml");function Jbe(e,t,r){return Hbe(e,t,r,this)}a(Jbe,"one");function Kbe(e){const t=[],r=e&&e.children||$be;let n=-1;for(;++n<r.length;)t[n]=this.one(r[n],n,e);return t.join("")}a(Kbe,"all");function Bp(e,t){const r=typeof e=="string"?{}:{...e.colorReplacements},n=typeof e=="string"?e:e.name;for(const[i,s]of Object.entries(t?.colorReplacements||{}))typeof s=="string"?r[i]=s:i===n&&Object.assign(r,s);return r}a(Bp,"resolveColorReplacements");function To(e,t){return e&&(t?.[e?.toLowerCase()]||e)}a(To,"applyColorReplacements");function Wbe(e){return Array.isArray(e)?e:[e]}a(Wbe,"toArray");async function CB(e){return Promise.resolve(typeof e=="function"?e():e).then(t=>t.default||t)}a(CB,"normalizeGetter");function j3(e){return!e||["plaintext","txt","text","plain"].includes(e)}a(j3,"isPlainLang");function IB(e){return e==="ansi"||j3(e)}a(IB,"isSpecialLang");function B3(e){return e==="none"}a(B3,"isNoneTheme");function MB(e){return B3(e)}a(MB,"isSpecialTheme");function OB(e,t){if(!t)return e;e.properties||={},e.properties.class||=[],typeof e.properties.class=="string"&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]);const r=Array.isArray(t)?t:t.split(/\s+/g);for(const n of r)n&&!e.properties.class.includes(n)&&e.properties.class.push(n);return e}a(OB,"addClassToHast");function _g(e,t=!1){const r=e.split(/(\r?\n)/g);let n=0;const i=[];for(let s=0;s<r.length;s+=2){const o=t?r[s]+(r[s+1]||""):r[s];i.push([o,n]),n+=r[s].length,n+=r[s+1]?.length||0}return i}a(_g,"splitLines");function Qbe(e){const t=_g(e,!0).map(([i])=>i);function r(i){if(i===e.length)return{line:t.length-1,character:t[t.length-1].length};let s=i,o=0;for(const l of t){if(s<l.length)break;s-=l.length,o++}return{line:o,character:s}}a(r,"indexToPos");function n(i,s){let o=0;for(let l=0;l<i;l++)o+=t[l].length;return o+=s,o}return a(n,"posToIndex"),{lines:t,indexToPos:r,posToIndex:n}}a(Qbe,"createPositionConverter");const z3="light-dark()",qbe=["color","background-color"];function eye(e,t){let r=0;const n=[];for(const i of t)i>r&&n.push({...e,content:e.content.slice(r,i),offset:e.offset+r}),r=i;return r<e.content.length&&n.push({...e,content:e.content.slice(r),offset:e.offset+r}),n}a(eye,"splitToken");function tye(e,t){const r=Array.from(t instanceof Set?t:new Set(t)).sort((n,i)=>n-i);return r.length?e.map(n=>n.flatMap(i=>{const s=r.filter(o=>i.offset<o&&o<i.offset+i.content.length).map(o=>o-i.offset).sort((o,l)=>o-l);return s.length?eye(i,s):i})):e}a(tye,"splitTokens");function rye(e,t,r,n,i="css-vars"){const s={content:e.content,explanation:e.explanation,offset:e.offset},o=t.map(h=>zp(e.variants[h])),l=new Set(o.flatMap(h=>Object.keys(h))),u={},c=a((h,d)=>{const g=d==="color"?"":d==="background-color"?"-bg":`-${d}`;return r+t[h]+(d==="color"?"":g)},"varKey");return o.forEach((h,d)=>{for(const g of l){const m=h[g]||"inherit";if(d===0&&n&&qbe.includes(g))if(n===z3&&o.length>1){const y=t.findIndex(M=>M==="light"),x=t.findIndex(M=>M==="dark");if(y===-1||x===-1)throw new gn('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const A=o[y][g]||"inherit",C=o[x][g]||"inherit";u[g]=`light-dark(${A}, ${C})`,i==="css-vars"&&(u[c(d,g)]=m)}else u[g]=m;else i==="css-vars"&&(u[c(d,g)]=m)}}),s.htmlStyle=u,s}a(rye,"flatTokenVariants");function zp(e){const t={};if(e.color&&(t.color=e.color),e.bgColor&&(t["background-color"]=e.bgColor),e.fontStyle){e.fontStyle&Vn.Italic&&(t["font-style"]="italic"),e.fontStyle&Vn.Bold&&(t["font-weight"]="bold");const r=[];e.fontStyle&Vn.Underline&&r.push("underline"),e.fontStyle&Vn.Strikethrough&&r.push("line-through"),r.length&&(t["text-decoration"]=r.join(" "))}return t}a(zp,"getTokenStyleObject");function _2(e){return typeof e=="string"?e:Object.entries(e).map(([t,r])=>`${t}:${r}`).join(";")}a(_2,"stringifyTokenStyle");const RB=new WeakMap;function xg(e,t){RB.set(e,t)}a(xg,"setLastGrammarStateToMap");function wh(e){return RB.get(e)}a(wh,"getLastGrammarStateFromMap");class fc{static{a(this,"GrammarState")}_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(t,r){return new fc(Object.fromEntries(Wbe(r).map(n=>[n,y2])),t)}constructor(...t){if(t.length===2){const[r,n]=t;this.lang=n,this._stacks=r}else{const[r,n,i]=t;this.lang=n,this._stacks={[i]:r}}}getInternalStack(t=this.theme){return this._stacks[t]}getScopes(t=this.theme){return nye(this._stacks[t])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function nye(e){const t=[],r=new Set;function n(i){if(r.has(i))return;r.add(i);const s=i?.nameScopesList?.scopeName;s&&t.push(s),i.parent&&n(i.parent)}return a(n,"pushScope"),n(e),t}a(nye,"getScopes");function iye(e,t){if(!(e instanceof fc))throw new gn("Invalid grammar state");return e.getInternalStack(t)}a(iye,"getGrammarStack");function aye(){const e=new WeakMap;function t(r){if(!e.has(r.meta)){let n=a(function(o){if(typeof o=="number"){if(o<0||o>r.source.length)throw new gn(`Invalid decoration offset: ${o}. Code length: ${r.source.length}`);return{...i.indexToPos(o),offset:o}}else{const l=i.lines[o.line];if(l===void 0)throw new gn(`Invalid decoration position ${JSON.stringify(o)}. Lines length: ${i.lines.length}`);let u=o.character;if(u<0&&(u=l.length+u),u<0||u>l.length)throw new gn(`Invalid decoration position ${JSON.stringify(o)}. Line ${o.line} length: ${l.length}`);return{...o,character:u,offset:i.posToIndex(o.line,u)}}},"normalizePosition");const i=Qbe(r.source),s=(r.options.decorations||[]).map(o=>({...o,start:n(o.start),end:n(o.end)}));sye(s),e.set(r.meta,{decorations:s,converter:i,source:r.source})}return e.get(r.meta)}return a(t,"getContext"),{name:"shiki:decorations",tokens(r){if(!this.options.decorations?.length)return;const i=t(this).decorations.flatMap(o=>[o.start.offset,o.end.offset]);return tye(r,i)},code(r){if(!this.options.decorations?.length)return;const n=t(this),i=Array.from(r.children).filter(h=>h.type==="element"&&h.tagName==="span");if(i.length!==n.converter.lines.length)throw new gn(`Number of lines in code element (${i.length}) does not match the number of lines in the source (${n.converter.lines.length}). Failed to apply decorations.`);function s(h,d,g,m){const y=i[h];let x="",A=-1,C=-1;if(d===0&&(A=0),g===0&&(C=0),g===Number.POSITIVE_INFINITY&&(C=y.children.length),A===-1||C===-1)for(let R=0;R<y.children.length;R++)x+=PB(y.children[R]),A===-1&&x.length===d&&(A=R+1),C===-1&&x.length===g&&(C=R+1);if(A===-1)throw new gn(`Failed to find start index for decoration ${JSON.stringify(m.start)}`);if(C===-1)throw new gn(`Failed to find end index for decoration ${JSON.stringify(m.end)}`);const M=y.children.slice(A,C);if(!m.alwaysWrap&&M.length===y.children.length)l(y,m,"line");else if(!m.alwaysWrap&&M.length===1&&M[0].type==="element")l(M[0],m,"token");else{const R={type:"element",tagName:"span",properties:{},children:M};l(R,m,"wrapper"),y.children.splice(A,M.length,R)}}a(s,"applyLineSection");function o(h,d){i[h]=l(i[h],d,"line")}a(o,"applyLine");function l(h,d,g){const m=d.properties||{},y=d.transform||(x=>x);return h.tagName=d.tagName||"span",h.properties={...h.properties,...m,class:h.properties.class},d.properties?.class&&OB(h,d.properties.class),h=y(h,g)||h,h}a(l,"applyDecoration");const u=[],c=n.decorations.sort((h,d)=>d.start.offset-h.start.offset||h.end.offset-d.end.offset);for(const h of c){const{start:d,end:g}=h;if(d.line===g.line)s(d.line,d.character,g.character,h);else if(d.line<g.line){s(d.line,d.character,Number.POSITIVE_INFINITY,h);for(let m=d.line+1;m<g.line;m++)u.unshift(()=>o(m,h));s(g.line,0,g.character,h)}}u.forEach(h=>h())}}}a(aye,"transformerDecorations");function sye(e){for(let t=0;t<e.length;t++){const r=e[t];if(r.start.offset>r.end.offset)throw new gn(`Invalid decoration range: ${JSON.stringify(r.start)} - ${JSON.stringify(r.end)}`);for(let n=t+1;n<e.length;n++){const i=e[n],s=r.start.offset<=i.start.offset&&i.start.offset<r.end.offset,o=r.start.offset<i.end.offset&&i.end.offset<=r.end.offset,l=i.start.offset<=r.start.offset&&r.start.offset<i.end.offset,u=i.start.offset<r.end.offset&&r.end.offset<=i.end.offset;if(s||o||l||u){if(s&&o||l&&u||l&&r.start.offset===r.end.offset||o&&i.start.offset===i.end.offset)continue;throw new gn(`Decorations ${JSON.stringify(r.start)} and ${JSON.stringify(i.start)} intersect.`)}}}}a(sye,"verifyIntersections");function PB(e){return e.type==="text"?e.value:e.type==="element"?e.children.map(PB).join(""):""}a(PB,"stringify");const oye=[aye()];function Fp(e){const t=lye(e.transformers||[]);return[...t.pre,...t.normal,...t.post,...oye]}a(Fp,"getTransformers");function lye(e){const t=[],r=[],n=[];for(const i of e)switch(i.enforce){case"pre":t.push(i);break;case"post":r.push(i);break;default:n.push(i)}return{pre:t,post:r,normal:n}}a(lye,"sortTransformersByEnforcement");var hl=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],vy={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function uye(e,t){const r=e.indexOf("\x1B",t);if(r!==-1&&e[r+1]==="["){const n=e.indexOf("m",r);if(n!==-1)return{sequence:e.substring(r+2,n).split(";"),startPosition:r,position:n+1}}return{position:e.length}}a(uye,"findSequence");function j9(e){const t=e.shift();if(t==="2"){const r=e.splice(0,3).map(n=>Number.parseInt(n));return r.length!==3||r.some(n=>Number.isNaN(n))?void 0:{type:"rgb",rgb:r}}else if(t==="5"){const r=e.shift();if(r)return{type:"table",index:Number(r)}}}a(j9,"parseColor");function cye(e){const t=[];for(;e.length>0;){const r=e.shift();if(!r)continue;const n=Number.parseInt(r);if(!Number.isNaN(n))if(n===0)t.push({type:"resetAll"});else if(n<=9)vy[n]&&t.push({type:"setDecoration",value:vy[n]});else if(n<=29){const i=vy[n-20];i&&(t.push({type:"resetDecoration",value:i}),i==="dim"&&t.push({type:"resetDecoration",value:"bold"}))}else if(n<=37)t.push({type:"setForegroundColor",value:{type:"named",name:hl[n-30]}});else if(n===38){const i=j9(e);i&&t.push({type:"setForegroundColor",value:i})}else if(n===39)t.push({type:"resetForegroundColor"});else if(n<=47)t.push({type:"setBackgroundColor",value:{type:"named",name:hl[n-40]}});else if(n===48){const i=j9(e);i&&t.push({type:"setBackgroundColor",value:i})}else n===49?t.push({type:"resetBackgroundColor"}):n===53?t.push({type:"setDecoration",value:"overline"}):n===55?t.push({type:"resetDecoration",value:"overline"}):n>=90&&n<=97?t.push({type:"setForegroundColor",value:{type:"named",name:hl[n-90+8]}}):n>=100&&n<=107&&t.push({type:"setBackgroundColor",value:{type:"named",name:hl[n-100+8]}})}return t}a(cye,"parseSequence");function dye(){let e=null,t=null,r=new Set;return{parse(n){const i=[];let s=0;do{const o=uye(n,s),l=o.sequence?n.substring(s,o.startPosition):n.substring(s);if(l.length>0&&i.push({value:l,foreground:e,background:t,decorations:new Set(r)}),o.sequence){const u=cye(o.sequence);for(const c of u)c.type==="resetAll"?(e=null,t=null,r.clear()):c.type==="resetForegroundColor"?e=null:c.type==="resetBackgroundColor"?t=null:c.type==="resetDecoration"&&r.delete(c.value);for(const c of u)c.type==="setForegroundColor"?e=c.value:c.type==="setBackgroundColor"?t=c.value:c.type==="setDecoration"&&r.add(c.value)}s=o.position}while(s<n.length);return i}}}a(dye,"createAnsiSequenceParser");var hye={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function fye(e=hye){function t(l){return e[l]}a(t,"namedColor");function r(l){return`#${l.map(u=>Math.max(0,Math.min(u,255)).toString(16).padStart(2,"0")).join("")}`}a(r,"rgbColor");let n;function i(){if(n)return n;n=[];for(let c=0;c<hl.length;c++)n.push(t(hl[c]));let l=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let h=0;h<6;h++)for(let d=0;d<6;d++)n.push(r([l[c],l[h],l[d]]));let u=8;for(let c=0;c<24;c++,u+=10)n.push(r([u,u,u]));return n}a(i,"getColorTable");function s(l){return i()[l]}a(s,"tableColor");function o(l){switch(l.type){case"named":return t(l.name);case"rgb":return r(l.rgb);case"table":return s(l.index)}}return a(o,"value"),{value:o}}a(fye,"createColorPalette");const pye={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function mye(e,t,r){const n=Bp(e,r),i=_g(t),s=Object.fromEntries(hl.map(u=>{const c=`terminal.ansi${u[0].toUpperCase()}${u.substring(1)}`,h=e.colors?.[c];return[u,h||pye[u]]})),o=fye(s),l=dye();return i.map(u=>l.parse(u[0]).map(c=>{let h,d;c.decorations.has("reverse")?(h=c.background?o.value(c.background):e.bg,d=c.foreground?o.value(c.foreground):e.fg):(h=c.foreground?o.value(c.foreground):e.fg,d=c.background?o.value(c.background):void 0),h=To(h,n),d=To(d,n),c.decorations.has("dim")&&(h=gye(h));let g=Vn.None;return c.decorations.has("bold")&&(g|=Vn.Bold),c.decorations.has("italic")&&(g|=Vn.Italic),c.decorations.has("underline")&&(g|=Vn.Underline),c.decorations.has("strikethrough")&&(g|=Vn.Strikethrough),{content:c.value,offset:u[1],color:h,bgColor:d,fontStyle:g}}))}a(mye,"tokenizeAnsiWithTheme");function gye(e){const t=e.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/i);if(t)if(t[3]){const n=Math.round(Number.parseInt(t[3],16)/2).toString(16).padStart(2,"0");return`#${t[1]}${t[2]}${n}`}else return t[2]?`#${t[1]}${t[2]}80`:`#${Array.from(t[1]).map(n=>`${n}${n}`).join("")}80`;const r=e.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return r?`var(${r[1]}-dim)`:e}a(gye,"dimColor");function F3(e,t,r={}){const{lang:n="text",theme:i=e.getLoadedThemes()[0]}=r;if(j3(n)||B3(i))return _g(t).map(u=>[{content:u[0],offset:u[1]}]);const{theme:s,colorMap:o}=e.setTheme(i);if(n==="ansi")return mye(s,t,r);const l=e.getLanguage(n);if(r.grammarState){if(r.grammarState.lang!==l.name)throw new gn(`Grammar state language "${r.grammarState.lang}" does not match highlight language "${l.name}"`);if(!r.grammarState.themes.includes(s.name))throw new gn(`Grammar state themes "${r.grammarState.themes}" do not contain highlight theme "${s.name}"`)}return bye(t,l,s,o,r)}a(F3,"codeToTokensBase");function vye(...e){if(e.length===2)return wh(e[1]);const[t,r,n={}]=e,{lang:i="text",theme:s=t.getLoadedThemes()[0]}=n;if(j3(i)||B3(s))throw new gn("Plain language does not have grammar state");if(i==="ansi")throw new gn("ANSI language does not have grammar state");const{theme:o,colorMap:l}=t.setTheme(s),u=t.getLanguage(i);return new fc(Up(r,u,o,l,n).stateStack,u.name,o.name)}a(vye,"getLastGrammarState");function bye(e,t,r,n,i){const s=Up(e,t,r,n,i),o=new fc(Up(e,t,r,n,i).stateStack,t.name,r.name);return xg(s.tokens,o),s.tokens}a(bye,"tokenizeWithTheme");function Up(e,t,r,n,i){const s=Bp(r,i),{tokenizeMaxLineLength:o=0,tokenizeTimeLimit:l=500}=i,u=_g(e);let c=i.grammarState?iye(i.grammarState,r.name)??y2:i.grammarContextCode!=null?Up(i.grammarContextCode,t,r,n,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack:y2,h=[];const d=[];for(let g=0,m=u.length;g<m;g++){const[y,x]=u[g];if(y===""){h=[],d.push([]);continue}if(o>0&&y.length>=o){h=[],d.push([{content:y,offset:x,color:"",fontStyle:0}]);continue}let A,C,M;i.includeExplanation&&(A=t.tokenizeLine(y,c,l),C=A.tokens,M=0);const R=t.tokenizeLine2(y,c,l),P=R.tokens.length/2;for(let L=0;L<P;L++){const z=R.tokens[2*L],Z=L+1<P?R.tokens[2*L+2]:y.length;if(z===Z)continue;const Y=R.tokens[2*L+1],ae=To(n[Ju.getForeground(Y)],s),F=Ju.getFontStyle(Y),W={content:y.substring(z,Z),offset:x+z,color:ae,fontStyle:F};if(i.includeExplanation){const f=[];if(i.includeExplanation!=="scopeName")for(const v of r.settings){let _;switch(typeof v.scope){case"string":_=v.scope.split(/,/).map(S=>S.trim());break;case"object":_=v.scope;break;default:continue}f.push({settings:v,selectors:_.map(S=>S.split(/ /))})}W.explanation=[];let w=0;for(;z+w<Z;){const v=C[M],_=y.substring(v.startIndex,v.endIndex);w+=_.length,W.explanation.push({content:_,scopes:i.includeExplanation==="scopeName"?yye(v.scopes):wye(f,v.scopes)}),M+=1}}h.push(W)}d.push(h),h=[],c=R.ruleStack}return{tokens:d,stateStack:c}}a(Up,"_tokenizeWithTheme");function yye(e){return e.map(t=>({scopeName:t}))}a(yye,"explainThemeScopesNameOnly");function wye(e,t){const r=[];for(let n=0,i=t.length;n<i;n++){const s=t[n];r[n]={scopeName:s,themeMatches:xye(e,s,t.slice(0,n))}}return r}a(wye,"explainThemeScopesFull");function B9(e,t){return e===t||t.substring(0,e.length)===e&&t[e.length]==="."}a(B9,"matchesOne");function _ye(e,t,r){if(!B9(e[e.length-1],t))return!1;let n=e.length-2,i=r.length-1;for(;n>=0&&i>=0;)B9(e[n],r[i])&&(n-=1),i-=1;return n===-1}a(_ye,"matches");function xye(e,t,r){const n=[];for(const{selectors:i,settings:s}of e)for(const o of i)if(_ye(o,t,r)){n.push(s);break}return n}a(xye,"explainThemeScope");function LB(e,t,r){const n=Object.entries(r.themes).filter(u=>u[1]).map(u=>({color:u[0],theme:u[1]})),i=n.map(u=>{const c=F3(e,t,{...r,theme:u.theme}),h=wh(c),d=typeof u.theme=="string"?u.theme:u.theme.name;return{tokens:c,state:h,theme:d}}),s=Eye(...i.map(u=>u.tokens)),o=s[0].map((u,c)=>u.map((h,d)=>{const g={content:h.content,variants:{},offset:h.offset};return"includeExplanation"in r&&r.includeExplanation&&(g.explanation=h.explanation),s.forEach((m,y)=>{const{content:x,explanation:A,offset:C,...M}=m[c][d];g.variants[n[y].color]=M}),g})),l=i[0].state?new fc(Object.fromEntries(i.map(u=>[u.theme,u.state?.getInternalStack(u.theme)])),i[0].state.lang):void 0;return l&&xg(o,l),o}a(LB,"codeToTokensWithThemes");function Eye(...e){const t=e.map(()=>[]),r=e.length;for(let n=0;n<e[0].length;n++){const i=e.map(u=>u[n]),s=t.map(()=>[]);t.forEach((u,c)=>u.push(s[c]));const o=i.map(()=>0),l=i.map(u=>u[0]);for(;l.every(u=>u);){const u=Math.min(...l.map(c=>c.content.length));for(let c=0;c<r;c++){const h=l[c];h.content.length===u?(s[c].push(h),o[c]+=1,l[c]=i[c][o[c]]):(s[c].push({...h,content:h.content.slice(0,u)}),l[c]={...h,content:h.content.slice(u),offset:h.offset+u})}}}return t}a(Eye,"syncThemesTokenization");function Hp(e,t,r){let n,i,s,o,l,u;if("themes"in r){const{defaultColor:c="light",cssVariablePrefix:h="--shiki-",colorsRendering:d="css-vars"}=r,g=Object.entries(r.themes).filter(C=>C[1]).map(C=>({color:C[0],theme:C[1]})).sort((C,M)=>C.color===c?-1:M.color===c?1:0);if(g.length===0)throw new gn("`themes` option must not be empty");const m=LB(e,t,r);if(u=wh(m),c&&z3!==c&&!g.find(C=>C.color===c))throw new gn(`\`themes\` option must contain the defaultColor key \`${c}\``);const y=g.map(C=>e.getTheme(C.theme)),x=g.map(C=>C.color);s=m.map(C=>C.map(M=>rye(M,x,h,c,d))),u&&xg(s,u);const A=g.map(C=>Bp(C.theme,r));i=z9(g,y,A,h,c,"fg",d),n=z9(g,y,A,h,c,"bg",d),o=`shiki-themes ${y.map(C=>C.name).join(" ")}`,l=c?void 0:[i,n].join(";")}else if("theme"in r){const c=Bp(r.theme,r);s=F3(e,t,r);const h=e.getTheme(r.theme);n=To(h.bg,c),i=To(h.fg,c),o=h.name,u=wh(s)}else throw new gn("Invalid options, either `theme` or `themes` must be provided");return{tokens:s,fg:i,bg:n,themeName:o,rootStyle:l,grammarState:u}}a(Hp,"codeToTokens");function z9(e,t,r,n,i,s,o){return e.map((l,u)=>{const c=To(t[u][s],r[u])||"inherit",h=`${n+l.color}${s==="bg"?"-bg":""}:${c}`;if(u===0&&i){if(i===z3&&e.length>1){const d=e.findIndex(x=>x.color==="light"),g=e.findIndex(x=>x.color==="dark");if(d===-1||g===-1)throw new gn('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const m=To(t[d][s],r[d])||"inherit",y=To(t[g][s],r[g])||"inherit";return`light-dark(${m}, ${y});${h}`}return c}return o==="css-vars"?h:null}).filter(l=>!!l).join(";")}a(z9,"mapThemeColors");function Gp(e,t,r,n={meta:{},options:r,codeToHast:a((i,s)=>Gp(e,i,s),"codeToHast"),codeToTokens:a((i,s)=>Hp(e,i,s),"codeToTokens")}){let i=t;for(const y of Fp(r))i=y.preprocess?.call(n,i,r)||i;let{tokens:s,fg:o,bg:l,themeName:u,rootStyle:c,grammarState:h}=Hp(e,i,r);const{mergeWhitespaces:d=!0,mergeSameStyleTokens:g=!1}=r;d===!0?s=kye(s):d==="never"&&(s=Aye(s)),g&&(s=Tye(s));const m={...n,get source(){return i}};for(const y of Fp(r))s=y.tokens?.call(m,s)||s;return Sye(s,{...r,fg:o,bg:l,themeName:u,rootStyle:c},m,h)}a(Gp,"codeToHast");function Sye(e,t,r,n=wh(e)){const i=Fp(t),s=[],o={type:"root",children:[]},{structure:l="classic",tabindex:u="0"}=t;let c={type:"element",tagName:"pre",properties:{class:`shiki ${t.themeName||""}`,style:t.rootStyle||`background-color:${t.bg};color:${t.fg}`,...u!==!1&&u!=null?{tabindex:u.toString()}:{},...Object.fromEntries(Array.from(Object.entries(t.meta||{})).filter(([y])=>!y.startsWith("_")))},children:[]},h={type:"element",tagName:"code",properties:{},children:s};const d=[],g={...r,structure:l,addClassToHast:OB,get source(){return r.source},get tokens(){return e},get options(){return t},get root(){return o},get pre(){return c},get code(){return h},get lines(){return d}};if(e.forEach((y,x)=>{x&&(l==="inline"?o.children.push({type:"element",tagName:"br",properties:{},children:[]}):l==="classic"&&s.push({type:"text",value:`
`}));let A={type:"element",tagName:"span",properties:{class:"line"},children:[]},C=0;for(const M of y){let R={type:"element",tagName:"span",properties:{...M.htmlAttrs},children:[{type:"text",value:M.content}]};const P=_2(M.htmlStyle||zp(M));P&&(R.properties.style=P);for(const L of i)R=L?.span?.call(g,R,x+1,C,A,M)||R;l==="inline"?o.children.push(R):l==="classic"&&A.children.push(R),C+=M.content.length}if(l==="classic"){for(const M of i)A=M?.line?.call(g,A,x+1)||A;d.push(A),s.push(A)}}),l==="classic"){for(const y of i)h=y?.code?.call(g,h)||h;c.children.push(h);for(const y of i)c=y?.pre?.call(g,c)||c;o.children.push(c)}let m=o;for(const y of i)m=y?.root?.call(g,m)||m;return n&&xg(m,n),m}a(Sye,"tokensToHast");function kye(e){return e.map(t=>{const r=[];let n="",i=0;return t.forEach((s,o)=>{const u=!(s.fontStyle&&(s.fontStyle&Vn.Underline||s.fontStyle&Vn.Strikethrough));u&&s.content.match(/^\s+$/)&&t[o+1]?(i||(i=s.offset),n+=s.content):n?(u?r.push({...s,offset:i,content:n+s.content}):r.push({content:n,offset:i},s),i=0,n=""):r.push(s)}),r})}a(kye,"mergeWhitespaceTokens");function Aye(e){return e.map(t=>t.flatMap(r=>{if(r.content.match(/^\s+$/))return r;const n=r.content.match(/^(\s*)(.*?)(\s*)$/);if(!n)return r;const[,i,s,o]=n;if(!i&&!o)return r;const l=[{...r,offset:r.offset+i.length,content:s}];return i&&l.unshift({content:i,offset:r.offset}),o&&l.push({content:o,offset:r.offset+i.length+s.length}),l}))}a(Aye,"splitWhitespaceTokens");function Tye(e){return e.map(t=>{const r=[];for(const n of t){if(r.length===0){r.push({...n});continue}const i=r[r.length-1],s=_2(i.htmlStyle||zp(i)),o=_2(n.htmlStyle||zp(n)),l=i.fontStyle&&(i.fontStyle&Vn.Underline||i.fontStyle&Vn.Strikethrough),u=n.fontStyle&&(n.fontStyle&Vn.Underline||n.fontStyle&Vn.Strikethrough);!l&&!u&&s===o?i.content+=n.content:r.push({...n})}return r})}a(Tye,"mergeAdjacentStyledTokens");const Nye=Xbe;function Cye(e,t,r){const n={meta:{},options:r,codeToHast:a((s,o)=>Gp(e,s,o),"codeToHast"),codeToTokens:a((s,o)=>Hp(e,s,o),"codeToTokens")};let i=Nye(Gp(e,t,r,n));for(const s of Fp(r))i=s.postprocess?.call(n,i,r)||i;return i}a(Cye,"codeToHtml");const F9={light:"#333333",dark:"#bbbbbb"},U9={light:"#fffffe",dark:"#1e1e1e"},H9="__shiki_resolved";function U3(e){if(e?.[H9])return e;const t={...e};t.tokenColors&&!t.settings&&(t.settings=t.tokenColors,delete t.tokenColors),t.type||="dark",t.colorReplacements={...t.colorReplacements},t.settings||=[];let{bg:r,fg:n}=t;if(!r||!n){const l=t.settings?t.settings.find(u=>!u.name&&!u.scope):void 0;l?.settings?.foreground&&(n=l.settings.foreground),l?.settings?.background&&(r=l.settings.background),!n&&t?.colors?.["editor.foreground"]&&(n=t.colors["editor.foreground"]),!r&&t?.colors?.["editor.background"]&&(r=t.colors["editor.background"]),n||(n=t.type==="light"?F9.light:F9.dark),r||(r=t.type==="light"?U9.light:U9.dark),t.fg=n,t.bg=r}t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope||t.settings.unshift({settings:{foreground:t.fg,background:t.bg}});let i=0;const s=new Map;function o(l){if(s.has(l))return s.get(l);i+=1;const u=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return t.colorReplacements?.[`#${u}`]?o(l):(s.set(l,u),u)}a(o,"getReplacementColor"),t.settings=t.settings.map(l=>{const u=l.settings?.foreground&&!l.settings.foreground.startsWith("#"),c=l.settings?.background&&!l.settings.background.startsWith("#");if(!u&&!c)return l;const h={...l,settings:{...l.settings}};if(u){const d=o(l.settings.foreground);t.colorReplacements[d]=l.settings.foreground,h.settings.foreground=d}if(c){const d=o(l.settings.background);t.colorReplacements[d]=l.settings.background,h.settings.background=d}return h});for(const l of Object.keys(t.colors||{}))if((l==="editor.foreground"||l==="editor.background"||l.startsWith("terminal.ansi"))&&!t.colors[l]?.startsWith("#")){const u=o(t.colors[l]);t.colorReplacements[u]=t.colors[l],t.colors[l]=u}return Object.defineProperty(t,H9,{enumerable:!1,writable:!1,value:!0}),t}a(U3,"normalizeTheme");async function DB(e){return Array.from(new Set((await Promise.all(e.filter(t=>!IB(t)).map(async t=>await CB(t).then(r=>Array.isArray(r)?r:[r])))).flat()))}a(DB,"resolveLangs");async function jB(e){return(await Promise.all(e.map(async r=>MB(r)?null:U3(await CB(r))))).filter(r=>!!r)}a(jB,"resolveThemes");let Iye=3;function Mye(e,t=3){t>Iye||console.trace(`[SHIKI DEPRECATE]: ${e}`)}a(Mye,"warnDeprecated");let ku=class extends Error{static{a(this,"ShikiError")}constructor(t){super(t),this.name="ShikiError"}};class Oye extends Xve{static{a(this,"Registry")}constructor(t,r,n,i={}){super(t),this._resolver=t,this._themes=r,this._langs=n,this._alias=i,this._themes.map(s=>this.loadTheme(s)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(t){return typeof t=="string"?this._resolvedThemes.get(t):this.loadTheme(t)}loadTheme(t){const r=U3(t);return r.name&&(this._resolvedThemes.set(r.name,r),this._loadedThemesCache=null),r}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(t){let r=this._textmateThemeCache.get(t);r||(r=Rp.createFromRawTheme(t),this._textmateThemeCache.set(t,r)),this._syncRegistry.setTheme(r)}getGrammar(t){if(this._alias[t]){const r=new Set([t]);for(;this._alias[t];){if(t=this._alias[t],r.has(t))throw new ku(`Circular alias \`${Array.from(r).join(" -> ")} -> ${t}\``);r.add(t)}}return this._resolvedGrammars.get(t)}loadLanguage(t){if(this.getGrammar(t.name))return;const r=new Set([...this._langMap.values()].filter(s=>s.embeddedLangsLazy?.includes(t.name)));this._resolver.addLanguage(t);const n={balancedBracketSelectors:t.balancedBracketSelectors||["*"],unbalancedBracketSelectors:t.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(t.scopeName,t);const i=this.loadGrammarWithConfiguration(t.scopeName,1,n);if(i.name=t.name,this._resolvedGrammars.set(t.name,i),t.aliases&&t.aliases.forEach(s=>{this._alias[s]=t.name}),this._loadedLanguagesCache=null,r.size)for(const s of r)this._resolvedGrammars.delete(s.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(s.scopeName),this._syncRegistry?._grammars?.delete(s.scopeName),this.loadLanguage(this._langMap.get(s.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(t){for(const i of t)this.resolveEmbeddedLanguages(i);const r=Array.from(this._langGraph.entries()),n=r.filter(([i,s])=>!s);if(n.length){const i=r.filter(([s,o])=>o&&o.embeddedLangs?.some(l=>n.map(([u])=>u).includes(l))).filter(s=>!n.includes(s));throw new ku(`Missing languages ${n.map(([s])=>`\`${s}\``).join(", ")}, required by ${i.map(([s])=>`\`${s}\``).join(", ")}`)}for(const[i,s]of r)this._resolver.addLanguage(s);for(const[i,s]of r)this.loadLanguage(s)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(t){if(this._langMap.set(t.name,t),this._langGraph.set(t.name,t),t.embeddedLangs)for(const r of t.embeddedLangs)this._langGraph.set(r,this._langMap.get(r))}}class Rye{static{a(this,"Resolver")}_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(t,r){this._onigLib={createOnigScanner:a(n=>t.createScanner(n),"createOnigScanner"),createOnigString:a(n=>t.createString(n),"createOnigString")},r.forEach(n=>this.addLanguage(n))}get onigLib(){return this._onigLib}getLangRegistration(t){return this._langs.get(t)}loadGrammar(t){return this._scopeToLang.get(t)}addLanguage(t){this._langs.set(t.name,t),t.aliases&&t.aliases.forEach(r=>{this._langs.set(r,t)}),this._scopeToLang.set(t.scopeName,t),t.injectTo&&t.injectTo.forEach(r=>{this._injections.get(r)||this._injections.set(r,[]),this._injections.get(r).push(t.scopeName)})}getInjections(t){const r=t.split(".");let n=[];for(let i=1;i<=r.length;i++){const s=r.slice(0,i).join(".");n=[...n,...this._injections.get(s)||[]]}return n}}let $c=0;function Pye(e){$c+=1,e.warnings!==!1&&$c>=10&&$c%10===0&&console.warn(`[Shiki] ${$c} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let t=!1;if(!e.engine)throw new ku("`engine` option is required for synchronous mode");const r=(e.langs||[]).flat(1),n=(e.themes||[]).flat(1).map(U3),i=new Rye(e.engine,r),s=new Oye(i,n,r,e.langAlias);let o;function l(M){A();const R=s.getGrammar(typeof M=="string"?M:M.name);if(!R)throw new ku(`Language \`${M}\` not found, you may need to load it first`);return R}a(l,"getLanguage");function u(M){if(M==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};A();const R=s.getTheme(M);if(!R)throw new ku(`Theme \`${M}\` not found, you may need to load it first`);return R}a(u,"getTheme");function c(M){A();const R=u(M);o!==M&&(s.setTheme(R),o=M);const P=s.getColorMap();return{theme:R,colorMap:P}}a(c,"setTheme");function h(){return A(),s.getLoadedThemes()}a(h,"getLoadedThemes");function d(){return A(),s.getLoadedLanguages()}a(d,"getLoadedLanguages");function g(...M){A(),s.loadLanguages(M.flat(1))}a(g,"loadLanguageSync");async function m(...M){return g(await DB(M))}a(m,"loadLanguage");function y(...M){A();for(const R of M.flat(1))s.loadTheme(R)}a(y,"loadThemeSync");async function x(...M){return A(),y(await jB(M))}a(x,"loadTheme");function A(){if(t)throw new ku("Shiki instance has been disposed")}a(A,"ensureNotDisposed");function C(){t||(t=!0,s.dispose(),$c-=1)}return a(C,"dispose"),{setTheme:c,getTheme:u,getLanguage:l,getLoadedThemes:h,getLoadedLanguages:d,loadLanguage:m,loadLanguageSync:g,loadTheme:x,loadThemeSync:y,dispose:C,[Symbol.dispose]:C}}a(Pye,"createShikiInternalSync");async function Lye(e){e.engine||Mye("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[t,r,n]=await Promise.all([jB(e.themes||[]),DB(e.langs||[]),e.engine]);return Pye({...e,themes:t,langs:r,engine:n})}a(Lye,"createShikiInternal");async function Dye(e){const t=await Lye(e);return{getLastGrammarState:a((...r)=>vye(t,...r),"getLastGrammarState"),codeToTokensBase:a((r,n)=>F3(t,r,n),"codeToTokensBase"),codeToTokensWithThemes:a((r,n)=>LB(t,r,n),"codeToTokensWithThemes"),codeToTokens:a((r,n)=>Hp(t,r,n),"codeToTokens"),codeToHast:a((r,n)=>Gp(t,r,n),"codeToHast"),codeToHtml:a((r,n)=>Cye(t,r,n),"codeToHtml"),getBundledLanguages:a(()=>({}),"getBundledLanguages"),getBundledThemes:a(()=>({}),"getBundledThemes"),...t,getInternalContext:a(()=>t,"getInternalContext")}}a(Dye,"createHighlighterCore");function jye(e){const t=e.langs,r=e.themes,n=e.engine;async function i(s){function o(d){if(typeof d=="string"){if(IB(d))return[];d=s.langAlias?.[d]||d;const g=t[d];if(!g)throw new gn(`Language \`${d}\` is not included in this bundle. You may want to load it from external source.`);return g}return d}a(o,"resolveLang");function l(d){if(MB(d))return"none";if(typeof d=="string"){const g=r[d];if(!g)throw new gn(`Theme \`${d}\` is not included in this bundle. You may want to load it from external source.`);return g}return d}a(l,"resolveTheme");const u=(s.themes??[]).map(d=>l(d)),c=(s.langs??[]).map(d=>o(d)),h=await Dye({engine:s.engine??n(),...s,themes:u,langs:c});return{...h,loadLanguage(...d){return h.loadLanguage(...d.map(o))},loadTheme(...d){return h.loadTheme(...d.map(l))},getBundledLanguages(){return t},getBundledThemes(){return r}}}return a(i,"createHighlighter"),i}a(jye,"createdBundledHighlighter");const BB=[{id:"abap",name:"ABAP",import:a((()=>ge(()=>import("./abap-BdImnpbu.js"),[])),"import")},{id:"actionscript-3",name:"ActionScript",import:a((()=>ge(()=>import("./actionscript-3-CfeIJUat.js"),[])),"import")},{id:"ada",name:"Ada",import:a((()=>ge(()=>import("./ada-bCR0ucgS.js"),[])),"import")},{id:"angular-html",name:"Angular HTML",import:a((()=>ge(()=>import("./angular-html-CU67Zn6k.js").then(e=>e.f),__vite__mapDeps([0,1,2,3]))),"import")},{id:"angular-ts",name:"Angular TypeScript",import:a((()=>ge(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5]))),"import")},{id:"apache",name:"Apache Conf",import:a((()=>ge(()=>import("./apache-Pmp26Uib.js"),[])),"import")},{id:"apex",name:"Apex",import:a((()=>ge(()=>import("./apex-DhZLUxFE.js"),[])),"import")},{id:"apl",name:"APL",import:a((()=>ge(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9]))),"import")},{id:"applescript",name:"AppleScript",import:a((()=>ge(()=>import("./applescript-Co6uUVPk.js"),[])),"import")},{id:"ara",name:"Ara",import:a((()=>ge(()=>import("./ara-BRHolxvo.js"),[])),"import")},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:a((()=>ge(()=>import("./asciidoc-Dv7Oe6Be.js"),[])),"import")},{id:"asm",name:"Assembly",import:a((()=>ge(()=>import("./asm-D_Q5rh1f.js"),[])),"import")},{id:"astro",name:"Astro",import:a((()=>ge(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13]))),"import")},{id:"awk",name:"AWK",import:a((()=>ge(()=>import("./awk-DMzUqQB5.js"),[])),"import")},{id:"ballerina",name:"Ballerina",import:a((()=>ge(()=>import("./ballerina-BFfxhgS-.js"),[])),"import")},{id:"bat",name:"Batch File",aliases:["batch"],import:a((()=>ge(()=>import("./bat-BkioyH1T.js"),[])),"import")},{id:"beancount",name:"Beancount",import:a((()=>ge(()=>import("./beancount-k_qm7-4y.js"),[])),"import")},{id:"berry",name:"Berry",aliases:["be"],import:a((()=>ge(()=>import("./berry-D08WgyRC.js"),[])),"import")},{id:"bibtex",name:"BibTeX",import:a((()=>ge(()=>import("./bibtex-CHM0blh-.js"),[])),"import")},{id:"bicep",name:"Bicep",import:a((()=>ge(()=>import("./bicep-Bmn6On1c.js"),[])),"import")},{id:"blade",name:"Blade",import:a((()=>ge(()=>import("./blade-DVc8C-J4.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9]))),"import")},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:a((()=>ge(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18]))),"import")},{id:"c",name:"C",import:a((()=>ge(()=>import("./c-BIGW1oBm.js"),[])),"import")},{id:"cadence",name:"Cadence",aliases:["cdc"],import:a((()=>ge(()=>import("./cadence-Bv_4Rxtq.js"),[])),"import")},{id:"cairo",name:"Cairo",import:a((()=>ge(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20]))),"import")},{id:"clarity",name:"Clarity",import:a((()=>ge(()=>import("./clarity-D53aC0YG.js"),[])),"import")},{id:"clojure",name:"Clojure",aliases:["clj"],import:a((()=>ge(()=>import("./clojure-P80f7IUj.js"),[])),"import")},{id:"cmake",name:"CMake",import:a((()=>ge(()=>import("./cmake-D1j8_8rp.js"),[])),"import")},{id:"cobol",name:"COBOL",import:a((()=>ge(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8]))),"import")},{id:"codeowners",name:"CODEOWNERS",import:a((()=>ge(()=>import("./codeowners-Bp6g37R7.js"),[])),"import")},{id:"codeql",name:"CodeQL",aliases:["ql"],import:a((()=>ge(()=>import("./codeql-DsOJ9woJ.js"),[])),"import")},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:a((()=>ge(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2]))),"import")},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:a((()=>ge(()=>import("./common-lisp-Cg-RD9OK.js"),[])),"import")},{id:"coq",name:"Coq",import:a((()=>ge(()=>import("./coq-DkFqJrB1.js"),[])),"import")},{id:"cpp",name:"C++",aliases:["c++"],import:a((()=>ge(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16]))),"import")},{id:"crystal",name:"Crystal",import:a((()=>ge(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28]))),"import")},{id:"csharp",name:"C#",aliases:["c#","cs"],import:a((()=>ge(()=>import("./csharp-CX12Zw3r.js"),[])),"import")},{id:"css",name:"CSS",import:a((()=>ge(()=>import("./css-DPfMkruS.js"),[])),"import")},{id:"csv",name:"CSV",import:a((()=>ge(()=>import("./csv-fuZLfV_i.js"),[])),"import")},{id:"cue",name:"CUE",import:a((()=>ge(()=>import("./cue-D82EKSYY.js"),[])),"import")},{id:"cypher",name:"Cypher",aliases:["cql"],import:a((()=>ge(()=>import("./cypher-COkxafJQ.js"),[])),"import")},{id:"d",name:"D",import:a((()=>ge(()=>import("./d-85-TOEBH.js"),[])),"import")},{id:"dart",name:"Dart",import:a((()=>ge(()=>import("./dart-CF10PKvl.js"),[])),"import")},{id:"dax",name:"DAX",import:a((()=>ge(()=>import("./dax-CEL-wOlO.js"),[])),"import")},{id:"desktop",name:"Desktop",import:a((()=>ge(()=>import("./desktop-BmXAJ9_W.js"),[])),"import")},{id:"diff",name:"Diff",import:a((()=>ge(()=>import("./diff-D97Zzqfu.js"),[])),"import")},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:a((()=>ge(()=>import("./docker-BcOcwvcX.js"),[])),"import")},{id:"dotenv",name:"dotEnv",import:a((()=>ge(()=>import("./dotenv-Da5cRb03.js"),[])),"import")},{id:"dream-maker",name:"Dream Maker",import:a((()=>ge(()=>import("./dream-maker-BtqSS_iP.js"),[])),"import")},{id:"edge",name:"Edge",import:a((()=>ge(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15]))),"import")},{id:"elixir",name:"Elixir",import:a((()=>ge(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3]))),"import")},{id:"elm",name:"Elm",import:a((()=>ge(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26]))),"import")},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:a((()=>ge(()=>import("./emacs-lisp-C9XAeP06.js"),[])),"import")},{id:"erb",name:"ERB",import:a((()=>ge(()=>import("./erb-BOJIQeun.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]))),"import")},{id:"erlang",name:"Erlang",aliases:["erl"],import:a((()=>ge(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40]))),"import")},{id:"fennel",name:"Fennel",import:a((()=>ge(()=>import("./fennel-BYunw83y.js"),[])),"import")},{id:"fish",name:"Fish",import:a((()=>ge(()=>import("./fish-BvzEVeQv.js"),[])),"import")},{id:"fluent",name:"Fluent",aliases:["ftl"],import:a((()=>ge(()=>import("./fluent-C4IJs8-o.js"),[])),"import")},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:a((()=>ge(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([41,42]))),"import")},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:a((()=>ge(()=>import("./fortran-free-form-D22FLkUw.js"),[])),"import")},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:a((()=>ge(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40]))),"import")},{id:"gdresource",name:"GDResource",import:a((()=>ge(()=>import("./gdresource-B7Tvp0Sc.js"),__vite__mapDeps([44,45,46]))),"import")},{id:"gdscript",name:"GDScript",import:a((()=>ge(()=>import("./gdscript-DTMYz4Jt.js"),[])),"import")},{id:"gdshader",name:"GDShader",import:a((()=>ge(()=>import("./gdshader-DkwncUOv.js"),[])),"import")},{id:"genie",name:"Genie",import:a((()=>ge(()=>import("./genie-D0YGMca9.js"),[])),"import")},{id:"gherkin",name:"Gherkin",import:a((()=>ge(()=>import("./gherkin-DyxjwDmM.js"),[])),"import")},{id:"git-commit",name:"Git Commit Message",import:a((()=>ge(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48]))),"import")},{id:"git-rebase",name:"Git Rebase Message",import:a((()=>ge(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28]))),"import")},{id:"gleam",name:"Gleam",import:a((()=>ge(()=>import("./gleam-BspZqrRM.js"),[])),"import")},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:a((()=>ge(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1]))),"import")},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:a((()=>ge(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1]))),"import")},{id:"glsl",name:"GLSL",import:a((()=>ge(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26]))),"import")},{id:"gnuplot",name:"Gnuplot",import:a((()=>ge(()=>import("./gnuplot-DdkO51Og.js"),[])),"import")},{id:"go",name:"Go",import:a((()=>ge(()=>import("./go-Dn2_MT6a.js"),[])),"import")},{id:"graphql",name:"GraphQL",aliases:["gql"],import:a((()=>ge(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13]))),"import")},{id:"groovy",name:"Groovy",import:a((()=>ge(()=>import("./groovy-gcz8RCvz.js"),[])),"import")},{id:"hack",name:"Hack",import:a((()=>ge(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16]))),"import")},{id:"haml",name:"Ruby Haml",import:a((()=>ge(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3]))),"import")},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:a((()=>ge(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38]))),"import")},{id:"haskell",name:"Haskell",aliases:["hs"],import:a((()=>ge(()=>import("./haskell-Df6bDoY_.js"),[])),"import")},{id:"haxe",name:"Haxe",import:a((()=>ge(()=>import("./haxe-CzTSHFRz.js"),[])),"import")},{id:"hcl",name:"HashiCorp HCL",import:a((()=>ge(()=>import("./hcl-BWvSN4gD.js"),[])),"import")},{id:"hjson",name:"Hjson",import:a((()=>ge(()=>import("./hjson-D5-asLiD.js"),[])),"import")},{id:"hlsl",name:"HLSL",import:a((()=>ge(()=>import("./hlsl-D3lLCCz7.js"),[])),"import")},{id:"html",name:"HTML",import:a((()=>ge(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3]))),"import")},{id:"html-derivative",name:"HTML (Derivative)",import:a((()=>ge(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3]))),"import")},{id:"http",name:"HTTP",import:a((()=>ge(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13]))),"import")},{id:"hurl",name:"Hurl",import:a((()=>ge(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56]))),"import")},{id:"hxml",name:"HXML",import:a((()=>ge(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58]))),"import")},{id:"hy",name:"Hy",import:a((()=>ge(()=>import("./hy-DFXneXwc.js"),[])),"import")},{id:"imba",name:"Imba",import:a((()=>ge(()=>import("./imba-DGztddWO.js"),[])),"import")},{id:"ini",name:"INI",aliases:["properties"],import:a((()=>ge(()=>import("./ini-BEwlwnbL.js"),[])),"import")},{id:"java",name:"Java",import:a((()=>ge(()=>import("./java-CylS5w8V.js"),[])),"import")},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:a((()=>ge(()=>import("./javascript-wDzz0qaB.js"),[])),"import")},{id:"jinja",name:"Jinja",import:a((()=>ge(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3]))),"import")},{id:"jison",name:"Jison",import:a((()=>ge(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2]))),"import")},{id:"json",name:"JSON",import:a((()=>ge(()=>import("./json-Cp-IABpG.js"),[])),"import")},{id:"json5",name:"JSON5",import:a((()=>ge(()=>import("./json5-C9tS-k6U.js"),[])),"import")},{id:"jsonc",name:"JSON with Comments",import:a((()=>ge(()=>import("./jsonc-Des-eS-w.js"),[])),"import")},{id:"jsonl",name:"JSON Lines",import:a((()=>ge(()=>import("./jsonl-DcaNXYhu.js"),[])),"import")},{id:"jsonnet",name:"Jsonnet",import:a((()=>ge(()=>import("./jsonnet-DFQXde-d.js"),[])),"import")},{id:"jssm",name:"JSSM",aliases:["fsl"],import:a((()=>ge(()=>import("./jssm-C2t-YnRu.js"),[])),"import")},{id:"jsx",name:"JSX",import:a((()=>ge(()=>import("./jsx-g9-lgVsj.js"),[])),"import")},{id:"julia",name:"Julia",aliases:["jl"],import:a((()=>ge(()=>import("./julia-C8NyazO9.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62]))),"import")},{id:"kdl",name:"KDL",import:a((()=>ge(()=>import("./kdl-DV7GczEv.js"),[])),"import")},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:a((()=>ge(()=>import("./kotlin-BdnUsdx6.js"),[])),"import")},{id:"kusto",name:"Kusto",aliases:["kql"],import:a((()=>ge(()=>import("./kusto-BvAqAH-y.js"),[])),"import")},{id:"latex",name:"LaTeX",import:a((()=>ge(()=>import("./latex-BUKiar2Z.js"),__vite__mapDeps([63,64,62]))),"import")},{id:"lean",name:"Lean 4",aliases:["lean4"],import:a((()=>ge(()=>import("./lean-DP1Csr6i.js"),[])),"import")},{id:"less",name:"Less",import:a((()=>ge(()=>import("./less-B1dDrJ26.js"),[])),"import")},{id:"liquid",name:"Liquid",import:a((()=>ge(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9]))),"import")},{id:"llvm",name:"LLVM IR",import:a((()=>ge(()=>import("./llvm-BtvRca6l.js"),[])),"import")},{id:"log",name:"Log file",import:a((()=>ge(()=>import("./log-2UxHyX5q.js"),[])),"import")},{id:"logo",name:"Logo",import:a((()=>ge(()=>import("./logo-BtOb2qkB.js"),[])),"import")},{id:"lua",name:"Lua",import:a((()=>ge(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26]))),"import")},{id:"luau",name:"Luau",import:a((()=>ge(()=>import("./luau-CXu1NL6O.js"),[])),"import")},{id:"make",name:"Makefile",aliases:["makefile"],import:a((()=>ge(()=>import("./make-CHLpvVh8.js"),[])),"import")},{id:"markdown",name:"Markdown",aliases:["md"],import:a((()=>ge(()=>import("./markdown-Cvjx9yec.js"),[])),"import")},{id:"marko",name:"Marko",import:a((()=>ge(()=>import("./marko-CPi9NSCl.js"),__vite__mapDeps([66,3,67,5,11]))),"import")},{id:"matlab",name:"MATLAB",import:a((()=>ge(()=>import("./matlab-D7o27uSR.js"),[])),"import")},{id:"mdc",name:"MDC",import:a((()=>ge(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3]))),"import")},{id:"mdx",name:"MDX",import:a((()=>ge(()=>import("./mdx-Cmh6b_Ma.js"),[])),"import")},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:a((()=>ge(()=>import("./mermaid-DKYwYmdq.js"),[])),"import")},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:a((()=>ge(()=>import("./mipsasm-CKIfxQSi.js"),[])),"import")},{id:"mojo",name:"Mojo",import:a((()=>ge(()=>import("./mojo-1DNp92w6.js"),[])),"import")},{id:"move",name:"Move",import:a((()=>ge(()=>import("./move-Bu9oaDYs.js"),[])),"import")},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:a((()=>ge(()=>import("./narrat-DRg8JJMk.js"),[])),"import")},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:a((()=>ge(()=>import("./nextflow-CUEJCptM.js"),[])),"import")},{id:"nginx",name:"Nginx",import:a((()=>ge(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([69,37,26]))),"import")},{id:"nim",name:"Nim",import:a((()=>ge(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40]))),"import")},{id:"nix",name:"Nix",import:a((()=>ge(()=>import("./nix-BbRYJGeE.js"),[])),"import")},{id:"nushell",name:"nushell",aliases:["nu"],import:a((()=>ge(()=>import("./nushell-C-sUppwS.js"),[])),"import")},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:a((()=>ge(()=>import("./objective-c-DXmwc3jG.js"),[])),"import")},{id:"objective-cpp",name:"Objective-C++",import:a((()=>ge(()=>import("./objective-cpp-CLxacb5B.js"),[])),"import")},{id:"ocaml",name:"OCaml",import:a((()=>ge(()=>import("./ocaml-C0hk2d4L.js"),[])),"import")},{id:"pascal",name:"Pascal",import:a((()=>ge(()=>import("./pascal-D93ZcfNL.js"),[])),"import")},{id:"perl",name:"Perl",import:a((()=>ge(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16]))),"import")},{id:"php",name:"PHP",import:a((()=>ge(()=>import("./php-CDn_0X-4.js"),__vite__mapDeps([72,1,2,3,7,8,16,9]))),"import")},{id:"pkl",name:"Pkl",import:a((()=>ge(()=>import("./pkl-u5AG7uiY.js"),[])),"import")},{id:"plsql",name:"PL/SQL",import:a((()=>ge(()=>import("./plsql-ChMvpjG-.js"),[])),"import")},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:a((()=>ge(()=>import("./po-BTJTHyun.js"),[])),"import")},{id:"polar",name:"Polar",import:a((()=>ge(()=>import("./polar-C0HS_06l.js"),[])),"import")},{id:"postcss",name:"PostCSS",import:a((()=>ge(()=>import("./postcss-CXtECtnM.js"),[])),"import")},{id:"powerquery",name:"PowerQuery",import:a((()=>ge(()=>import("./powerquery-CEu0bR-o.js"),[])),"import")},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:a((()=>ge(()=>import("./powershell-Dpen1YoG.js"),[])),"import")},{id:"prisma",name:"Prisma",import:a((()=>ge(()=>import("./prisma-Dd19v3D-.js"),[])),"import")},{id:"prolog",name:"Prolog",import:a((()=>ge(()=>import("./prolog-CbFg5uaA.js"),[])),"import")},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:a((()=>ge(()=>import("./proto-DyJlTyXw.js"),[])),"import")},{id:"pug",name:"Pug",aliases:["jade"],import:a((()=>ge(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1]))),"import")},{id:"puppet",name:"Puppet",import:a((()=>ge(()=>import("./puppet-BMWR74SV.js"),[])),"import")},{id:"purescript",name:"PureScript",import:a((()=>ge(()=>import("./purescript-CklMAg4u.js"),[])),"import")},{id:"python",name:"Python",aliases:["py"],import:a((()=>ge(()=>import("./python-B6aJPvgy.js"),[])),"import")},{id:"qml",name:"QML",import:a((()=>ge(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2]))),"import")},{id:"qmldir",name:"QML Directory",import:a((()=>ge(()=>import("./qmldir-C8lEn-DE.js"),[])),"import")},{id:"qss",name:"Qt Style Sheets",import:a((()=>ge(()=>import("./qss-IeuSbFQv.js"),[])),"import")},{id:"r",name:"R",import:a((()=>ge(()=>import("./r-DiinP2Uv.js"),[])),"import")},{id:"racket",name:"Racket",import:a((()=>ge(()=>import("./racket-BqYA7rlc.js"),[])),"import")},{id:"raku",name:"Raku",aliases:["perl6"],import:a((()=>ge(()=>import("./raku-DXvB9xmW.js"),[])),"import")},{id:"razor",name:"ASP.NET Razor",import:a((()=>ge(()=>import("./razor-WgofotgN.js"),__vite__mapDeps([75,1,2,3,76]))),"import")},{id:"reg",name:"Windows Registry Script",import:a((()=>ge(()=>import("./reg-C-SQnVFl.js"),[])),"import")},{id:"regexp",name:"RegExp",aliases:["regex"],import:a((()=>ge(()=>import("./regexp-CDVJQ6XC.js"),[])),"import")},{id:"rel",name:"Rel",import:a((()=>ge(()=>import("./rel-C3B-1QV4.js"),[])),"import")},{id:"riscv",name:"RISC-V",import:a((()=>ge(()=>import("./riscv-BM1_JUlF.js"),[])),"import")},{id:"rosmsg",name:"ROS Interface",import:a((()=>ge(()=>import("./rosmsg-BJDFO7_C.js"),[])),"import")},{id:"rst",name:"reStructuredText",import:a((()=>ge(()=>import("./rst-B0xPkSld.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37]))),"import")},{id:"ruby",name:"Ruby",aliases:["rb"],import:a((()=>ge(()=>import("./ruby-BvKwtOVI.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]))),"import")},{id:"rust",name:"Rust",aliases:["rs"],import:a((()=>ge(()=>import("./rust-B1yitclQ.js"),[])),"import")},{id:"sas",name:"SAS",import:a((()=>ge(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16]))),"import")},{id:"sass",name:"Sass",import:a((()=>ge(()=>import("./sass-Cj5Yp3dK.js"),[])),"import")},{id:"scala",name:"Scala",import:a((()=>ge(()=>import("./scala-C151Ov-r.js"),[])),"import")},{id:"scheme",name:"Scheme",import:a((()=>ge(()=>import("./scheme-C98Dy4si.js"),[])),"import")},{id:"scss",name:"SCSS",import:a((()=>ge(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3]))),"import")},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:a((()=>ge(()=>import("./sdbl-DVxCFoDh.js"),[])),"import")},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:a((()=>ge(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81]))),"import")},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:a((()=>ge(()=>import("./shellscript-Yzrsuije.js"),[])),"import")},{id:"shellsession",name:"Shell Session",aliases:["console"],import:a((()=>ge(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28]))),"import")},{id:"smalltalk",name:"Smalltalk",import:a((()=>ge(()=>import("./smalltalk-BERRCDM3.js"),[])),"import")},{id:"solidity",name:"Solidity",import:a((()=>ge(()=>import("./solidity-BbcW6ACK.js"),[])),"import")},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:a((()=>ge(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3]))),"import")},{id:"sparql",name:"SPARQL",import:a((()=>ge(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85]))),"import")},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:a((()=>ge(()=>import("./splunk-BtCnVYZw.js"),[])),"import")},{id:"sql",name:"SQL",import:a((()=>ge(()=>import("./sql-BLtJtn59.js"),[])),"import")},{id:"ssh-config",name:"SSH Config",import:a((()=>ge(()=>import("./ssh-config-_ykCGR6B.js"),[])),"import")},{id:"stata",name:"Stata",import:a((()=>ge(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16]))),"import")},{id:"stylus",name:"Stylus",aliases:["styl"],import:a((()=>ge(()=>import("./stylus-BEDo0Tqx.js"),[])),"import")},{id:"svelte",name:"Svelte",import:a((()=>ge(()=>import("./svelte-3Dk4HxPD.js"),__vite__mapDeps([87,2,11,3,12]))),"import")},{id:"swift",name:"Swift",import:a((()=>ge(()=>import("./swift-Dg5xB15N.js"),[])),"import")},{id:"system-verilog",name:"SystemVerilog",import:a((()=>ge(()=>import("./system-verilog-CnnmHF94.js"),[])),"import")},{id:"systemd",name:"Systemd Units",import:a((()=>ge(()=>import("./systemd-4A_iFExJ.js"),[])),"import")},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:a((()=>ge(()=>import("./talonscript-CkByrt1z.js"),[])),"import")},{id:"tasl",name:"Tasl",import:a((()=>ge(()=>import("./tasl-QIJgUcNo.js"),[])),"import")},{id:"tcl",name:"Tcl",import:a((()=>ge(()=>import("./tcl-dwOrl1Do.js"),[])),"import")},{id:"templ",name:"Templ",import:a((()=>ge(()=>import("./templ-W15q3VgB.js"),__vite__mapDeps([88,89,2,3]))),"import")},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:a((()=>ge(()=>import("./terraform-BETggiCN.js"),[])),"import")},{id:"tex",name:"TeX",import:a((()=>ge(()=>import("./tex-Cppo0RY3.js"),__vite__mapDeps([64,62]))),"import")},{id:"toml",name:"TOML",import:a((()=>ge(()=>import("./toml-vGWfd6FD.js"),[])),"import")},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:a((()=>ge(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8]))),"import")},{id:"tsv",name:"TSV",import:a((()=>ge(()=>import("./tsv-B_m7g4N7.js"),[])),"import")},{id:"tsx",name:"TSX",import:a((()=>ge(()=>import("./tsx-COt5Ahok.js"),[])),"import")},{id:"turtle",name:"Turtle",import:a((()=>ge(()=>import("./turtle-BsS91CYL.js"),[])),"import")},{id:"twig",name:"Twig",import:a((()=>ge(()=>import("./twig-CO9l9SDP.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38]))),"import")},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:a((()=>ge(()=>import("./typescript-BPQ3VLAy.js"),[])),"import")},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:a((()=>ge(()=>import("./typespec-Df68jz8_.js"),[])),"import")},{id:"typst",name:"Typst",aliases:["typ"],import:a((()=>ge(()=>import("./typst-DHCkPAjA.js"),[])),"import")},{id:"v",name:"V",import:a((()=>ge(()=>import("./v-BcVCzyr7.js"),[])),"import")},{id:"vala",name:"Vala",import:a((()=>ge(()=>import("./vala-CsfeWuGM.js"),[])),"import")},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:a((()=>ge(()=>import("./vb-D17OF-Vu.js"),[])),"import")},{id:"verilog",name:"Verilog",import:a((()=>ge(()=>import("./verilog-BQ8w6xss.js"),[])),"import")},{id:"vhdl",name:"VHDL",import:a((()=>ge(()=>import("./vhdl-CeAyd5Ju.js"),[])),"import")},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:a((()=>ge(()=>import("./viml-CJc9bBzg.js"),[])),"import")},{id:"vue",name:"Vue",import:a((()=>ge(()=>import("./vue-CCoi5OLL.js"),__vite__mapDeps([92,3,2,11,9,15,1]))),"import")},{id:"vue-html",name:"Vue HTML",import:a((()=>ge(()=>import("./vue-html-DAAvJJDi.js"),__vite__mapDeps([93,92,3,2,11,9,15,1]))),"import")},{id:"vue-vine",name:"Vue Vine",import:a((()=>ge(()=>import("./vue-vine-_Ih-lPRR.js"),__vite__mapDeps([94,3,5,67,95,12,92,2,11,9,15,1]))),"import")},{id:"vyper",name:"Vyper",aliases:["vy"],import:a((()=>ge(()=>import("./vyper-CDx5xZoG.js"),[])),"import")},{id:"wasm",name:"WebAssembly",import:a((()=>ge(()=>import("./wasm-MzD3tlZU.js"),[])),"import")},{id:"wenyan",name:"Wenyan",aliases:[""],import:a((()=>ge(()=>import("./wenyan-BV7otONQ.js"),[])),"import")},{id:"wgsl",name:"WGSL",import:a((()=>ge(()=>import("./wgsl-Dx-B1_4e.js"),[])),"import")},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:a((()=>ge(()=>import("./wikitext-BhOHFoWU.js"),[])),"import")},{id:"wit",name:"WebAssembly Interface Types",import:a((()=>ge(()=>import("./wit-5i3qLPDT.js"),[])),"import")},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:a((()=>ge(()=>import("./wolfram-lXgVvXCa.js"),[])),"import")},{id:"xml",name:"XML",import:a((()=>ge(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8]))),"import")},{id:"xsl",name:"XSL",import:a((()=>ge(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([96,7,8]))),"import")},{id:"yaml",name:"YAML",aliases:["yml"],import:a((()=>ge(()=>import("./yaml-Buea-lGh.js"),[])),"import")},{id:"zenscript",name:"ZenScript",import:a((()=>ge(()=>import("./zenscript-DVFEvuxE.js"),[])),"import")},{id:"zig",name:"Zig",import:a((()=>ge(()=>import("./zig-VOosw3JB.js"),[])),"import")}],Bye=Object.fromEntries(BB.map(e=>[e.id,e.import])),zye=Object.fromEntries(BB.flatMap(e=>e.aliases?.map(t=>[t,e.import])||[])),zB={...Bye,...zye},Fye=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:a((()=>ge(()=>import("./andromeeda-C-Jbm3Hp.js"),[])),"import")},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:a((()=>ge(()=>import("./aurora-x-D-2ljcwZ.js"),[])),"import")},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:a((()=>ge(()=>import("./ayu-dark-Cv9koXgw.js"),[])),"import")},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:a((()=>ge(()=>import("./catppuccin-frappe-DFWUc33u.js"),[])),"import")},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:a((()=>ge(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[])),"import")},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:a((()=>ge(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[])),"import")},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:a((()=>ge(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[])),"import")},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:a((()=>ge(()=>import("./dark-plus-eOWES_5F.js"),[])),"import")},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:a((()=>ge(()=>import("./dracula-BzJJZx-M.js"),[])),"import")},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:a((()=>ge(()=>import("./dracula-soft-BXkSAIEj.js"),[])),"import")},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:a((()=>ge(()=>import("./everforest-dark-BgDCqdQA.js"),[])),"import")},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:a((()=>ge(()=>import("./everforest-light-C8M2exoo.js"),[])),"import")},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:a((()=>ge(()=>import("./github-dark-DHJKELXO.js"),[])),"import")},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:a((()=>ge(()=>import("./github-dark-default-Cuk6v7N8.js"),[])),"import")},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:a((()=>ge(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[])),"import")},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:a((()=>ge(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[])),"import")},{id:"github-light",displayName:"GitHub Light",type:"light",import:a((()=>ge(()=>import("./github-light-DAi9KRSo.js"),[])),"import")},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:a((()=>ge(()=>import("./github-light-default-D7oLnXFd.js"),[])),"import")},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:a((()=>ge(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[])),"import")},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:a((()=>ge(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[])),"import")},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:a((()=>ge(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[])),"import")},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:a((()=>ge(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[])),"import")},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:a((()=>ge(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[])),"import")},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:a((()=>ge(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[])),"import")},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:a((()=>ge(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[])),"import")},{id:"houston",displayName:"Houston",type:"dark",import:a((()=>ge(()=>import("./houston-DnULxvSX.js"),[])),"import")},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:a((()=>ge(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[])),"import")},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:a((()=>ge(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[])),"import")},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:a((()=>ge(()=>import("./kanagawa-wave-DWedfzmr.js"),[])),"import")},{id:"laserwave",displayName:"LaserWave",type:"dark",import:a((()=>ge(()=>import("./laserwave-DUszq2jm.js"),[])),"import")},{id:"light-plus",displayName:"Light Plus",type:"light",import:a((()=>ge(()=>import("./light-plus-B7mTdjB0.js"),[])),"import")},{id:"material-theme",displayName:"Material Theme",type:"dark",import:a((()=>ge(()=>import("./material-theme-D5KoaKCx.js"),[])),"import")},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:a((()=>ge(()=>import("./material-theme-darker-BfHTSMKl.js"),[])),"import")},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:a((()=>ge(()=>import("./material-theme-lighter-B0m2ddpp.js"),[])),"import")},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:a((()=>ge(()=>import("./material-theme-ocean-CyktbL80.js"),[])),"import")},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:a((()=>ge(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[])),"import")},{id:"min-dark",displayName:"Min Dark",type:"dark",import:a((()=>ge(()=>import("./min-dark-CafNBF8u.js"),[])),"import")},{id:"min-light",displayName:"Min Light",type:"light",import:a((()=>ge(()=>import("./min-light-CTRr51gU.js"),[])),"import")},{id:"monokai",displayName:"Monokai",type:"dark",import:a((()=>ge(()=>import("./monokai-D4h5O-jR.js"),[])),"import")},{id:"night-owl",displayName:"Night Owl",type:"dark",import:a((()=>ge(()=>import("./night-owl-C39BiMTA.js"),[])),"import")},{id:"nord",displayName:"Nord",type:"dark",import:a((()=>ge(()=>import("./nord-Ddv68eIx.js"),[])),"import")},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:a((()=>ge(()=>import("./one-dark-pro-DVMEJ2y_.js"),[])),"import")},{id:"one-light",displayName:"One Light",type:"light",import:a((()=>ge(()=>import("./one-light-PoHY5YXO.js"),[])),"import")},{id:"plastic",displayName:"Plastic",type:"dark",import:a((()=>ge(()=>import("./plastic-3e1v2bzS.js"),[])),"import")},{id:"poimandres",displayName:"Poimandres",type:"dark",import:a((()=>ge(()=>import("./poimandres-CS3Unz2-.js"),[])),"import")},{id:"red",displayName:"Red",type:"dark",import:a((()=>ge(()=>import("./red-bN70gL4F.js"),[])),"import")},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:a((()=>ge(()=>import("./rose-pine-BHrmToEH.js"),[])),"import")},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:a((()=>ge(()=>import("./rose-pine-dawn-CnK8MTSM.js"),[])),"import")},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:a((()=>ge(()=>import("./rose-pine-moon-NleAzG8P.js"),[])),"import")},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:a((()=>ge(()=>import("./slack-dark-BthQWCQV.js"),[])),"import")},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:a((()=>ge(()=>import("./slack-ochin-DqwNpetd.js"),[])),"import")},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:a((()=>ge(()=>import("./snazzy-light-Bw305WKR.js"),[])),"import")},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:a((()=>ge(()=>import("./solarized-dark-DXbdFlpD.js"),[])),"import")},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:a((()=>ge(()=>import("./solarized-light-L9t79GZl.js"),[])),"import")},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:a((()=>ge(()=>import("./synthwave-84-CbfX1IO0.js"),[])),"import")},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:a((()=>ge(()=>import("./tokyo-night-hegEt444.js"),[])),"import")},{id:"vesper",displayName:"Vesper",type:"dark",import:a((()=>ge(()=>import("./vesper-DU1UobuO.js"),[])),"import")},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:a((()=>ge(()=>import("./vitesse-black-Bkuqu6BP.js"),[])),"import")},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:a((()=>ge(()=>import("./vitesse-dark-D0r3Knsf.js"),[])),"import")},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:a((()=>ge(()=>import("./vitesse-light-CVO1_9PV.js"),[])),"import")}],Uye=Object.fromEntries(Fye.map(e=>[e.id,e.import]));class H3 extends Error{static{a(this,"ShikiError")}constructor(t){super(t),this.name="ShikiError"}}function Hye(){return 2147483648}a(Hye,"getHeapMax");function Gye(){return typeof performance<"u"?performance.now():Date.now()}a(Gye,"_emscripten_get_now");const Vye=a((e,t)=>e+(t-e%t)%t,"alignUp");async function Yye(e){let t,r;const n={};function i(m){r=m,n.HEAPU8=new Uint8Array(m),n.HEAPU32=new Uint32Array(m)}a(i,"updateGlobalBufferAndViews");function s(m,y,x){n.HEAPU8.copyWithin(m,y,y+x)}a(s,"_emscripten_memcpy_big");function o(m){try{return t.grow(m-r.byteLength+65535>>>16),i(t.buffer),1}catch{}}a(o,"emscripten_realloc_buffer");function l(m){const y=n.HEAPU8.length;m=m>>>0;const x=Hye();if(m>x)return!1;for(let A=1;A<=4;A*=2){let C=y*(1+.2/A);C=Math.min(C,m+100663296);const M=Math.min(x,Vye(Math.max(m,C),65536));if(o(M))return!0}return!1}a(l,"_emscripten_resize_heap");const u=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function c(m,y,x=1024){const A=y+x;let C=y;for(;m[C]&&!(C>=A);)++C;if(C-y>16&&m.buffer&&u)return u.decode(m.subarray(y,C));let M="";for(;y<C;){let R=m[y++];if(!(R&128)){M+=String.fromCharCode(R);continue}const P=m[y++]&63;if((R&224)===192){M+=String.fromCharCode((R&31)<<6|P);continue}const L=m[y++]&63;if((R&240)===224?R=(R&15)<<12|P<<6|L:R=(R&7)<<18|P<<12|L<<6|m[y++]&63,R<65536)M+=String.fromCharCode(R);else{const z=R-65536;M+=String.fromCharCode(55296|z>>10,56320|z&1023)}}return M}a(c,"UTF8ArrayToString");function h(m,y){return m?c(n.HEAPU8,m,y):""}a(h,"UTF8ToString");const d={emscripten_get_now:Gye,emscripten_memcpy_big:s,emscripten_resize_heap:l,fd_write:a(()=>0,"fd_write")};async function g(){const y=await e({env:d,wasi_snapshot_preview1:d});t=y.memory,i(t.buffer),Object.assign(n,y),n.UTF8ToString=h}return a(g,"createWasm"),await g(),n}a(Yye,"main$1");var Zye=Object.defineProperty,$ye=a((e,t,r)=>t in e?Zye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"__defNormalProp"),En=a((e,t,r)=>$ye(e,typeof t!="symbol"?t+"":t,r),"__publicField");let In=null;function Xye(e){throw new H3(e.UTF8ToString(e.getLastOnigError()))}a(Xye,"throwLastOnigError");class Eg{static{a(this,"UtfString")}constructor(t){En(this,"utf16Length"),En(this,"utf8Length"),En(this,"utf16Value"),En(this,"utf8Value"),En(this,"utf16OffsetToUtf8"),En(this,"utf8OffsetToUtf16");const r=t.length,n=Eg._utf8ByteLength(t),i=n!==r,s=i?new Uint32Array(r+1):null;i&&(s[r]=n);const o=i?new Uint32Array(n+1):null;i&&(o[n]=r);const l=new Uint8Array(n);let u=0;for(let c=0;c<r;c++){const h=t.charCodeAt(c);let d=h,g=!1;if(h>=55296&&h<=56319&&c+1<r){const m=t.charCodeAt(c+1);m>=56320&&m<=57343&&(d=(h-55296<<10)+65536|m-56320,g=!0)}i&&(s[c]=u,g&&(s[c+1]=u),d<=127?o[u+0]=c:d<=2047?(o[u+0]=c,o[u+1]=c):d<=65535?(o[u+0]=c,o[u+1]=c,o[u+2]=c):(o[u+0]=c,o[u+1]=c,o[u+2]=c,o[u+3]=c)),d<=127?l[u++]=d:d<=2047?(l[u++]=192|(d&1984)>>>6,l[u++]=128|(d&63)>>>0):d<=65535?(l[u++]=224|(d&61440)>>>12,l[u++]=128|(d&4032)>>>6,l[u++]=128|(d&63)>>>0):(l[u++]=240|(d&1835008)>>>18,l[u++]=128|(d&258048)>>>12,l[u++]=128|(d&4032)>>>6,l[u++]=128|(d&63)>>>0),g&&c++}this.utf16Length=r,this.utf8Length=n,this.utf16Value=t,this.utf8Value=l,this.utf16OffsetToUtf8=s,this.utf8OffsetToUtf16=o}static _utf8ByteLength(t){let r=0;for(let n=0,i=t.length;n<i;n++){const s=t.charCodeAt(n);let o=s,l=!1;if(s>=55296&&s<=56319&&n+1<i){const u=t.charCodeAt(n+1);u>=56320&&u<=57343&&(o=(s-55296<<10)+65536|u-56320,l=!0)}o<=127?r+=1:o<=2047?r+=2:o<=65535?r+=3:r+=4,l&&n++}return r}createString(t){const r=t.omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,r),r}}const Sg=class Ha{static{a(this,"_OnigString")}constructor(t){if(En(this,"id",++Ha.LAST_ID),En(this,"_onigBinding"),En(this,"content"),En(this,"utf16Length"),En(this,"utf8Length"),En(this,"utf16OffsetToUtf8"),En(this,"utf8OffsetToUtf16"),En(this,"ptr"),!In)throw new H3("Must invoke loadWasm first.");this._onigBinding=In,this.content=t;const r=new Eg(t);this.utf16Length=r.utf16Length,this.utf8Length=r.utf8Length,this.utf16OffsetToUtf8=r.utf16OffsetToUtf8,this.utf8OffsetToUtf16=r.utf8OffsetToUtf16,this.utf8Length<1e4&&!Ha._sharedPtrInUse?(Ha._sharedPtr||(Ha._sharedPtr=In.omalloc(1e4)),Ha._sharedPtrInUse=!0,In.HEAPU8.set(r.utf8Value,Ha._sharedPtr),this.ptr=Ha._sharedPtr):this.ptr=r.createString(In)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===Ha._sharedPtr?Ha._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};En(Sg,"LAST_ID",0);En(Sg,"_sharedPtr",0);En(Sg,"_sharedPtrInUse",!1);let FB=Sg;class Jye{static{a(this,"OnigScanner")}constructor(t){if(En(this,"_onigBinding"),En(this,"_ptr"),!In)throw new H3("Must invoke loadWasm first.");const r=[],n=[];for(let l=0,u=t.length;l<u;l++){const c=new Eg(t[l]);r[l]=c.createString(In),n[l]=c.utf8Length}const i=In.omalloc(4*t.length);In.HEAPU32.set(r,i/4);const s=In.omalloc(4*t.length);In.HEAPU32.set(n,s/4);const o=In.createOnigScanner(i,s,t.length);for(let l=0,u=t.length;l<u;l++)In.ofree(r[l]);In.ofree(s),In.ofree(i),o===0&&Xye(In),this._onigBinding=In,this._ptr=o}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(t,r,n){let i=0;if(typeof n=="number"&&(i=n),typeof t=="string"){t=new FB(t);const s=this._findNextMatchSync(t,r,!1,i);return t.dispose(),s}return this._findNextMatchSync(t,r,!1,i)}_findNextMatchSync(t,r,n,i){const s=this._onigBinding,o=s.findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(r),i);if(o===0)return null;const l=s.HEAPU32;let u=o/4;const c=l[u++],h=l[u++],d=[];for(let g=0;g<h;g++){const m=t.convertUtf8OffsetToUtf16(l[u++]),y=t.convertUtf8OffsetToUtf16(l[u++]);d[g]={start:m,end:y,length:y-m}}return{index:c,captureIndices:d}}}function Kye(e){return typeof e.instantiator=="function"}a(Kye,"isInstantiatorOptionsObject");function Wye(e){return typeof e.default=="function"}a(Wye,"isInstantiatorModule");function Qye(e){return typeof e.data<"u"}a(Qye,"isDataOptionsObject");function qye(e){return typeof Response<"u"&&e instanceof Response}a(qye,"isResponse");function e1e(e){return typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||typeof Buffer<"u"&&Buffer.isBuffer?.(e)||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&e instanceof Uint32Array}a(e1e,"isArrayBuffer");let qf;function t1e(e){if(qf)return qf;async function t(){In=await Yye(async r=>{let n=e;return n=await n,typeof n=="function"&&(n=await n(r)),typeof n=="function"&&(n=await n(r)),Kye(n)?n=await n.instantiator(r):Wye(n)?n=await n.default(r):(Qye(n)&&(n=n.data),qye(n)?typeof WebAssembly.instantiateStreaming=="function"?n=await r1e(n)(r):n=await n1e(n)(r):e1e(n)?n=await by(n)(r):n instanceof WebAssembly.Module?n=await by(n)(r):"default"in n&&n.default instanceof WebAssembly.Module&&(n=await by(n.default)(r))),"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}return a(t,"_load"),qf=t(),qf}a(t1e,"loadWasm");function by(e){return t=>WebAssembly.instantiate(e,t)}a(by,"_makeArrayBufferLoader");function r1e(e){return t=>WebAssembly.instantiateStreaming(e,t)}a(r1e,"_makeResponseStreamingLoader");function n1e(e){return async t=>{const r=await e.arrayBuffer();return WebAssembly.instantiate(r,t)}}a(n1e,"_makeResponseNonStreamingLoader");async function i1e(e){return e&&await t1e(e),{createScanner(t){return new Jye(t.map(r=>typeof r=="string"?r:r.source))},createString(t){return new FB(t)}}}a(i1e,"createOnigurumaEngine");const G9=jye({langs:zB,themes:Uye,engine:a(()=>i1e(ge(()=>import("./wasm-Bkfe0Ngf.js"),[])),"engine")});function pc(e){if([...e].length!==1)throw new Error(`Expected "${e}" to be a single code point`);return e.codePointAt(0)}a(pc,"r$2");function a1e(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}a(a1e,"l$1");const G3=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),Pn=String.raw;function mc(e,t){if(e==null)throw new Error(t??"Value expected");return e}a(mc,"u$1");const UB=Pn`\[\^?`,HB=`c.? | C(?:-.?)?|${Pn`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${Pn`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${Pn`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${Pn`o\{[^\}]*\}?`}|${Pn`\d{1,3}`}`,V3=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,e0=new RegExp(Pn`
  \\ (?:
    ${HB}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${V3.source})+
  | ${UB}
  | .
`.replace(/\s+/g,""),"gsu"),yy=new RegExp(Pn`
  \\ (?:
    ${HB}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${UB}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function s1e(e,t={}){const r={flags:"",...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if(typeof e!="string")throw new Error("String expected as pattern");const n=k1e(r.flags),i=[n.extended],s={captureGroup:r.rules.captureGroup,getCurrentModX(){return i.at(-1)},numOpenGroups:0,popModX(){i.pop()},pushModX(d){i.push(d)},replaceCurrentModX(d){i[i.length-1]=d},singleline:r.rules.singleline};let o=[],l;for(e0.lastIndex=0;l=e0.exec(e);){const d=o1e(s,e,l[0],e0.lastIndex);d.tokens?o.push(...d.tokens):d.token&&o.push(d.token),d.lastIndex!==void 0&&(e0.lastIndex=d.lastIndex)}const u=[];let c=0;o.filter(d=>d.type==="GroupOpen").forEach(d=>{d.kind==="capturing"?d.number=++c:d.raw==="("&&u.push(d)}),c||u.forEach((d,g)=>{d.kind="capturing",d.number=g+1});const h=c||u.length;return{tokens:o.map(d=>d.type==="EscapedNumber"?T1e(d,h):d).flat(),flags:n}}a(s1e,"M$2");function o1e(e,t,r,n){const[i,s]=r;if(r==="["||r==="[^"){const o=l1e(t,r,n);return{tokens:o.tokens,lastIndex:o.lastIndex}}if(i==="\\"){if("AbBGyYzZ".includes(s))return{token:V9(r,r)};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:b1e(r)}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:VB(r)}}if(s==="K")return{token:YB("keep",r)};if(s==="N"||s==="R")return{token:fl("newline",r,{negate:s==="N"})};if(s==="O")return{token:fl("any",r)};if(s==="X")return{token:fl("text_segment",r)};const o=GB(r,{inCharClass:!1});return Array.isArray(o)?{tokens:o}:{token:o}}if(i==="("){if(s==="*")return{token:x1e(r)};if(r==="(?{")throw new Error(`Unsupported callout "${r}"`);if(r.startsWith("(?#")){if(t[n]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:n+1}}if(/^\(\?[-imx]+[:)]$/.test(r))return{token:_1e(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,r==="("&&!e.captureGroup||r==="(?:")return{token:vu("group",r)};if(r==="(?>")return{token:vu("atomic",r)};if(r==="(?="||r==="(?!"||r==="(?<="||r==="(?<!")return{token:vu(r[2]==="<"?"lookbehind":"lookahead",r,{negate:r.endsWith("!")})};if(r==="("&&e.captureGroup||r.startsWith("(?<")&&r.endsWith(">")||r.startsWith("(?'")&&r.endsWith("'"))return{token:vu("capturing",r,{...r!=="("&&{name:r.slice(3,-1)}})};if(r.startsWith("(?~")){if(r==="(?~|")throw new Error(`Unsupported absence function kind "${r}"`);return{token:vu("absence_repeater",r)}}throw r==="(?("?new Error(`Unsupported conditional "${r}"`):new Error(`Invalid or unsupported group option "${r}"`)}if(r===")"){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:m1e(r)}}if(e.getCurrentModX()){if(r==="#"){const o=t.indexOf(`
`,n);return{lastIndex:o===-1?t.length:o}}if(/^\s$/.test(r)){const o=/\s+/y;return o.lastIndex=n,{lastIndex:o.exec(t)?o.lastIndex:n}}}if(r===".")return{token:fl("dot",r)};if(r==="^"||r==="$"){const o=e.singleline?{"^":Pn`\A`,$:Pn`\Z`}[r]:r;return{token:V9(o,r)}}return r==="|"?{token:c1e(r)}:V3.test(r)?{tokens:N1e(r)}:{token:Vs(pc(r),r)}}a(o1e,"F$2");function l1e(e,t,r){const n=[Y9(t[1]==="^",t)];let i=1,s;for(yy.lastIndex=r;s=yy.exec(e);){const o=s[0];if(o[0]==="["&&o[1]!==":")i++,n.push(Y9(o[1]==="^",o));else if(o==="]"){if(n.at(-1).type==="CharacterClassOpen")n.push(Vs(93,o));else if(i--,n.push(d1e(o)),!i)break}else{const l=u1e(o);Array.isArray(l)?n.push(...l):n.push(l)}}return{tokens:n,lastIndex:yy.lastIndex||e.length}}a(l1e,"K$2");function u1e(e){if(e[0]==="\\")return GB(e,{inCharClass:!0});if(e[0]==="["){const t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!G3.has(t.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return fl("posix",e,{value:t.groups.name,negate:!!t.groups.negate})}return e==="-"?h1e(e):e==="&&"?f1e(e):Vs(pc(e),e)}a(u1e,"X$2");function GB(e,{inCharClass:t}){const r=e[1];if(r==="c"||r==="C")return w1e(e);if("dDhHsSwW".includes(r))return E1e(e);if(e.startsWith(Pn`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(e.length===3)throw new Error(`Incomplete or invalid Unicode property "${e}"`);return S1e(e)}if(/^\\x[89A-Fa-f]\p{AHex}/u.test(e))try{const n=e.split(/\\x/).slice(1).map(o=>parseInt(o,16)),i=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(n)),s=new TextEncoder;return[...i].map(o=>{const l=[...s.encode(o)].map(u=>`\\x${u.toString(16)}`).join("");return Vs(pc(o),l)})}catch{throw new Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if(r==="u"||r==="x")return Vs(A1e(e),e);if(Z9.has(r))return Vs(Z9.get(r),e);if(/\d/.test(r))return p1e(t,e);if(e==="\\")throw new Error(Pn`Incomplete escape "\"`);if(r==="M")throw new Error(`Unsupported meta "${e}"`);if([...e].length===2)return Vs(e.codePointAt(1),e);throw new Error(`Unexpected escape "${e}"`)}a(GB,"x$2");function c1e(e){return{type:"Alternator",raw:e}}a(c1e,"P$2");function V9(e,t){return{type:"Assertion",kind:e,raw:t}}a(V9,"w$2");function VB(e){return{type:"Backreference",raw:e}}a(VB,"A$2");function Vs(e,t){return{type:"Character",value:e,raw:t}}a(Vs,"d$1");function d1e(e){return{type:"CharacterClassClose",raw:e}}a(d1e,"z$2");function h1e(e){return{type:"CharacterClassHyphen",raw:e}}a(h1e,"U$2");function f1e(e){return{type:"CharacterClassIntersector",raw:e}}a(f1e,"H");function Y9(e,t){return{type:"CharacterClassOpen",negate:e,raw:t}}a(Y9,"E$2");function fl(e,t,r={}){return{type:"CharacterSet",kind:e,...r,raw:t}}a(fl,"k$2");function YB(e,t,r={}){return e==="keep"?{type:"Directive",kind:e,raw:t}:{type:"Directive",kind:e,flags:mc(r.flags),raw:t}}a(YB,"I$2");function p1e(e,t){return{type:"EscapedNumber",inCharClass:e,raw:t}}a(p1e,"W$2");function m1e(e){return{type:"GroupClose",raw:e}}a(m1e,"Q$3");function vu(e,t,r={}){return{type:"GroupOpen",kind:e,...r,raw:t}}a(vu,"f$1");function g1e(e,t,r,n){return{type:"NamedCallout",kind:e,tag:t,arguments:r,raw:n}}a(g1e,"D$2");function v1e(e,t,r,n){return{type:"Quantifier",kind:e,min:t,max:r,raw:n}}a(v1e,"_$3");function b1e(e){return{type:"Subroutine",raw:e}}a(b1e,"R$1");const y1e=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),Z9=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function w1e(e){const t=e[1]==="c"?e[2]:e[3];if(!t||!/[A-Za-z]/.test(t))throw new Error(`Unsupported control character "${e}"`);return Vs(pc(t.toUpperCase())-64,e)}a(w1e,"Z$1");function _1e(e,t){let{on:r,off:n}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;n??="";const i=(t.getCurrentModX()||r.includes("x"))&&!n.includes("x"),s=X9(r),o=X9(n),l={};if(s&&(l.enable=s),o&&(l.disable=o),e.endsWith(")"))return t.replaceCurrentModX(i),YB("flags",e,{flags:l});if(e.endsWith(":"))return t.pushModX(i),t.numOpenGroups++,vu("group",e,{...(s||o)&&{flags:l}});throw new Error(`Unexpected flag modifier "${e}"`)}a(_1e,"L$2");function x1e(e){const t=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(e);if(!t)throw new Error(`Incomplete or invalid named callout "${e}"`);const{name:r,tag:n,args:i}=t.groups;if(!r)throw new Error(`Invalid named callout "${e}"`);if(n==="")throw new Error(`Named callout tag with empty value not allowed "${e}"`);const s=i?i.split(",").filter(h=>h!=="").map(h=>/^[+-]?\d+$/.test(h)?+h:h):[],[o,l,u]=s,c=y1e.has(r)?r.toLowerCase():"custom";switch(c){case"fail":case"mismatch":case"skip":if(s.length>0)throw new Error(`Named callout arguments not allowed "${s}"`);break;case"error":if(s.length>1)throw new Error(`Named callout allows only one argument "${s}"`);if(typeof o=="string")throw new Error(`Named callout argument must be a number "${o}"`);break;case"max":if(!s.length||s.length>2)throw new Error(`Named callout must have one or two arguments "${s}"`);if(typeof o=="string"&&!/^[A-Za-z_]\w*$/.test(o))throw new Error(`Named callout argument one must be a tag or number "${o}"`);if(s.length===2&&(typeof l=="number"||!/^[<>X]$/.test(l)))throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${l}"`);break;case"count":case"total_count":if(s.length>1)throw new Error(`Named callout allows only one argument "${s}"`);if(s.length===1&&(typeof o=="number"||!/^[<>X]$/.test(o)))throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${o}"`);break;case"cmp":if(s.length!==3)throw new Error(`Named callout must have three arguments "${s}"`);if(typeof o=="string"&&!/^[A-Za-z_]\w*$/.test(o))throw new Error(`Named callout argument one must be a tag or number "${o}"`);if(typeof l=="number"||!/^(?:[<>!=]=|[<>])$/.test(l))throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${l}"`);if(typeof u=="string"&&!/^[A-Za-z_]\w*$/.test(u))throw new Error(`Named callout argument three must be a tag or number "${u}"`);break;case"custom":throw new Error(`Undefined callout name "${r}"`);default:throw new Error(`Unexpected named callout kind "${c}"`)}return g1e(c,n??null,i?.split(",")??null,e)}a(x1e,"j$1");function $9(e){let t=null,r,n;if(e[0]==="{"){const{minStr:i,maxStr:s}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(e).groups,o=1e5;if(+i>o||s&&+s>o)throw new Error("Quantifier value unsupported in Oniguruma");if(r=+i,n=s===void 0?+i:s===""?1/0:+s,r>n&&(t="possessive",[r,n]=[n,r]),e.endsWith("?")){if(t==="possessive")throw new Error('Unsupported possessive interval quantifier chain with "?"');t="lazy"}else t||(t="greedy")}else r=e[0]==="+"?1:0,n=e[0]==="?"?1:1/0,t=e[1]==="+"?"possessive":e[1]==="?"?"lazy":"greedy";return v1e(t,r,n,e)}a($9,"O$1");function E1e(e){const t=e[1].toLowerCase();return fl({d:"digit",h:"hex",s:"space",w:"word"}[t],e,{negate:e[1]!==t})}a(E1e,"q$1");function S1e(e){const{p:t,neg:r,value:n}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups;return fl("property",e,{value:n,negate:t==="P"&&!r||t==="p"&&!!r})}a(S1e,"V$2");function X9(e){const t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}a(X9,"v$2");function k1e(e){const t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let r=0;r<e.length;r++){const n=e[r];if(!"imxDPSWy".includes(n))throw new Error(`Invalid flag "${n}"`);if(n==="y"){if(!/^y{[gw]}/.test(e.slice(r)))throw new Error('Invalid or unspecified flag "y" mode');t.textSegmentMode=e[r+2]==="g"?"grapheme":"word",r+=3;continue}t[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[n]]=!0}return t}a(k1e,"Y");function A1e(e){if(/^(?:\\u(?!\p{AHex}{4})|\\x(?!\p{AHex}{1,2}|\{\p{AHex}{1,8}\}))/u.test(e))throw new Error(`Incomplete or invalid escape "${e}"`);const t=e[2]==="{"?/^\\x\{\s*(?<hex>\p{AHex}+)/u.exec(e).groups.hex:e.slice(2);return parseInt(t,16)}a(A1e,"J$2");function T1e(e,t){const{raw:r,inCharClass:n}=e,i=r.slice(1);if(!n&&(i!=="0"&&i.length===1||i[0]!=="0"&&+i<=t))return[VB(r)];const s=[],o=i.match(/^[0-7]+|\d/g);for(let l=0;l<o.length;l++){const u=o[l];let c;if(l===0&&u!=="8"&&u!=="9"){if(c=parseInt(u,8),c>127)throw new Error(Pn`Octal encoded byte above 177 unsupported "${r}"`)}else c=pc(u);s.push(Vs(c,(l===0?"\\":"")+u))}return s}a(T1e,"ee$2");function N1e(e){const t=[],r=new RegExp(V3,"gy");let n;for(;n=r.exec(e);){const i=n[0];if(i[0]==="{"){const s=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(i);if(s){const{min:o,max:l}=s.groups;if(+o>+l&&i.endsWith("?")){r.lastIndex--,t.push($9(i.slice(0,-1)));continue}}}t.push($9(i))}return t}a(N1e,"te$1");function ZB(e,t){if(!Array.isArray(e.body))throw new Error("Expected node with body array");if(e.body.length!==1)return!1;const r=e.body[0];return!t||Object.keys(t).every(n=>t[n]===r[n])}a(ZB,"o");function C1e(e){return I1e.has(e.type)}a(C1e,"s");const I1e=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function $B(e,t={}){const r={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}},n=s1e(e,{flags:r.flags,rules:{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline}}),i=a((g,m)=>{const y=n.tokens[s.nextIndex];switch(s.parent=g,s.nextIndex++,y.type){case"Alternator":return zl();case"Assertion":return M1e(y);case"Backreference":return O1e(y,s);case"Character":return kg(y.value,{useLastValid:!!m.isCheckingRangeEnd});case"CharacterClassHyphen":return R1e(y,s,m);case"CharacterClassOpen":return P1e(y,s,m);case"CharacterSet":return L1e(y,s);case"Directive":return U1e(y.kind,{flags:y.flags});case"GroupOpen":return D1e(y,s,m);case"NamedCallout":return G1e(y.kind,y.tag,y.arguments);case"Quantifier":return j1e(y,s);case"Subroutine":return B1e(y,s);default:throw new Error(`Unexpected token type "${y.type}"`)}},"s"),s={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:r.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:r.skipBackrefValidation,skipLookbehindValidation:r.skipLookbehindValidation,skipPropertyNameValidation:r.skipPropertyNameValidation,subroutines:[],tokens:n.tokens,unicodePropertyMap:r.unicodePropertyMap,walk:i},o=Y1e(H1e(n.flags));let l=o.body[0];for(;s.nextIndex<n.tokens.length;){const g=i(l,{});g.type==="Alternative"?(o.body.push(g),l=g):l.body.push(g)}const{capturingGroups:u,hasNumberedRef:c,namedGroupsByName:h,subroutines:d}=s;if(c&&h.size&&!r.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:g}of d)if(typeof g=="number"){if(g>u.length)throw new Error("Subroutine uses a group number that's not defined");g&&(u[g-1].isSubroutined=!0)}else if(h.has(g)){if(h.get(g).length>1)throw new Error(Pn`Subroutine uses a duplicate group name "\g<${g}>"`);h.get(g)[0].isSubroutined=!0}else throw new Error(Pn`Subroutine uses a group name that's not defined "\g<${g}>"`);return o}a($B,"J$1");function M1e({kind:e}){return x2(mc({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"text_segment_boundary","\\Y":"text_segment_boundary","\\z":"string_end","\\Z":"string_end_newline"}[e],`Unexpected assertion kind "${e}"`),{negate:e===Pn`\B`||e===Pn`\Y`})}a(M1e,"W$1");function O1e({raw:e},t){const r=/^\\k[<']/.test(e),n=r?e.slice(3,-1):e.slice(1),i=a((s,o=!1)=>{const l=t.capturingGroups.length;let u=!1;if(s>l)if(t.skipBackrefValidation)u=!0;else throw new Error(`Not enough capturing groups defined to the left "${e}"`);return t.hasNumberedRef=!0,E2(o?l+1-s:s,{orphan:u})},"s");if(r){const s=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(n);if(s)return i(+s.groups.num,!!s.groups.sign);if(/[-+]/.test(n))throw new Error(`Invalid backref name "${e}"`);if(!t.namedGroupsByName.has(n))throw new Error(`Group name not defined to the left "${e}"`);return E2(n)}return i(+n)}a(O1e,"X$1");function R1e(e,t,r){const{tokens:n,walk:i}=t,s=t.parent,o=s.body.at(-1),l=n[t.nextIndex];if(!r.isCheckingRangeEnd&&o&&o.type!=="CharacterClass"&&o.type!=="CharacterClassRange"&&l&&l.type!=="CharacterClassOpen"&&l.type!=="CharacterClassClose"&&l.type!=="CharacterClassIntersector"){const u=i(s,{...r,isCheckingRangeEnd:!0});if(o.type==="Character"&&u.type==="Character")return s.body.pop(),F1e(o,u);throw new Error("Invalid character class range")}return kg(pc("-"))}a(R1e,"ee$1");function P1e({negate:e},t,r){const{tokens:n,walk:i}=t,s=n[t.nextIndex],o=[M0()];let l=W9(s);for(;l.type!=="CharacterClassClose";){if(l.type==="CharacterClassIntersector")o.push(M0()),t.nextIndex++;else{const c=o.at(-1);c.body.push(i(c,r))}l=W9(n[t.nextIndex],s)}const u=M0({negate:e});return o.length===1?u.body=o[0].body:(u.kind="intersection",u.body=o.map(c=>c.body.length===1?c.body[0]:c)),t.nextIndex++,u}a(P1e,"re$2");function L1e({kind:e,negate:t,value:r},n){const{normalizeUnknownPropertyNames:i,skipPropertyNameValidation:s,unicodePropertyMap:o}=n;if(e==="property"){const l=Ag(r);if(G3.has(l)&&!o?.has(l))e="posix",r=l;else return bu(r,{negate:t,normalizeUnknownPropertyNames:i,skipPropertyNameValidation:s,unicodePropertyMap:o})}return e==="posix"?V1e(r,{negate:t}):S2(e,{negate:t})}a(L1e,"ne$1");function D1e(e,t,r){const{tokens:n,capturingGroups:i,namedGroupsByName:s,skipLookbehindValidation:o,walk:l}=t,u=Z1e(e),c=u.type==="AbsenceFunction",h=K9(u),d=h&&u.negate;if(u.type==="CapturingGroup"&&(i.push(u),u.name&&a1e(s,u.name,[]).push(u)),c&&r.isInAbsenceFunction)throw new Error("Nested absence function not supported by Oniguruma");let g=Q9(n[t.nextIndex]);for(;g.type!=="GroupClose";){if(g.type==="Alternator")u.body.push(zl()),t.nextIndex++;else{const m=u.body.at(-1),y=l(m,{...r,isInAbsenceFunction:r.isInAbsenceFunction||c,isInLookbehind:r.isInLookbehind||h,isInNegLookbehind:r.isInNegLookbehind||d});if(m.body.push(y),(h||r.isInLookbehind)&&!o){const x="Lookbehind includes a pattern not allowed by Oniguruma";if(d||r.isInNegLookbehind){if(J9(y)||y.type==="CapturingGroup")throw new Error(x)}else if(J9(y)||K9(y)&&y.negate)throw new Error(x)}}g=Q9(n[t.nextIndex])}return t.nextIndex++,u}a(D1e,"te");function j1e({kind:e,min:t,max:r},n){const i=n.parent,s=i.body.at(-1);if(!s||!C1e(s))throw new Error("Quantifier requires a repeatable token");const o=JB(e,t,r,s);return i.body.pop(),o}a(j1e,"oe$2");function B1e({raw:e},t){const{capturingGroups:r,subroutines:n}=t;let i=e.slice(3,-1);const s=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(i);if(s){const l=+s.groups.num,u=r.length;if(t.hasNumberedRef=!0,i={"":l,"+":u+l,"-":u+1-l}[s.groups.sign],i<1)throw new Error("Invalid subroutine number")}else i==="0"&&(i=0);const o=KB(i);return n.push(o),o}a(B1e,"ae$1");function z1e(e,t){return{type:"AbsenceFunction",kind:e,body:tf(t?.body)}}a(z1e,"G$2");function zl(e){return{type:"Alternative",body:WB(e?.body)}}a(zl,"b$1");function x2(e,t){const r={type:"Assertion",kind:e};return(e==="word_boundary"||e==="text_segment_boundary")&&(r.negate=!!t?.negate),r}a(x2,"F$1");function E2(e,t){const r=!!t?.orphan;return{type:"Backreference",ref:e,...r&&{orphan:r}}}a(E2,"k$1");function XB(e,t){const r={name:void 0,isSubroutined:!1,...t};if(r.name!==void 0&&!$1e(r.name))throw new Error(`Group name "${r.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:e,...r.name&&{name:r.name},...r.isSubroutined&&{isSubroutined:r.isSubroutined},body:tf(t?.body)}}a(XB,"P$1");function kg(e,t){const r={useLastValid:!1,...t};if(e>1114111){const n=e.toString(16);if(r.useLastValid)e=1114111;else throw e>1310719?new Error(`Invalid code point out of range "\\x{${n}}"`):new Error(`Invalid code point out of range in JS "\\x{${n}}"`)}return{type:"Character",value:e}}a(kg,"m$1");function M0(e){const t={kind:"union",negate:!1,...e};return{type:"CharacterClass",kind:t.kind,negate:t.negate,body:WB(e?.body)}}a(M0,"C$1");function F1e(e,t){if(t.value<e.value)throw new Error("Character class range out of order");return{type:"CharacterClassRange",min:e,max:t}}a(F1e,"L$1");function S2(e,t){const r=!!t?.negate,n={type:"CharacterSet",kind:e};return(e==="digit"||e==="hex"||e==="newline"||e==="space"||e==="word")&&(n.negate=r),(e==="text_segment"||e==="newline"&&!r)&&(n.variableLength=!0),n}a(S2,"E$1");function U1e(e,t={}){if(e==="keep")return{type:"Directive",kind:e};if(e==="flags")return{type:"Directive",kind:e,flags:mc(t.flags)};throw new Error(`Unexpected directive kind "${e}"`)}a(U1e,"I$1");function H1e(e){return{type:"Flags",...e}}a(H1e,"T$1");function _a(e){const t=e?.atomic,r=e?.flags;if(t&&r)throw new Error("Atomic group cannot have flags");return{type:"Group",...t&&{atomic:t},...r&&{flags:r},body:tf(e?.body)}}a(_a,"A$1");function ul(e){const t={behind:!1,negate:!1,...e};return{type:"LookaroundAssertion",kind:t.behind?"lookbehind":"lookahead",negate:t.negate,body:tf(e?.body)}}a(ul,"K$1");function G1e(e,t,r){return{type:"NamedCallout",kind:e,tag:t,arguments:r}}a(G1e,"U$1");function V1e(e,t){const r=!!t?.negate;if(!G3.has(e))throw new Error(`Invalid POSIX class "${e}"`);return{type:"CharacterSet",kind:"posix",value:e,negate:r}}a(V1e,"R");function JB(e,t,r,n){if(t>r)throw new Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:e,min:t,max:r,body:n}}a(JB,"_$2");function Y1e(e,t){return{type:"Regex",body:tf(t?.body),flags:e}}a(Y1e,"B$1");function KB(e){return{type:"Subroutine",ref:e}}a(KB,"O");function bu(e,t){const r={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t};let n=r.unicodePropertyMap?.get(Ag(e));if(!n){if(r.normalizeUnknownPropertyNames)n=X1e(e);else if(r.unicodePropertyMap&&!r.skipPropertyNameValidation)throw new Error(Pn`Invalid Unicode property "\p{${e}}"`)}return{type:"CharacterSet",kind:"property",value:n??e,negate:r.negate}}a(bu,"Q$2");function Z1e({flags:e,kind:t,name:r,negate:n,number:i}){switch(t){case"absence_repeater":return z1e("repeater");case"atomic":return _a({atomic:!0});case"capturing":return XB(i,{name:r});case"group":return _a({flags:e});case"lookahead":case"lookbehind":return ul({behind:t==="lookbehind",negate:n});default:throw new Error(`Unexpected group kind "${t}"`)}}a(Z1e,"ie$2");function tf(e){if(e===void 0)e=[zl()];else if(!Array.isArray(e)||!e.length||!e.every(t=>t.type==="Alternative"))throw new Error("Invalid body; expected array of one or more Alternative nodes");return e}a(tf,"h");function WB(e){if(e===void 0)e=[];else if(!Array.isArray(e)||!e.every(t=>!!t.type))throw new Error("Invalid body; expected array of nodes");return e}a(WB,"V$1");function J9(e){return e.type==="LookaroundAssertion"&&e.kind==="lookahead"}a(J9,"M$1");function K9(e){return e.type==="LookaroundAssertion"&&e.kind==="lookbehind"}a(K9,"$$1");function $1e(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}a($1e,"se$2");function X1e(e){return e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,t=>t[0].toUpperCase()+t.slice(1).toLowerCase())}a(X1e,"de$1");function Ag(e){return e.replace(/[- _]+/g,"").toLowerCase()}a(Ag,"w$1");function W9(e,t){return mc(e,`${t?.type==="Character"&&t.value===93?"Empty":"Unclosed"} character class`)}a(W9,"z$1");function Q9(e){return mc(e,"Unclosed group")}a(Q9,"D$1");function Sd(e,t,r=null){function n(s,o){for(let l=0;l<s.length;l++){const u=i(s[l],o,l,s);l=Math.max(-1,l+u)}}a(n,"u");function i(s,o=null,l=null,u=null){let c=0,h=!1;const d={node:s,parent:o,key:l,container:u,root:e,remove(){t0(u).splice(Math.max(0,du(l)+c),1),c--,h=!0},removeAllNextSiblings(){return t0(u).splice(du(l)+1)},removeAllPrevSiblings(){const C=du(l)+c;return c-=C,t0(u).splice(0,Math.max(0,C))},replaceWith(C,M={}){const R=!!M.traverse;u?u[Math.max(0,du(l)+c)]=C:mc(o,"Can't replace root node")[l]=C,R&&i(C,o,l,u),h=!0},replaceWithMultiple(C,M={}){const R=!!M.traverse;if(t0(u).splice(Math.max(0,du(l)+c),1,...C),c+=C.length-1,R){let P=0;for(let L=0;L<C.length;L++)P+=i(C[L],o,du(l)+L+P,u)}h=!0},skip(){h=!0}},{type:g}=s,m=t["*"],y=t[g],x=typeof m=="function"?m:m?.enter,A=typeof y=="function"?y:y?.enter;if(x?.(d,r),A?.(d,r),!h)switch(g){case"AbsenceFunction":case"CapturingGroup":case"Group":n(s.body,s);break;case"Alternative":case"CharacterClass":n(s.body,s);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":i(s.min,s,"min"),i(s.max,s,"max");break;case"LookaroundAssertion":n(s.body,s);break;case"Quantifier":i(s.body,s,"body");break;case"Regex":n(s.body,s),i(s.flags,s,"flags");break;default:throw new Error(`Unexpected node type "${g}"`)}return y?.exit?.(d,r),m?.exit?.(d,r),c}return a(i,"n"),i(e),e}a(Sd,"S$2");function t0(e){if(!Array.isArray(e))throw new Error("Container expected");return e}a(t0,"f");function du(e){if(typeof e!="number")throw new Error("Numeric key expected");return e}a(du,"l");const J1e=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function K1e(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}a(K1e,"incrementIfAtLeast$1");function W1e(e,t,r,n){return e.slice(0,t)+n+e.slice(t+r.length)}a(W1e,"spliceStr");const ra=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function Y3(e,t,r,n){const i=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),s=[!1];let o=0,l="";for(const u of e.matchAll(i)){const{0:c,groups:{$skip:h}}=u;if(!h&&(!n||n===ra.DEFAULT==!o)){r instanceof Function?l+=r(u,{context:o?ra.CHAR_CLASS:ra.DEFAULT,negated:s[s.length-1]}):l+=r;continue}c[0]==="["?(o++,s.push(c[1]==="^")):c==="]"&&o&&(o--,s.pop()),l+=c}return l}a(Y3,"replaceUnescaped");function QB(e,t,r,n){Y3(e,t,r,n)}a(QB,"forEachUnescaped");function Q1e(e,t,r=0,n){if(!new RegExp(t,"su").test(e))return null;const i=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");i.lastIndex=r;let s=0,o;for(;o=i.exec(e);){const{0:l,groups:{$skip:u}}=o;if(!u&&(!n||n===ra.DEFAULT==!s))return o;l==="["?s++:l==="]"&&s&&s--,i.lastIndex==o.index&&i.lastIndex++}return null}a(Q1e,"execUnescaped");function r0(e,t,r){return!!Q1e(e,t,0,r)}a(r0,"hasUnescaped");function q1e(e,t){const r=/\\?./gsu;r.lastIndex=t;let n=e.length,i=0,s=1,o;for(;o=r.exec(e);){const[l]=o;if(l==="[")i++;else if(i)l==="]"&&i--;else if(l==="(")s++;else if(l===")"&&(s--,!s)){n=o.index;break}}return e.slice(t,n)}a(q1e,"getGroupContents");const q9=new RegExp(String.raw`(?<noncapturingStart>${J1e})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function e2e(e,t){const r=t?.hiddenCaptures??[];let n=t?.captureTransfers??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:n,hiddenCaptures:r};const i="(?>",s="(?:(?=(",o=[0],l=[];let u=0,c=0,h=NaN,d;do{d=!1;let g=0,m=0,y=!1,x;for(q9.lastIndex=Number.isNaN(h)?0:h+s.length;x=q9.exec(e);){const{0:A,index:C,groups:{capturingStart:M,noncapturingStart:R}}=x;if(A==="[")g++;else if(g)A==="]"&&g--;else if(A===i&&!y)h=C,y=!0;else if(y&&R)m++;else if(M)y?m++:(u++,o.push(u+c));else if(A===")"&&y){if(!m){c++;const P=u+c;if(e=`${e.slice(0,h)}${s}${e.slice(h+i.length,C)}))<$$${P}>)${e.slice(C+1)}`,d=!0,l.push(P),K1e(r,P),n.size){const L=new Map;n.forEach((z,Z)=>{L.set(Z>=P?Z+1:Z,z.map(Y=>Y>=P?Y+1:Y))}),n=L}break}m--}}}while(d);return r.push(...l),e=Y3(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:g,groups:{backrefNum:m,wrappedBackrefNum:y}})=>{if(m){const x=+m;if(x>o.length-1)throw new Error(`Backref "${g}" greater than number of captures`);return`\\${o[x]}`}return`\\${y}`},ra.DEFAULT),{pattern:e,captureTransfers:n,hiddenCaptures:r}}a(e2e,"atomic");const qB=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,wy=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${qB})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function t2e(e){if(!new RegExp(`${qB}\\+`).test(e))return{pattern:e};const t=[];let r=null,n=null,i="",s=0,o;for(wy.lastIndex=0;o=wy.exec(e);){const{0:l,index:u,groups:{qBase:c,qMod:h,invalidQ:d}}=o;if(l==="[")s||(n=u),s++;else if(l==="]")s?s--:n=null;else if(!s)if(h==="+"&&i&&!i.startsWith("(")){if(d)throw new Error(`Invalid quantifier "${l}"`);let g=-1;if(/^\{\d+\}$/.test(c))e=W1e(e,u+c.length,h,"");else{if(i===")"||i==="]"){const m=i===")"?r:n;if(m===null)throw new Error(`Invalid unmatched "${i}"`);e=`${e.slice(0,m)}(?>${e.slice(m,u)}${c})${e.slice(u+l.length)}`}else e=`${e.slice(0,u-i.length)}(?>${i}${c})${e.slice(u+l.length)}`;g+=4}wy.lastIndex+=g}else l[0]==="("?t.push(u):l===")"&&(r=t.length?t.pop():null);i=l}return{pattern:e}}a(t2e,"possessive");const qi=String.raw,r2e=qi`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,k2=qi`\(\?R=(?<rDepth>[^\)]+)\)|${r2e}`,Tg=qi`\(\?<(?![=!])(?<captureName>[^>]+)>`,ez=qi`${Tg}|(?<unnamed>\()(?!\?)`,sl=new RegExp(qi`${Tg}|${k2}|\(\?|\\?.`,"gsu"),_y="Cannot use multiple overlapping recursions";function n2e(e,t){const{hiddenCaptures:r,mode:n}={hiddenCaptures:[],mode:"plugin",...t};let i=t?.captureTransfers??new Map;if(!new RegExp(k2,"su").test(e))return{pattern:e,captureTransfers:i,hiddenCaptures:r};if(n==="plugin"&&r0(e,qi`\(\?\(DEFINE\)`,ra.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const s=[],o=r0(e,qi`\\[1-9]`,ra.DEFAULT),l=new Map,u=[];let c=!1,h=0,d=0,g;for(sl.lastIndex=0;g=sl.exec(e);){const{0:m,groups:{captureName:y,rDepth:x,gRNameOrNum:A,gRDepth:C}}=g;if(m==="[")h++;else if(h)m==="]"&&h--;else if(x){if(ek(x),c)throw new Error(_y);if(o)throw new Error(`${n==="external"?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);const M=e.slice(0,g.index),R=e.slice(sl.lastIndex);if(r0(R,k2,ra.DEFAULT))throw new Error(_y);const P=+x-1;e=tk(M,R,P,!1,r,s,d),i=nk(i,M,P,s.length,0,d);break}else if(A){ek(C);let M=!1;for(const f of u)if(f.name===A||f.num===+A){if(M=!0,f.hasRecursedWithin)throw new Error(_y);break}if(!M)throw new Error(qi`Recursive \g cannot be used outside the referenced group "${n==="external"?A:qi`\g<${A}&R=${C}>`}"`);const R=l.get(A),P=q1e(e,R);if(o&&r0(P,qi`${Tg}|\((?!\?)`,ra.DEFAULT))throw new Error(`${n==="external"?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);const L=e.slice(R,g.index),z=P.slice(L.length+m.length),Z=s.length,Y=+C-1,ae=tk(L,z,Y,!0,r,s,d);i=nk(i,L,Y,s.length-Z,Z,d);const F=e.slice(0,R),W=e.slice(R+P.length);e=`${F}${ae}${W}`,sl.lastIndex+=ae.length-m.length-L.length-z.length,u.forEach(f=>f.hasRecursedWithin=!0),c=!0}else if(y)d++,l.set(String(d),sl.lastIndex),l.set(y,sl.lastIndex),u.push({num:d,name:y});else if(m[0]==="("){const M=m==="(";M&&(d++,l.set(String(d),sl.lastIndex)),u.push(M?{num:d}:{})}else m===")"&&u.pop()}return r.push(...s),{pattern:e,captureTransfers:i,hiddenCaptures:r}}a(n2e,"recursion");function ek(e){const t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e))throw new Error(t);if(e=+e,e<2||e>100)throw new Error(t)}a(ek,"assertMaxInBounds");function tk(e,t,r,n,i,s,o){const l=new Set;n&&QB(e+t,Tg,({groups:{captureName:c}})=>{l.add(c)},ra.DEFAULT);const u=[r,n?l:null,i,s,o];return`${e}${rk(`(?:${e}`,"forward",...u)}(?:)${rk(`${t})`,"backward",...u)}${t}`}a(tk,"makeRecursive");function rk(e,t,r,n,i,s,o){const u=a(h=>t==="forward"?h+2:r-h+2-1,"getDepthNum");let c="";for(let h=0;h<r;h++){const d=u(h);c+=Y3(e,qi`${ez}|\\k<(?<backref>[^>]+)>`,({0:g,groups:{captureName:m,unnamed:y,backref:x}})=>{if(x&&n&&!n.has(x))return g;const A=`_$${d}`;if(y||m){const C=o+s.length+1;return s.push(C),i2e(i,C),y?g:`(?<${m}${A}>`}return qi`\k<${x}${A}>`},ra.DEFAULT)}return c}a(rk,"repeatWithDepth");function i2e(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}a(i2e,"incrementIfAtLeast");function nk(e,t,r,n,i,s){if(e.size&&n){let o=0;QB(t,ez,()=>o++,ra.DEFAULT);const l=s-o+i,u=new Map;return e.forEach((c,h)=>{const d=(n-o*r)/r,g=o*r,m=h>l+o?h+n:h,y=[];for(const x of c)if(x<=l)y.push(x);else if(x>l+o+d)y.push(x+n);else if(x<=l+o)for(let A=0;A<=r;A++)y.push(x+o*A);else for(let A=0;A<=r;A++)y.push(x+g+d*A);u.set(m,y)}),u}return e}a(nk,"mapCaptureTransfers");var Sn=String.fromCodePoint,tr=String.raw,Js={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("","v")}catch{return!1}return!0})()};Js.bugFlagVLiteralHyphenIsRange=Js.unicodeSets?(()=>{try{new RegExp(tr`[\d\-a]`,"v")}catch{return!0}return!1})():!1;Js.bugNestedClassIgnoresNegation=Js.unicodeSets&&new RegExp("[[^a]]","v").test("a");function Vp(e,{enable:t,disable:r}){return{dotAll:!r?.dotAll&&!!(t?.dotAll||e.dotAll),ignoreCase:!r?.ignoreCase&&!!(t?.ignoreCase||e.ignoreCase)}}a(Vp,"getNewCurrentFlags");function _h(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}a(_h,"getOrInsert");function A2(e,t){return ik[e]>=ik[t]}a(A2,"isMinTarget");function a2e(e,t){if(e==null)throw new Error(t??"Value expected");return e}a(a2e,"throwIfNullish");var ik={ES2025:2025,ES2024:2024,ES2018:2018},s2e={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function tz(e={}){if({}.toString.call(e)!=="[object Object]")throw new Error("Unexpected options");if(e.target!==void 0&&!s2e[e.target])throw new Error(`Unexpected target "${e.target}"`);const t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return t.target==="auto"&&(t.target=Js.flagGroups?"ES2025":Js.unicodeSets?"ES2024":"ES2018"),t}a(tz,"getOptions");var o2e="[	-\r ]",l2e=new Set([Sn(304),Sn(305)]),Is=tr`[\p{L}\p{M}\p{N}\p{Pc}]`;function rz(e){if(l2e.has(e))return[e];const t=new Set,r=e.toLowerCase(),n=r.toUpperCase(),i=d2e.get(r),s=u2e.get(r),o=c2e.get(r);return[...n].length===1&&t.add(n),o&&t.add(o),i&&t.add(i),t.add(r),s&&t.add(s),[...t]}a(rz,"getIgnoreCaseMatchChars");var Z3=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(e=>[Ag(e),e])),u2e=new Map([["s",Sn(383)],[Sn(383),"s"]]),c2e=new Map([[Sn(223),Sn(7838)],[Sn(107),Sn(8490)],[Sn(229),Sn(8491)],[Sn(969),Sn(8486)]]),d2e=new Map([yo(453),yo(456),yo(459),yo(498),...xy(8072,8079),...xy(8088,8095),...xy(8104,8111),yo(8124),yo(8140),yo(8188)]),h2e=new Map([["alnum",tr`[\p{Alpha}\p{Nd}]`],["alpha",tr`\p{Alpha}`],["ascii",tr`\p{ASCII}`],["blank",tr`[\p{Zs}\t]`],["cntrl",tr`\p{Cc}`],["digit",tr`\p{Nd}`],["graph",tr`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",tr`\p{Lower}`],["print",tr`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",tr`[\p{P}\p{S}]`],["space",tr`\p{space}`],["upper",tr`\p{Upper}`],["word",tr`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",tr`\p{AHex}`]]);function f2e(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}a(f2e,"range");function yo(e){const t=Sn(e);return[t.toLowerCase(),t]}a(yo,"titleEntry");function xy(e,t){return f2e(e,t).map(r=>yo(r))}a(xy,"titleRange");var nz=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);function p2e(e,t){const r={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t};iz(e);const n={accuracy:r.accuracy,asciiWordBoundaries:r.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:A2(r.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};Sd(e,m2e,n);const i={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},s={currentFlags:i,prevFlags:null,globalFlags:i,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:n.subroutineRefMap};Sd(e,g2e,s);const o={groupsByName:s.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:s.reffedNodesByReferencer};return Sd(e,v2e,o),e._originMap=s.groupOriginByCopy,e._strategy=n.strategy,e}a(p2e,"transform");var m2e={AbsenceFunction({node:e,parent:t,replaceWith:r}){const{body:n,kind:i}=e;if(i==="repeater"){const s=_a();s.body[0].body.push(ul({negate:!0,body:n}),bu("Any"));const o=_a();o.body[0].body.push(JB("greedy",0,1/0,s)),r(ln(o,t),{traverse:!0})}else throw new Error('Unsupported absence function "(?~|"')},Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:n}){const i=e.body.filter(s=>s.kind==="flags");for(let s=r+1;s<t.body.length;s++){const o=t.body[s];_h(n,o,[]).push(...i)}},exit({node:e},{flagDirectivesByAlt:t}){if(t.get(e)?.length){const r=sz(t.get(e));if(r){const n=_a({flags:r});n.body[0].body=e.body,e.body=[ln(n,e)]}}}},Assertion({node:e,parent:t,key:r,container:n,root:i,remove:s,replaceWith:o},l){const{kind:u,negate:c}=e,{asciiWordBoundaries:h,avoidSubclass:d,supportedGNodes:g,wordIsAscii:m}=l;if(u==="text_segment_boundary")throw new Error(`Unsupported text segment boundary "\\${c?"Y":"y"}"`);if(u==="line_end")o(ln(ul({body:[zl({body:[x2("string_end")]}),zl({body:[kg(10)]})]}),t));else if(u==="line_start")o(ln(Ms(tr`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),t));else if(u==="search_start")if(g.has(e))i.flags.sticky=!0,s();else{const y=n[r-1];if(y&&E2e(y))o(ln(ul({negate:!0}),t));else{if(d)throw new Error(tr`Uses "\G" in a way that requires a subclass`);o(wo(x2("string_start"),t)),l.strategy="clip_search"}}else if(!(u==="string_end"||u==="string_start"))if(u==="string_end_newline")o(ln(Ms(tr`(?=\n?\z)`),t));else if(u==="word_boundary"){if(!m&&!h){const y=`(?:(?<=${Is})(?!${Is})|(?<!${Is})(?=${Is}))`,x=`(?:(?<=${Is})(?=${Is})|(?<!${Is})(?!${Is}))`;o(ln(Ms(c?x:y),t))}}else throw new Error(`Unexpected assertion kind "${u}"`)},Backreference({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!Sy(r)&&(r=Ey(r,t),e.ref=r)},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:r}){let{name:n}=e;n&&!Sy(n)&&(n=Ey(n,t),e.name=n),r.set(e.number,e),n&&r.set(n,e)},CharacterClassRange({node:e,parent:t,replaceWith:r}){if(t.kind==="intersection"){const n=M0({body:[e]});r(ln(n,t),{traverse:!0})}},CharacterSet({node:e,parent:t,replaceWith:r},{accuracy:n,minTargetEs2024:i,digitIsAscii:s,spaceIsAscii:o,wordIsAscii:l}){const{kind:u,negate:c,value:h}=e;if(s&&(u==="digit"||h==="digit")){r(wo(S2("digit",{negate:c}),t));return}if(o&&(u==="space"||h==="space")){r(ln(ky(Ms(o2e),c),t));return}if(l&&(u==="word"||h==="word")){r(wo(S2("word",{negate:c}),t));return}if(u==="any")r(wo(bu("Any"),t));else if(u==="digit")r(wo(bu("Nd",{negate:c}),t));else if(u!=="dot")if(u==="text_segment"){if(n==="strict")throw new Error(tr`Use of "\X" requires non-strict accuracy`);const d="\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?",g=tr`\p{RI}{2}|${d}(?:\u200D${d})*`;r(ln(Ms(tr`(?>\r\n|${i?tr`\p{RGI_Emoji}`:g}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),t))}else if(u==="hex")r(wo(bu("AHex",{negate:c}),t));else if(u==="newline")r(ln(Ms(c?`[^
]`:`(?>\r
?|[
\v\f\u2028\u2029])`),t));else if(u==="posix")if(!i&&(h==="graph"||h==="print")){if(n==="strict")throw new Error(`POSIX class "${h}" requires min target ES2024 or non-strict accuracy`);let d={graph:"!-~",print:" -~"}[h];c&&(d=`\0-${Sn(d.codePointAt(0)-1)}${Sn(d.codePointAt(2)+1)}-`),r(ln(Ms(`[${d}]`),t))}else r(ln(ky(Ms(h2e.get(h)),c),t));else if(u==="property")Z3.has(Ag(h))||(e.key="sc");else if(u==="space")r(wo(bu("space",{negate:c}),t));else if(u==="word")r(ln(ky(Ms(Is),c),t));else throw new Error(`Unexpected character set kind "${u}"`)},Directive({node:e,parent:t,root:r,remove:n,replaceWith:i,removeAllPrevSiblings:s,removeAllNextSiblings:o}){const{kind:l,flags:u}=e;if(l==="flags")if(!u.enable&&!u.disable)n();else{const c=_a({flags:u});c.body[0].body=o(),i(ln(c,t),{traverse:!0})}else if(l==="keep"){const c=r.body[0],d=r.body.length===1&&ZB(c,{type:"Group"})&&c.body[0].body.length===1?c.body[0]:r;if(t.parent!==d||d.body.length>1)throw new Error(tr`Uses "\K" in a way that's unsupported`);const g=ul({behind:!0});g.body[0].body=s(),i(ln(g,t))}else throw new Error(`Unexpected directive kind "${l}"`)},Flags({node:e,parent:t}){if(e.posixIsAscii)throw new Error('Unsupported flag "P"');if(e.textSegmentMode==="word")throw new Error('Unsupported flag "y{w}"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii","textSegmentMode"].forEach(r=>delete e[r]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;const{enable:t,disable:r}=e.flags;t?.extended&&delete t.extended,r?.extended&&delete r.extended,t?.dotAll&&r?.dotAll&&delete t.dotAll,t?.ignoreCase&&r?.ignoreCase&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,r&&!Object.keys(r).length&&delete e.flags.disable,!e.flags.enable&&!e.flags.disable&&delete e.flags},LookaroundAssertion({node:e},t){const{kind:r}=e;r==="lookbehind"&&(t.passedLookbehind=!0)},NamedCallout({node:e,parent:t,replaceWith:r}){const{kind:n}=e;if(n==="fail")r(ln(ul({negate:!0}),t));else throw new Error(`Unsupported named callout "(*${n.toUpperCase()}"`)},Quantifier({node:e}){if(e.body.type==="Quantifier"){const t=_a();t.body[0].body.push(e.body),e.body=ln(t,e)}},Regex:{enter({node:e},{supportedGNodes:t}){const r=[];let n=!1,i=!1;for(const s of e.body)if(s.body.length===1&&s.body[0].kind==="search_start")s.body.pop();else{const o=lz(s.body);o?(n=!0,Array.isArray(o)?r.push(...o):r.push(o)):i=!0}n&&!i&&r.forEach(s=>t.add(s))},exit(e,{accuracy:t,passedLookbehind:r,strategy:n}){if(t==="strict"&&r&&n)throw new Error(tr`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!Sy(r)&&(r=Ey(r,t),e.ref=r)}},g2e={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:r}){const{orphan:n,ref:i}=e;n||r.set(e,[...t.get(i).map(({node:s})=>s)])},CapturingGroup:{enter({node:e,parent:t,replaceWith:r,skip:n},{groupOriginByCopy:i,groupsByName:s,multiplexCapturesToLeftByRef:o,openRefs:l,reffedNodesByReferencer:u}){const c=i.get(e);if(c&&l.has(e.number)){const d=wo(ak(e.number),t);u.set(d,l.get(e.number)),r(d);return}l.set(e.number,e),o.set(e.number,[]),e.name&&_h(o,e.name,[]);const h=o.get(e.name??e.number);for(let d=0;d<h.length;d++){const g=h[d];if(c===g.node||c&&c===g.origin||e===g.origin){h.splice(d,1);break}}if(o.get(e.number).push({node:e,origin:c}),e.name&&o.get(e.name).push({node:e,origin:c}),e.name){const d=_h(s,e.name,new Map);let g=!1;if(c)g=!0;else for(const m of d.values())if(!m.hasDuplicateNameToRemove){g=!0;break}s.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:g})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=Vp(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Subroutine({node:e,parent:t,replaceWith:r},n){const{isRecursive:i,ref:s}=e;if(i){let h=t;for(;(h=h.parent)&&!(h.type==="CapturingGroup"&&(h.name===s||h.number===s)););n.reffedNodesByReferencer.set(e,h);return}const o=n.subroutineRefMap.get(s),l=s===0,u=l?ak(0):az(o,n.groupOriginByCopy,null);let c=u;if(!l){const h=sz(w2e(o,g=>g.type==="Group"&&!!g.flags)),d=h?Vp(n.globalFlags,h):n.globalFlags;b2e(d,n.currentFlags)||(c=_a({flags:_2e(d)}),c.body[0].body.push(u))}r(ln(c,t),{traverse:!l})}},v2e={Backreference({node:e,parent:t,replaceWith:r},n){if(e.orphan){n.highestOrphanBackref=Math.max(n.highestOrphanBackref,e.ref);return}const s=n.reffedNodesByReferencer.get(e).filter(o=>y2e(o,e));if(!s.length)r(ln(ul({negate:!0}),t));else if(s.length>1){const o=_a({atomic:!0,body:s.reverse().map(l=>zl({body:[E2(l.number)]}))});r(ln(o,t))}else e.ref=s[0].number},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Regex:{exit({node:e},t){const r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let n=0;n<r;n++){const i=XB();e.body.at(-1).body.push(i)}}},Subroutine({node:e},t){!e.isRecursive||e.ref===0||(e.ref=t.reffedNodesByReferencer.get(e).number)}};function iz(e){Sd(e,{"*"({node:t,parent:r}){t.parent=r}})}a(iz,"addParentProperties");function b2e(e,t){return e.dotAll===t.dotAll&&e.ignoreCase===t.ignoreCase}a(b2e,"areFlagsEqual");function y2e(e,t){let r=t;do{if(r.type==="Regex")return!1;if(r.type==="Alternative")continue;if(r===e)return!1;const n=oz(r.parent);for(const i of n){if(i===r)break;if(i===e||uz(i,e))return!0}}while(r=r.parent);throw new Error("Unexpected path")}a(y2e,"canParticipateWithNode");function az(e,t,r,n){const i=Array.isArray(e)?[]:{};for(const[s,o]of Object.entries(e))s==="parent"?i.parent=Array.isArray(r)?n:r:o&&typeof o=="object"?i[s]=az(o,t,i,r):(s==="type"&&o==="CapturingGroup"&&t.set(i,t.get(e)??e),i[s]=o);return i}a(az,"cloneCapturingGroup");function ak(e){const t=KB(e);return t.isRecursive=!0,t}a(ak,"createRecursion");function w2e(e,t){const r=[];for(;e=e.parent;)(!t||t(e))&&r.push(e);return r}a(w2e,"getAllParents");function Ey(e,t){if(t.has(e))return t.get(e);const r=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return t.set(e,r),r}a(Ey,"getAndStoreJsGroupName");function sz(e){const t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return e.forEach(({flags:n})=>{t.forEach(i=>{n.enable?.[i]&&(delete r.disable[i],r.enable[i]=!0),n.disable?.[i]&&(r.disable[i]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable?r:null}a(sz,"getCombinedFlagModsFromFlagNodes");function _2e({dotAll:e,ignoreCase:t}){const r={};return(e||t)&&(r.enable={},e&&(r.enable.dotAll=!0),t&&(r.enable.ignoreCase=!0)),(!e||!t)&&(r.disable={},!e&&(r.disable.dotAll=!0),!t&&(r.disable.ignoreCase=!0)),r}a(_2e,"getFlagModsFromFlags");function oz(e){if(!e)throw new Error("Node expected");const{body:t}=e;return Array.isArray(t)?t:t?[t]:null}a(oz,"getKids");function lz(e){const t=e.find(r=>r.kind==="search_start"||S2e(r,{negate:!1})||!x2e(r));if(!t)return null;if(t.kind==="search_start")return t;if(t.type==="LookaroundAssertion")return t.body[0].body[0];if(t.type==="CapturingGroup"||t.type==="Group"){const r=[];for(const n of t.body){const i=lz(n.body);if(!i)return null;Array.isArray(i)?r.push(...i):r.push(i)}return r}return null}a(lz,"getLeadingG");function uz(e,t){const r=oz(e)??[];for(const n of r)if(n===t||uz(n,t))return!0;return!1}a(uz,"isAncestorOf");function x2e({type:e}){return e==="Assertion"||e==="Directive"||e==="LookaroundAssertion"}a(x2e,"isAlwaysZeroLength");function E2e(e){const t=["Character","CharacterClass","CharacterSet"];return t.includes(e.type)||e.type==="Quantifier"&&e.min&&t.includes(e.body.type)}a(E2e,"isAlwaysNonZeroLength");function S2e(e,t){const r={negate:null,...t};return e.type==="LookaroundAssertion"&&(r.negate===null||e.negate===r.negate)&&e.body.length===1&&ZB(e.body[0],{type:"Assertion",kind:"search_start"})}a(S2e,"isLoneGLookaround");function Sy(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}a(Sy,"isValidJsGroupName");function Ms(e,t){const n=$B(e,{...t,unicodePropertyMap:Z3}).body;return n.length>1||n[0].body.length>1?_a({body:n}):n[0].body[0]}a(Ms,"parseFragment");function ky(e,t){return e.negate=t,e}a(ky,"setNegate");function wo(e,t){return e.parent=t,e}a(wo,"setParent");function ln(e,t){return iz(e),e.parent=t,e}a(ln,"setParentDeep");function k2e(e,t){const r=tz(t),n=A2(r.target,"ES2024"),i=A2(r.target,"ES2025"),s=r.rules.recursionLimit;if(!Number.isInteger(s)||s<2||s>20)throw new Error("Invalid recursionLimit; use 2-20");let o=null,l=null;if(!i){const m=[e.flags.ignoreCase];Sd(e,A2e,{getCurrentModI:a(()=>m.at(-1),"getCurrentModI"),popModI(){m.pop()},pushModI(y){m.push(y)},setHasCasedChar(){m.at(-1)?o=!0:l=!0}})}const u={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||o)&&!l)};let c=e;const h={accuracy:r.accuracy,appliedGlobalFlags:u,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:c,originMap:e._originMap,recursionLimit:s,useAppliedIgnoreCase:!!(!i&&o&&l),useFlagMods:i,useFlagV:n,verbose:r.verbose};function d(m){return h.lastNode=c,c=m,a2e(T2e[m.type],`Unexpected node type "${m.type}"`)(m,h,d)}a(d,"gen");const g={pattern:e.body.map(d).join("|"),flags:d(e.flags),options:{...e.options}};return n||(delete g.options.force.v,g.options.disable.v=!0,g.options.unicodeSetsPlugin=null),g._captureTransfers=new Map,g._hiddenCaptures=[],h.captureMap.forEach((m,y)=>{m.hidden&&g._hiddenCaptures.push(y),m.transferTo&&_h(g._captureTransfers,m.transferTo,[]).push(y)}),g}a(k2e,"generate");var A2e={"*":{enter({node:e},t){if(ok(e)){const r=t.getCurrentModI();t.pushModI(e.flags?Vp({ignoreCase:r},e.flags).ignoreCase:r)}},exit({node:e},t){ok(e)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){$3(Sn(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),cz(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){e.kind==="property"&&nz.has(e.value)&&t.setHasCasedChar()}},T2e={Alternative({body:e},t,r){return e.map(r).join("")},Assertion({kind:e,negate:t}){if(e==="string_end")return"$";if(e==="string_start")return"^";if(e==="word_boundary")return t?tr`\B`:tr`\b`;throw new Error(`Unexpected assertion kind "${e}"`)},Backreference({ref:e},t){if(typeof e!="number")throw new Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&t.accuracy==="strict"&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e},CapturingGroup(e,t,r){const{body:n,name:i,number:s}=e,o={ignoreCase:t.currentFlags.ignoreCase},l=t.originMap.get(e);return l&&(o.hidden=!0,s>l.number&&(o.transferTo=l.number)),t.captureMap.set(s,o),`(${i?`?<${i}>`:""}${n.map(r).join("|")})`},Character({value:e},t){const r=Sn(e),n=hu(e,{escDigit:t.lastNode.type==="Backreference",inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(n!==r)return n;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&$3(r)){const i=rz(r);return t.inCharClass?i.join(""):i.length>1?`[${i.join("")}]`:i[0]}return r},CharacterClass(e,t,r){const{kind:n,negate:i,parent:s}=e;let{body:o}=e;if(n==="intersection"&&!t.useFlagV)throw new Error("Use of class intersection requires min target ES2024");Js.bugFlagVLiteralHyphenIsRange&&t.useFlagV&&o.some(lk)&&(o=[kg(45),...o.filter(c=>!lk(c))]);const l=a(()=>`[${i?"^":""}${o.map(r).join(n==="intersection"?"&&":"")}]`,"genClass");if(!t.inCharClass){if((!t.useFlagV||Js.bugNestedClassIgnoresNegation)&&!i){const h=o.filter(d=>d.type==="CharacterClass"&&d.kind==="union"&&d.negate);if(h.length){const d=_a(),g=d.body[0];return d.parent=s,g.parent=d,o=o.filter(m=>!h.includes(m)),e.body=o,o.length?(e.parent=g,g.body.push(e)):d.body.pop(),h.forEach(m=>{const y=zl({body:[m]});m.parent=y,y.parent=d,d.body.push(y)}),r(d)}}t.inCharClass=!0;const c=l();return t.inCharClass=!1,c}const u=o[0];if(n==="union"&&!i&&u&&((!t.useFlagV||!t.verbose)&&s.kind==="union"&&!(Js.bugFlagVLiteralHyphenIsRange&&t.useFlagV)||!t.verbose&&s.kind==="intersection"&&o.length===1&&u.type!=="CharacterClassRange"))return o.map(r).join("");if(!t.useFlagV&&s.type==="CharacterClass")throw new Error("Use of nested character class requires min target ES2024");return l()},CharacterClassRange(e,t){const r=e.min.value,n=e.max.value,i={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},s=hu(r,i),o=hu(n,i),l=new Set;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase){const u=cz(e);O2e(u).forEach(h=>{l.add(Array.isArray(h)?`${hu(h[0],i)}-${hu(h[1],i)}`:hu(h,i))})}return`${s}-${o}${[...l].join("")}`},CharacterSet({kind:e,negate:t,value:r,key:n},i){if(e==="dot")return i.currentFlags.dotAll?i.appliedGlobalFlags.dotAll||i.useFlagMods?".":"[^]":tr`[^\n]`;if(e==="digit")return t?tr`\D`:tr`\d`;if(e==="property"){if(i.useAppliedIgnoreCase&&i.currentFlags.ignoreCase&&nz.has(r))throw new Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?tr`\P`:tr`\p`}{${n?`${n}=`:""}${r}}`}if(e==="word")return t?tr`\W`:tr`\w`;throw new Error(`Unexpected character set kind "${e}"`)},Flags(e,t){return(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":"")},Group({atomic:e,body:t,flags:r,parent:n},i,s){const o=i.currentFlags;r&&(i.currentFlags=Vp(o,r));const l=t.map(s).join("|"),u=!i.verbose&&t.length===1&&n.type!=="Quantifier"&&!e&&(!i.useFlagMods||!r)?l:`(?${R2e(e,r,i.useFlagMods)}${l})`;return i.currentFlags=o,u},LookaroundAssertion({body:e,kind:t,negate:r},n,i){return`(?${`${t==="lookahead"?"":"<"}${r?"!":"="}`}${e.map(i).join("|")})`},Quantifier(e,t,r){return r(e.body)+P2e(e)},Subroutine({isRecursive:e,ref:t},r){if(!e)throw new Error("Unexpected non-recursive subroutine in transformed AST");const n=r.recursionLimit;return t===0?`(?R=${n})`:tr`\g<${t}&R=${n}>`}},N2e=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),C2e=new Set(["-","\\","]","^","["]),I2e=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),sk=new Map([[9,tr`\t`],[10,tr`\n`],[11,tr`\v`],[12,tr`\f`],[13,tr`\r`],[8232,tr`\u2028`],[8233,tr`\u2029`],[65279,tr`\uFEFF`]]),M2e=/^\p{Cased}$/u;function $3(e){return M2e.test(e)}a($3,"charHasCase");function cz(e,t){const r=!!t?.firstOnly,n=e.min.value,i=e.max.value,s=[];if(n<65&&(i===65535||i>=131071)||n===65536&&i>=131071)return s;for(let o=n;o<=i;o++){const l=Sn(o);if(!$3(l))continue;const u=rz(l).filter(c=>{const h=c.codePointAt(0);return h<n||h>i});if(u.length&&(s.push(...u),r))break}return s}a(cz,"getCasesOutsideCharClassRange");function hu(e,{escDigit:t,inCharClass:r,useFlagV:n}){if(sk.has(e))return sk.get(e);if(e<32||e>126&&e<160||e>262143||t&&L2e(e))return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;const i=r?n?I2e:C2e:N2e,s=Sn(e);return(i.has(s)?"\\":"")+s}a(hu,"getCharEscape");function O2e(e){const t=e.map(i=>i.codePointAt(0)).sort((i,s)=>i-s),r=[];let n=null;for(let i=0;i<t.length;i++)t[i+1]===t[i]+1?n??=t[i]:n===null?r.push(t[i]):(r.push([n,t[i]]),n=null);return r}a(O2e,"getCodePointRangesFromChars");function R2e(e,t,r){if(e)return">";let n="";if(t&&r){const{enable:i,disable:s}=t;n=(i?.ignoreCase?"i":"")+(i?.dotAll?"s":"")+(s?"-":"")+(s?.ignoreCase?"i":"")+(s?.dotAll?"s":"")}return`${n}:`}a(R2e,"getGroupPrefix");function P2e({kind:e,max:t,min:r}){let n;return!r&&t===1?n="?":!r&&t===1/0?n="*":r===1&&t===1/0?n="+":r===t?n=`{${r}}`:n=`{${r},${t===1/0?"":t}}`,n+{greedy:"",lazy:"?",possessive:"+"}[e]}a(P2e,"getQuantifierStr");function ok({type:e}){return e==="CapturingGroup"||e==="Group"||e==="LookaroundAssertion"}a(ok,"isAnyGroup");function L2e(e){return e>47&&e<58}a(L2e,"isDigitCharCode");function lk({type:e,value:t}){return e==="Character"&&t===45}a(lk,"isLiteralHyphen");var D2e=class T2 extends RegExp{static{a(this,"_EmulatedRegExp")}#t=new Map;#e=null;#n;#r=null;#i=null;rawOptions={};get source(){return this.#n||"(?:)"}constructor(t,r,n){const i=!!n?.lazyCompile;if(t instanceof RegExp){if(n)throw new Error("Cannot provide options when copying a regexp");const s=t;super(s,r),this.#n=s.source,s instanceof T2&&(this.#t=s.#t,this.#r=s.#r,this.#i=s.#i,this.rawOptions=s.rawOptions)}else{const s={hiddenCaptures:[],strategy:null,transfers:[],...n};super(i?"":t,r),this.#n=t,this.#t=B2e(s.hiddenCaptures,s.transfers),this.#i=s.strategy,this.rawOptions=n??{}}i||(this.#e=this)}exec(t){if(!this.#e){const{lazyCompile:i,...s}=this.rawOptions;this.#e=new T2(this.#n,this.flags,s)}const r=this.global||this.sticky,n=this.lastIndex;if(this.#i==="clip_search"&&r&&n){this.lastIndex=0;const i=this.#a(t.slice(n));return i&&(j2e(i,n,t,this.hasIndices),this.lastIndex+=n),i}return this.#a(t)}#a(t){this.#e.lastIndex=this.lastIndex;const r=super.exec.call(this.#e,t);if(this.lastIndex=this.#e.lastIndex,!r||!this.#t.size)return r;const n=[...r];r.length=1;let i;this.hasIndices&&(i=[...r.indices],r.indices.length=1);const s=[0];for(let o=1;o<n.length;o++){const{hidden:l,transferTo:u}=this.#t.get(o)??{};if(l?s.push(null):(s.push(r.length),r.push(n[o]),this.hasIndices&&r.indices.push(i[o])),u&&n[o]!==void 0){const c=s[u];if(!c)throw new Error(`Invalid capture transfer to "${c}"`);if(r[c]=n[o],this.hasIndices&&(r.indices[c]=i[o]),r.groups){this.#r||(this.#r=z2e(this.source));const h=this.#r.get(u);h&&(r.groups[h]=n[o],this.hasIndices&&(r.indices.groups[h]=i[o]))}}}return r}};function j2e(e,t,r,n){if(e.index+=t,e.input=r,n){const i=e.indices;for(let o=0;o<i.length;o++){const l=i[o];l&&(i[o]=[l[0]+t,l[1]+t])}const s=i.groups;s&&Object.keys(s).forEach(o=>{const l=s[o];l&&(s[o]=[l[0]+t,l[1]+t])})}}a(j2e,"adjustMatchDetailsForOffset");function B2e(e,t){const r=new Map;for(const n of e)r.set(n,{hidden:!0});for(const[n,i]of t)for(const s of i)_h(r,s,{}).transferTo=n;return r}a(B2e,"createCaptureMap");function z2e(e){const t=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,r=new Map;let n=0,i=0,s;for(;s=t.exec(e);){const{0:o,groups:{capture:l,name:u}}=s;o==="["?n++:n?o==="]"&&n--:l&&(i++,u&&r.set(i,u))}return r}a(z2e,"createNameMap");function F2e(e,t){const r=U2e(e,t);return r.options?new D2e(r.pattern,r.flags,r.options):new RegExp(r.pattern,r.flags)}a(F2e,"toRegExp");function U2e(e,t){const r=tz(t),n=$B(e,{flags:r.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline},skipBackrefValidation:r.rules.allowOrphanBackrefs,unicodePropertyMap:Z3}),i=p2e(n,{accuracy:r.accuracy,asciiWordBoundaries:r.rules.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,bestEffortTarget:r.target}),s=k2e(i,r),o=n2e(s.pattern,{captureTransfers:s._captureTransfers,hiddenCaptures:s._hiddenCaptures,mode:"external"}),l=t2e(o.pattern),u=e2e(l.pattern,{captureTransfers:o.captureTransfers,hiddenCaptures:o.hiddenCaptures}),c={pattern:u.pattern,flags:`${r.hasIndices?"d":""}${r.global?"g":""}${s.flags}${s.options.disable.v?"u":"v"}`};if(r.avoidSubclass){if(r.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const h=u.hiddenCaptures.sort((y,x)=>y-x),d=Array.from(u.captureTransfers),g=i._strategy,m=c.pattern.length>=r.lazyCompileLength;(h.length||d.length||g||m)&&(c.options={...h.length&&{hiddenCaptures:h},...d.length&&{transfers:d},...g&&{strategy:g},...m&&{lazyCompile:m}})}return c}a(U2e,"toRegExpDetails");const uk=4294967295;class H2e{static{a(this,"JavaScriptScanner")}constructor(t,r={}){this.patterns=t,this.options=r;const{forgiving:n=!1,cache:i,regexConstructor:s}=r;if(!s)throw new Error("Option `regexConstructor` is not provided");this.regexps=t.map(o=>{if(typeof o!="string")return o;const l=i?.get(o);if(l){if(l instanceof RegExp)return l;if(n)return null;throw l}try{const u=s(o);return i?.set(o,u),u}catch(u){if(i?.set(o,u),n)return null;throw u}})}regexps;findNextMatchSync(t,r,n){const i=typeof t=="string"?t:t.content,s=[];function o(l,u,c=0){return{index:l,captureIndices:u.indices.map(h=>h==null?{start:uk,end:uk,length:0}:{start:h[0]+c,end:h[1]+c,length:h[1]-h[0]})}}a(o,"toResult");for(let l=0;l<this.regexps.length;l++){const u=this.regexps[l];if(u)try{u.lastIndex=r;const c=u.exec(i);if(!c)continue;if(c.index===r)return o(l,c,0);s.push([l,c,0])}catch(c){if(this.options.forgiving)continue;throw c}}if(s.length){const l=Math.min(...s.map(u=>u[1].index));for(const[u,c,h]of s)if(c.index===l)return o(u,c,h)}return null}}function G2e(e,t){return F2e(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t})}a(G2e,"defaultJavaScriptRegexConstructor");function V2e(e={}){const t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||=r=>G2e(r,{target:t.target}),{createScanner(r){return new H2e(r,t)},createString(r){return{content:r}}}}a(V2e,"createJavaScriptRegexEngine");function X3(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}a(X3,"L");var eu=X3();function dz(e){eu=e}a(dz,"G$1");var kd={exec:a(()=>null,"exec")};function xr(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:a((i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(ri.caret,"$1"),r=r.replace(i,o),n},"replace"),getRegex:a(()=>new RegExp(r,t),"getRegex")};return n}a(xr,"d");var Y2e=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),ri={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:a(e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:a(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:a(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:a(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:a(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),"headingBeginRegex"),htmlBeginRegex:a(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")},Z2e=/^(?:[ \t]*(?:\n|$))+/,$2e=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,X2e=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,rf=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,J2e=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,J3=/(?:[*+-]|\d{1,9}[.)])/,hz=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,fz=xr(hz).replace(/bull/g,J3).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),K2e=xr(hz).replace(/bull/g,J3).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),K3=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,W2e=/^[^\n]+/,W3=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Q2e=xr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",W3).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),q2e=xr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,J3).getRegex(),Ng="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Q3=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,e4e=xr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Q3).replace("tag",Ng).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),pz=xr(K3).replace("hr",rf).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ng).getRegex(),t4e=xr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",pz).getRegex(),q3={blockquote:t4e,code:$2e,def:Q2e,fences:X2e,heading:J2e,hr:rf,html:e4e,lheading:fz,list:q2e,newline:Z2e,paragraph:pz,table:kd,text:W2e},ck=xr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",rf).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ng).getRegex(),r4e={...q3,lheading:K2e,table:ck,paragraph:xr(K3).replace("hr",rf).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ck).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ng).getRegex()},n4e={...q3,html:xr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Q3).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:kd,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:xr(K3).replace("hr",rf).replace("heading",` *#{1,6} *[^
]`).replace("lheading",fz).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},i4e=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,a4e=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,mz=/^( {2,}|\\)\n(?!\s*$)/,s4e=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Cg=/[\p{P}\p{S}]/u,e_=/[\s\p{P}\p{S}]/u,gz=/[^\s\p{P}\p{S}]/u,o4e=xr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,e_).getRegex(),vz=/(?!~)[\p{P}\p{S}]/u,l4e=/(?!~)[\s\p{P}\p{S}]/u,u4e=/(?:[^\s\p{P}\p{S}]|~)/u,c4e=xr(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Y2e?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),bz=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,d4e=xr(bz,"u").replace(/punct/g,Cg).getRegex(),h4e=xr(bz,"u").replace(/punct/g,vz).getRegex(),yz="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",f4e=xr(yz,"gu").replace(/notPunctSpace/g,gz).replace(/punctSpace/g,e_).replace(/punct/g,Cg).getRegex(),p4e=xr(yz,"gu").replace(/notPunctSpace/g,u4e).replace(/punctSpace/g,l4e).replace(/punct/g,vz).getRegex(),m4e=xr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,gz).replace(/punctSpace/g,e_).replace(/punct/g,Cg).getRegex(),g4e=xr(/\\(punct)/,"gu").replace(/punct/g,Cg).getRegex(),v4e=xr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),b4e=xr(Q3).replace("(?:-->|$)","-->").getRegex(),y4e=xr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",b4e).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Yp=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,w4e=xr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Yp).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),wz=xr(/^!?\[(label)\]\[(ref)\]/).replace("label",Yp).replace("ref",W3).getRegex(),_z=xr(/^!?\[(ref)\](?:\[\])?/).replace("ref",W3).getRegex(),_4e=xr("reflink|nolink(?!\\()","g").replace("reflink",wz).replace("nolink",_z).getRegex(),dk=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,t_={_backpedal:kd,anyPunctuation:g4e,autolink:v4e,blockSkip:c4e,br:mz,code:a4e,del:kd,emStrongLDelim:d4e,emStrongRDelimAst:f4e,emStrongRDelimUnd:m4e,escape:i4e,link:w4e,nolink:_z,punctuation:o4e,reflink:wz,reflinkSearch:_4e,tag:y4e,text:s4e,url:kd},x4e={...t_,link:xr(/^!?\[(label)\]\((.*?)\)/).replace("label",Yp).getRegex(),reflink:xr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Yp).getRegex()},N2={...t_,emStrongRDelimAst:p4e,emStrongLDelim:h4e,url:xr(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",dk).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:xr(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",dk).getRegex()},E4e={...N2,br:xr(mz).replace("{2,}","*").getRegex(),text:xr(N2.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},n0={normal:q3,gfm:r4e,pedantic:n4e},Xc={normal:t_,gfm:N2,breaks:E4e,pedantic:x4e},S4e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hk=a(e=>S4e[e],"ge$1");function Ga(e,t){if(t){if(ri.escapeTest.test(e))return e.replace(ri.escapeReplace,hk)}else if(ri.escapeTestNoEncode.test(e))return e.replace(ri.escapeReplaceNoEncode,hk);return e}a(Ga,"w");function fk(e){try{e=encodeURI(e).replace(ri.percentDecode,"%")}catch{return null}return e}a(fk,"J");function pk(e,t){let r=e.replace(ri.findPipe,(s,o,l)=>{let u=!1,c=o;for(;--c>=0&&l[c]==="\\";)u=!u;return u?"|":" |"}),n=r.split(ri.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(ri.slashPipe,"|");return n}a(pk,"V");function Jc(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}a(Jc,"z");function k4e(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}a(k4e,"fe$1");function mk(e,t,r,n,i){let s=t.href,o=t.title||null,l=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let u={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:o,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,u}a(mk,"me$1");function A4e(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let i=n[1];return t.split(`
`).map(s=>{let o=s.match(r.other.beginningSpace);if(o===null)return s;let[l]=o;return l.length>=i.length?s.slice(i.length):s}).join(`
`)}a(A4e,"Ye$1");var Zp=class{static{a(this,"y")}options;rules;lexer;constructor(e){this.options=e||eu}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Jc(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],n=A4e(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){let n=Jc(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Jc(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=Jc(t[0],`
`).split(`
`),n="",i="",s=[];for(;r.length>0;){let o=!1,l=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))l.push(r[u]),o=!0;else if(!o)l.push(r[u]);else break;r=r.slice(u);let c=l.join(`
`),h=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,i=i?`${i}
${h}`:h;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,s,!0),this.lexer.state.top=d,r.length===0)break;let g=s.at(-1);if(g?.type==="code")break;if(g?.type==="blockquote"){let m=g,y=m.raw+`
`+r.join(`
`),x=this.blockquote(y);s[s.length-1]=x,n=n.substring(0,n.length-m.raw.length)+x.raw,i=i.substring(0,i.length-m.text.length)+x.text;break}else if(g?.type==="list"){let m=g,y=m.raw+`
`+r.join(`
`),x=this.list(y);s[s.length-1]=x,n=n.substring(0,n.length-g.raw.length)+x.raw,i=i.substring(0,i.length-m.raw.length)+x.raw,r=y.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let s=this.rules.other.listItemRegex(r),o=!1;for(;e;){let u=!1,c="",h="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,C=>" ".repeat(3*C.length)),g=e.split(`
`,1)[0],m=!d.trim(),y=0;if(this.options.pedantic?(y=2,h=d.trimStart()):m?y=t[1].length+1:(y=t[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,h=d.slice(y),y+=t[1].length),m&&this.rules.other.blankLine.test(g)&&(c+=g+`
`,e=e.substring(g.length+1),u=!0),!u){let C=this.rules.other.nextBulletRegex(y),M=this.rules.other.hrRegex(y),R=this.rules.other.fencesBeginRegex(y),P=this.rules.other.headingBeginRegex(y),L=this.rules.other.htmlBeginRegex(y);for(;e;){let z=e.split(`
`,1)[0],Z;if(g=z,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),Z=g):Z=g.replace(this.rules.other.tabCharGlobal,"    "),R.test(g)||P.test(g)||L.test(g)||C.test(g)||M.test(g))break;if(Z.search(this.rules.other.nonSpaceChar)>=y||!g.trim())h+=`
`+Z.slice(y);else{if(m||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||R.test(d)||P.test(d)||M.test(d))break;h+=`
`+g}!m&&!g.trim()&&(m=!0),c+=z+`
`,e=e.substring(z.length+1),d=Z.slice(y)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let x=null,A;this.options.gfm&&(x=this.rules.other.listIsTask.exec(h),x&&(A=x[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!x,checked:A,loose:!1,text:h,tokens:[]}),i.raw+=c}let l=i.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){let c=i.items[u].tokens.filter(d=>d.type==="space"),h=c.length>0&&c.some(d=>this.rules.other.anyLine.test(d.raw));i.loose=h}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let r=pk(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let o of n)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<r.length;o++)s.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:s.align[o]});for(let o of i)s.rows.push(pk(o,s.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[u]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let s=Jc(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=k4e(t[2],"()");if(s===-2)return;if(s>-1){let o=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),mk(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[n.toLowerCase()];if(!i){let s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return mk(r,i,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!r||this.rules.inline.punctuation.exec(r))){let i=[...n[0]].length-1,s,o,l=i,u=0,c=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+i);(n=c.exec(t))!=null;){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(o=[...s].length,n[3]||n[4]){l+=o;continue}else if((n[5]||n[6])&&i%3&&!((i+o)%3)){u+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+u);let h=[...n[0]][0].length,d=e.slice(0,i+n.index+h+o);if(Math.min(i,o)%2){let m=d.slice(1,-1);return{type:"em",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}let g=d.slice(2,-2);return{type:"strong",raw:d,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(r),i=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&i&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let r,n;return t[2]==="@"?(r=t[1],n="mailto:"+r):(r=t[1],n=r),{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,n;if(t[2]==="@")r=t[0],n="mailto:"+r;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);r=t[0],t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}},Ji=class C2{static{a(this,"l")}tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||eu,this.options.tokenizer=this.options.tokenizer||new Zp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:ri,block:n0.normal,inline:Xc.normal};this.options.pedantic?(r.block=n0.pedantic,r.inline=Xc.pedantic):this.options.gfm&&(r.block=n0.gfm,this.options.breaks?r.inline=Xc.breaks:r.inline=Xc.gfm),this.tokenizer.rules=r}static get rules(){return{block:n0,inline:Xc}}static lex(t,r){return new C2(r).lex(t)}static lexInline(t,r){return new C2(r).inlineTokens(t)}lex(t){t=t.replace(ri.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){for(this.options.pedantic&&(t=t.replace(ri.tabCharGlobal,"    ").replace(ri.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(o=>(i=o.call({lexer:this},t,r))?(t=t.substring(i.raw.length),r.push(i),!0):!1))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let o=r.at(-1);i.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.at(-1).src=o.text):r.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},r.push(i));continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),r.push(i);continue}let s=t;if(this.options.extensions?.startBlock){let o=1/0,l=t.slice(1),u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(s=t.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let o=r.at(-1);n&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(i),n=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let o=r.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(i);continue}if(t){let o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n=t,i=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=i[2]?i[2].length:0,n=n.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let o=!1,l="";for(;t;){o||(l=""),o=!1;let u;if(this.options.extensions?.inline?.some(h=>(u=h.call({lexer:this},t,r))?(t=t.substring(u.raw.length),r.push(u),!0):!1))continue;if(u=this.tokenizer.escape(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.tag(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.link(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(u.raw.length);let h=r.at(-1);u.type==="text"&&h?.type==="text"?(h.raw+=u.raw,h.text+=u.text):r.push(u);continue}if(u=this.tokenizer.emStrong(t,n,l)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.codespan(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.br(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.del(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.autolink(t)){t=t.substring(u.raw.length),r.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(t))){t=t.substring(u.raw.length),r.push(u);continue}let c=t;if(this.options.extensions?.startInline){let h=1/0,d=t.slice(1),g;this.options.extensions.startInline.forEach(m=>{g=m.call({lexer:this},d),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(c=t.substring(0,h+1))}if(u=this.tokenizer.inlineText(c)){t=t.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(l=u.raw.slice(-1)),o=!0;let h=r.at(-1);h?.type==="text"?(h.raw+=u.raw,h.text+=u.text):r.push(u);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}},$p=class{static{a(this,"P")}options;parser;constructor(e){this.options=e||eu}space(e){return""}code({text:e,lang:t,escaped:r}){let n=(t||"").match(ri.notSpaceStart)?.[0],i=e.replace(ri.endingNewline,"")+`
`;return n?'<pre><code class="language-'+Ga(n)+'">'+(r?i:Ga(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:Ga(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,r=e.start,n="";for(let o=0;o<e.items.length;o++){let l=e.items[o];n+=this.listitem(l)}let i=t?"ol":"ul",s=t&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+n+"</"+i+`>
`}listitem(e){let t="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Ga(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let i=0;i<e.header.length;i++)r+=this.tablecell(e.header[i]);t+=this.tablerow({text:r});let n="";for(let i=0;i<e.rows.length;i++){let s=e.rows[i];r="";for(let o=0;o<s.length;o++)r+=this.tablecell(s[o]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ga(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){let n=this.parser.parseInline(r),i=fk(e);if(i===null)return n;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+Ga(t)+'"'),s+=">"+n+"</a>",s}image({href:e,title:t,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));let i=fk(e);if(i===null)return Ga(r);e=i;let s=`<img src="${e}" alt="${r}"`;return t&&(s+=` title="${Ga(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ga(e.text)}},r_=class{static{a(this,"$")}strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},ba=class I2{static{a(this,"l")}options;renderer;textRenderer;constructor(t){this.options=t||eu,this.options.renderer=this.options.renderer||new $p,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new r_}static parse(t,r){return new I2(r).parse(t)}static parseInline(t,r){return new I2(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let l=s,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(l.type)){n+=u||"";continue}}let o=s;switch(o.type){case"space":{n+=this.renderer.space(o);continue}case"hr":{n+=this.renderer.hr(o);continue}case"heading":{n+=this.renderer.heading(o);continue}case"code":{n+=this.renderer.code(o);continue}case"table":{n+=this.renderer.table(o);continue}case"blockquote":{n+=this.renderer.blockquote(o);continue}case"list":{n+=this.renderer.list(o);continue}case"html":{n+=this.renderer.html(o);continue}case"def":{n+=this.renderer.def(o);continue}case"paragraph":{n+=this.renderer.paragraph(o);continue}case"text":{let l=o,u=this.renderer.text(l);for(;i+1<t.length&&t[i+1].type==="text";)l=t[++i],u+=`
`+this.renderer.text(l);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{let l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(t,r=this.renderer){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=l||"";continue}}let o=s;switch(o.type){case"escape":{n+=r.text(o);break}case"html":{n+=r.html(o);break}case"link":{n+=r.link(o);break}case"image":{n+=r.image(o);break}case"strong":{n+=r.strong(o);break}case"em":{n+=r.em(o);break}case"codespan":{n+=r.codespan(o);break}case"br":{n+=r.br(o);break}case"del":{n+=r.del(o);break}case"text":{n+=r.text(o);break}default:{let l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}},dd=class{static{a(this,"S")}options;block;constructor(t){this.options=t||eu}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Ji.lex:Ji.lexInline}provideParser(){return this.block?ba.parse:ba.parseInline}},T4e=class{static{a(this,"B")}defaults=X3();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ba;Renderer=$p;TextRenderer=r_;Lexer=Ji;Tokenizer=Zp;Hooks=dd;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(let n of e)switch(r=r.concat(t.call(this,n)),n.type){case"table":{let i=n;for(let s of i.header)r=r.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let o of s)r=r.concat(this.walkTokens(o.tokens,t));break}case"list":{let i=n;r=r.concat(this.walkTokens(i.items,t));break}default:{let i=n;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let o=i[s].flat(1/0);r=r.concat(this.walkTokens(o,t))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...o){let l=i.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),n.extensions=t),r.renderer){let i=this.defaults.renderer||new $p(this.defaults);for(let s in r.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,l=r.renderer[o],u=i[o];i[o]=(...c)=>{let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h||""}}n.renderer=i}if(r.tokenizer){let i=this.defaults.tokenizer||new Zp(this.defaults);for(let s in r.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,l=r.tokenizer[o],u=i[o];i[o]=(...c)=>{let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h}}n.tokenizer=i}if(r.hooks){let i=this.defaults.hooks||new dd;for(let s in r.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,l=r.hooks[o],u=i[o];dd.passThroughHooks.has(s)?i[o]=c=>{if(this.defaults.async&&dd.passThroughHooksRespectAsync.has(s))return(async()=>{let d=await l.call(i,c);return u.call(i,d)})();let h=l.call(i,c);return u.call(i,h)}:i[o]=(...c)=>{if(this.defaults.async)return(async()=>{let d=await l.apply(i,c);return d===!1&&(d=await u.apply(i,c)),d})();let h=l.apply(i,c);return h===!1&&(h=u.apply(i,c)),h}}n.hooks=i}if(r.walkTokens){let i=this.defaults.walkTokens,s=r.walkTokens;n.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),i&&(l=l.concat(i.call(this,o))),l}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Ji.lex(e,t??this.defaults)}parser(e,t){return ba.parse(e,t??this.defaults)}parseMarkdown(e){return(t,r)=>{let n={...r},i={...this.defaults,...n},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&n.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=e),i.async)return(async()=>{let o=i.hooks?await i.hooks.preprocess(t):t,l=await(i.hooks?await i.hooks.provideLexer():e?Ji.lex:Ji.lexInline)(o,i),u=i.hooks?await i.hooks.processAllTokens(l):l;i.walkTokens&&await Promise.all(this.walkTokens(u,i.walkTokens));let c=await(i.hooks?await i.hooks.provideParser():e?ba.parse:ba.parseInline)(u,i);return i.hooks?await i.hooks.postprocess(c):c})().catch(s);try{i.hooks&&(t=i.hooks.preprocess(t));let o=(i.hooks?i.hooks.provideLexer():e?Ji.lex:Ji.lexInline)(t,i);i.hooks&&(o=i.hooks.processAllTokens(o)),i.walkTokens&&this.walkTokens(o,i.walkTokens);let l=(i.hooks?i.hooks.provideParser():e?ba.parse:ba.parseInline)(o,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(o){return s(o)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+Ga(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}},Fl=new T4e;function Tr(e,t){return Fl.parse(e,t)}a(Tr,"k");Tr.options=Tr.setOptions=function(e){return Fl.setOptions(e),Tr.defaults=Fl.defaults,dz(Tr.defaults),Tr};Tr.getDefaults=X3;Tr.defaults=eu;Tr.use=function(...e){return Fl.use(...e),Tr.defaults=Fl.defaults,dz(Tr.defaults),Tr};Tr.walkTokens=function(e,t){return Fl.walkTokens(e,t)};Tr.parseInline=Fl.parseInline;Tr.Parser=ba;Tr.parser=ba.parse;Tr.Renderer=$p;Tr.TextRenderer=r_;Tr.Lexer=Ji;Tr.lexer=Ji.lex;Tr.Tokenizer=Zp;Tr.Hooks=dd;Tr.parse=Tr;Tr.options;Tr.setOptions;Tr.use;Tr.walkTokens;Tr.parseInline;ba.parse;Ji.lex;var dr=a((...e)=>rT(am(e)),"u"),n_=a((e,t,r)=>{let n=typeof t=="string"?new Blob([t],{type:r}):t,i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)},"A"),i_=U.createContext({code:""});function N4e(e,t=200,r=50){let[n,i]=U.useState(e),s=U.useRef(0),o=U.useRef(null);return U.useEffect(()=>{let l=Date.now(),u=l-s.current;return o.current&&window.clearTimeout(o.current),u>=t?(i(e),s.current=l):o.current=window.setTimeout(()=>{i(e),s.current=Date.now()},r),()=>{o.current&&window.clearTimeout(o.current)}},[e,t,r]),n}a(N4e,"vt");var C4e=a(e=>e<50?{minHighlightInterval:100,debounceMs:500}:e<150?{minHighlightInterval:500,debounceMs:800}:e<300?{minHighlightInterval:1500,debounceMs:1200}:{minHighlightInterval:Number.POSITIVE_INFINITY,debounceMs:1500},"Tt"),I4e=a(e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),"Ct"),M4e=a(e=>{let t=e.lastIndexOf(`
`),r=t>=0?e.slice(0,t+1):"",n=t>=0?e.slice(t+1):e;return[r,n]},"Mt"),O4e=a(e=>e?[{pre(t){return this.addClassToHast(t,e),t}}]:[],"Pt"),R4e=class{static{a(this,"oe")}constructor(){this.lightHighlighter=null,this.darkHighlighter=null,this.lightTheme=null,this.darkTheme=null,this.loadedLanguages=new Set,this.initializationPromise=null,this.loadLanguagePromise=null,this.cache=new Map,this.cacheKeys=[],this.MAX_CACHE_SIZE=50,this.highlightQueue=new Map}isLanguageSupported(e){return Object.hasOwn(zB,e)}getFallbackLanguage(){return"text"}getCacheKey(e,t,r){return`${t}::${r||""}::${e}`}addToCache(e,t){if(this.cache.size>=this.MAX_CACHE_SIZE){let r=this.cacheKeys.shift();r&&this.cache.delete(r)}this.cache.set(e,t),this.cacheKeys.push(e)}needsHighlightersInitialization(e){let[t,r]=e,n=!this.lightHighlighter||this.lightTheme!==t,i=!this.darkHighlighter||this.darkTheme!==r;return[n,i]}async ensureHighlightersInitialized(e,t){let[r,n]=t,[i,s]=e,o=V2e({forgiving:!0});this.loadedLanguages.clear(),this.cache.clear(),this.cacheKeys=[],this.highlightQueue.clear(),r&&(this.lightHighlighter=await G9({themes:[i],langs:[],engine:o}),this.lightTheme=i),n&&(this.darkHighlighter=await G9({themes:[s],langs:[],engine:o}),this.darkTheme=s)}async loadLanguage(e){var t,r;await((t=this.darkHighlighter)==null?void 0:t.loadLanguage(e)),await((r=this.lightHighlighter)==null?void 0:r.loadLanguage(e)),this.loadedLanguages.add(e)}async initializeHighlighters(e){this.initializationPromise&&await this.initializationPromise;let t=this.needsHighlightersInitialization(e),[r,n]=t;(r||n)&&(this.initializationPromise=this.ensureHighlightersInitialized(e,t),await this.initializationPromise,this.initializationPromise=null)}performHighlights(e,t,r){let n=this.isLanguageSupported(t)?t:this.getFallbackLanguage();if(this.lightHighlighter===null||this.darkHighlighter===null||this.lightTheme===null||this.darkTheme===null)throw new Error("highlightCode must be called after initializeHighlighters.");let i=O4e(r),s=this.lightHighlighter.codeToHtml(e,{lang:n,theme:this.lightTheme,transformers:i}),o=this.darkHighlighter.codeToHtml(e,{lang:n,theme:this.darkTheme,transformers:i});return[s,o]}async highlightCode(e,t,r,n){let i=this.getCacheKey(e,t,r),s=this.cache.get(i);if(s)return this.cacheKeys=this.cacheKeys.filter(c=>c!==i),this.cacheKeys.push(i),s;let o=this.highlightQueue.get(i);if(o)return o;let l=a(()=>{if(n!=null&&n.aborted)throw new DOMException("Aborted","AbortError")},"l"),u=(async()=>{try{await new Promise(h=>setTimeout(h,0)),l(),this.initializationPromise&&await this.initializationPromise,l(),this.loadLanguagePromise&&await this.loadLanguagePromise,l(),!this.loadedLanguages.has(t)&&this.isLanguageSupported(t)&&(this.loadLanguagePromise=this.loadLanguage(t),await this.loadLanguagePromise,this.loadLanguagePromise=null),l();let c=this.performHighlights(e,t,r);return this.addToCache(i,c),c}finally{this.highlightQueue.delete(i)}})();return this.highlightQueue.set(i,u),u}},Ay=new R4e,P4e=a(({code:e,language:t,className:r,children:n,preClassName:i,...s})=>{let[o,l]=U.useState(""),[u,c]=U.useState(""),[h,d]=U.useState(""),[g,m]=U.useState(""),y=N4e(e),x=U.useRef(0),A=U.useRef(!1),C=U.useRef(null),M=U.useRef(0),[R,P]=U.useContext(Wz);U.useEffect(()=>{Ay.initializeHighlighters([R,P])},[R,P]),U.useEffect(()=>{A.current=!0,C.current&&C.current.abort(),C.current=new AbortController;let z=C.current.signal;x.current&&clearTimeout(x.current);let[Z,Y]=M4e(y),ae=y.split(`
`).length,{minHighlightInterval:F,debounceMs:W}=C4e(ae);if(Z&&Z!==h){let f=Date.now();f-M.current>F||!Y?(M.current=f,Ay.highlightCode(Z,t,i,z).then(([w,v])=>{A.current&&!z.aborted&&U.startTransition(()=>{l(w),c(v),d(Z),m(Y)})}).catch(w=>{if(w.name!=="AbortError")throw w})):m(Y)}else m(Y);return x.current=window.setTimeout(()=>{Y&&y!==h&&!z.aborted&&Ay.highlightCode(y,t,i,z).then(([f,w])=>{A.current&&!z.aborted&&U.startTransition(()=>{l(f),c(w),d(y),m("")})}).catch(f=>{if(f.name!=="AbortError")throw f})},W),()=>{var f;A.current=!1,(f=C.current)==null||f.abort()}},[y,t,i]);let L=g?`<span class="line"><span>${I4e(g)}</span></span>`:"";return b.jsx(i_.Provider,{value:{code:e},children:b.jsxs("div",{className:"my-4 w-full overflow-hidden rounded-xl border border-border","data-code-block-container":!0,"data-language":t,children:[b.jsxs("div",{className:"flex items-center justify-between bg-muted/80 p-3 text-muted-foreground text-xs","data-code-block-header":!0,"data-language":t,children:[b.jsx("span",{className:"ml-1 font-mono lowercase",children:t}),b.jsx("div",{className:"flex items-center gap-2",children:n})]}),b.jsx("div",{className:"w-full",children:b.jsxs("div",{className:"min-w-full",children:[b.jsx("div",{className:dr("overflow-x-auto dark:hidden",r),dangerouslySetInnerHTML:{__html:L?o+L:o},"data-code-block":!0,"data-language":t,...s}),b.jsx("div",{className:dr("hidden overflow-x-auto dark:block",r),dangerouslySetInnerHTML:{__html:L?u+L:u},"data-code-block":!0,"data-language":t,...s})]})})]})})},"Me"),gk={"1c":"1c","1c-query":"1cq",abap:"abap","actionscript-3":"as",ada:"ada",adoc:"adoc","angular-html":"html","angular-ts":"ts",apache:"conf",apex:"cls",apl:"apl",applescript:"applescript",ara:"ara",asciidoc:"adoc",asm:"asm",astro:"astro",awk:"awk",ballerina:"bal",bash:"sh",bat:"bat",batch:"bat",be:"be",beancount:"beancount",berry:"berry",bibtex:"bib",bicep:"bicep",blade:"blade.php",bsl:"bsl",c:"c","c#":"cs","c++":"cpp",cadence:"cdc",cairo:"cairo",cdc:"cdc",clarity:"clar",clj:"clj",clojure:"clj","closure-templates":"soy",cmake:"cmake",cmd:"cmd",cobol:"cob",codeowners:"CODEOWNERS",codeql:"ql",coffee:"coffee",coffeescript:"coffee","common-lisp":"lisp",console:"sh",coq:"v",cpp:"cpp",cql:"cql",crystal:"cr",cs:"cs",csharp:"cs",css:"css",csv:"csv",cue:"cue",cypher:"cql",d:"d",dart:"dart",dax:"dax",desktop:"desktop",diff:"diff",docker:"dockerfile",dockerfile:"dockerfile",dotenv:"env","dream-maker":"dm",edge:"edge",elisp:"el",elixir:"ex",elm:"elm","emacs-lisp":"el",erb:"erb",erl:"erl",erlang:"erl",f:"f","f#":"fs",f03:"f03",f08:"f08",f18:"f18",f77:"f77",f90:"f90",f95:"f95",fennel:"fnl",fish:"fish",fluent:"ftl",for:"for","fortran-fixed-form":"f","fortran-free-form":"f90",fs:"fs",fsharp:"fs",fsl:"fsl",ftl:"ftl",gdresource:"tres",gdscript:"gd",gdshader:"gdshader",genie:"gs",gherkin:"feature","git-commit":"gitcommit","git-rebase":"gitrebase",gjs:"js",gleam:"gleam","glimmer-js":"js","glimmer-ts":"ts",glsl:"glsl",gnuplot:"plt",go:"go",gql:"gql",graphql:"graphql",groovy:"groovy",gts:"gts",hack:"hack",haml:"haml",handlebars:"hbs",haskell:"hs",haxe:"hx",hbs:"hbs",hcl:"hcl",hjson:"hjson",hlsl:"hlsl",hs:"hs",html:"html","html-derivative":"html",http:"http",hxml:"hxml",hy:"hy",imba:"imba",ini:"ini",jade:"jade",java:"java",javascript:"js",jinja:"jinja",jison:"jison",jl:"jl",js:"js",json:"json",json5:"json5",jsonc:"jsonc",jsonl:"jsonl",jsonnet:"jsonnet",jssm:"jssm",jsx:"jsx",julia:"jl",kotlin:"kt",kql:"kql",kt:"kt",kts:"kts",kusto:"kql",latex:"tex",lean:"lean",lean4:"lean",less:"less",liquid:"liquid",lisp:"lisp",lit:"lit",llvm:"ll",log:"log",logo:"logo",lua:"lua",luau:"luau",make:"mak",makefile:"mak",markdown:"md",marko:"marko",matlab:"m",md:"md",mdc:"mdc",mdx:"mdx",mediawiki:"wiki",mermaid:"mmd",mips:"s",mipsasm:"s",mmd:"mmd",mojo:"mojo",move:"move",nar:"nar",narrat:"narrat",nextflow:"nf",nf:"nf",nginx:"conf",nim:"nim",nix:"nix",nu:"nu",nushell:"nu",objc:"m","objective-c":"m","objective-cpp":"mm",ocaml:"ml",pascal:"pas",perl:"pl",perl6:"p6",php:"php",plsql:"pls",po:"po",polar:"polar",postcss:"pcss",pot:"pot",potx:"potx",powerquery:"pq",powershell:"ps1",prisma:"prisma",prolog:"pl",properties:"properties",proto:"proto",protobuf:"proto",ps:"ps",ps1:"ps1",pug:"pug",puppet:"pp",purescript:"purs",py:"py",python:"py",ql:"ql",qml:"qml",qmldir:"qmldir",qss:"qss",r:"r",racket:"rkt",raku:"raku",razor:"cshtml",rb:"rb",reg:"reg",regex:"regex",regexp:"regexp",rel:"rel",riscv:"s",rs:"rs",rst:"rst",ruby:"rb",rust:"rs",sas:"sas",sass:"sass",scala:"scala",scheme:"scm",scss:"scss",sdbl:"sdbl",sh:"sh",shader:"shader",shaderlab:"shader",shell:"sh",shellscript:"sh",shellsession:"sh",smalltalk:"st",solidity:"sol",soy:"soy",sparql:"rq",spl:"spl",splunk:"spl",sql:"sql","ssh-config":"config",stata:"do",styl:"styl",stylus:"styl",svelte:"svelte",swift:"swift","system-verilog":"sv",systemd:"service",talon:"talon",talonscript:"talon",tasl:"tasl",tcl:"tcl",templ:"templ",terraform:"tf",tex:"tex",tf:"tf",tfvars:"tfvars",toml:"toml",ts:"ts","ts-tags":"ts",tsp:"tsp",tsv:"tsv",tsx:"tsx",turtle:"ttl",twig:"twig",typ:"typ",typescript:"ts",typespec:"tsp",typst:"typ",v:"v",vala:"vala",vb:"vb",verilog:"v",vhdl:"vhdl",vim:"vim",viml:"vim",vimscript:"vim",vue:"vue","vue-html":"html","vue-vine":"vine",vy:"vy",vyper:"vy",wasm:"wasm",wenyan:"wy",wgsl:"wgsl",wiki:"wiki",wikitext:"wiki",wit:"wit",wl:"wl",wolfram:"wl",xml:"xml",xsl:"xsl",yaml:"yaml",yml:"yml",zenscript:"zs",zig:"zig",zsh:"zsh",:"wy"},vk=a(({onDownload:e,onError:t,language:r,children:n,className:i,code:s,...o})=>{let{code:l}=U.useContext(i_),{isAnimating:u}=U.useContext(gc),c=s??l,h=`file.${r&&r in gk?gk[r]:"txt"}`,d="text/plain",g=a(()=>{try{n_(h,c,d),e?.()}catch(m){t?.(m)}},"h");return b.jsx("button",{className:dr("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",i),disabled:u,onClick:g,title:"Download file",type:"button",...o,children:n??b.jsx(Z2,{size:14})})},"re"),bk=a(({onCopy:e,onError:t,timeout:r=2e3,children:n,className:i,code:s,...o})=>{let[l,u]=U.useState(!1),c=U.useRef(0),{code:h}=U.useContext(i_),{isAnimating:d}=U.useContext(gc),g=s??h,m=a(async()=>{var x;if(typeof window>"u"||!((x=navigator?.clipboard)!=null&&x.writeText)){t?.(new Error("Clipboard API not available"));return}try{l||(await navigator.clipboard.writeText(g),u(!0),e?.(),c.current=window.setTimeout(()=>u(!1),r))}catch(A){t?.(A)}},"h");U.useEffect(()=>()=>{window.clearTimeout(c.current)},[]);let y=l?RA:PA;return b.jsx("button",{className:dr("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",i),disabled:d,onClick:m,type:"button",...o,children:n??b.jsx(y,{size:14})})},"se"),L4e=/\.[^/.]+$/,D4e=a(({node:e,className:t,src:r,alt:n,...i})=>{let s=a(async()=>{if(r)try{let o=await(await fetch(r)).blob(),l=new URL(r,window.location.origin).pathname.split("/").pop()||"",u=l.split(".").pop(),c=l.includes(".")&&u!==void 0&&u.length<=4,h="";if(c)h=l;else{let d=o.type,g="png";d.includes("jpeg")||d.includes("jpg")?g="jpg":d.includes("png")?g="png":d.includes("svg")?g="svg":d.includes("gif")?g="gif":d.includes("webp")&&(g="webp"),h=`${(n||l||"image").replace(L4e,"")}.${g}`}n_(h,o,o.type)}catch(o){console.error("Failed to download image:",o)}},"r");return r?b.jsxs("div",{className:"group relative my-4 inline-block","data-streamdown":"image-wrapper",children:[b.jsx("img",{alt:n,className:dr("max-w-full rounded-lg",t),"data-streamdown":"image",src:r,...i}),b.jsx("div",{className:"pointer-events-none absolute inset-0 hidden rounded-lg bg-black/10 group-hover:block"}),b.jsx("button",{className:dr("absolute right-2 bottom-2 flex h-8 w-8 cursor-pointer items-center justify-center rounded-md border border-border bg-background/90 shadow-sm backdrop-blur-sm transition-all duration-200 hover:bg-background","opacity-0 group-hover:opacity-100"),onClick:s,title:"Download image",type:"button",children:b.jsx(Z2,{size:14})})]}):null},"Pe"),Ad=0,j4e=a(()=>{Ad+=1,Ad===1&&(document.body.style.overflow="hidden")},"Bt"),B4e=a(()=>{Ad=Math.max(0,Ad-1),Ad===0&&(document.body.style.overflow="")},"At"),z4e=a(async e=>{let t={startOnLoad:!1,theme:"default",securityLevel:"strict",fontFamily:"monospace",suppressErrorRendering:!0,...e},r=(await ge(async()=>{const{default:n}=await import("./mermaid.core-v0mniV2G.js").then(i=>i.bB);return{default:n}},__vite__mapDeps([97,98]))).default;return r.initialize(t),r},"$t"),F4e=a(({chart:e,config:t,onFullscreen:r,onExit:n,className:i,...s})=>{let[o,l]=U.useState(!1),{isAnimating:u}=U.useContext(gc),c=a(()=>{l(!o)},"c");return U.useEffect(()=>{if(o){j4e();let h=a(d=>{d.key==="Escape"&&l(!1)},"d");return document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h),B4e()}}},[o]),U.useEffect(()=>{o?r?.():n&&n()},[o,r,n]),b.jsxs(b.Fragment,{children:[b.jsx("button",{className:dr("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",i),disabled:u,onClick:c,title:"View fullscreen",type:"button",...s,children:b.jsx(NU,{size:14})}),o&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",onClick:c,onKeyDown:a(h=>{h.key==="Escape"&&c()},"onKeyDown"),role:"button",tabIndex:0,children:[b.jsx("button",{className:"absolute top-4 right-4 z-10 rounded-md p-2 text-muted-foreground transition-all hover:bg-muted hover:text-foreground",onClick:c,title:"Exit fullscreen",type:"button",children:b.jsx(CU,{size:20})}),b.jsx("div",{className:"flex h-full w-full items-center justify-center p-12",onClick:a(h=>h.stopPropagation(),"onClick"),onKeyDown:a(h=>h.stopPropagation(),"onKeyDown"),role:"presentation",children:b.jsx("div",{className:"max-h-full max-w-full",children:b.jsx(xz,{chart:e,className:"[&>div]:my-0 [&_svg]:h-auto [&_svg]:min-h-[60vh] [&_svg]:w-auto [&_svg]:min-w-[60vw]",config:t})})})]})]})},"Ne"),xz=a(({chart:e,className:t,config:r})=>{let[n,i]=U.useState(null),[s,o]=U.useState(!0),[l,u]=U.useState(""),[c,h]=U.useState("");if(U.useEffect(()=>{(async()=>{try{i(null),o(!0);let g=await z4e(r),m=e.split("").reduce((A,C)=>(A<<5)-A+C.charCodeAt(0)|0,0),y=`mermaid-${Math.abs(m)}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,{svg:x}=await g.render(y,e);u(x),h(x)}catch(g){if(!(c||l)){let m=g instanceof Error?g.message:"Failed to render Mermaid chart";i(m)}}finally{o(!1)}})()},[e,r]),s&&!l&&!c)return b.jsx("div",{className:dr("my-4 flex justify-center p-4",t),children:b.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[b.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-current border-b-2"}),b.jsx("span",{className:"text-sm",children:"Loading diagram..."})]})});if(n&&!l&&!c)return b.jsxs("div",{className:dr("rounded-lg border border-red-200 bg-red-50 p-4",t),children:[b.jsxs("p",{className:"font-mono text-red-700 text-sm",children:["Mermaid Error: ",n]}),b.jsxs("details",{className:"mt-2",children:[b.jsx("summary",{className:"cursor-pointer text-red-600 text-xs",children:"Show Code"}),b.jsx("pre",{className:"mt-2 overflow-x-auto rounded bg-red-100 p-2 text-red-800 text-xs",children:e})]})]});let d=l||c;return b.jsx("div",{"aria-label":"Mermaid chart",className:dr("my-4 flex justify-center",t),dangerouslySetInnerHTML:{__html:d},role:"img"})},"le");function Ez(e){var t,r;let n=[],i=[],s=e.querySelectorAll("thead th");for(let l of s)n.push(((t=l.textContent)==null?void 0:t.trim())||"");let o=e.querySelectorAll("tbody tr");for(let l of o){let u=[],c=l.querySelectorAll("td");for(let h of c)u.push(((r=h.textContent)==null?void 0:r.trim())||"");i.push(u)}return{headers:n,rows:i}}a(Ez,"Le");function Sz(e){let{headers:t,rows:r}=e,n=a(s=>s.includes(",")||s.includes('"')||s.includes(`
`)?`"${s.replace(/"/g,'""')}"`:s,"n"),i=[];t.length>0&&i.push(t.map(n).join(","));for(let s of r)i.push(s.map(n).join(","));return i.join(`
`)}a(Sz,"xe");function U4e(e){let{headers:t,rows:r}=e,n=a(s=>s.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r"),"n"),i=[];t.length>0&&i.push(t.map(n).join("	"));for(let s of r)i.push(s.map(n).join("	"));return i.join(`
`)}a(U4e,"qt");function H4e(e){let{headers:t,rows:r}=e;if(t.length===0)return"";let n=[],i=t.map(s=>s.replace(/\|/g,"\\|"));n.push(`| ${i.join(" | ")} |`),n.push(`| ${t.map(()=>"---").join(" | ")} |`);for(let s of r){let o=[...s];for(;o.length<t.length;)o.push("");let l=o.map(u=>u.replace(/\|/g,"\\|"));n.push(`| ${l.join(" | ")} |`)}return n.join(`
`)}a(H4e,"Ot");var G4e=a(({children:e,className:t,onCopy:r,onError:n,timeout:i=2e3})=>{let[s,o]=U.useState(!1),[l,u]=U.useState(!1),c=U.useRef(null),h=U.useRef(0),{isAnimating:d}=U.useContext(gc),g=a(async y=>{var x,A;if(typeof window>"u"||!((x=navigator?.clipboard)!=null&&x.write)){n?.(new Error("Clipboard API not available"));return}try{let C=(A=c.current)==null?void 0:A.closest('[data-streamdown="table-wrapper"]'),M=C?.querySelector("table");if(!M){n?.(new Error("Table not found"));return}let R=Ez(M),P=y==="csv"?Sz(R):U4e(R),L=new ClipboardItem({"text/plain":new Blob([P],{type:"text/plain"}),"text/html":new Blob([M.outerHTML],{type:"text/html"})});await navigator.clipboard.write([L]),u(!0),o(!1),r?.(y),h.current=window.setTimeout(()=>u(!1),i)}catch(C){n?.(C)}},"f");U.useEffect(()=>{let y=a(x=>{c.current&&!c.current.contains(x.target)&&o(!1)},"m");return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y),window.clearTimeout(h.current)}},[]);let m=l?RA:PA;return b.jsxs("div",{className:"relative",ref:c,children:[b.jsx("button",{className:dr("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",t),disabled:d,onClick:a(()=>o(!s),"onClick"),title:"Copy table",type:"button",children:e??b.jsx(m,{size:14})}),s&&b.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[b.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:a(()=>g("csv"),"onClick"),type:"button",children:"CSV"}),b.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:a(()=>g("tsv"),"onClick"),type:"button",children:"TSV"})]})]})},"He"),V4e=a(({children:e,className:t,onDownload:r,onError:n})=>{let[i,s]=U.useState(!1),o=U.useRef(null),{isAnimating:l}=U.useContext(gc),u=a(c=>{var h;try{let d=(h=o.current)==null?void 0:h.closest('[data-streamdown="table-wrapper"]'),g=d?.querySelector("table");if(!g){n?.(new Error("Table not found"));return}let m=Ez(g),y=c==="csv"?Sz(m):H4e(m);n_(`table.${c==="csv"?"csv":"md"}`,y,c==="csv"?"text/csv":"text/markdown"),s(!1),r?.(c)}catch(d){n?.(d)}},"l");return U.useEffect(()=>{let c=a(h=>{o.current&&!o.current.contains(h.target)&&s(!1)},"c");return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),b.jsxs("div",{className:"relative",ref:o,children:[b.jsx("button",{className:dr("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",t),disabled:l,onClick:a(()=>s(!i),"onClick"),title:"Download table",type:"button",children:e??b.jsx(Z2,{size:14})}),i&&b.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[b.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:a(()=>u("csv"),"onClick"),type:"button",children:"CSV"}),b.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:a(()=>u("markdown"),"onClick"),type:"button",children:"Markdown"})]})]})},"Be"),Y4e=/language-([^\s]+)/;function Ig(e,t){if(!(e!=null&&e.position||t!=null&&t.position))return!0;if(!(e!=null&&e.position&&t!=null&&t.position))return!1;let r=e.position.start,n=t.position.start,i=e.position.end,s=t.position.end;return r?.line===n?.line&&r?.column===n?.column&&i?.line===s?.line&&i?.column===s?.column}a(Ig,"G");function sn(e,t){return e.className===t.className&&Ig(e.node,t.node)}a(sn,"v");var M2=a((e,t)=>typeof e=="boolean"?e:e[t]!==!1,"pe"),Ty=a((e,t)=>{if(typeof e=="boolean")return e;let r=e.mermaid;return r===!1?!1:r===!0||r===void 0?!0:r[t]!==!1},"me"),a_=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("ol",{className:dr("ml-4 list-outside list-decimal whitespace-normal",t),"data-streamdown":"ordered-list",...n,children:e}),(e,t)=>sn(e,t));a_.displayName="MarkdownOl";var kz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("li",{className:dr("py-1",t),"data-streamdown":"list-item",...n,children:e}),(e,t)=>e.className===t.className&&Ig(e.node,t.node));kz.displayName="MarkdownLi";var Az=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("ul",{className:dr("ml-4 list-outside list-disc whitespace-normal",t),"data-streamdown":"unordered-list",...n,children:e}),(e,t)=>sn(e,t));Az.displayName="MarkdownUl";var Tz=U.memo(({className:e,node:t,...r})=>b.jsx("hr",{className:dr("my-6 border-border",e),"data-streamdown":"horizontal-rule",...r}),(e,t)=>sn(e,t));Tz.displayName="MarkdownHr";var Nz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("span",{className:dr("font-semibold",t),"data-streamdown":"strong",...n,children:e}),(e,t)=>sn(e,t));Nz.displayName="MarkdownStrong";var Cz=U.memo(({children:e,className:t,href:r,node:n,...i})=>{let s=r==="streamdown:incomplete-link";return b.jsx("a",{className:dr("wrap-anywhere font-medium text-primary underline",t),"data-incomplete":s,"data-streamdown":"link",href:r,rel:"noreferrer",target:"_blank",...i,children:e})},(e,t)=>sn(e,t)&&e.href===t.href);Cz.displayName="MarkdownA";var Iz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("h1",{className:dr("mt-6 mb-2 font-semibold text-3xl",t),"data-streamdown":"heading-1",...n,children:e}),(e,t)=>sn(e,t));Iz.displayName="MarkdownH1";var Mz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("h2",{className:dr("mt-6 mb-2 font-semibold text-2xl",t),"data-streamdown":"heading-2",...n,children:e}),(e,t)=>sn(e,t));Mz.displayName="MarkdownH2";var Oz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("h3",{className:dr("mt-6 mb-2 font-semibold text-xl",t),"data-streamdown":"heading-3",...n,children:e}),(e,t)=>sn(e,t));Oz.displayName="MarkdownH3";var Rz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("h4",{className:dr("mt-6 mb-2 font-semibold text-lg",t),"data-streamdown":"heading-4",...n,children:e}),(e,t)=>sn(e,t));Rz.displayName="MarkdownH4";var Pz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("h5",{className:dr("mt-6 mb-2 font-semibold text-base",t),"data-streamdown":"heading-5",...n,children:e}),(e,t)=>sn(e,t));Pz.displayName="MarkdownH5";var Lz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("h6",{className:dr("mt-6 mb-2 font-semibold text-sm",t),"data-streamdown":"heading-6",...n,children:e}),(e,t)=>sn(e,t));Lz.displayName="MarkdownH6";var Dz=U.memo(({children:e,className:t,node:r,...n})=>{let i=U.useContext(s_),s=M2(i,"table");return b.jsxs("div",{className:"my-4 flex flex-col space-y-2","data-streamdown":"table-wrapper",children:[s&&b.jsxs("div",{className:"flex items-center justify-end gap-1",children:[b.jsx(G4e,{}),b.jsx(V4e,{})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsx("table",{className:dr("w-full border-collapse border border-border",t),"data-streamdown":"table",...n,children:e})})]})},(e,t)=>sn(e,t));Dz.displayName="MarkdownTable";var jz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("thead",{className:dr("bg-muted/80",t),"data-streamdown":"table-header",...n,children:e}),(e,t)=>sn(e,t));jz.displayName="MarkdownThead";var Bz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("tbody",{className:dr("divide-y divide-border bg-muted/40",t),"data-streamdown":"table-body",...n,children:e}),(e,t)=>sn(e,t));Bz.displayName="MarkdownTbody";var zz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("tr",{className:dr("border-border border-b",t),"data-streamdown":"table-row",...n,children:e}),(e,t)=>sn(e,t));zz.displayName="MarkdownTr";var Fz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("th",{className:dr("whitespace-nowrap px-4 py-2 text-left font-semibold text-sm",t),"data-streamdown":"table-header-cell",...n,children:e}),(e,t)=>sn(e,t));Fz.displayName="MarkdownTh";var Uz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("td",{className:dr("px-4 py-2 text-sm",t),"data-streamdown":"table-cell",...n,children:e}),(e,t)=>sn(e,t));Uz.displayName="MarkdownTd";var Hz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("blockquote",{className:dr("my-4 border-muted-foreground/30 border-l-4 pl-4 text-muted-foreground italic",t),"data-streamdown":"blockquote",...n,children:e}),(e,t)=>sn(e,t));Hz.displayName="MarkdownBlockquote";var Gz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("sup",{className:dr("text-sm",t),"data-streamdown":"superscript",...n,children:e}),(e,t)=>sn(e,t));Gz.displayName="MarkdownSup";var Vz=U.memo(({children:e,className:t,node:r,...n})=>b.jsx("sub",{className:dr("text-sm",t),"data-streamdown":"subscript",...n,children:e}),(e,t)=>sn(e,t));Vz.displayName="MarkdownSub";var Yz=U.memo(({children:e,className:t,node:r,...n})=>{if("data-footnotes"in n){let i=a(o=>{var l,u;if(!U.isValidElement(o))return!1;let c=Array.isArray(o.props.children)?o.props.children:[o.props.children],h=!1,d=!1;for(let g of c)if(g){if(typeof g=="string")g.trim()!==""&&(h=!0);else if(U.isValidElement(g))if(((l=g.props)==null?void 0:l["data-footnote-backref"])!==void 0)d=!0;else{let m=Array.isArray(g.props.children)?g.props.children:[g.props.children];for(let y of m){if(typeof y=="string"&&y.trim()!==""){h=!0;break}if(U.isValidElement(y)&&((u=y.props)==null?void 0:u["data-footnote-backref"])===void 0){h=!0;break}}}}return d&&!h},"r"),s=Array.isArray(e)?e.map(o=>{if(!U.isValidElement(o))return o;if(o.type===a_){let l=(Array.isArray(o.props.children)?o.props.children:[o.props.children]).filter(u=>!i(u));return l.length===0?null:{...o,props:{...o.props,children:l}}}return o}):e;return(Array.isArray(s)?s.some(o=>o!==null):s!==null)?b.jsx("section",{className:t,...n,children:s}):null}return b.jsx("section",{className:t,...n,children:e})},(e,t)=>sn(e,t));Yz.displayName="MarkdownSection";var Z4e=a(({node:e,className:t,children:r,...n})=>{var i,s,o;let l=((i=e?.position)==null?void 0:i.start.line)===((s=e?.position)==null?void 0:s.end.line),u=U.useContext(Qz),c=U.useContext(s_);if(l)return b.jsx("code",{className:dr("rounded bg-muted px-1.5 py-0.5 font-mono text-sm",t),"data-streamdown":"inline-code",...n,children:r});let h=t?.match(Y4e),d=(o=h?.at(1))!=null?o:"",g="";if(U.isValidElement(r)&&r.props&&typeof r.props=="object"&&"children"in r.props&&typeof r.props.children=="string"?g=r.props.children:typeof r=="string"&&(g=r),d==="mermaid"){let y=M2(c,"mermaid"),x=Ty(c,"download"),A=Ty(c,"copy"),C=Ty(c,"fullscreen");return b.jsxs("div",{className:dr("group relative my-4 h-auto rounded-xl border p-4",t),"data-streamdown":"mermaid-block",children:[y&&(x||A||C)&&b.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x&&b.jsx(vk,{code:g,language:d}),A&&b.jsx(bk,{code:g}),C&&b.jsx(F4e,{chart:g,config:u})]}),b.jsx(xz,{chart:g,config:u})]})}let m=M2(c,"code");return b.jsx(P4e,{className:dr("overflow-x-auto border-border border-t",t),code:g,"data-language":d,"data-streamdown":"code-block",language:d,preClassName:"overflow-x-auto font-mono text-xs p-4 bg-muted/40",children:m&&b.jsxs(b.Fragment,{children:[b.jsx(vk,{code:g,language:d}),b.jsx(bk,{})]})})},"_t"),Zz=U.memo(Z4e,(e,t)=>e.className===t.className&&Ig(e.node,t.node));Zz.displayName="MarkdownCode";var $z=U.memo(D4e,(e,t)=>e.className===t.className&&Ig(e.node,t.node));$z.displayName="MarkdownImg";var Xz=U.memo(({children:e,className:t,node:r,...n})=>{var i;let s=(Array.isArray(e)?e:[e]).filter(o=>o!=null&&o!=="");return s.length===1&&U.isValidElement(s[0])&&((i=s[0].props.node)==null?void 0:i.tagName)==="img"?b.jsx(b.Fragment,{children:e}):b.jsx("p",{className:t,...n,children:e})},(e,t)=>sn(e,t));Xz.displayName="MarkdownParagraph";var $4e={ol:a_,li:kz,ul:Az,hr:Tz,strong:Nz,a:Cz,h1:Iz,h2:Mz,h3:Oz,h4:Rz,h5:Pz,h6:Lz,table:Dz,thead:jz,tbody:Bz,tr:zz,th:Fz,td:Uz,blockquote:Hz,code:Zz,img:$z,pre:a(({children:e})=>e,"pre"),sup:Gz,sub:Vz,p:Xz,section:Yz},X4e=/\[\^[^\]\s]{1,200}\](?!:)/,J4e=/\[\^[^\]\s]{1,200}\]:/,K4e=/<\/(\w+)>/,W4e=/<(\w+)[\s>]/,Q4e=a(e=>{let t=X4e.test(e),r=J4e.test(e);if(t||r)return[e];let n=Ji.lex(e,{gfm:!0}),i=[],s=[];for(let o of n){let l=o.raw;if(s.length>0){if(i[i.length-1]+=l,o.type==="html"){let u=l.match(K4e);if(u){let c=u[1];s.at(-1)===c&&s.pop()}}continue}if(o.type==="html"&&o.block){let u=l.match(W4e);if(u){let c=u[1];l.includes(`</${c}>`)||s.push(c)}}if(l.trim()==="$$"&&i.length>0){let u=i.at(-1);if(!u){i.push(l);continue}let c=u.trimStart().startsWith("$$"),h=(u.match(/\$\$/g)||[]).length;if(c&&h%2===1){i[i.length-1]=u+l;continue}}if(i.length>0&&l.trimEnd().endsWith("$$")){let u=i.at(-1);if(!u){i.push(l);continue}let c=u.trimStart().startsWith("$$"),h=(u.match(/\$\$/g)||[]).length,d=(l.match(/\$\$/g)||[]).length;if(c&&h%2===1&&!l.trimStart().startsWith("$$")&&d===1){i[i.length-1]=u+l;continue}}i.push(l)}return i},"fe"),q4e=/(!?\[)([^\]]*?)$/,e6e=/(\*\*)([^*]*?)$/,t6e=/(__)([^_]*?)$/,r6e=/(\*\*\*)([^*]*?)$/,n6e=/(\*)([^*]*?)$/,i6e=/(_)([^_]*?)$/,a6e=/(`)([^`]*?)$/,s6e=/(~~)([^~]*?)$/,o6e=/(!?)\[([^\]]+)\]\(([^)]+)$/,tu=/^[\s_~*`]*$/,Jz=/^[\s]*[-*+][\s]+$/,zo=/[\p{L}\p{N}_]/u,l6e=/\n+$/,u6e=/^```[^`\n]*```?$/,c6e=/^\*{4,}$/,Mg=a(e=>{let t=(e.match(/```/g)||[]).length;return t>0&&t%2===0&&e.includes(`
`)},"Z"),d6e=a(e=>{let t=e.match(o6e);if(t){let n=t[1]==="!",i=t[2],s=t[3],o=e.lastIndexOf(`${n?"!":""}[${i}](${s}`),l=e.substring(0,o);return n?l:`${l}[${i}](streamdown:incomplete-link)`}let r=e.match(q4e);if(r){if(r[1].startsWith("!")){let n=e.lastIndexOf(r[1]);return e.substring(0,n)}return`${e}](streamdown:incomplete-link)`}return e},"io"),h6e=a(e=>{if(Mg(e))return e;let t=e.match(e6e);if(t){let r=t[2];if(!r||tu.test(r))return e;let n=e.lastIndexOf(t[1]),i=e.substring(0,n).lastIndexOf(`
`),s=i===-1?0:i+1,o=e.substring(s,n);if(Jz.test(o)&&r.includes(`
`))return e;if((e.match(/\*\*/g)||[]).length%2===1)return`${e}**`}return e},"ao"),f6e=a(e=>{let t=e.match(t6e);if(t){let r=t[2];if(!r||tu.test(r))return e;let n=e.lastIndexOf(t[1]),i=e.substring(0,n).lastIndexOf(`
`),s=i===-1?0:i+1,o=e.substring(s,n);if(Jz.test(o)&&r.includes(`
`))return e;if((e.match(/__/g)||[]).length%2===1)return`${e}__`}return e},"lo"),p6e=a(e=>e.split("").reduce((t,r,n)=>{if(r==="*"){let i=e[n-1],s=e[n+1];if(i==="\\"||i&&s&&zo.test(i)&&zo.test(s))return t;let o=n;for(let l=n-1;l>=0;l--){if(e[l]===`
`){o=l+1;break}if(l===0){o=0;break}}if(e.substring(o,n).trim()===""&&(s===" "||s==="	"))return t;if(i!=="*"&&s!=="*")return t+1}return t},0),"co"),m6e=a(e=>{if(Mg(e))return e;if(e.match(n6e)){let t=-1;for(let n=0;n<e.length;n++)if(e[n]==="*"&&e[n-1]!=="*"&&e[n+1]!=="*"&&e[n-1]!=="\\"){let i=n>0?e[n-1]:"",s=n<e.length-1?e[n+1]:"";if(i&&s&&zo.test(i)&&zo.test(s))continue;t=n;break}if(t===-1)return e;let r=e.substring(t+1);if(!r||tu.test(r))return e;if(p6e(e)%2===1)return`${e}*`}return e},"mo"),Kz=a((e,t)=>{let r=!1,n=!1;for(let i=0;i<e.length&&i<t;i+=1){if(e[i]==="\\"&&e[i+1]==="$"){i+=1;continue}e[i]==="$"&&(e[i+1]==="$"?(n=!n,i+=1,r=!1):n||(r=!r))}return r||n},"it"),g6e=a(e=>e.split("").reduce((t,r,n)=>{if(r==="_"){let i=e[n-1],s=e[n+1];if(i==="\\"||Kz(e,n)||i&&s&&zo.test(i)&&zo.test(s))return t;if(i!=="_"&&s!=="_")return t+1}return t},0),"uo"),v6e=a(e=>{if(Mg(e))return e;if(e.match(i6e)){let t=-1;for(let n=0;n<e.length;n++)if(e[n]==="_"&&e[n-1]!=="_"&&e[n+1]!=="_"&&e[n-1]!=="\\"&&!Kz(e,n)){let i=n>0?e[n-1]:"",s=n<e.length-1?e[n+1]:"";if(i&&s&&zo.test(i)&&zo.test(s))continue;t=n;break}if(t===-1)return e;let r=e.substring(t+1);if(!r||tu.test(r))return e;if(g6e(e)%2===1){let n=e.match(l6e);return n?`${e.slice(0,-n[0].length)}_${n[0]}`:`${e}_`}}return e},"po"),b6e=a((e,t)=>{let r=e.substring(t,t+3)==="```",n=t>0&&e.substring(t-1,t+2)==="```",i=t>1&&e.substring(t-2,t+1)==="```";return r||n||i},"go"),y6e=a(e=>{let t=0;for(let r=0;r<e.length;r+=1)e[r]==="`"&&!b6e(e,r)&&(t+=1);return t},"ho"),w6e=a(e=>{if(e.match(u6e)&&!e.includes(`
`))return e.endsWith("``")&&!e.endsWith("```")?`${e}\``:e;let t=(e.match(/```/g)||[]).length,r=t%2===1;if(t>0&&t%2===0&&e.includes(`
`)||(e.endsWith("```\n")||e.endsWith("```"))&&t%2===0)return e;let n=e.match(a6e);if(n&&!r){let i=n[2];if(!i||tu.test(i))return e;if(y6e(e)%2===1)return`${e}\``}return e},"fo"),_6e=a(e=>{let t=e.match(s6e);if(t){let r=t[2];if(!r||tu.test(r))return e;if((e.match(/~~/g)||[]).length%2===1)return`${e}~~`}return e},"bo"),x6e=a(e=>{if((e.match(/\$\$/g)||[]).length%2===0)return e;let t=e.indexOf("$$");return t!==-1&&e.indexOf(`
`,t)!==-1&&!e.endsWith(`
`)?`${e}
$$`:`${e}$$`},"wo"),E6e=a(e=>{let t=0,r=e.match(/\*+/g)||[];for(let n of r){let i=n.length;i>=3&&(t+=Math.floor(i/3))}return t},"yo"),S6e=a(e=>{if(Mg(e)||c6e.test(e))return e;let t=e.match(r6e);if(t){let r=t[2];if(!r||tu.test(r))return e;if(E6e(e)%2===1)return`${e}***`}return e},"ko"),k6e=a(e=>{if(!e||typeof e!="string")return e;let t=e,r=d6e(t);return r.endsWith("](streamdown:incomplete-link)")?r:(t=r,t=S6e(t),t=h6e(t),t=f6e(t),t=m6e(t),t=v6e(t),t=w6e(t),t=_6e(t),t=x6e(t),t)},"be"),A6e={harden:[Rue,{allowedImagePrefixes:["*"],allowedLinkPrefixes:["*"],defaultOrigin:void 0,allowDataImages:!0}],raw:vpe,katex:[i2,{errorColor:"var(--color-muted-foreground)"}]},T6e={gfm:[Wge,{}],math:[lve,{singleDollarTextMath:!1}],cjkFriendly:[Upe,{}],cjkFriendlyGfmStrikethrough:[Gpe,{}]},Wz=U.createContext(["github-light","github-dark"]),Qz=U.createContext(void 0),s_=U.createContext(!0),gc=U.createContext({isAnimating:!1}),qz=U.memo(({content:e,shouldParseIncompleteMarkdown:t,...r})=>{let n=U.useMemo(()=>typeof e=="string"&&t?k6e(e.trim()):e,[e,t]);return b.jsx(TU,{...r,children:n})},(e,t)=>e.content===t.content);qz.displayName="Block";var N6e=["github-light","github-dark"],eF=U.memo(({children:e,parseIncompleteMarkdown:t=!0,components:r,rehypePlugins:n=Object.values(A6e),remarkPlugins:i=Object.values(T6e),className:s,shikiTheme:o=N6e,mermaidConfig:l,controls:u=!0,isAnimating:c=!1,urlTransform:h=a(y=>y,"d"),BlockComponent:d=qz,parseMarkdownIntoBlocksFn:g=Q4e,...m})=>{let y=U.useId(),x=U.useMemo(()=>g(typeof e=="string"?e:""),[e,g]);U.useEffect(()=>{Array.isArray(n)&&n.some(C=>Array.isArray(C)?C[0]===i2:C===i2)&&ge(()=>Promise.resolve({}),__vite__mapDeps([99]))},[n]);let A=U.useMemo(()=>({isAnimating:c}),[c]);return b.jsx(Wz.Provider,{value:o,children:b.jsx(Qz.Provider,{value:l,children:b.jsx(s_.Provider,{value:u,children:b.jsx(gc.Provider,{value:A,children:b.jsx("div",{className:dr("space-y-4",s),children:x.map((C,M)=>b.jsx(d,{components:{...$4e,...r},content:C,index:M,rehypePlugins:n,remarkPlugins:i,shouldParseIncompleteMarkdown:t,urlTransform:h,...m},`${y}-block-${M}`))})})})})})},(e,t)=>e.children===t.children&&e.shikiTheme===t.shikiTheme&&e.isAnimating===t.isAnimating);eF.displayName="Streamdown";const tF=U.memo(({className:e,shikiTheme:t=["github-dark","github-dark"],...r})=>b.jsx(eF,{className:Ue("size-full [&>*:first-child]:mt-0 [&>*:last-child]:mb-0",e),shikiTheme:t,...r}),(e,t)=>e.children===t.children&&e.className===t.className&&e.isAnimating===t.isAnimating&&JSON.stringify(e.shikiTheme)===JSON.stringify(t.shikiTheme));tF.displayName="Response";const C6e={damping:.7,stiffness:.05,mass:1.25},I6e=70,M6e=1e3/60,O6e=350;let Og=!1;globalThis.document?.addEventListener("mousedown",()=>{Og=!0});globalThis.document?.addEventListener("mouseup",()=>{Og=!1});globalThis.document?.addEventListener("click",()=>{Og=!1});const R6e=a((e={})=>{const[t,r]=U.useState(!1),[n,i]=U.useState(e.initial!==!1),[s,o]=U.useState(!1),l=U.useRef(null);l.current=e;const u=U.useCallback(()=>{if(!Og)return!1;const M=window.getSelection();if(!M||!M.rangeCount)return!1;const R=M.getRangeAt(0);return R.commonAncestorContainer.contains(A.current)||A.current?.contains(R.commonAncestorContainer)},[]),c=U.useCallback(M=>{d.isAtBottom=M,i(M)},[]),h=U.useCallback(M=>{d.escapedFromLock=M,r(M)},[]),d=U.useMemo(()=>{let M;return{escapedFromLock:t,isAtBottom:n,resizeDifference:0,accumulated:0,velocity:0,listeners:new Set,get scrollTop(){return A.current?.scrollTop??0},set scrollTop(R){A.current&&(A.current.scrollTop=R,d.ignoreScrollToTop=A.current.scrollTop)},get targetScrollTop(){return!A.current||!C.current?0:A.current.scrollHeight-1-A.current.clientHeight},get calculatedTargetScrollTop(){if(!A.current||!C.current)return 0;const{targetScrollTop:R}=this;if(!e.targetScrollTop)return R;if(M?.targetScrollTop===R)return M.calculatedScrollTop;const P=Math.max(Math.min(e.targetScrollTop(R,{scrollElement:A.current,contentElement:C.current}),R),0);return M={targetScrollTop:R,calculatedScrollTop:P},requestAnimationFrame(()=>{M=void 0}),P},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=I6e}}},[]),g=U.useCallback((M={})=>{typeof M=="string"&&(M={animation:M}),M.preserveScrollPosition||c(!0);const R=Date.now()+(Number(M.wait)||0),P=Cy(l.current,M.animation),{ignoreEscapes:L=!1}=M;let z,Z=d.calculatedTargetScrollTop;M.duration instanceof Promise?M.duration.finally(()=>{z=Date.now()}):z=R+(M.duration??0);const Y=a(async()=>{const ae=new Promise(requestAnimationFrame).then(()=>{if(!d.isAtBottom)return d.animation=void 0,!1;const{scrollTop:F}=d,W=performance.now(),f=(W-(d.lastTick??W))/M6e;if(d.animation||(d.animation={behavior:P,promise:ae,ignoreEscapes:L}),d.animation.behavior===P&&(d.lastTick=W),u()||R>Date.now())return Y();if(F<Math.min(Z,d.calculatedTargetScrollTop)){if(d.animation?.behavior===P){if(P==="instant")return d.scrollTop=d.calculatedTargetScrollTop,Y();d.velocity=(P.damping*d.velocity+P.stiffness*d.scrollDifference)/P.mass,d.accumulated+=d.velocity*f,d.scrollTop+=d.accumulated,d.scrollTop!==F&&(d.accumulated=0)}return Y()}return z>Date.now()?(Z=d.calculatedTargetScrollTop,Y()):(d.animation=void 0,d.scrollTop<d.calculatedTargetScrollTop?g({animation:Cy(l.current,l.current.resize),ignoreEscapes:L,duration:Math.max(0,z-Date.now())||void 0}):d.isAtBottom)});return ae.then(F=>(requestAnimationFrame(()=>{d.animation||(d.lastTick=void 0,d.velocity=0)}),F))},"next");return M.wait!==!0&&(d.animation=void 0),d.animation?.behavior===P?d.animation.promise:Y()},[c,u,d]),m=U.useCallback(()=>{h(!0),c(!1)},[h,c]),y=U.useCallback(({target:M})=>{if(M!==A.current)return;const{scrollTop:R,ignoreScrollToTop:P}=d;let{lastScrollTop:L=R}=d;d.lastScrollTop=R,d.ignoreScrollToTop=void 0,P&&P>R&&(L=P),o(d.isNearBottom),setTimeout(()=>{if(d.resizeDifference||R===P)return;if(u()){h(!0),c(!1);return}const z=R>L,Z=R<L;if(d.animation?.ignoreEscapes){d.scrollTop=L;return}Z&&(h(!0),c(!1)),z&&h(!1),!d.escapedFromLock&&d.isNearBottom&&c(!0)},1)},[h,c,u,d]),x=U.useCallback(({target:M,deltaY:R})=>{let P=M;for(;!["scroll","auto"].includes(getComputedStyle(P).overflow);){if(!P.parentElement)return;P=P.parentElement}P===A.current&&R<0&&A.current.scrollHeight>A.current.clientHeight&&!d.animation?.ignoreEscapes&&(h(!0),c(!1))},[h,c,d]),A=yk(M=>{A.current?.removeEventListener("scroll",y),A.current?.removeEventListener("wheel",x),M?.addEventListener("scroll",y,{passive:!0}),M?.addEventListener("wheel",x,{passive:!0})},[]),C=yk(M=>{if(d.resizeObserver?.disconnect(),!M)return;let R;d.resizeObserver=new ResizeObserver(([P])=>{const{height:L}=P.contentRect,z=L-(R??L);if(d.resizeDifference=z,d.scrollTop>d.targetScrollTop&&(d.scrollTop=d.targetScrollTop),o(d.isNearBottom),z>=0){const Z=Cy(l.current,R?l.current.resize:l.current.initial);g({animation:Z,wait:!0,preserveScrollPosition:!0,duration:Z==="instant"?void 0:O6e})}else d.isNearBottom&&(h(!1),c(!0));R=L,requestAnimationFrame(()=>{setTimeout(()=>{d.resizeDifference===z&&(d.resizeDifference=0)},1)})}),d.resizeObserver?.observe(M)},[]);return{contentRef:C,scrollRef:A,scrollToBottom:g,stopScroll:m,isAtBottom:n||s,isNearBottom:s,escapedFromLock:t,state:d}},"useStickToBottom");function yk(e,t){const r=U.useCallback(n=>(r.current=n,e(n)),t);return r}a(yk,"useRefCallback");const Ny=new Map;function Cy(...e){const t={...C6e};let r=!1;for(const i of e){if(i==="instant"){r=!0;continue}typeof i=="object"&&(r=!1,t.damping=i.damping??t.damping,t.stiffness=i.stiffness??t.stiffness,t.mass=i.mass??t.mass)}const n=JSON.stringify(t);return Ny.has(n)||Ny.set(n,Object.freeze(t)),r?"instant":Ny.get(n)}a(Cy,"mergeAnimations");function P6e(e={}){const{smooth:t=!1}=e,r=U.useRef(!1),n=R6e({initial:t?"smooth":"instant",resize:t?"smooth":"instant"}),[i,s]=U.useState({isAtBottom:!0,autoScrollEnabled:!0});U.useEffect(()=>{n.isAtBottom?(r.current=!1,s({isAtBottom:!0,autoScrollEnabled:!0})):s(c=>({...c,isAtBottom:!1,autoScrollEnabled:r.current?!1:c.autoScrollEnabled}))},[n.isAtBottom]);const o=U.useCallback(u=>{const c=u?"instant":t?"smooth":"instant";n.scrollToBottom({animation:c,preserveScrollPosition:!1}),s({isAtBottom:!0,autoScrollEnabled:!0}),r.current=!1},[n.scrollToBottom,t]),l=U.useCallback(()=>{n.isAtBottom||(r.current=!0,n.stopScroll(),s(u=>({...u,autoScrollEnabled:!1})))},[n.isAtBottom,n.stopScroll]);return{scrollRef:n.scrollRef,contentRef:n.contentRef,isAtBottom:i.isAtBottom,autoScrollEnabled:i.autoScrollEnabled,scrollToBottom:a(()=>o(!1),"scrollToBottom"),disableAutoScroll:l,_stickToBottom:n}}a(P6e,"useAutoScroll");const L6e=a(({className:e,...t})=>b.jsx(MU,{className:Ue("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),"ResizablePanelGroup"),wk=IU,D6e=a(({withHandle:e,className:t,...r})=>b.jsx(OU,{className:Ue("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...r,children:e&&b.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:b.jsx(RU,{className:"h-2.5 w-2.5"})})}),"ResizableHandle"),O2=U.forwardRef(({mainAction:e,actions:t,variant:r="default",size:n="default",disabled:i,className:s,mainButtonClassName:o,dropdownButtonClassName:l},u)=>{const c=U.useRef(null),[h,d]=U.useState();return U.useImperativeHandle(u,()=>c.current,[]),U.useLayoutEffect(()=>{c.current&&d(c.current.offsetWidth)},[t.length,e.label]),b.jsxs("div",{ref:c,className:Ue("flex w-full",s),children:[b.jsxs(dt,{type:"button",variant:r,size:n,onClick:e.onClick,disabled:i||e.disabled,className:Ue("rounded-r-none flex-1",r==="destructive"?"border-r border-red-700":"border-r-0",o),children:[e.icon&&b.jsx("span",{className:"mr-2",children:e.icon}),e.label]}),b.jsxs(Pd,{children:[b.jsx(Ld,{asChild:!0,children:b.jsxs(dt,{type:"button",variant:r,size:n,disabled:i,className:Ue("rounded-l-none px-2 flex-shrink-0",l),children:[b.jsx(as,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"More options"})]})}),b.jsx(Dd,{align:"end",style:{width:h},children:t.map((g,m)=>b.jsxs(U.Fragment,{children:[b.jsxs(Ja,{onClick:g.onClick,disabled:g.disabled,className:Ue(g.variant==="destructive"&&"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50"),children:[g.icon,g.label]}),m<t.length-1&&b.jsx(j0,{})]},m))})]})]})});O2.displayName="SplitButton";const j6e=$2,B6e=PU,z6e=LU,F6e=a(({toolPart:e,defaultOpen:t=!1,className:r})=>{const[n,i]=U.useState(t),{state:s,input:o,output:l,toolCallId:u}=e,c=a(()=>{switch(s){case"input-streaming":return b.jsx(Fn,{className:"h-4 w-4 animate-spin text-blue-500"});case"input-available":return b.jsx(Al,{className:"h-4 w-4 text-orange-500"});case"output-available":return b.jsx(gA,{className:"h-4 w-4 text-green-500"});case"output-error":return b.jsx(DU,{className:"h-4 w-4 text-red-500"});default:return b.jsx(Al,{className:"text-muted-foreground h-4 w-4"})}},"getStateIcon"),h=a(()=>{const g="px-2 py-1 rounded-full text-xs font-medium";switch(s){case"input-streaming":return b.jsx("span",{className:Ue(g,"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"),children:"Processing"});case"input-available":return b.jsx("span",{className:Ue(g,"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"),children:"Ready"});case"output-available":return b.jsx("span",{className:Ue(g,"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"),children:"Completed"});case"output-error":return b.jsx("span",{className:Ue(g,"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:"Error"});default:return b.jsx("span",{className:Ue(g,"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"),children:"Pending"})}},"getStateBadge"),d=a(g=>g===null?"null":g===void 0?"undefined":typeof g=="string"?g:typeof g=="object"?JSON.stringify(g,null,2):String(g),"formatValue");return b.jsx("div",{className:Ue("border-border mt-3 overflow-hidden rounded-lg border",r),children:b.jsxs(j6e,{open:n,onOpenChange:i,children:[b.jsx(B6e,{asChild:!0,children:b.jsxs(dt,{variant:"ghost",className:"bg-background h-auto w-full justify-between rounded-b-none px-3 py-2 font-normal",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[c(),b.jsx("span",{className:"font-mono text-sm font-medium",children:e.type}),h()]}),b.jsx(as,{className:Ue("h-4 w-4",n&&"rotate-180")})]})}),b.jsx(z6e,{className:Ue("border-border border-t","data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down overflow-hidden"),children:b.jsxs("div",{className:"bg-background space-y-3 p-3",children:[o&&Object.keys(o).length>0&&b.jsxs("div",{children:[b.jsx("h4",{className:"text-muted-foreground mb-2 text-sm font-medium",children:"Input"}),b.jsx("div",{className:"bg-background rounded border p-2 font-mono text-sm",children:Object.entries(o).map(([g,m])=>b.jsxs("div",{className:"mb-1",children:[b.jsxs("span",{className:"text-muted-foreground",children:[g,":"]})," ",b.jsx("span",{children:d(m)})]},g))})]}),l&&b.jsxs("div",{children:[b.jsx("h4",{className:"text-muted-foreground mb-2 text-sm font-medium",children:"Output"}),b.jsx("div",{className:"bg-background max-h-60 overflow-auto rounded border p-2 font-mono text-sm",children:b.jsx("pre",{className:"whitespace-pre-wrap",children:d(l)})})]}),s==="output-error"&&e.errorText&&b.jsxs("div",{children:[b.jsx("h4",{className:"mb-2 text-sm font-medium text-red-500",children:"Error"}),b.jsx("div",{className:"bg-background rounded border border-red-200 p-2 text-sm dark:border-red-950 dark:bg-red-900/20",children:e.errorText})]}),s==="input-streaming"&&b.jsx("div",{className:"text-muted-foreground text-sm",children:"Processing tool call..."}),u&&b.jsx("div",{className:"text-muted-foreground border-t border-blue-200 pt-2 text-xs",children:b.jsxs("span",{className:"font-mono",children:["Call ID: ",u]})})]})})]})})},"Tool");function U6e({agentId:e,channelId:t,chatType:r}){const[n,i]=U.useState([]),s=U.useRef(new Set),{toast:o}=Br(),l=Mr();U.useEffect(()=>()=>{s.current.forEach(y=>URL.revokeObjectURL(y)),s.current.clear()},[]);const u=U.useCallback(y=>{const M=Array.from(y.target.files||[]).filter(R=>R.type.startsWith("image/")||R.type.startsWith("video/")||R.type.startsWith("audio/")||R.type==="application/pdf"||R.type==="application/msword"||R.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||R.type==="application/vnd.ms-excel"||R.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||R.type==="application/vnd.ms-powerpoint"||R.type==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||R.type.startsWith("text/")).filter(R=>!n.some(P=>P.file.name===R.name&&P.file.size===R.size&&P.file.lastModified===R.lastModified)).map(R=>({file:R,id:Fs(),isUploading:!1}));i(R=>{const P=[...R,...M];return Array.from(new Map(P.map(L=>[`${L.file.name}-${L.file.size}`,L])).values())}),y.target&&(y.target.value="")},[n]),c=U.useCallback(y=>{i(x=>{const A=x.find(C=>C.id===y);return A?.blobUrl&&(URL.revokeObjectURL(A.blobUrl),s.current.delete(A.blobUrl)),x.filter(C=>C.id!==y)})},[]),h=U.useCallback(y=>y.map(A=>{const C=URL.createObjectURL(A.file);return s.current.add(C),A.blobUrl=C,{id:A.id,url:C,title:A.file.name,contentType:Bv(A.file.type),isUploading:!0}}).filter(A=>A.contentType!==void 0),[]),d=U.useCallback(async y=>{if(!y.length)return{uploaded:[],failed:[],blobUrls:[]};const x=y.map(async P=>{try{const L=r===Gt.DM&&e?await l.media.uploadAgentMedia(e,{file:P.file,filename:P.file.name}):await l.media.uploadChannelMedia(t,P.file);return{success:!0,media:{id:P.id,url:L.url,title:P.file.name,source:"file_upload",contentType:Bv(P.file.type)}}}catch(L){return qe.error(`Failed to upload ${P.file.name}:`,L),o({title:`Upload Failed: ${P.file.name}`,description:L instanceof Error?L.message:"Upload failed",variant:"destructive"}),{success:!1,file:P,error:L instanceof Error?L.message:"Upload failed"}}}),A=await Promise.allSettled(x),C=[],M=[],R=[];return A.forEach((P,L)=>{P.status==="fulfilled"?P.value.success&&"media"in P.value?C.push(P.value.media):"file"in P.value&&M.push(P.value):M.push({file:y[L],error:P.reason?.message||"Upload failed"})}),y.forEach(P=>{P.blobUrl&&R.push(P.blobUrl)}),{uploaded:C,failed:M,blobUrls:R}},[r,e,t,o]),g=U.useCallback(y=>{y.forEach(x=>{URL.revokeObjectURL(x),s.current.delete(x)})},[]),m=U.useCallback(()=>{n.forEach(y=>{y.blobUrl&&(URL.revokeObjectURL(y.blobUrl),s.current.delete(y.blobUrl))}),i([])},[n]);return{selectedFiles:n,setSelectedFiles:i,handleFileChange:u,removeFile:c,createBlobUrls:h,uploadFiles:d,cleanupBlobUrls:g,clearFiles:m,getContentTypeFromMimeType:Bv}}a(U6e,"useFileUpload");function H6e({channelId:e,currentUserId:t,contextId:r,chatType:n,allAgents:i,messages:s,onAddMessage:o,onUpdateMessage:l,onDeleteMessage:u,onClearMessages:c,onInputDisabledChange:h}){const d=Qi.getInstance(),g=U.useRef(null),m=U.useRef(null),y=U.useCallback(async(x,A,C,M,R,P,L)=>{const z=L||e;if(!z){qe.error("[useSocketChat] Cannot send message: no channel ID available");return}const Z={...P,channelType:n,...n===Gt.DM&&{isDm:!0,targetUserId:r}};await d.sendMessage(x,z,A,C,M,R,Z)},[e,d,n,r]);return U.useEffect(()=>{if(!e||!t){m.current&&(qe.info(`[useSocketChat] useEffect: channelId is now null/undefined, resetting joinedChannelRef from ${m.current}`),m.current=null);return}d.initialize(t),e!==m.current?(qe.info(`[useSocketChat] useEffect: Joining channel ${e}. Previous joinedChannelRef: ${m.current}`),d.joinChannel(e),m.current=e):qe.info(`[useSocketChat] useEffect: Channel ${e} already marked as joined by this instance. Skipping joinChannel call.`);const x=a(f=>{if(qe.info("[useSocketChat] Received raw messageBroadcast data:",JSON.stringify(f)),(f.channelId||f.roomId)!==e)return;const v=f.senderId===t,_=n===Gt.DM?f.senderId===r:i.some(T=>T.id===f.senderId);!v&&_&&h(!1);const S=f.clientMessageId;if(S&&v)l(S,{id:f.id||Fs(),isLoading:!1,createdAt:typeof f.createdAt=="number"?f.createdAt:Date.parse(f.createdAt),text:f.text,attachments:f.attachments,isAgent:!1});else{const T={id:f.id||Fs(),text:f.text,name:f.senderName,senderId:f.senderId,isAgent:_,createdAt:typeof f.createdAt=="number"?f.createdAt:Date.parse(f.createdAt),channelId:f.channelId||f.roomId,serverId:f.serverId,source:f.source,attachments:f.attachments,thought:f.thought,actions:f.actions,isLoading:!1,prompt:f.prompt,rawMessage:f.rawMessage};s.some(k=>k.id===f.id)||(qe.info("[useSocketChat] Adding new UiMessage:",JSON.stringify(T)),o(T),_&&T.id?g.current=T.id:g.current=null)}},"handleMessageBroadcasting"),A=a(f=>{(f.channelId||f.roomId)===e&&h(!1)},"handleMessageComplete"),C=a(f=>{(f.channelId||f.roomId)===e&&(f.action==="disable_input"?h(!0):f.action==="enable_input"&&h(!1))},"handleControlMessage"),M=a(f=>{(f.channelId||f.roomId)===e&&f.messageId&&u(f.messageId)},"handleMessageDeleted"),R=a(f=>{(f.channelId||f.roomId)===e&&c()},"handleChannelCleared"),P=a(f=>{(f.channelId||f.roomId)===e&&c()},"handleChannelDeleted"),L=d.evtMessageBroadcast.attach(f=>(f.channelId||f.roomId)===e,x),z=d.evtMessageComplete.attach(f=>(f.channelId||f.roomId)===e,A),Z=d.evtControlMessage.attach(f=>(f.channelId||f.roomId)===e,C),Y=d.evtMessageDeleted.attach(f=>(f.channelId||f.roomId)===e,M),ae=d.evtChannelCleared.attach(f=>(f.channelId||f.roomId)===e,R),F=d.evtChannelDeleted.attach(f=>(f.channelId||f.roomId)===e,P);return()=>{e&&(qe.info(`[useSocketChat] useEffect cleanup: Leaving channel ${e}. Current joinedChannelRef: ${m.current}`),d.leaveChannel(e),e===m.current&&(m.current=null,qe.info(`[useSocketChat] useEffect cleanup: Reset joinedChannelRef for ${e}`))),W([L,z,Z,Y,ae,F])};function W(f){f.forEach(w=>w?.detach())}},[e,t,d]),{sendMessage:y,animatedMessageId:g.current}}a(H6e,"useSocketChat");const G6e=new Set(["jpg","jpeg","png","gif","webp","svg","bmp","ico","tiff","avif"]),V6e=new Set(["mp4","webm","mov","avi","mkv","flv","wmv","m4v","ogv"]),Y6e={youtube:{patterns:[/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/],getEmbedUrl:a(e=>`https://www.youtube.com/embed/${e}`,"getEmbedUrl")},vimeo:{patterns:[/(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(\d+)/],getEmbedUrl:a(e=>`https://player.vimeo.com/video/${e}`,"getEmbedUrl")}};function rF(e){try{return new URL(e).pathname.split(".").pop()?.toLowerCase()||""}catch{return""}}a(rF,"getFileExtension");function Z6e(e){const t=rF(e);return G6e.has(t)}a(Z6e,"isImageUrl");function $6e(e){const t=rF(e);return V6e.has(t)}a($6e,"isVideoFileUrl");function nF(e){for(const[t,r]of Object.entries(Y6e))for(const n of r.patterns){const i=e.match(n);if(i&&i[1])return{platform:t,id:i[1],embedUrl:r.getEmbedUrl(i[1])}}return null}a(nF,"getVideoPlatformInfo");function iF(e){if(!e)return[];const t=/(https?:\/\/[^\s]+)/g;return(e.match(t)||[]).map(n=>{const i=n.replace(/[.,!?;)]*$/,"");if(Z6e(i))return{url:i,type:"image",isEmbed:!1};if($6e(i))return{url:i,type:"video",isEmbed:!1};const s=nF(i);return s?{url:s.embedUrl,type:"video",isEmbed:!0}:{url:i,type:"unknown",isEmbed:!1}}).filter(n=>n.type!=="unknown")}a(iF,"parseMediaFromText");function X6e(e,t){let r=e;return t.forEach(n=>{if(n.isEmbed){const i=/(https?:\/\/[^\s]+)/g,s=e.match(i)||[];for(const o of s){const l=o.replace(/[.,!?;)]*$/,""),u=nF(l);if(u&&u.embedUrl===n.url){r=r.replace(o,"").trim();break}}}else r=r.replace(n.url,"").trim()}),r}a(X6e,"removeMediaUrlsFromText");const i0=15;function aF(e){return(e.includes("TEXT")||e.includes("OBJECT"))&&!e.includes("EMBEDDING")&&!e.includes("TRANSCRIPTION")?"LLM":e.includes("EMBEDDING")?"Embedding":e.includes("TRANSCRIPTION")?"Transcription":e.includes("IMAGE")?"Image":!e.includes("TEXT")&&!e.includes("IMAGE")&&!e.includes("EMBEDDING")&&!e.includes("TRANSCRIPTION")?"Other":"Unknown"}a(aF,"getModelUsageType");function J6e(e){if(!e)return"Unknown date";const t=new Date(e),r=new Date,n=(r.getTime()-t.getTime())/(1e3*60*60);return n<1?`${Math.floor((r.getTime()-t.getTime())/6e4)}m ago`:n<24?`${Math.floor(n)}h ago`:n<168?t.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}a(J6e,"formatDate");function K6e(e=""){return e==="ACTION"?X2:e.includes("TEXT_EMBEDDING")?P0:e.includes("TRANSCRIPTION")?ml:e.includes("TEXT")||e.includes("OBJECT")?J2:e.includes("IMAGE")?jU:LA}a(K6e,"getModelIcon");function W6e(e){if(!e)return null;const{prompt_tokens:t,completion_tokens:r,total_tokens:n}=e;return n?{prompt:t||0,completion:r||0,total:n}:null}a(W6e,"formatTokenUsage");function _k(e,t=100){return e.length<=t?e:e.substring(0,t)+"..."}a(_k,"truncateText");function a0(e){navigator.clipboard.writeText(e).catch(console.error)}a(a0,"copyToClipboard");function Q6e(e){const t={};for(const r of e){const n=r.createdAt||r.timestamp||0,s=new Date(n).toLocaleDateString();t[s]||(t[s]=[]),t[s].push(r)}return t}a(Q6e,"groupActionsByDate");function q6e({action:e,onDelete:t}){const[r,n]=U.useState(!1),[i,s]=U.useState(!1),[o,l]=U.useState(!1),u=e.body?.modelType||"",c=e.body?.modelKey||"",h=e.type==="action",d=e.body?.action||"",g=K6e(h?"ACTION":u),m=h?"Action":aF(u),y=W6e(e.body?.response?.usage||e.body?.usage),x=e.body?.prompts,A=a(()=>{const R=e.body?.params;if(!R&&!x)return null;if(u.includes("TRANSCRIPTION")&&Array.isArray(R))return b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(ml,{className:"h-3 w-3"}),b.jsx("span",{children:"Audio input data"})]});const{prompt:P,...L}=R||{};return b.jsxs("div",{className:"space-y-4",children:[x&&Array.isArray(x)&&x.length>0&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Prompts (",x.length,")"]})}),b.jsx("div",{className:"space-y-3",children:x.map((z,Z)=>b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("span",{className:"text-xs text-muted-foreground",children:[z.modelType||"Prompt"," #",Z+1]}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(()=>a0(z.prompt),"onClick"),className:"h-5 px-1 text-xs",title:"Copy prompt",children:b.jsx(Xa,{className:"h-3 w-3"})})]}),b.jsx("div",{className:"bg-muted/30 rounded-md p-2",children:b.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:z.prompt})})]},Z))})]}),!x&&P&&b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Prompt"}),b.jsxs(dt,{variant:"ghost",size:"sm",onClick:a(()=>a0(P),"onClick"),className:"h-6 px-2 text-xs",title:"Copy prompt",children:[b.jsx(Xa,{className:"h-3 w-3 mr-1"}),"Copy"]})]}),b.jsx("div",{className:"bg-muted/30 rounded-md p-3 relative",children:b.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:typeof P=="string"?P:JSON.stringify(P,null,2)})})]}),Object.keys(L).length>0&&b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Other Parameters"}),JSON.stringify(L,null,2).length>200?b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(()=>s(!i),"onClick"),className:"h-6 px-2 text-xs",children:i?"Show less":"Show more"}):null]}),b.jsxs("div",{className:"bg-muted/30 rounded-md p-3 relative group",children:[b.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:(()=>{const z=JSON.stringify(L,null,2),Z=z.length>200;return i||!Z?z:_k(z,200)})()}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(()=>a0(JSON.stringify(L,null,2)),"onClick"),className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy parameters",children:b.jsx(Xa,{className:"h-3 w-3"})})]})]})]})},"renderParams"),C=a(()=>{const R=e.body?.response;if(!R)return null;if(R==="[array]")return b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(No,{className:"h-3 w-3"}),b.jsx("span",{children:"Array response data"})]});const P=typeof R=="object"?JSON.stringify(R,null,2):String(R),L=P.length>300;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Response"}),L&&b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(()=>l(!o),"onClick"),className:"h-6 px-2 text-xs",children:o?"Show less":"Show more"})]}),b.jsxs("div",{className:"bg-muted/30 rounded-md p-3 relative group max-h-64 overflow-y-auto",children:[b.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:o||!L?P:_k(P,300)}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(()=>a0(P),"onClick"),className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy response",children:b.jsx(Xa,{className:"h-3 w-3"})})]})]})},"renderResponse"),M=e.body?.params||e.body?.response||e.message||e.details;return b.jsxs("div",{className:"border rounded-lg bg-card hover:shadow-sm transition-all duration-200 group",children:[b.jsx("div",{className:"p-4 pb-3",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[b.jsx("div",{className:"p-2 rounded-lg bg-muted",children:b.jsx(g,{className:"h-4 w-4 text-muted-foreground"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("h4",{className:"font-semibold text-sm",children:h?d:m}),b.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:h?"Action":u}),e.body?.promptCount&&e.body.promptCount>1&&b.jsxs(ya,{variant:"secondary",className:"text-xs px-1.5",children:[e.body.promptCount," prompts"]})]}),b.jsxs("div",{className:"space-y-1",children:[(c||h)&&b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(X2,{className:"h-3 w-3"}),b.jsx("code",{className:"font-mono",children:h?`Action ID: ${e.body?.actionId?.slice(-8)||"N/A"}`:c})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(rm,{className:"h-3 w-3"}),b.jsx("span",{children:J6e(e.createdAt||e.timestamp)}),e.id&&b.jsxs(b.Fragment,{children:[b.jsx("span",{children:""}),b.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:e.id.slice(-8)})]})]})]}),y&&b.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"text-muted-foreground",children:"Tokens:"}),b.jsx("span",{className:"font-mono",children:y.total.toLocaleString()})]}),y.prompt>0&&b.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[b.jsx("span",{children:"In:"}),b.jsx("span",{className:"font-mono",children:y.prompt.toLocaleString()})]}),y.completion>0&&b.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[b.jsx("span",{children:"Out:"}),b.jsx("span",{className:"font-mono",children:y.completion.toLocaleString()})]})]})]})]}),b.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[M&&b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(()=>n(!r),"onClick"),className:"h-8 w-8 p-0",title:r?"Collapse details":"Expand details",children:r?b.jsx(tA,{className:"h-3 w-3"}):b.jsx(as,{className:"h-3 w-3"})}),e.id&&t&&b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(()=>{typeof e.id=="string"&&t(e.id)},"onClick"),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",title:"Delete log entry",children:b.jsx(kl,{className:"h-3 w-3"})})]})]})}),r&&M&&b.jsxs(b.Fragment,{children:[b.jsx(Bi,{}),b.jsxs("div",{className:"p-4 pt-3 space-y-4",children:[A(),C(),(e.message||e.details)&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Additional Info"}),b.jsxs("div",{className:"bg-muted/30 rounded-md p-3",children:[e.message&&b.jsxs("div",{className:"text-xs mb-2",children:[b.jsx("span",{className:"font-medium text-muted-foreground",children:"Message: "}),b.jsx("span",{children:e.message})]}),e.details&&b.jsxs("div",{className:"text-xs",children:[b.jsx("span",{className:"font-medium text-muted-foreground",children:"Details: "}),b.jsx("span",{children:e.details})]})]})]})]})]}),!r&&M&&b.jsxs(b.Fragment,{children:[b.jsx(Bi,{}),b.jsx("div",{className:"p-4 pt-3",children:b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(ea,{className:"h-3 w-3"}),b.jsx("span",{children:(()=>{const R=[];return e.body?.promptCount&&e.body.promptCount>0&&R.push(`${e.body.promptCount} prompt${e.body.promptCount>1?"s":""}`),e.body?.params&&R.push("parameters"),e.body?.response&&R.push("response data"),R.length>0?`Contains ${R.join(" and ")}`:"Contains additional data"})()}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(()=>n(!0),"onClick"),className:"h-5 px-2 text-xs ml-auto",children:"View details"})]})})]})]})}a(q6e,"ActionCard");function ewe({loadingMore:e,onLoadMore:t}){return b.jsx("div",{className:"flex justify-center py-6",children:e?b.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[b.jsx(Td,{className:"h-4 w-4 animate-spin"}),b.jsx("span",{className:"text-sm",children:"Loading more actions..."})]}):b.jsx(dt,{variant:"outline",onClick:t,className:"px-8",children:"Load More"})})}a(ewe,"LoadingIndicator");function twe({selectedType:e,searchQuery:t}){return b.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center p-8",children:[b.jsx(No,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),b.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Actions Found"}),b.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:t?`No actions match "${t}". Try adjusting your search or filter.`:e==="all"?"Actions will appear here once the agent has performed operations.":`No ${e} actions found.`}),t&&b.jsx(dt,{variant:"outline",onClick:a(()=>{},"onClick"),children:"Clear Search"})]})}a(twe,"EmptyState");function rwe({agentId:e,roomId:t}){const[r,n]=U.useState("all"),[i,s]=U.useState(""),[o,l]=U.useState(i0),[u,c]=U.useState(!1),h=U.useRef(null),d=["embedding","text_embedding"],{data:g=[],isLoading:m,error:y}=dle(e,t,d),{mutate:x}=hle(),{confirm:A,isOpen:C,onOpenChange:M,onConfirm:R,options:P}=Xl(),L=g.filter(f=>{if(r!=="all"){const w=f.body?.modelType||"",v=aF(w),_=f.type==="action";switch(r){case"llm":if(v!=="LLM"&&!_)return!1;break;case"transcription":if(v!=="Transcription")return!1;break;case"image":if(v!=="Image")return!1;break;case"other":if(v!=="Other"&&v!=="Unknown"&&!_)return!1;break}}if(i.trim()){const w=i.toLowerCase();return[f.body?.modelType,f.body?.modelKey,f.id,f.message,JSON.stringify(f.body?.params),JSON.stringify(f.body?.response)].filter(Boolean).join(" ").toLowerCase().includes(w)}return!0}),z=U.useCallback(()=>{if(!h.current||u||o>=L.length)return;const{scrollTop:f,scrollHeight:w,clientHeight:v}=h.current;f+v>=w-200&&(c(!0),setTimeout(()=>{l(S=>Math.min(S+i0,L.length)),c(!1)},500))},[u,o,L.length]);U.useEffect(()=>{l(i0)},[r,i]),U.useEffect(()=>{const f=h.current;if(f)return f.addEventListener("scroll",z),()=>f.removeEventListener("scroll",z)},[z]);const Z=L.slice(0,o),Y=o<L.length,ae=Q6e(Z),F=a(f=>{A({title:"Delete Log Entry",description:"Are you sure you want to permanently delete this log entry? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},()=>{x({agentId:e,logId:f})})},"handleDelete"),W=a(()=>{l(f=>f+i0)},"handleLoadMore");return m&&g.length===0?b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx("div",{className:"flex items-center justify-center flex-1",children:b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx(Td,{className:"h-8 w-8 animate-spin text-muted-foreground"}),b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"font-medium",children:"Loading Actions"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching agent action history..."})]})]})})}):y?b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx("div",{className:"flex items-center justify-center flex-1",children:b.jsxs("div",{className:"text-center",children:[b.jsx(No,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),b.jsx("h3",{className:"font-medium text-destructive",children:"Failed to Load Actions"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"There was an error loading the agent actions."})]})})}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4 px-4 pt-4 flex-none border-b pb-3",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h3",{className:"text-lg font-medium",children:" Actions"}),!m&&b.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:L.length})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"relative",children:[b.jsx(Eh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(pn,{placeholder:"Search actions...",value:i,onChange:a(f=>s(f.target.value),"onChange"),className:"pl-10 w-64"})]}),b.jsxs(Ys,{value:r,onValueChange:a(f=>n(f),"onValueChange"),children:[b.jsx(es,{className:"w-40",children:b.jsx(Zs,{placeholder:"Filter actions"})}),b.jsxs(ts,{children:[b.jsx(Ar,{value:"all",children:"All Actions"}),b.jsx(Ar,{value:"llm",children:"LLM Calls"}),b.jsx(Ar,{value:"transcription",children:"Transcriptions"}),b.jsx(Ar,{value:"image",children:"Image Operations"}),b.jsx(Ar,{value:"other",children:"Other"})]})]})]})]}),b.jsx("div",{ref:h,className:"flex-1 overflow-y-auto px-4",children:L.length===0?b.jsx(twe,{selectedType:r,searchQuery:i}):b.jsxs("div",{className:"space-y-4",children:[Object.entries(ae).map(([f,w])=>b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-center gap-3 py-2",children:[b.jsx(Bi,{className:"flex-1"}),b.jsx("span",{className:"text-sm font-medium text-muted-foreground px-2",children:f}),b.jsx(Bi,{className:"flex-1"})]}),b.jsx("div",{className:"space-y-3",children:w.map((v,_)=>b.jsx(q6e,{action:v,onDelete:F},v.id||_))})]},f)),Y&&b.jsx(ewe,{loadingMore:u,onLoadMore:W})]})})]}),b.jsx($l,{open:C,onOpenChange:M,title:P?.title||"",description:P?.description||"",confirmText:P?.confirmText,cancelText:P?.cancelText,variant:P?.variant,onConfirm:R})]})}a(rwe,"AgentActionViewer");function nwe({isOpen:e,onClose:t,memory:r,agentId:n}){const{toast:i}=Br(),{mutate:s,isPending:o}=ple(),{mutate:l,isPending:u}=fle(),[c,h]=U.useState(""),[d,g]=U.useState(!0),[m,y]=U.useState(!1),[x,A]=U.useState(!1),C=U.useRef(null),M=o||u,R=JSON.stringify(r.content,null,2),{confirm:P,isOpen:L,onOpenChange:z,onConfirm:Z,options:Y}=Xl();U.useEffect(()=>{e&&(h(R),g(!0),A(!1),y(!1),setTimeout(()=>{C.current?.focus()},100))},[e,R]),U.useEffect(()=>{A(c!==R)},[c,R]),U.useEffect(()=>{if(!c.trim()){g(!1);return}try{JSON.parse(c),g(!0)}catch{g(!1)}},[c]),U.useEffect(()=>{const S=a(T=>{T.key==="Escape"&&e&&(x?P({title:"Discard Unsaved Changes?",description:"You have unsaved changes. Are you sure you want to close without saving?",confirmText:"Discard",variant:"destructive"},()=>{t()}):t())},"handleEscape");return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[e,x,t]);const ae=U.useCallback(()=>{if(!c.trim()){i({title:"Error",description:"Memory content cannot be empty",variant:"destructive"});return}if(!d){i({title:"Invalid JSON",description:"Please fix JSON syntax errors before saving",variant:"destructive"});return}try{const S=JSON.parse(c);s({agentId:n,memoryId:r.id,memoryData:{content:S}},{onSuccess:a(()=>{t(),i({title:"Memory Updated",description:"The memory content has been successfully updated"})},"onSuccess"),onError:a(T=>{i({title:"Update Failed",description:T.message||"Failed to update memory",variant:"destructive"})},"onError")})}catch{i({title:"Invalid JSON",description:"Please enter valid JSON format",variant:"destructive"})}},[c,d,s,n,r.id,t,i]),F=U.useCallback(()=>{P({title:"Delete Memory",description:"Are you sure you want to delete this memory? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},()=>{l({agentId:n,memoryId:r.id},{onSuccess:a(()=>{t(),i({title:"Memory Deleted",description:"The memory has been successfully removed"})},"onSuccess"),onError:a(S=>{i({title:"Delete Failed",description:S.message||"Failed to delete memory",variant:"destructive"})},"onError")})})},[l,n,r.id,t,i]),W=U.useCallback(()=>{try{const S=JSON.parse(c);h(JSON.stringify(S,null,2)),i({title:"Formatted",description:"JSON has been formatted"})}catch{i({title:"Format Error",description:"Cannot format invalid JSON",variant:"destructive"})}},[c,i]),f=U.useCallback(()=>{P({title:"Reset Changes",description:"Reset to original content? All unsaved changes will be lost.",confirmText:"Reset",variant:"destructive"},()=>{h(R)})},[R]),w=U.useCallback(async()=>{try{await navigator.clipboard.writeText(c),i({title:"Copied",description:"Content copied to clipboard"})}catch{i({title:"Copy Failed",description:"Failed to copy to clipboard",variant:"destructive"})}},[c,i]),v=a(S=>new Date(S).toLocaleString(),"formatTimestamp"),_=a(S=>{S.target===S.currentTarget&&(x?P({title:"Discard Unsaved Changes?",description:"You have unsaved changes. Are you sure you want to close without saving?",confirmText:"Discard",variant:"destructive"},()=>{t()}):t())},"handleOverlayClick");return e?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:_,role:"dialog","aria-modal":"true","aria-labelledby":"memory-edit-title",children:b.jsxs(ds,{className:"w-full max-w-4xl h-[85vh] max-h-[800px] flex flex-col",onClick:a(S=>S.stopPropagation(),"onClick"),children:[b.jsxs(ng,{className:"flex flex-row items-center justify-between space-y-0 pb-2 flex-shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Kw,{id:"memory-edit-title",className:"text-xl font-semibold",children:"Edit Memory Content"}),x&&b.jsx("span",{className:"text-xs px-2 py-1 rounded bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:"Unsaved changes"})]}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:t,"aria-label":"Close dialog",children:b.jsx(yi,{className:"h-4 w-4"})})]}),b.jsx(Bi,{}),b.jsxs(Jl,{className:"pt-4 flex-1 overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"mb-4 flex items-start bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:[b.jsx(By,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mr-2 mt-0.5 flex-shrink-0"}),b.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[b.jsx("p",{className:"font-medium mb-1",children:"Editing Raw Memory Content"}),b.jsx("p",{children:"Changes may affect agent behavior. Ensure JSON format is valid before saving."})]})]}),b.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-muted-foreground",children:"ID:"}),b.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:r.id})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-muted-foreground",children:"Created:"}),b.jsx("span",{children:v(r.createdAt||0)})]})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-muted-foreground",children:"Room:"}),b.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:r.roomId})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-muted-foreground",children:"Type:"}),b.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${r.entityId===n?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-white-100 text-white dark:bg-white-800 dark:text-white"}`,children:r.entityId===n?"Agent Message":"User Message"})]})]})]}),b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{htmlFor:"memory-content",className:"text-sm font-medium",children:"Memory Content"}),b.jsxs("div",{className:"flex items-center gap-1",children:[d?b.jsx(Ks,{className:"h-3 w-3 text-green-500"}):b.jsx(By,{className:"h-3 w-3 text-red-500"}),b.jsx("span",{className:`text-xs ${d?"text-green-600":"text-red-600"}`,children:d?"Valid JSON":"Invalid JSON"})]})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(dt,{variant:"outline",size:"sm",onClick:a(()=>y(!m),"onClick"),disabled:M,title:m?"Switch to edit mode":"Switch to preview mode",children:m?b.jsx(Ps,{className:"h-3 w-3"}):b.jsx(Ya,{className:"h-3 w-3"})}),b.jsx(dt,{variant:"outline",size:"sm",onClick:w,disabled:M,title:"Copy to clipboard",children:b.jsx(Xa,{className:"h-3 w-3"})}),b.jsx(dt,{variant:"outline",size:"sm",onClick:W,disabled:M||!d,title:"Format JSON",children:"Format"}),b.jsx(dt,{variant:"outline",size:"sm",onClick:f,disabled:M||!x,title:"Reset to original",children:b.jsx(hA,{className:"h-3 w-3"})})]})]}),b.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[m?b.jsx("div",{className:"flex-1 border rounded-md p-3 bg-muted/50 overflow-auto",children:b.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:d?JSON.stringify(JSON.parse(c),null,2):c})}):b.jsx(Ah,{ref:C,id:"memory-content",value:c,onChange:a(S=>h(S.target.value),"onChange"),className:`flex-1 resize-none font-mono text-sm min-h-[300px] ${d?"":"border-red-300 focus:border-red-500"}`,placeholder:"Memory content in JSON format...",disabled:M,"aria-describedby":"json-help"}),b.jsx("p",{id:"json-help",className:"text-xs text-muted-foreground mt-2 flex-shrink-0",children:"Edit the JSON directly. Use Ctrl+A to select all, Ctrl+Z to undo."})]})]}),b.jsxs(ig,{className:"flex justify-between flex-shrink-0",children:[b.jsxs(dt,{variant:"destructive",onClick:F,disabled:M,children:[b.jsx(xh,{className:"mr-2 h-4 w-4"}),"Delete Memory"]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(dt,{variant:"outline",onClick:t,disabled:M,children:"Cancel"}),b.jsxs(dt,{onClick:ae,disabled:M||!d||!x,children:[b.jsx(fA,{className:"mr-2 h-4 w-4"}),o?"Saving...":"Save Changes"]})]})]})]})}),b.jsx($l,{open:L,onOpenChange:z,title:Y?.title||"",description:Y?.description||"",confirmText:Y?.confirmText,cancelText:Y?.cancelText,variant:Y?.variant,onConfirm:Z})]}):null}a(nwe,"MemoryEditOverlay");const s0=15;function iwe({agentId:e,agentName:t,channelId:r}){const[n,i]=U.useState("all"),[s,o]=U.useState(""),[l,u]=U.useState(null),[c,h]=U.useState(s0),[d,g]=U.useState(!1),m=U.useRef(null),{data:y}=Yw(),x=n==="facts"?void 0:"messages",A=n==="facts"||n==="all"?"facts":void 0,C=n==="currentChat"&&r?r:void 0,{data:M=[],isLoading:R,error:P}=f7(e,x,C),{data:L=[],isLoading:z,error:Z}=f7(e,A,C),Y=[...M,...L],ae=R||z,F=P||Z,W=Y.filter(I=>{if(n!=="all"&&n!=="currentChat"){if(n==="facts")return!0;if(n==="messagesSent"&&I.entityId!==I.agentId||n==="messagesReceived"&&I.entityId===I.agentId)return!1}if(s.trim()){const O=s.toLowerCase(),B=I.content;return[B?.text,B?.thought,I.id,I.metadata].filter(Boolean).join(" ").toLowerCase().includes(O)}return!0}),f=U.useCallback(()=>{if(!m.current||d||c>=W.length)return;const{scrollTop:I,scrollHeight:O,clientHeight:B}=m.current;I+B>=O-200&&(g(!0),setTimeout(()=>{h(G=>Math.min(G+s0,W.length)),g(!1)},500))},[d,c,W.length]);U.useEffect(()=>{h(s0)},[n,s]),U.useEffect(()=>{const I=m.current;if(I)return I.addEventListener("scroll",f),()=>I.removeEventListener("scroll",f)},[f]);const w=a(I=>{const O=new Date(I),H=(new Date().getTime()-O.getTime())/(1e3*60*60);return H<24?O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):H<168?O.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):O.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},"formatDate"),v=a((I,O)=>O?.thought?P0:I.entityId===I.agentId?J2:DA,"getMemoryIcon"),_=a(async I=>{try{await navigator.clipboard.writeText(I)}catch(O){console.error("Failed to copy:",O)}},"copyToClipboard"),S=a(I=>{const O={};for(const B of I){const G=new Date(B.createdAt||0).toLocaleDateString();O[G]||(O[G]=[]),O[G].push(B)}return O},"groupMessagesByDate"),T=W.slice(0,c),N=c<W.length,k=S(T);if(ae&&Y.length===0)return b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx("div",{className:"flex items-center justify-center flex-1",children:b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx(Td,{className:"h-8 w-8 animate-spin text-muted-foreground"}),b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"font-medium",children:"Loading Memories"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching agent conversation history..."})]})]})})});if(F)return b.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:b.jsx("div",{className:"flex items-center justify-center flex-1",children:b.jsxs("div",{className:"text-center",children:[b.jsx(No,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),b.jsx("h3",{className:"font-medium text-destructive",children:"Failed to Load Memories"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"There was an error loading the agent memories."})]})})});const p=a(()=>b.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center p-8",children:[b.jsx(No,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),b.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Memories Found"}),b.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:s?`No memories match "${s}". Try adjusting your search or filter.`:"This agent hasn't created any memories yet. Memories will appear here as the agent interacts."}),s&&b.jsx(dt,{variant:"outline",onClick:a(()=>o(""),"onClick"),children:"Clear Search"})]}),"EmptyState"),E=a(({memory:I})=>{const O=I.content,B=v(I,O),H=I.entityId===I.agentId,J=a(()=>H?y?.data?.agents?.find(ne=>ne.id===I.entityId)?.name||t:I.metadata?.raw?.senderName||I.metadata?.source||"User","getEntityName")();return b.jsxs("div",{className:"border rounded-lg p-4 bg-card hover:bg-accent/5 transition-colors group",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 rounded-md bg-muted",children:b.jsx(B,{className:"h-4 w-4"})}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-medium text-sm",children:J}),b.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:O?.thought?"Thought":H?"Agent":"User"})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[b.jsx(rm,{className:"h-3 w-3"}),b.jsx("span",{children:w(I.createdAt||0)}),I.id&&b.jsxs(b.Fragment,{children:[b.jsx("span",{children:""}),b.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:I.id.slice(-8)})]})]})]})]}),b.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[O?.text&&b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(()=>_(O.text||""),"onClick"),className:"h-8 w-8 p-0",title:"Copy text",children:b.jsx(Xa,{className:"h-3 w-3"})}),I.id&&b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(()=>u(I),"onClick"),className:"h-8 w-8 p-0",title:"Edit memory",children:b.jsx(BU,{className:"h-3 w-3"})})]})]}),b.jsxs("div",{className:"space-y-3",children:[O?.text&&b.jsx("div",{className:"bg-muted/50 rounded-md p-3",children:b.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:O.text})}),O?.thought&&b.jsxs("div",{className:"border-l-2 border-muted pl-3",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx(P0,{className:"h-3 w-3 text-muted-foreground"}),b.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Thought Process"})]}),b.jsx("p",{className:"text-xs text-muted-foreground italic leading-relaxed",children:String(O.thought)})]}),(O?.actions||O?.providers||O?.source)&&b.jsxs("div",{className:"flex flex-wrap gap-1",children:[O.actions?.map(ce=>b.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",title:"Action",children:ce},ce)),O.providers?.map(ce=>b.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",title:"Provider",children:ce},ce)),O.source&&b.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",children:O.source})]}),I.metadata&&Object.keys(I.metadata).length>0&&b.jsxs("details",{className:"text-xs",children:[b.jsx("summary",{className:"cursor-pointer text-muted-foreground hover:text-foreground",children:"View metadata"}),b.jsx("div",{className:"mt-2 p-2 bg-muted/30 rounded text-[10px] font-mono overflow-x-auto",children:b.jsx("pre",{children:JSON.stringify(I.metadata,null,2)})})]})]})]})},"MemoryCard");return b.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4 px-4 pt-4 flex-none border-b pb-3",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h3",{className:"text-lg font-medium",children:"Memories"}),!ae&&b.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:W.length})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"relative",children:[b.jsx(Eh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),b.jsx(pn,{placeholder:"Search memories...",value:s,onChange:a(I=>o(I.target.value),"onChange"),className:"pl-10 w-full min-w-0 max-w-64"})]}),b.jsxs(Ys,{value:n,onValueChange:a(I=>i(I),"onValueChange"),children:[b.jsx(es,{className:"w-40",children:b.jsx(Zs,{placeholder:"Filter memories"})}),b.jsxs(ts,{children:[b.jsx(Ar,{value:"all",children:"All Messages"}),r&&b.jsx(Ar,{value:"currentChat",children:"Current Chat"}),b.jsx(Ar,{value:"messagesSent",children:"Agent Messages"}),b.jsx(Ar,{value:"messagesReceived",children:"User Messages"}),b.jsx(Ar,{value:"facts",children:"Facts"})]})]})]})]}),b.jsx("div",{ref:m,className:"flex-1 overflow-y-auto px-4",children:W.length===0?b.jsx(p,{}):b.jsxs("div",{className:"space-y-4",children:[Object.entries(k).map(([I,O])=>b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-center gap-3 py-2",children:[b.jsx(Bi,{className:"flex-1"}),b.jsx("span",{className:"text-sm font-medium text-muted-foreground px-2",children:I}),b.jsx(Bi,{className:"flex-1"})]}),b.jsx("div",{className:"space-y-3",children:O.map(B=>b.jsx(E,{memory:B},B.id||B.createdAt))})]},I)),N&&b.jsx("div",{className:"flex justify-center py-6",children:d?b.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[b.jsx(Td,{className:"h-4 w-4 animate-spin"}),b.jsx("span",{className:"text-sm",children:"Loading more memories..."})]}):b.jsx(dt,{variant:"outline",onClick:a(()=>h(I=>I+s0),"onClick"),className:"px-8",children:"Load More"})})]})}),l&&b.jsx(nwe,{isOpen:!!l,onClose:a(()=>u(null),"onClose"),memory:l,agentId:e})]})}a(iwe,"AgentMemoryViewer");function sF(e){const[t,r]=U.useState(!1),{toast:n}=Br(),i=Yn(),s=Ln();return{handleDelete:U.useCallback(async()=>{r(!0),n({title:"Deleting...",description:`Deleting agent "${e.name}"`});let l=!1,u=null;try{u=setTimeout(()=>{l||(s.invalidateQueries({queryKey:["agents"]}),i("/"),n({title:"Note",description:"Deletion is still processing in the background."}))},8e3);const c=Mr();if(!e.id)throw new Error("Agent ID is required for deletion");const h=await c.agents.deleteAgent(e.id);l=!0,u&&clearTimeout(u);const d=h?.partial;n(d?{title:"Processing",description:"Deletion is still in progress and will complete in the background."}:{title:"Success",description:"Agent deleted successfully"}),s.invalidateQueries({queryKey:["agents"]}),i("/")}catch(c){l=!0,u&&clearTimeout(u);const h=c?.message??"Failed to delete agent",d=c?.statusCode||c?.response?.status;d===409||h.includes("409")||h.includes("Conflict")||h.includes("foreign key constraint")||h.includes("active references")?n({title:"Cannot Delete",description:"This agent cannot be deleted because it has active references. Try stopping the agent first.",variant:"destructive"}):d===408||d===504||h.includes("408")||h.includes("504")||h.includes("timeout")||h.includes("timed out")?(n({title:"Operation Timeout",description:"The deletion is taking longer than expected and will continue in the background.",variant:"destructive"}),s.invalidateQueries({queryKey:["agents"]}),i("/")):n({title:"Error",description:h,variant:"destructive"})}finally{r(!1)}},[e,n,i,s]),isDeleting:t}}a(sF,"useDeleteAgent");function oF({agent:e,agentId:t,onSaveComplete:r}){const{toast:n}=Br(),i=Yn(),s=Ln(),{confirm:o,isOpen:l,onOpenChange:u,onConfirm:c,options:h}=Xl(),d=e?.status===vn.ACTIVE,g=U.useRef(null),[m,y]=U.useState({}),{handleDelete:x,isDeleting:A}=sF(e),C=YP(e),{stopAgent:M,isAgentStopping:R}=sc(),P=a(async()=>{try{await M(e),n({title:"Success",description:"Agent stopped successfully"})}catch(Z){n({title:"Error",description:Z instanceof Error?Z.message:"Failed to stop agent",variant:"destructive"})}},"handleStopAgent"),L=a(async()=>{if(!t){n({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const Z=a(async()=>{try{const Y=Mr(),ae=Object.keys(m).length>0?m:g.current?.getSecrets()||{},F=C.getChangedFields();if(ae&&Object.keys(ae).length>0){F.settings||(F.settings={});const f=Object.entries(ae).filter(([w,v])=>v!==null).reduce((w,[v,_])=>({...w,[v]:_}),{});F.settings.secrets=f}if(Object.keys(F).length===0){const f=C.agent?.settings?.secrets;if(f&&Object.keys(f).length>0){const w={id:t,settings:{secrets:f}};await Y.agents.updateAgent(t,w),s.invalidateQueries({queryKey:["agent",t]}),s.invalidateQueries({queryKey:["agents"]}),n({title:"Success",description:"Agent secrets updated successfully"}),r?r():i("/");return}n({title:"No Changes",description:"No changes were made to the agent"}),r?r():i("/");return}const W={id:t,...F};await Y.agents.updateAgent(t,W),s.invalidateQueries({queryKey:["agent",t]}),s.invalidateQueries({queryKey:["agents"]}),n({title:"Success",description:"Agent updated successfully"}),r?r():i("/")}catch(Y){throw n({title:"Error",description:Y instanceof Error?Y.message:"Failed to update agent",variant:"destructive"}),Y}},"performSave");if(g?.current){const Y=g.current.validateSecrets();if(!Y.isValid){o({title:"Missing Required Secrets",description:`The following required secrets are missing: ${Y.missingSecrets.join(", ")}. Do you want to save anyway?`,confirmText:"Save Anyway",cancelText:"Cancel",variant:"destructive"},Z);return}}await Z()},"handleSubmit"),z=a(()=>{A||o({title:"Delete Agent",description:`Are you sure you want to delete the agent "${e.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},x)},"handleDelete");return b.jsxs(b.Fragment,{children:[b.jsx(zP,{characterValue:C.agent,setCharacterValue:C,title:"Agent Settings",description:"Configure your AI agent's behaviour and capabilities.",onSubmit:L,onReset:C.reset,onDelete:z,onStopAgent:d?P:void 0,isAgent:!0,isDeleting:A,isStopping:R(t),customComponents:[{name:"Plugins",component:b.jsx(HP,{characterValue:C.agent,setCharacterValue:C,initialPlugins:e.plugins})},{name:"Secret",component:b.jsx(Rw,{characterValue:C.agent,ref:g,onChange:a(Z=>{y(Z),C.updateSettings({secrets:Z})},"onChange")})},{name:"Avatar",component:b.jsx(FP,{characterValue:C.agent,setCharacterValue:C})}]}),b.jsx($l,{open:l,onOpenChange:u,title:h?.title||"",description:h?.description||"",confirmText:h?.confirmText,cancelText:h?.cancelText,variant:h?.variant,onConfirm:c})]})}a(oF,"AgentSettings");const xk="eliza-agent-tab-states";function awe(e){const[t,r]=U.useState("details"),n=U.useCallback(()=>{try{const o=localStorage.getItem(xk);return o?JSON.parse(o):{}}catch(o){return qe.error("Error reading agent tab states from localStorage:",o),{}}},[]),i=U.useCallback(o=>{try{localStorage.setItem(xk,JSON.stringify(o))}catch(l){qe.error("Error saving agent tab states to localStorage:",l)}},[]);U.useEffect(()=>{if(!e){r("details");return}const l=n()[e]||"details";r(l)},[e,n]);const s=U.useCallback(o=>{if(r(o),e){const u={...n(),[e]:o};i(u)}},[e,n,i]);return{currentTab:t,setTab:s}}a(awe,"useAgentTabState");class swe{static{a(this,"ElizaSpanAdapter")}convertRunDetailToTraceSpans(t){const r=t.events;if(!r||r.length===0)return[];const n=[...r].sort((l,u)=>l.timestamp-u.timestamp),i=new Map,s=new Map,o=[];return n.forEach((l,u)=>{switch(l.type){case"RUN_STARTED":{const c=this.createRunSpan(t,l);o.push(c);break}case"ACTION_STARTED":{const c=l.data.actionName||l.data.actionId||`Action ${u}`,h=l.data.actionId||c;let d=i.get(h);d||(d={id:`action-${h}`,title:c,type:"agent_invocation",status:"pending",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp),duration:0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data),children:[]},i.set(h,d),o.push(d));const g=(d.children?.length||0)+1,m={id:`attempt-${h}-${g}`,title:`Attempt ${g}`,type:"span",status:"pending",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp),duration:0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data),children:[]};d.children=[...d.children||[],m],s.set(h,m);break}case"ACTION_COMPLETED":{const c=l.data.actionName||l.data.actionId||`Action ${u}`,h=l.data.actionId||c,d=i.get(h),g=s.get(h),m=this.extractPrompt(l.data),y=this.extractResponse(l.data);if(g){const x=l.data.success!==!1;g.status=x?"success":"error",g.endTime=new Date(l.timestamp),g.duration=l.timestamp-g.startTime.getTime(),m&&(g.input=m),y&&(g.output=y),s.delete(h)}if(d){const x=l.data.success!==!1;d.status=x?"success":"error",d.endTime=new Date(l.timestamp),d.duration=l.timestamp-d.startTime.getTime(),m&&!d.input&&(d.input=m),y&&!d.output&&(d.output=y)}break}case"MODEL_USED":{const c=l.data.modelType||"Model Call",h=this.extractPrompt(l.data),d=this.extractResponse(l.data),g={id:`model-${u}`,title:c,type:"llm_call",status:"success",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp+(l.data.executionTime||0)),duration:l.data.executionTime||0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data),input:h,output:d,tokensCount:this.extractTokensCount(l.data),cost:this.extractCost(l.data)},y=l.data.actionContext||void 0||Array.from(s.keys()).pop();if(y){const x=s.get(y);if(x)x.children=[...x.children||[],g];else{const A=i.get(y);if(A&&A.children&&A.children.length>0){const C=A.children[A.children.length-1];C.children=[...C.children||[],g]}}}else o.push(g);break}case"EVALUATOR_COMPLETED":{const c=l.data.evaluatorName||`Evaluator ${u}`,h={id:`evaluator-${u}`,title:c,type:"chain_operation",status:"success",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp),duration:0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data)};o.push(h);break}case"EMBEDDING_EVENT":{const c=l.data.status||"completed",h={id:`embedding-${u}`,title:`Embedding ${c}`,type:"embedding",status:c==="failed"?"error":"success",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp+(l.data.durationMs||0)),duration:l.data.durationMs||0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data)},d=Array.from(s.keys()).pop();if(d){const g=s.get(d);g&&(g.children=[...g.children||[],h])}else o.push(h);break}}}),o}createRunSpan(t,r){const n=t.summary,i=n.durationMs||0,s=new Date(r.timestamp),o=new Date(r.timestamp+i);return{id:n.runId,title:`Run ${new Date(n.startedAt||Date.now()).toLocaleTimeString()}`,type:"agent_invocation",status:this.convertRunStatus(n.status),startTime:s,endTime:o,duration:i,raw:JSON.stringify(t,null,2),attributes:[{key:"run.id",value:{stringValue:n.runId}},{key:"run.status",value:{stringValue:n.status}},...n.messageId?[{key:"message.id",value:{stringValue:n.messageId}}]:[],...n.roomId?[{key:"room.id",value:{stringValue:n.roomId}}]:[]],children:[]}}convertRunStatus(t){switch(t){case"completed":return"success";case"error":return"error";case"timeout":return"warning";case"started":return"pending";default:return"pending"}}convertEventDataToAttributes(t){return Object.entries(t).map(([r,n])=>({key:r,value:this.convertValueToAttributeValue(n)}))}convertValueToAttributeValue(t){return typeof t=="string"?{stringValue:t}:typeof t=="number"?{intValue:t.toString()}:typeof t=="boolean"?{boolValue:t}:{stringValue:JSON.stringify(t)}}coerceToNumber(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(typeof t=="string"){const r=Number(t);return Number.isFinite(r)?r:void 0}}extractTokensCount(t){const r=Object.prototype.hasOwnProperty.call(t,"inputTokens"),n=Object.prototype.hasOwnProperty.call(t,"outputTokens");if(r||n){const o=this.coerceToNumber(t.inputTokens)??0,l=this.coerceToNumber(t.outputTokens)??0;return o+l}const i=a(o=>{if(!o||typeof o!="object")return;const l=o,u=this.coerceToNumber(l.total_tokens);if(u!==void 0)return u;const c=Object.prototype.hasOwnProperty.call(l,"prompt_tokens"),h=Object.prototype.hasOwnProperty.call(l,"completion_tokens");if(c||h){const d=this.coerceToNumber(l.prompt_tokens)??0,g=this.coerceToNumber(l.completion_tokens)??0;return d+g}},"extractFromUsage");if(t.response&&typeof t.response=="object"){const o=t.response,l=i(o.usage);if(l!==void 0)return l}const s=i(t.usage);if(s!==void 0)return s}extractCost(t){if(t.cost&&typeof t.cost=="number")return t.cost;if(t.response&&typeof t.response=="object"){const r=t.response;if(r.cost&&typeof r.cost=="number")return r.cost}}extractPrompt(t){if(t.prompts&&Array.isArray(t.prompts)){const r=t.prompts;if(r.length>0)return r.map((n,i)=>(r.length>1?`[Prompt ${i+1}${n.modelType?` - ${n.modelType}`:""}]
`:"")+(n.prompt||"")).join(`

---

`)}if(t.prompt&&typeof t.prompt=="string")return t.prompt;if(t.params&&typeof t.params=="object"){const r=t.params;if(r.prompt&&typeof r.prompt=="string")return r.prompt;const{prompt:n,...i}=r;if(Object.keys(i).length>0)return JSON.stringify(i,null,2)}if(t.input&&typeof t.input=="string")return t.input}extractResponse(t){if(t.response){if(typeof t.response=="string")return t.response;if(typeof t.response=="object"){const r=t.response;return r.content&&typeof r.content=="string"?r.content:r.text&&typeof r.text=="string"?r.text:r.message&&typeof r.message=="string"?r.message:JSON.stringify(r,null,2)}return String(t.response)}if(t.output)return typeof t.output=="string"?t.output:JSON.stringify(t.output,null,2);if(t.result)return typeof t.result=="string"?t.result:JSON.stringify(t.result,null,2)}convertRunSummaryToTraceRecord(t){const r=t.runId.slice(0,8);return{id:t.runId,name:`Run ${r}`,spansCount:Object.values(t.counts||{}).reduce((n,i)=>n+i,0),durationMs:t.durationMs||0,agentDescription:`Status: ${t.status}`,startTime:t.startedAt||void 0}}}const Ek=new swe,lF=a(e=>{const t=+e.startTime;return+e.endTime-t},"getDurationMs"),Lu=a(e=>{if(e<1e3)return`${Math.round(e)}ms`;if(e<6e4)return`${Math.round(e/1e3)}s`;if(e<36e5){const n=Math.floor(e/6e4),i=Math.floor(e%6e4/1e3);return i>0?`${n}m ${i}s`:`${n}m`}const t=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4);return r>0?`${t}h ${r}m`:`${t}h`},"formatDuration"),uF=a(({spanCard:e,minStart:t,maxEnd:r})=>{const n=+e.startTime,i=r-t,s=lF(e),o=(n-t)/i*100,l=s/i*100;return{durationMs:s,startPercent:o,widthPercent:l}},"getTimelineData"),cF=a(e=>{const t=[],r=a(n=>{n.forEach(i=>{t.push(i),i.children?.length&&r(i.children)})},"traverse");return r(e),t},"flattenSpans");function owe(e){return e.reduce((t,r)=>{const n=+new Date(r.startTime),i=+new Date(r.endTime);return{minStart:Math.min(t.minStart,n),maxEnd:Math.max(t.maxEnd,i)}},{minStart:e.length>0?+new Date(e[0].startTime):1/0,maxEnd:e.length>0?+new Date(e[0].endTime):-1/0})}a(owe,"findTimeRange");function dF(e,t){const r=t.toLowerCase().trim();if(!r)return e;const n=[];for(const i of e){const s=i.title.toLowerCase().includes(r),o=i.type.toLowerCase().includes(r),l=i.attributes?.some(h=>h.key.toLowerCase().includes(r)||h.value.stringValue?.toLowerCase().includes(r)||h.value.intValue?.toLowerCase().includes(r)),u=s||o||l,c=i.children?dF(i.children,t):[];(u||c.length>0)&&n.push({...i,children:c.length>0?c:i.children})}return n}a(dF,"filterSpansRecursively");const hF={none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"},lwe={purple:{bg:"bg-purple-100",darkBg:"dark:bg-purple-950/60",text:"text-purple-500",darkText:"dark:text-purple-300"},indigo:{bg:"bg-indigo-100",darkBg:"dark:bg-indigo-950/60",text:"text-indigo-500",darkText:"dark:text-indigo-300"},orange:{bg:"bg-orange-100",darkBg:"dark:bg-orange-950/60",text:"text-orange-600",darkText:"dark:text-orange-300"},teal:{bg:"bg-teal-100",darkBg:"dark:bg-teal-950/60",text:"text-teal-600",darkText:"dark:text-teal-300"},cyan:{bg:"bg-cyan-100",darkBg:"dark:bg-cyan-950/60",text:"text-cyan-600",darkText:"dark:text-cyan-300"},sky:{bg:"bg-sky-100",darkBg:"dark:bg-sky-950/60",text:"text-sky-600",darkText:"dark:text-sky-300"},yellow:{bg:"bg-yellow-100",darkBg:"dark:bg-yellow-950/60",text:"text-yellow-700",darkText:"dark:text-yellow-300"},emerald:{bg:"bg-emerald-100",darkBg:"dark:bg-emerald-950/60",text:"text-emerald-600",darkText:"dark:text-emerald-300"},red:{bg:"bg-red-100",darkBg:"dark:bg-red-950/60",text:"text-red-600",darkText:"dark:text-red-300"},gray:{bg:"bg-gray-100",darkBg:"dark:bg-gray-900",text:"text-gray-600",darkText:"dark:text-gray-300"}},o_={llm_call:{label:"LLM",theme:"purple",icon:X2},tool_execution:{label:"TOOL",theme:"orange",icon:YU},agent_invocation:{label:"AGENT INVOCATION",theme:"indigo",icon:J2},chain_operation:{label:"CHAIN",theme:"teal",icon:VU},retrieval:{label:"RETRIEVAL",theme:"cyan",icon:Eh},embedding:{label:"EMBEDDING",theme:"emerald",icon:GU},create_agent:{label:"CREATE AGENT",theme:"sky",icon:em},span:{label:"SPAN",theme:"cyan",icon:HU},event:{label:"EVENT",theme:"emerald",icon:UU},guardrail:{label:"GUARDRAIL",theme:"red",icon:FU},unknown:{label:"UNKNOWN",theme:"gray",icon:zU}};function l_(e){return o_[e].theme}a(l_,"getSpanCategoryTheme");function fF(e){return o_[e].label}a(fF,"getSpanCategoryLabel");function pF(e){return o_[e].icon}a(pF,"getSpanCategoryIcon");const uwe="inline-flex items-center justify-center font-medium transition-all duration-200",cwe={6:"h-6 px-2 gap-1 text-xs",7:"h-7 px-2 gap-1 text-xs",8:"h-8 px-2 gap-1 text-xs",9:"h-9 px-2.5 gap-2 text-sm",10:"h-10 px-4 gap-2 text-sm",11:"h-11 px-5 gap-3 text-base",12:"h-12 px-5 gap-2.5 text-base",16:"h-16 px-7 gap-3 text-lg"},Sk={gray:"bg-muted text-muted-foreground",purple:"bg-primary text-primary-foreground",indigo:"bg-primary text-primary-foreground",orange:"bg-chart-1 text-primary-foreground",teal:"bg-chart-2 text-primary-foreground",cyan:"bg-chart-3 text-primary-foreground",sky:"bg-chart-4 text-primary-foreground",yellow:"bg-chart-5 text-primary-foreground",emerald:"bg-accent text-accent-foreground",red:"bg-destructive text-destructive-foreground"},dwe={filled:"",outlined:"border border-2 bg-transparent text-foreground border-border",ghost:"bg-transparent text-muted-foreground"},kk=a(({children:e,size:t="6",theme:r="gray",rounded:n="md",variant:i="filled",fullWidth:s=!1,disabled:o=!1,iconStart:l,iconEnd:u,type:c="button",onClick:h,className:d="",...g})=>{const m=s?"w-full":"",y=o?"cursor-not-allowed opacity-50":"hover:opacity-70",x=i==="filled"?Sk[r]||Sk.gray:"";return b.jsxs("button",{type:c,onClick:h,disabled:o,className:Ue(uwe,cwe[t],hF[n],dwe[i],x,m,y,d),...g,children:[l&&b.jsx("span",{className:"mr-1",children:l}),e,u&&b.jsx("span",{className:"ml-1",children:u})]})},"Button"),hwe={6:"h-6 min-h-6",7:"h-7 min-h-7",8:"h-8 min-h-8",9:"h-9 min-h-9",10:"h-10 min-h-10",11:"h-11 min-h-11",12:"h-12 min-h-12",16:"h-16 min-h-16"},fwe={default:"border border-border bg-transparent ",ghost:"bg-transparent"},Rg=a(({children:e,className:t,size:r="6",variant:n="default",type:i="button","aria-label":s,...o})=>b.jsx("button",{type:i,"aria-label":s,className:Ue(t,hwe[r],"inline-flex aspect-square shrink-0 items-center justify-center","rounded-md",fwe[n],"text-muted-foreground ","hover:bg-gray-200 dark:hover:bg-gray-800"),...o,children:e}),"IconButton"),mF=a(({onExpandAll:e,...t})=>b.jsx(Rg,{size:"7",onClick:e,"aria-label":"Expand all",...t,children:b.jsx(ZU,{className:"size-3.5"})}),"ExpandAllButton"),gF=a(({onCollapseAll:e,...t})=>b.jsx(Rg,{size:"7",onClick:e,"aria-label":"Collapse all",...t,children:b.jsx($U,{className:"size-3.5"})}),"CollapseAllButton"),Ak="text-sm font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",pwe={underline:{list:"h-9 flex border-b border-border ",trigger:`w-full justify-center px-3 ${Ak} 
      text-muted-foreground hover:text-foreground data-[state=active]:text-foreground
       dark:hover:text-gray-200 dark:data-[state=active]:text-gray-200
      border-b-2 border-transparent data-[state=active]:border-primary 
      dark:data-[state=active]:border-muted -mb-[2px]
      hover:border-muted `},pill:{list:"h-9 inline-flex gap-1 p-1 bg-muted rounded-lg",trigger:`px-3 ${Ak} rounded-md
      text-muted-foreground hover:text-foreground data-[state=active]:text-foreground
       dark:hover:text-gray-200 dark:data-[state=active]:text-gray-200
      hover:bg-accent data-[state=active]:bg-card data-[state=active]:shadow-sm
      dark:hover:bg-gray-700 dark:data-[state=active]:bg-gray-600 dark:data-[state=active]:shadow-none`}},vF=a(({items:e,defaultValue:t,value:r,onValueChange:n,theme:i="underline",className:s="",tabsListClassName:o="",triggerClassName:l="",dir:u,...c})=>{const h=t||e[0]?.value,d=pwe[i];return b.jsx($k,{className:s,defaultValue:r?void 0:h,value:r,onValueChange:n,dir:u,...c,children:b.jsx(P2,{className:Ue(d.list,o),"aria-label":"Navigation tabs",children:e.map(g=>b.jsxs(L2,{value:g.value,disabled:g.disabled,className:Ue("flex items-center overflow-hidden",d.trigger,l),children:[g.icon&&b.jsx("span",{className:"mr-2 text-muted-foreground group-data-[state=active]:text-current ",children:g.icon}),b.jsx("span",{className:"truncate",children:g.label})]},g.value))})})},"Tabs"),bF=a(({title:e,rightContent:t,children:r,defaultOpen:n=!1,className:i="",triggerClassName:s="",contentClassName:o="",onOpenChange:l})=>{const[u,c]=U.useState(n),h=U.useCallback(g=>{c(g),l?.(g)},[l]),d=U.useCallback(g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),h(!u))},[h,u]);return b.jsxs($2,{open:u,onOpenChange:h,className:Ue("rounded-lg",i),children:[b.jsx(jA,{asChild:!0,children:b.jsxs("div",{tabIndex:0,role:"button",className:Ue("mb-1 flex w-full items-center justify-between gap-2 rounded-lg px-1 py-3 text-left text-sm font-medium text-foreground",s),onKeyDown:d,"aria-expanded":u,"aria-label":`${u?"Collapse":"Expand"} content of "${e}" section`,children:[b.jsxs("div",{className:"flex w-full items-center gap-2",children:[b.jsx(as,{className:Ue("h-3 w-3 text-muted-foreground transition-transform duration-200",u&&"rotate-180")}),b.jsx("span",{className:"truncate",children:e})]}),t]})}),b.jsx(BA,{className:Ue("data-[state=closed]:animate-slideUp data-[state=open]:animate-slideDown",o),children:r})]})},"CollapsibleSection"),Tk="absolute top-1/2 -translate-y-1/2 flex items-center justify-center text-foreground",yF=a(({className:e,onChange:t,onValueChange:r,startIcon:n,onClear:i,ref:s,inputClassName:o,label:l,hideLabel:u=!1,id:c,...h})=>{const d=U.useRef(null),g=a(y=>{t?.(y),r?.(y.target.value)},"handleChange"),m=a(()=>{if(i?.(),s){s.current?.focus();return}d.current?.focus()},"handleClear");return b.jsxs("div",{className:Ue("w-full",e),children:[l&&b.jsx("label",{htmlFor:c,className:Ue("block text-sm font-medium text-foreground ",u&&"sr-only"),children:l}),b.jsxs("div",{className:Ue("relative flex w-full items-center justify-center",l&&!u&&"mt-1"),children:[b.jsx("input",{id:c,ref:s||d,onChange:g,className:Ue(o,"flex h-7 items-center truncate","w-full px-2",!!n&&"pl-8",!!i&&"pr-8","rounded border border-border bg-transparent ","text-foreground placeholder:text-muted-foreground ","hover:border-border dark:hover:border-gray-700"),...h}),n&&b.jsx("div",{className:Ue(Tk,"left-2"),"aria-hidden":!0,children:n}),i&&h.value&&b.jsx("button",{className:Ue(Tk,"right-2"),"aria-label":"Clear input value",onClick:m,type:"button",children:b.jsx(yi,{className:"size-4"})})]})]})},"TextInput"),mwe=a(({data:e})=>b.jsxs("div",{className:"space-y-6",children:[(!e.attributes||e.attributes.length===0)&&b.jsx("div",{className:"p-6 text-center",children:b.jsx("p",{className:"text-muted-foreground ",children:"No attributes available for this span."})}),(e.attributes||[]).map((t,r)=>{const n=t.value.stringValue||t.value.intValue||t.value.boolValue?.toString()||"N/A";return b.jsx(bF,{title:t.key,defaultOpen:!0,children:b.jsx(yF,{id:`${e.id}-attribute-${r}`,value:n,disabled:!0,readOnly:!0,inputClassName:"font-mono text-xs",className:"w-full"})},`${t.key}-${r}`)})]}),"DetailsViewAttributesTab"),gwe={4:"size-4 text-xs",6:"size-6 text-xs",8:"size-8 text-xs",9:"size-9 text-sm",10:"size-10 text-base",11:"size-11 text-lg",12:"size-12 text-xl",16:"size-16 text-2xl"},vwe={4:"size-3",6:"size-4",8:"size-6",9:"size-7",10:"size-8",11:"size-9",12:"size-10",16:"size-12"},bwe={4:"text-xs",6:"text-xs",8:"text-xs",9:"text-sm",10:"text-base",11:"text-lg",12:"text-xl",16:"text-2xl"},ywe={gray:"bg-muted-foreground",red:"bg-destructive",orange:"bg-chart-1",yellow:"bg-chart-5",teal:"bg-chart-2",indigo:"bg-primary",purple:"bg-primary",sky:"bg-chart-4",cyan:"bg-chart-3",emerald:"bg-accent"},u_=a(({src:e,alt:t="Avatar",size:r="10",rounded:n="full",bgColor:i="gray",textColor:s="white",letter:o,className:l="",...u})=>{const[c,h]=U.useState(!1),d=o?o.charAt(0):t.charAt(0).toUpperCase(),g=s==="white"?"text-white":"text-black";return b.jsx("div",{className:Ue("flex items-center justify-center overflow-hidden","bg-muted",c&&"border border-border",gwe[r],bwe[r],hF[n],l),...u,children:c?b.jsx(DA,{className:Ue(vwe[r],"text-muted-foreground")}):b.jsx(b.Fragment,{children:e?b.jsx("img",{src:e,alt:t,className:"h-full w-full object-cover",onError:a(()=>h(!0),"onError")}):b.jsx("div",{className:Ue("flex h-full w-full items-center justify-center",ywe[i],g,"font-medium"),children:d})})})},"Avatar"),wwe={success:"bg-green-500 dark:bg-green-500",error:"bg-red-500 dark:bg-red-500",pending:"bg-violet-500 dark:bg-violet-500",warning:"bg-yellow-500 dark:bg-yellow-500"},_we={success:"bg-green-100 dark:bg-green-950 text-green-600 dark:text-green-400",error:"bg-red-100 dark:bg-red-950 text-red-600 dark:text-red-400",pending:"bg-violet-100 dark:bg-violet-950 text-violet-600 dark:text-violet-400",warning:"bg-yellow-100 dark:bg-yellow-950 text-yellow-600 dark:text-yellow-400"},R2=a(({status:e,variant:t="dot",...r})=>{const n=`Status: ${e}`;return b.jsx("div",{className:"flex size-4 items-center justify-center",...r,children:t==="dot"?b.jsx(xwe,{status:e,title:n}):b.jsx(Ewe,{status:e,title:n})})},"SpanStatus"),xwe=a(({status:e,title:t})=>b.jsx("span",{className:Ue("block size-1.5 rounded-full",wwe[e]),"aria-label":t,title:t}),"SpanStatusDot"),Ewe=a(({status:e,title:t})=>b.jsxs("span",{className:Ue("inline-flex items-center justify-center","h-3.5 w-4 rounded",_we[e]),"aria-label":t,title:t,children:[e==="success"&&b.jsx(Ks,{className:"size-2.5","aria-hidden":!0}),e==="error"&&b.jsx(By,{className:"size-2.5","aria-hidden":!0}),e==="warning"&&b.jsx(j2,{className:"size-2.5","aria-hidden":!0}),e==="pending"&&b.jsx(z2,{className:"size-2.5","aria-hidden":!0})]}),"SpanStatusBadge"),Swe=a(({data:e,avatar:t,copyButton:r,actions:n,className:i="mb-4 flex flex-wrap items-center gap-4"})=>{const[s,o]=U.useState(!1),l=a(()=>{r?.onCopy&&(r.onCopy(e),o(!0),setTimeout(()=>o(!1),2e3))},"handleCopy");return b.jsxs("div",{className:i,children:[b.jsxs("div",{className:"flex items-center gap-1.5",children:[t&&b.jsx(u_,{size:"4",...t}),b.jsx("span",{className:"text-base tracking-wide text-foreground ",children:e.title}),b.jsx("div",{className:"flex size-5 items-center justify-center",children:b.jsx(R2,{status:e.status})}),r&&b.jsx(Rg,{"aria-label":r.isEnabled?"Copy span details":"Copy disabled",variant:"ghost",onClick:l,children:s?b.jsx(Ks,{className:"size-3 text-muted-foreground"}):b.jsx(Xa,{className:"size-3 text-muted-foreground"})})]}),n]})},"DetailsViewHeader"),kwe=a(({data:e})=>{const t=!!e.input,r=!!e.output;if(!t&&!r)return b.jsx("div",{className:"p-6 text-center",children:b.jsx("p",{className:"text-muted-foreground ",children:"No input or output data available for this span."})});let n=null,i=null;if(typeof e.input=="string")try{n=JSON.parse(e.input)}catch{n=null}if(typeof e.output=="string")try{i=JSON.parse(e.output)}catch{i=null}return b.jsxs("div",{className:"space-y-3",children:[typeof e.input=="string"&&b.jsx(Nk,{section:"Input",content:e.input,parsedContent:n}),typeof e.output=="string"&&b.jsx(Nk,{section:"Output",content:e.output,parsedContent:i})]})},"DetailsViewInputOutputTab"),Nk=a(({section:e,content:t,parsedContent:r})=>{const[n,i]=U.useState("plain"),[s,o]=U.useState(!0),l=[{value:"json",label:"JSON",disabled:!r},{value:"plain",label:"Plain"}];return b.jsx(bF,{title:e,defaultOpen:!0,onOpenChange:o,rightContent:s?b.jsx(vF,{items:l,defaultValue:"plain",value:n,onValueChange:i,theme:"pill",onClick:a(u=>u.stopPropagation(),"onClick")}):null,triggerClassName:"min-h-16",children:b.jsx(Awe,{content:t,section:e,tab:n,parsedContent:r})})},"IOSection"),Awe=a(({tab:e,content:t,section:r,parsedContent:n})=>t?b.jsxs("div",{className:"relative rounded-lg border border-border ",children:[b.jsx(Twe,{section:r,content:t}),e==="json"&&b.jsx(b.Fragment,{children:n?b.jsx(zA,{booleanStyle:"color: hsl(var(--primary));",className:"overflow-x-auto rounded-xl p-4 text-left",data:n,id:`json-pretty-${r}`,keyStyle:"color: hsl(var(--primary));",mainStyle:"color: hsl(var(--muted-foreground)); font-size: 12px;",stringStyle:"color: hsl(var(--chart-2));",valueStyle:"color: hsl(var(--chart-1));"}):b.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Invalid JSON format"})}),e==="plain"&&b.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:b.jsx("pre",{className:"overflow-x-auto whitespace-pre-wrap text-left font-mono text-xs text-foreground",children:t})})]}):b.jsx("p",{className:"p-3 text-sm italic text-muted-foreground ",children:"No data available"}),"IOContent"),Twe=a(({section:e,content:t})=>{const[r,n]=U.useState(!1),i=a(()=>{navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3)},"onClick");return b.jsx(Rg,{onClick:i,"aria-label":r?`${e} Data Copied`:`Copy ${e} Data`,variant:"ghost",className:"absolute right-1.5 top-1.5",children:r?b.jsx(Ks,{className:"size-3"}):b.jsx(Xa,{className:"size-3"})})},"CopyButton"),Nwe={4:"px-1 gap-1 h-4",5:"px-1.5 gap-1 h-5",6:"px-2 gap-1.5 h-6",7:"px-2.5 gap-2 h-7"},Cwe={4:"text-xs font-normal leading-3",5:"text-xs font-medium",6:"text-sm font-medium",7:"text-sm font-medium"},zn=a(({label:e,theme:t="gray",variant:r="solid",size:n="4",iconStart:i,iconEnd:s,className:o="",...l})=>{const{bg:u,darkBg:c,text:h,darkText:d}=lwe[t],g=r==="outline"?`border ${h} ${d} bg-transparent dark:bg-transparent border-current`:`${u} ${h} ${c} ${d}`;return b.jsxs("span",{className:Ue("inline-flex min-w-0 items-center overflow-hidden rounded font-medium",g,Nwe[n],o),...l,children:[i&&b.jsx("span",{className:"shrink-0",children:i}),b.jsx("span",{className:Ue(Cwe[n],"min-w-0 max-w-full flex-shrink-0 truncate tracking-normal"),children:e}),s&&b.jsx("span",{className:"shrink-0",children:s})]})},"Badge"),wF=a(({timestamp:e,size:t,...r})=>b.jsx(zn,{variant:"outline",theme:"gray",size:t,...r,label:Iwe(e)}),"TimestampBadge");function Iwe(e){return new Date(e).toLocaleString()}a(Iwe,"formatTimestamp");const Mwe=a(({data:e})=>{const t=pF(e.type),r=lF(e);return b.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-start gap-1",children:[b.jsx(zn,{iconStart:b.jsx(t,{className:"size-2.5"}),theme:l_(e.type),size:"4",label:fF(e.type)}),typeof e.tokensCount=="number"&&b.jsx(zn,{iconStart:b.jsx(FA,{className:"size-2.5"}),theme:"gray",size:"4",label:e.tokensCount}),typeof e.cost=="number"&&b.jsx(zn,{theme:"gray",size:"4",label:`$ ${e.cost.toFixed(4)}`}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:["LATENCY: ",Lu(r)]}),typeof e.startTime=="number"&&b.jsx(wF,{timestamp:e.startTime})]})},"DetailsViewMetrics"),Owe=a(({data:e})=>b.jsx("div",{className:"pt-4",children:b.jsx("div",{className:"rounded border border-border bg-transparent ",children:b.jsx(zA,{booleanStyle:"color: hsl(var(--primary));",className:"overflow-x-auto rounded-xl p-4 text-left",data:e.raw,id:`json-pretty-${e.id||"span-details"}`,keyStyle:"color: hsl(var(--primary));",mainStyle:"color: hsl(var(--muted-foreground)); font-size: 12px;",stringStyle:"color: hsl(var(--chart-2));",valueStyle:"color: hsl(var(--chart-1));"})})}),"DetailsViewRawDataTab"),_F=a(({data:e,avatar:t,defaultTab:r,className:n,copyButton:i,headerActions:s,customHeader:o,onTabChange:l})=>{const[u,c]=U.useState(r||"input-output"),h=[{value:"input-output",label:"In/Out",icon:b.jsx(XU,{className:"size-4"})},{value:"attributes",label:"Attributes",icon:b.jsx(JU,{className:"size-4"})},{value:"raw",label:"RAW",icon:b.jsx(KU,{className:"size-4"})}];function d(y){c(y),l?.(y)}a(d,"handleTabChange");const g=typeof s=="function"?s(e):s,m=o?typeof o=="function"?o({data:e}):o:b.jsx(Swe,{data:e,avatar:t,copyButton:i,actions:g});return b.jsxs("div",{className:Ue("min-w-0 rounded-lg border border-border bg-card p-4 shadow-sm",n),children:[m,b.jsx(Mwe,{data:e}),b.jsx(vF,{items:h,value:u,onValueChange:d,theme:"underline",defaultValue:r}),u==="input-output"&&b.jsx(kwe,{data:e}),u==="attributes"&&b.jsx(mwe,{data:e}),u==="raw"&&b.jsx(Owe,{data:e})]})},"DetailsView"),xF=a(({...e})=>b.jsx(yF,{startIcon:b.jsx(Eh,{className:"size-4"}),placeholder:"Filter...",...e}),"SearchInput"),EF=a(({cost:e,size:t,...r})=>b.jsx(zn,{theme:"gray",size:t,...r,label:`$ ${e}`}),"PriceBadge"),SF=a(({tokensCount:e,size:t,...r})=>b.jsx(zn,{iconStart:b.jsx(FA,{className:"size-2.5"}),theme:"gray",size:t,...r,label:e}),"TokensBadge"),kF=a(({trace:e,avatar:t})=>b.jsxs("header",{className:"flex min-w-0 flex-wrap items-center justify-between gap-2",children:[b.jsxs("div",{className:"flex min-w-0 items-center gap-1.5 overflow-hidden",children:[t&&b.jsx(u_,{size:"4",...t}),b.jsx("h3",{className:"font-medium max-w-full truncate text-sm text-foreground",children:e.name})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(zn,{size:"5",theme:"gray",variant:"outline",label:e.spansCount===1?"1 span":`${e.spansCount} spans`}),b.jsx(zn,{size:"5",theme:"gray",variant:"outline",label:Lu(e.durationMs)})]})]}),"TraceListItemHeader"),Rwe=a(({trace:e,avatar:t,onClick:r,badges:n,isSelected:i})=>{const s=U.useCallback(d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),r?.())},[r]),{name:o,agentDescription:l,totalCost:u,totalTokens:c,startTime:h}=e;return b.jsxs("div",{className:Ue("group w-full","flex flex-col gap-2.5 p-4","cursor-pointer",i?"bg-muted":"bg-card"),role:"button",tabIndex:0,onClick:r,onKeyDown:s,"aria-label":`Select trace ${o}`,children:[b.jsx(kF,{trace:e,avatar:t}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("span",{className:"mr-4 max-w-full truncate text-sm text-muted-foreground ",children:l}),typeof u=="number"&&b.jsx(EF,{cost:u}),typeof c=="number"&&b.jsx(SF,{tokensCount:c}),n?.map((d,g)=>b.jsx(zn,{theme:d.theme,size:"4",label:d.label},g)),typeof h=="number"&&b.jsx(wF,{timestamp:h})]})]})},"TraceListItem"),Pwe=a(({traces:e,expanded:t,onExpandStateChange:r,className:n,onTraceSelect:i,selectedTrace:s})=>b.jsxs("div",{className:Ue("w-full min-w-0","flex flex-col gap-3",t?"w-full":"w-fit",n),children:[b.jsx("header",{className:"flex min-h-6 items-center justify-between gap-2",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h2",{className:Ue("font-semibold text-lg text-foreground",!t&&"hidden"),children:"Traces"}),b.jsx(zn,{size:"5",theme:"teal","aria-label":`Total number of traces: ${e.length}`,label:e.length})]})}),t&&b.jsx("ul",{className:"flex flex-col items-center overflow-hidden rounded border border-border ",children:e.map(o=>b.jsx("li",{className:"w-full list-none border-b-border [&:not(:last-child)]:border-b",children:b.jsx(Rwe,{trace:o,onClick:a(()=>i?.(o),"onClick"),isSelected:s?.id===o.id,badges:o.badges})},o.id))})]}),"TraceList"),Lwe=a(({data:e})=>{const t=pF(e.type);return b.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-1",children:[b.jsx(zn,{iconStart:b.jsx(t,{className:"size-2.5"}),theme:l_(e.type),size:"4",label:fF(e.type)}),typeof e.tokensCount=="number"&&b.jsx(SF,{tokensCount:e.tokensCount}),typeof e.cost=="number"&&b.jsx(EF,{cost:e.cost})]})},"SpanCardBadges"),Ck=a(({type:e})=>e==="empty"?b.jsx("div",{className:"w-5 shrink-0 grow"}):b.jsxs("div",{className:"relative w-5 shrink-0 grow",children:[(e==="vertical"||e==="t-right")&&b.jsx("div",{className:"absolute bottom-0 left-1/2 top-0 w-0.5 -translate-x-1/2 bg-muted"}),e==="t-right"&&b.jsx("div",{className:"absolute left-2.5 top-2.5 h-0.5 w-2.5 -translate-y-[3px] bg-muted"}),e==="corner-top-right"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"absolute left-1/2 top-2 size-0.5 -translate-x-1/2 -translate-y-px bg-muted"}),b.jsx("div",{className:"absolute left-1/2 top-2.5 h-0.5 w-2.5 -translate-y-[3px] bg-muted"}),b.jsx("div",{className:"absolute left-1/2 top-0 h-[7px] w-0.5 -translate-x-px bg-muted"})]})]}),"SpanCardConnector"),Dwe={purple:"bg-primary",indigo:"bg-primary",orange:"bg-chart-1",teal:"bg-chart-2",cyan:"bg-chart-3",sky:"bg-chart-4",yellow:"bg-chart-5",emerald:"bg-accent",red:"bg-destructive",gray:"bg-muted-foreground"},jwe=a(({spanCard:e,theme:t,minStart:r,maxEnd:n,className:i})=>{const{startPercent:s,widthPercent:o}=uF({spanCard:e,minStart:r,maxEnd:n});return b.jsx("span",{className:Ue("relative flex h-4 min-w-20 flex-1 rounded bg-muted",i),children:b.jsx("span",{className:"pointer-events-none absolute inset-x-1 top-1/2 h-1.5 -translate-y-1/2",children:b.jsx("span",{className:`absolute h-full rounded-sm ${Dwe[t]}`,style:{left:`${s}%`,width:`${o}%`}})})})},"SpanCardTimeline"),Ik=a(({isExpanded:e,title:t,onToggleClick:r})=>b.jsx(jA,{asChild:!0,children:b.jsx("button",{className:"flex h-4 w-5 shrink-0 items-center justify-center",onClick:r,onKeyDown:r,"aria-label":`${e?"Collapse":"Expand"} ${t} children`,"aria-expanded":e,type:"button",children:e?b.jsx(as,{"aria-hidden":"true",className:"size-3 text-muted-foreground"}):b.jsx(uA,{"aria-hidden":"true",className:"size-3 text-muted-foreground"})})}),"SpanCardToggle"),pl={CONNECTOR_WIDTH:20,CONTENT_BASE_WIDTH:320},O0={withStatus:!0,expandButton:"inside"},Bwe=a(({level:e,hasExpandButton:t,contentPadding:r,expandButton:n})=>{let i=pl.CONTENT_BASE_WIDTH-e*pl.CONNECTOR_WIDTH;return t&&n==="inside"&&(i-=pl.CONNECTOR_WIDTH),n==="outside"&&e===0&&(i-=pl.CONNECTOR_WIDTH),i-r},"getContentWidth"),zwe=a(({connectorsColumnWidth:e,expandButton:t})=>t==="inside"?`${e}px 1fr`:`${e}px 1fr ${pl.CONNECTOR_WIDTH}px`,"getGridTemplateColumns"),Fwe=a(({level:e,hasExpandButton:t})=>e===0?0:t?4:8,"getContentPadding"),Uwe=a(({level:e,hasExpandButton:t,isLastChild:r,prevConnectors:n,expandButton:i})=>{const s=[];if(e===0)return{connectors:i==="inside"?[]:["vertical"],connectorsColumnWidth:20};for(let l=0;l<e-1;l++)s.push("vertical");r||s.push("t-right"),r&&s.push("corner-top-right");let o=s.length*pl.CONNECTOR_WIDTH;t&&(o+=pl.CONNECTOR_WIDTH);for(let l=0;l<n.length;l++)(n[l]==="empty"||n[l]==="corner-top-right")&&(s[l]="empty");return{connectors:s,connectorsColumnWidth:o}},"getConnectorsLayout"),Hwe=a((e,t)=>{const r=U.useCallback(()=>{t?.(e)},[e,t]),n=U.useCallback(s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),r())},[r]),i=U.useCallback(s=>{s.stopPropagation()},[]);return{handleCardClick:r,handleKeyDown:n,handleToggleClick:i}},"useSpanCardEventHandlers"),Gwe=a(({data:e,level:t,selectedSpan:r,onSpanSelect:n,minStart:i,maxEnd:s,prevLevelConnectors:o,expandedSpansIds:l,onExpandSpansIdsChange:u,viewOptions:c=O0})=>e.children?.length?b.jsx("div",{className:"relative",children:b.jsx(BA,{children:b.jsx("ul",{role:"group",children:e.children.map((h,d)=>b.jsx(AF,{viewOptions:c,data:h,minStart:i,maxEnd:s,level:t+1,selectedSpan:r,onSpanSelect:n,isLastChild:d===(e.children||[]).length-1,prevLevelConnectors:o,expandedSpansIds:l,onExpandSpansIdsChange:u},h.id))})})}):null,"SpanCardChildren"),AF=a(({data:e,level:t=0,selectedSpan:r,onSpanSelect:n,viewOptions:i=O0,avatar:s,minStart:o,maxEnd:l,isLastChild:u,prevLevelConnectors:c=[],expandedSpansIds:h,onExpandSpansIdsChange:d})=>{const g=h.includes(e.id),m=i.withStatus??O0.withStatus,y=i.expandButton||O0.expandButton,x=U.useCallback(ae=>{const F=h.includes(e.id);F&&!ae&&d(h.filter(W=>W!==e.id)),!F&&ae&&d([...h,e.id])},[g,h,e.id,d]),A={isExpanded:g,hasChildren:!!e.children?.length,isSelected:r?.id===e.id},C=Hwe(e,n),{durationMs:M}=uF({spanCard:e,minStart:o,maxEnd:l}),R=y==="inside"&&A.hasChildren,P=Fwe({level:t,hasExpandButton:R}),L=Bwe({level:t,hasExpandButton:R,contentPadding:P,expandButton:y}),{connectors:z,connectorsColumnWidth:Z}=Uwe({level:t,hasExpandButton:R,isLastChild:u,prevConnectors:c,expandButton:y}),Y=zwe({connectorsColumnWidth:Z,expandButton:y});return b.jsx("li",{role:"treeitem","aria-expanded":A.hasChildren?A.isExpanded:void 0,className:"list-none",children:b.jsxs($2,{open:A.isExpanded,onOpenChange:x,children:[b.jsxs("div",{className:Ue("relative grid w-full rounded-md transition-colors",A.isSelected?"bg-accent/50 border border-accent":"hover:bg-muted/30"),style:{gridTemplateColumns:Y},onClick:C.handleCardClick,onKeyDown:C.handleKeyDown,tabIndex:0,role:"button","aria-pressed":A.isSelected,"aria-describedby":`span-card-desc-${e.id}`,"aria-expanded":A.hasChildren?A.isExpanded:void 0,"aria-label":`${A.isSelected?"Selected":"Not selected"} span card for ${e.title} at level ${t}`,children:[b.jsxs("div",{className:"flex flex-nowrap",children:[z.map((ae,F)=>b.jsx(Ck,{type:ae},`${ae}-${F}`)),R&&b.jsxs("div",{className:"flex w-5 flex-col items-center",children:[b.jsx(Ik,{isExpanded:A.isExpanded,title:e.title,onToggleClick:C.handleToggleClick}),A.isExpanded&&b.jsx(Ck,{type:"vertical"})]})]}),b.jsxs("div",{className:Ue("flex flex-nowrap items-center align-middle gap-x-3 gap py-3 px-2","min-h-5 w-full cursor-pointer",t!==0&&!R&&"pl-2",t!==0&&R&&"pl-1"),children:[b.jsxs("div",{className:"relative flex min-h-4 flex-shrink-0 flex-grow-0 flex-wrap items-start gap-1",style:{width:`min(${L}px, 100%)`,minWidth:140},children:[s&&b.jsx(u_,{size:"4",...s}),b.jsx("h3",{className:"mr-1 h-4 max-w-32 truncate text-sm leading-[14px] text-foreground ",title:e.title,children:e.title}),b.jsx(Lwe,{data:e})]}),b.jsxs("div",{className:"flex flex-shrink flex-grow flex-nowrap items-center justify-end gap-1 min-w-0",children:[y==="outside"&&m&&b.jsx("div",{className:"flex-shrink-0",children:b.jsx(R2,{status:e.status})}),b.jsx(jwe,{theme:l_(e.type),minStart:o,maxEnd:l,spanCard:e,className:"max-w-48 flex-shrink"}),b.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[b.jsx("span",{className:"inline-block w-14 whitespace-nowrap px-1 text-right text-xs text-foreground",children:Lu(M)}),y==="inside"&&m&&b.jsx("div",{children:b.jsx(R2,{status:e.status})})]})]})]}),y==="outside"&&(A.hasChildren?b.jsx(Ik,{isExpanded:A.isExpanded,title:e.title,onToggleClick:C.handleToggleClick}):b.jsx("div",{}))]}),b.jsx(Gwe,{minStart:o,maxEnd:l,viewOptions:i,data:e,level:t,selectedSpan:r,onSpanSelect:n,prevLevelConnectors:z,expandedSpansIds:h,onExpandSpansIdsChange:d})]})})},"SpanCard"),TF=a(({spans:e,onSpanSelect:t,className:r="",selectedSpan:n,expandedSpansIds:i,onExpandSpansIdsChange:s,spanCardViewOptions:o})=>{const l=cF(e),{minStart:u,maxEnd:c}=owe(l);return b.jsx("div",{className:"w-full min-w-0 p-4",children:b.jsx("ul",{className:Ue(r,"overflow-x-auto space-y-1"),role:"tree","aria-label":"Hierarchical card list",children:e.map((h,d)=>b.jsx(AF,{data:h,level:0,selectedSpan:n,onSpanSelect:t,minStart:u,maxEnd:c,isLastChild:d===e.length-1,expandedSpansIds:i,onExpandSpansIdsChange:s,viewOptions:o},h.id))})})},"TreeView"),Vwe=a(({data:e})=>{const[t,r]=U.useState(e[0]?.traceRecord),[n,i]=U.useState(e[0]?.spans??[]),[s,o]=U.useState(e[0]?.spans?.[0]?.children?.[0]),[l,u]=U.useState(""),[c,h]=U.useState(!0),d=U.useMemo(()=>e.map(P=>({...P.traceRecord,badges:P.badges,spanCardViewOptions:P.spanCardViewOptions})),[e]),g=U.useMemo(()=>l.trim()?dF(n,l):n,[n,l]),m=U.useMemo(()=>cF(n).map(P=>P.id),[n]),[y,x]=U.useState(m);U.useEffect(()=>{x(m)},[m]);const A=U.useCallback(()=>{x(m)},[m]),C=U.useCallback(()=>{x([])},[]);U.useEffect(()=>{o(n[0])},[n]);const M=U.useCallback(P=>{r(P),i(e.find(L=>L.traceRecord.id===P.id)?.spans??[])},[e]),R={traceRecords:d,traceListExpanded:c,setTraceListExpanded:h,selectedTrace:t,setSelectedTrace:r,selectedTraceSpans:n,setSelectedTraceSpans:i,selectedSpan:s,setSelectedSpan:o,searchValue:l,setSearchValue:u,filteredSpans:g,expandedSpansIds:y,setExpandedSpansIds:x,handleExpandAll:A,handleCollapseAll:C,handleTraceSelect:M};return b.jsxs("div",{className:"h-full w-full p-4 lg:p-8",children:[b.jsx("div",{className:"hidden lg:block",children:b.jsx(Ywe,{...R})}),b.jsx("div",{className:"lg:hidden",children:b.jsx(Zwe,{...R})})]})},"TraceViewer"),Ywe=a(({traceRecords:e,traceListExpanded:t,setTraceListExpanded:r,selectedTrace:n,selectedSpan:i,setSelectedSpan:s,searchValue:o,setSearchValue:l,filteredSpans:u,expandedSpansIds:c,setExpandedSpansIds:h,handleExpandAll:d,handleCollapseAll:g,handleTraceSelect:m})=>b.jsx("div",{className:"flex flex-col gap-4",children:n?b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs(Ys,{value:n.id,onValueChange:a(y=>{const x=e.find(A=>A.id===y);x&&m(x)},"onValueChange"),children:[b.jsx(es,{className:"w-full h-auto py-3",children:b.jsx(Zs,{children:b.jsxs("div",{className:"flex items-center gap-4 w-full",children:[b.jsx("span",{className:"font-semibold text-base",children:n.name}),b.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[typeof n.startTime=="number"&&b.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(n.startTime).toLocaleTimeString()}),b.jsx(zn,{size:"4",theme:"gray",variant:"outline",label:`${n.spansCount} span${n.spansCount===1?"":"s"}`}),b.jsx(zn,{size:"4",theme:"gray",variant:"outline",label:Lu(n.durationMs)})]})]})})}),b.jsx(ts,{className:"w-full max-w-2xl max-h-[400px]",children:e.map(y=>b.jsx(Ar,{value:y.id,className:"py-2.5 px-4 cursor-pointer",children:b.jsxs("div",{className:"flex items-center justify-between gap-4 w-full pr-6",children:[b.jsxs("div",{className:"flex flex-col gap-1 min-w-0",children:[b.jsx("span",{className:"font-semibold text-base text-foreground",children:y.name}),y.agentDescription&&b.jsx("span",{className:"text-xs text-muted-foreground",children:y.agentDescription})]}),b.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[typeof y.startTime=="number"&&b.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(y.startTime).toLocaleTimeString()}),b.jsx(zn,{size:"4",theme:"gray",variant:"outline",label:`${y.spansCount} span${y.spansCount===1?"":"s"}`}),b.jsx(zn,{size:"4",theme:"gray",variant:"outline",label:Lu(y.durationMs)})]})]})},y.id))})]}),b.jsxs("div",{className:"rounded-lg border border-border bg-card shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-border p-4",children:[b.jsx(xF,{id:"span-search-desktop",name:"search",onClear:a(()=>l(""),"onClear"),value:o,onValueChange:l,className:"max-w-60 grow"}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[b.jsx(mF,{onExpandAll:d}),b.jsx(gF,{onCollapseAll:g})]})})]}),u.length===0?b.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"No spans found"}):b.jsx(TF,{spans:u,onSpanSelect:s,selectedSpan:i,expandedSpansIds:c,onExpandSpansIdsChange:h,spanCardViewOptions:n.spanCardViewOptions})]}),i?b.jsx(_F,{data:i}):b.jsx(Mk,{title:"Select a span to see the details"})]}):b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs(Ys,{value:"",onValueChange:a(y=>{const x=e.find(A=>A.id===y);x&&m(x)},"onValueChange"),children:[b.jsx(es,{className:"w-full",children:b.jsx(Zs,{placeholder:"Select a trace to view details..."})}),b.jsx(ts,{className:"w-full max-w-2xl max-h-[400px]",children:e.map(y=>b.jsx(Ar,{value:y.id,className:"py-2.5 px-4 cursor-pointer",children:b.jsxs("div",{className:"flex items-center justify-between gap-4 w-full pr-6",children:[b.jsxs("div",{className:"flex flex-col gap-1 min-w-0",children:[b.jsx("span",{className:"font-semibold text-base text-foreground",children:y.name}),y.agentDescription&&b.jsx("span",{className:"text-xs text-muted-foreground",children:y.agentDescription})]}),b.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[typeof y.startTime=="number"&&b.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(y.startTime).toLocaleTimeString()}),b.jsx(zn,{size:"4",theme:"gray",variant:"outline",label:`${y.spansCount} span${y.spansCount===1?"":"s"}`}),b.jsx(zn,{size:"4",theme:"gray",variant:"outline",label:Lu(y.durationMs)})]})]})},y.id))})]}),b.jsx(Mk,{title:"Select a trace to see the details"})]})}),"DesktopLayout"),Zwe=a(({traceRecords:e,traceListExpanded:t,setTraceListExpanded:r,selectedTrace:n,setSelectedTrace:i,selectedTraceSpans:s,setSelectedTraceSpans:o,selectedSpan:l,setSelectedSpan:u,searchValue:c,setSearchValue:h,filteredSpans:d,expandedSpansIds:g,setExpandedSpansIds:m,handleExpandAll:y,handleCollapseAll:x,handleTraceSelect:A})=>n?n&&s.length&&!l?b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsx(kk,{onClick:a(()=>{i(void 0),o([])},"onClick"),iconStart:b.jsx(zy,{className:"size-3"}),variant:"ghost",className:"self-start",children:"Traces list"}),b.jsx(kF,{trace:n}),b.jsxs("div",{className:"rounded border border-border bg-card",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-border p-3",children:[b.jsx(xF,{id:"span-search-mobile",name:"search",onClear:a(()=>h(""),"onClear"),value:c,onValueChange:h,className:"max-w-60 grow"}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[b.jsx(mF,{onExpandAll:y}),b.jsx(gF,{onCollapseAll:x})]})})]}),d.length===0?b.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"No spans found"}):b.jsx(TF,{spans:d,spanCardViewOptions:n.spanCardViewOptions,onSpanSelect:u,selectedSpan:l,expandedSpansIds:g,onExpandSpansIdsChange:m})]})]}):n&&s.length&&l?b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsx(kk,{onClick:a(()=>{u(void 0)},"onClick"),iconStart:b.jsx(zy,{className:"size-3"}),variant:"ghost",className:"self-start",children:"Tree View"}),b.jsx(_F,{data:l})]}):null:b.jsx(Pwe,{traces:e,expanded:t,onExpandStateChange:r,onTraceSelect:A,selectedTrace:n}),"MobileLayout"),Mk=a(({title:e})=>b.jsx("p",{className:"hidden items-center justify-center rounded-lg bg-muted p-4 text-center text-muted-foreground lg:flex",children:e}),"Placeholder"),$we=Mr(),Xwe=a(({agentId:e})=>{const t=lle(e),r=t.data?.runs??[],n=wA({queries:r.map(c=>({queryKey:["agent",e,"runs","detail",c.runId,null],queryFn:a(async()=>$we.runs.getRun(e,c.runId),"queryFn"),enabled:!!(e&&c.runId),staleTime:3e4}))}),i=U.useMemo(()=>r.map((c,h)=>{const d=n[h];return d?.data?{traceRecord:Ek.convertRunSummaryToTraceRecord(c),spans:Ek.convertRunDetailToTraceSpans(d.data)}:null}).filter(c=>c!==null),[r,...n.map(c=>c.data)]),s=t.isLoading,o=t.error?t.error.message:void 0,l=r.length>0,u=i.length>0;return s?b.jsx("div",{className:"flex items-center justify-center h-32",children:b.jsx(Fn,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):o?b.jsxs("div",{className:"px-4 py-3 text-sm text-destructive",children:["Failed to load runs: ",o]}):l?u?b.jsx("div",{className:"h-full w-full",children:b.jsx(Vwe,{data:i})}):b.jsxs("div",{className:"flex items-center justify-center h-32",children:[b.jsx(Fn,{className:"h-5 w-5 animate-spin text-muted-foreground"}),b.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading run details..."})]}):b.jsx("div",{className:"px-4 py-8 text-sm text-center text-muted-foreground",children:"No agent runs yet. Runs will appear here after the agent processes messages."})},"AgentRunTimeline");function Ok({agentId:e,agentName:t,channelId:r}){const{currentTab:n,setTab:i}=awe(e),{data:s,isLoading:o}=mle(e,{enabled:!!e}),{data:l,isLoading:u,error:c}=Zh(e,{enabled:!!e&&n==="details"}),h=l?.data,d=U.useMemo(()=>s?.data||[],[s]),g=U.useMemo(()=>{const m=[{value:"details",label:"Details",icon:b.jsx(j2,{className:"h-4 w-4"})},{value:"timeline",label:"Timeline",icon:b.jsx(LA,{className:"h-4 w-4"})},{value:"actions",label:"Model Calls",icon:b.jsx(Ya,{className:"h-4 w-4"})},{value:"memories",label:"Memories",icon:b.jsx(No,{className:"h-4 w-4"})},{value:"logs",label:"Logs",icon:b.jsx(QU,{className:"h-4 w-4"})}],y=d.map(x=>({value:x.name,label:x.name,icon:b.jsx(WU,{className:"h-4 w-4"})}));return[...m,...y]},[d]);return b.jsxs(t4,{defaultValue:"details",value:n,onValueChange:i,className:"flex flex-col h-screen w-full max-w-full",children:[b.jsxs(cm,{className:"flex w-full max-w-full overflow-x-auto flex-shrink-0",children:[g.map(m=>b.jsxs(Rd,{value:m.value,className:"flex items-center gap-1.5 flex-shrink-0",children:[m.icon,b.jsx("span",{className:"truncate",children:m.label})]},m.value)),o&&b.jsx(b.Fragment,{children:[...Array(2)].map((m,y)=>b.jsx(Od,{className:"h-9 w-full rounded-md flex-shrink-0"},`skel-tab-${y}`))})]}),b.jsxs(va,{value:"details",className:"overflow-y-auto overflow-x-hidden flex-1 p-4 w-full max-w-full min-h-0",children:[n==="details"&&e&&b.jsxs(b.Fragment,{children:[u&&b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx(Fn,{className:"h-6 w-6 animate-spin text-primary"})}),c&&b.jsxs("div",{className:"text-red-500 break-words",children:["Error loading agent details: ",c.message]}),!u&&!c&&h&&b.jsx("div",{className:"w-full max-w-full",children:b.jsx(oF,{agent:h,agentId:e,onSaveComplete:a(()=>{},"onSaveComplete")})}),!u&&!c&&!h&&!o&&b.jsx("div",{className:"text-muted-foreground",children:"Agent details not found."})]}),n==="details"&&!e&&b.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their details."})]}),b.jsxs(va,{value:"timeline",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0 p-0",children:[n==="timeline"&&e&&b.jsx("div",{className:"w-full max-w-full h-full",children:b.jsx(Xwe,{agentId:e})}),n==="timeline"&&!e&&b.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see run activity."})]}),b.jsxs(va,{value:"actions",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[n==="actions"&&e&&b.jsx("div",{className:"w-full max-w-full",children:b.jsx(rwe,{agentId:e})}),n==="actions"&&!e&&b.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their actions."})]}),b.jsxs(va,{value:"logs",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[n==="logs"&&e&&b.jsx("div",{className:"w-full max-w-full",children:b.jsx(vL,{agentName:t,level:"all"})}),n==="logs"&&!e&&b.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their logs."})]}),b.jsxs(va,{value:"memories",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[n==="memories"&&e&&b.jsx("div",{className:"w-full max-w-full",children:b.jsx(iwe,{agentId:e,agentName:t,channelId:r})}),n==="memories"&&!e&&b.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their memories."})]}),d.map(m=>b.jsx(va,{value:m.name,className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:n===m.name&&e&&b.jsx("iframe",{src:m.url,title:m.name,className:"w-full h-full border-0 flex-1 max-w-full"})},m.name))]})}a(Ok,"AgentSidebar");const Jwe=160,NF=U.forwardRef(({className:e,...t},r)=>{const n=U.useRef(null),i=a(o=>{typeof r=="function"?r(o):r&&(r.current=o),n.current=o},"combinedRef"),s=a(()=>{const o=n.current;o&&(o.style.height="auto",o.style.height=Math.min(o.scrollHeight,Jwe)+"px")},"resizeTextarea");return U.useEffect(()=>{s()},[t.value]),b.jsx(Ah,{autoComplete:"off",ref:i,name:"message",className:Ue("px-4 py-3 bg-background text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring disabled:cursor-not-allowed disabled:opacity-50 w-full rounded-md flex items-center h-16 resize-none",e),...t})});NF.displayName="ChatInput";let Kc,Wc=[],o0;const Rk=a((e,t)=>String(e).padStart(t,"0"),"padWithLeadingZeros"),Kwe=a(({className:e,timerClassName:t,agentId:r,onChange:n})=>{const{toast:i}=Br(),[s,o]=U.useState(!1),[l,u]=U.useState(!1),[c,h]=U.useState(0),[d,g]=U.useState({id:-1,name:"",file:null}),m=Math.floor(c%3600/60),y=c%60,[x,A]=U.useMemo(()=>Rk(m,2).split(""),[m]),[C,M]=U.useMemo(()=>Rk(y,2).split(""),[y]),R=U.useRef({stream:null,analyser:null,mediaRecorder:null,audioContext:null}),P=Mr(),L=Pi({mutationKey:["whisper"],mutationFn:a(F=>P.audio.transcribe(r,{audio:F}),"mutationFn"),onSuccess:a(F=>{F?.text&&n(F.text)},"onSuccess"),onError:a(F=>{i({variant:"destructive",title:"Unable to start recording",description:F.message}),console.log(F)},"onError")});function z(){navigator.mediaDevices?.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!0}).then(F=>{o(!0);const W=window.AudioContext,f=new W,w=f.createAnalyser();f.createMediaStreamSource(F).connect(w),R.current={stream:F,analyser:w,mediaRecorder:null,audioContext:f};const S={mimeType:MediaRecorder.isTypeSupported("audio/mpeg")?"audio/mpeg":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/wav"};R.current.mediaRecorder=new MediaRecorder(F,S),R.current.mediaRecorder.start(),Wc=[],Kc=new MediaRecorder(F),Kc.start(),Kc.ondataavailable=T=>{Wc.push(T.data)}}).catch(F=>{i({variant:"destructive",title:"Unable to start recording",description:F.message}),console.log(F)})}a(z,"startRecording");function Z(){Kc.onstop=()=>{const F=new Blob(Wc,{type:"audio/wav"});L.mutate(F),g({...d,file:window.URL.createObjectURL(F)}),Wc=[]},Kc.stop(),o(!1),u(!0),h(0),clearTimeout(o0)}a(Z,"stopRecording");function Y(){const{mediaRecorder:F,stream:W,analyser:f,audioContext:w}=R.current;if(F&&(F.onstop=()=>{Wc=[]},F.stop()),f&&f.disconnect(),W)for(const v of W.getTracks())v.stop();w&&w.close(),o(!1),u(!0),h(0),clearTimeout(o0)}a(Y,"resetRecording");const ae=a(()=>{Z()},"handleSubmit");return U.useEffect(()=>(s&&(o0=setTimeout(()=>{h(c+1)},1e3)),()=>clearTimeout(o0)),[s,c]),L?.isPending?b.jsx(dt,{variant:"ghost",disabled:!0,size:"icon",children:b.jsx(z2,{className:"size-4"})}):b.jsxs("div",{className:Ue("flex items-center justify-center gap-2 border-l border-l-transparent border-opacity-0 transition-all duration-300",{"border-opacity-100 border-l-border pl-2":s},e),children:[s?b.jsxs("div",{className:"flex gap-1 items-center",children:[b.jsx("div",{className:"bg-red-500 rounded-full h-2.5 w-2.5 animate-pulse"}),b.jsx(CF,{minuteLeft:x,minuteRight:A,secondLeft:C,secondRight:M,timerClassName:t})]}):null,b.jsxs("div",{className:"flex items-center gap-2",children:[s?b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx(dt,{onClick:Y,size:"icon",variant:"ghost",children:b.jsx(xh,{className:"size-4"})})}),b.jsx(nn,{className:"m-2",children:b.jsx("span",{children:" Reset recording"})})]}):null,b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:s?b.jsx(dt,{onClick:ae,variant:"ghost",size:"icon",children:b.jsx(UA,{className:"size-4"})}):b.jsxs(dt,{variant:"ghost",size:"icon",onClick:a(()=>z(),"onClick"),children:[b.jsx(qU,{className:"size-4"}),b.jsx("span",{className:"sr-only",children:"Use Microphone"})]})}),b.jsx(nn,{side:"right",children:b.jsxs("span",{children:[s?"Send":"Start"," "]})})]})]})]})},"AudioRecorder"),CF=im.memo(({minuteLeft:e,minuteRight:t,secondLeft:r,secondRight:n,timerClassName:i})=>b.jsx("div",{className:Ue("text-sm animate-in duration-1000 fade-in-0 select-none",i),children:b.jsxs("p",{children:[e,t,":",r,n]})}));CF.displayName="Timer";const Pk=a(({input:e,setInput:t,inputDisabled:r,selectedFiles:n,removeFile:i,handleFileChange:s,handleSendMessage:o,handleKeyDown:l,chatType:u,targetAgentData:c,formRef:h,inputRef:d,fileInputRef:g})=>b.jsxs("div",{className:"px-2 sm:px-4 pb-2 sm:pb-4 mt-auto flex-shrink-0","data-testid":"chat-container",children:[r&&b.jsxs("div",{className:"px-2 pb-2 text-sm text-muted-foreground flex items-center gap-2",children:[b.jsxs("div",{className:"flex gap-0.5 items-center justify-center",children:[b.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0s]"}),b.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0.2s]"}),b.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0.4s]"})]}),b.jsx("span",{className:"text-xs sm:text-sm",children:u===Gt.DM&&c?`${c.name} is thinking`:"Agent is thinking"}),b.jsxs("div",{className:"flex",children:[b.jsx("span",{className:"animate-pulse [animation-delay:0ms]",children:"."}),b.jsx("span",{className:"animate-pulse [animation-delay:200ms]",children:"."}),b.jsx("span",{className:"animate-pulse [animation-delay:400ms]",children:"."})]})]}),b.jsxs("form",{ref:h,onSubmit:o,className:"relative rounded-md border bg-card p-2 sm:p-3",children:[n.length>0&&b.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3 p-2 sm:p-3 pb-0 max-h-32 sm:max-h-40 overflow-y-auto",children:n.map(m=>{const y=m.blobUrl||URL.createObjectURL(m.file);return b.jsxs("div",{className:"relative p-1 sm:p-2",children:[b.jsxs("div",{className:"relative w-12 h-12 sm:w-16 sm:h-16 rounded-lg overflow-hidden border bg-muted",children:[m.isUploading&&b.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:b.jsx(Fn,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin text-white"})}),m.file.type.startsWith("image/")?b.jsx("img",{alt:"Selected file",src:y,className:"w-full h-full object-cover"}):m.file.type.startsWith("video/")?b.jsx("video",{src:y,className:"w-full h-full object-cover",muted:!0}):b.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:b.jsx(ml,{className:"h-4 w-4 sm:h-8 sm:w-8 text-muted-foreground"})}),m.error&&b.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-red-500 text-white text-xs p-1 text-center",children:"Error"})]}),b.jsx(dt,{onClick:a(()=>i(m.id),"onClick"),className:"absolute -right-1 -top-1 size-[16px] sm:size-[20px] ring-2 ring-background z-20",variant:"outline",size:"icon",disabled:m.isUploading,children:b.jsx(yi,{className:"h-2 w-2 sm:h-3 sm:w-3"})}),b.jsx("div",{className:"text-xs text-center mt-1 truncate w-12 sm:w-16",children:m.file.name})]},m.id)})}),b.jsx(NF,{ref:d,onKeyDown:l,value:e,onChange:a(({target:m})=>t(m.value),"onChange"),placeholder:r?u===Gt.DM&&c?`${c.name} is thinking...`:"Agent is processing...":u===Gt.DM?"Type your message here...":"Message group...",className:"min-h-12 resize-none rounded-none bg-card border-0 px-0 py-0 shadow-none focus-visible:ring-0 text-sm sm:text-base",disabled:r||u===Gt.DM&&c?.status==="inactive","data-testid":"chat-input"}),b.jsxs("div",{className:"flex items-center pt-0 gap-1",children:[b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsxs("div",{children:[b.jsxs(dt,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-10 sm:w-10",onClick:a(()=>{g.current&&g.current.click()},"onClick"),children:[b.jsx(eH,{className:"size-3 sm:size-4"}),b.jsx("span",{className:"sr-only",children:"Attach file"})]}),b.jsx("input",{type:"file",ref:g,onChange:s,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt,.rtf,...",multiple:!0,className:"hidden"})]})}),b.jsx(nn,{side:"left",children:b.jsx("p",{children:"Attach files"})})]}),u===Gt.DM&&c?.id&&b.jsx(Kwe,{agentId:c.id,onChange:a(m=>t(m),"onChange")}),b.jsx(dt,{disabled:r||u===Gt.DM&&c?.status==="inactive"||n.some(m=>m.isUploading),type:"submit",size:"sm",className:"ml-auto gap-1.5 h-[26px] sm:h-[30px] px-2 sm:px-3","data-testid":"send-button",children:r||n.some(m=>m.isUploading)?b.jsxs("div",{className:"flex gap-0.5 items-center justify-center",children:[b.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0s]"}),b.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0.2s]"}),b.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0.4s]"})]}):b.jsx(UA,{className:"size-3 sm:size-3.5"})})]})]})]}),"ChatInputArea"),IF=U.forwardRef(({className:e,children:t,scrollRef:r,contentRef:n,isAtBottom:i,scrollToBottom:s,disableAutoScroll:o,...l},u)=>b.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[b.jsx("div",{className:`flex flex-col w-full h-full p-2 overflow-y-auto ${e}`,ref:r,onWheel:o,onTouchMove:o,...l,children:b.jsx("div",{className:"flex flex-col gap-10",ref:n,children:t})}),!i&&b.jsx(dt,{onClick:a(()=>{s()},"onClick"),size:"icon",variant:"outline",className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 inline-flex rounded-full shadow-md",children:b.jsx(tH,{className:"h-4 w-4"})})]}));IF.displayName="ChatMessageList";const Lk=a(({messages:e,isLoadingMessages:t,chatType:r,currentClientEntityId:n,targetAgentData:i,allAgents:s,animatedMessageId:o,scrollRef:l,contentRef:u,isAtBottom:c,scrollToBottom:h,disableAutoScroll:d,finalChannelId:g,getAgentInMessage:m,agentAvatarMap:y,onDeleteMessage:x,onRetryMessage:A,selectedGroupAgentId:C})=>{const M=im.useMemo(()=>r===Gt.GROUP&&C?e.filter(R=>{const P=R.senderId===n,L=R.senderId===C;return P||L}):e,[e,r,C,n]);return b.jsxs(IF,{scrollRef:l,contentRef:u,isAtBottom:c,scrollToBottom:h,disableAutoScroll:d,className:"h-full w-full","data-testid":"chat-messages",children:[t&&M.length===0&&b.jsx("div",{className:"flex flex-1 justify-center items-center",children:b.jsx("p",{children:"Loading messages..."})}),!t&&M.length===0&&b.jsx("div",{className:"flex flex-1 justify-center items-center",children:b.jsx("p",{children:"No messages yet. Start the conversation!"})}),M.map((R,P)=>{const L=R.senderId===n,z=P===M.length-1&&R.isAgent&&R.id===o,Z=!L&&m?m(R.senderId):void 0;return b.jsx("div",{className:Ue("flex gap-1",L?"justify-end":"justify-start"),children:b.jsxs(CL,{variant:L?"sent":"received",className:`flex flex-col gap-1 ${L?"flex-row-reverse":""}`,children:[!L&&r===Gt.GROUP&&b.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[b.jsx(Lo,{className:"size-5 border rounded-full select-none",children:b.jsx(Bl,{src:Md(Z||(y&&R.senderId&&s?s.find(Y=>Y.id===R.senderId):void 0))})}),b.jsx("div",{children:Z?.name})]}),b.jsx(u3e,{message:R,agentForTts:r===Gt.DM?i:Z,shouldAnimate:z,onDelete:x,onRetry:A,isUser:L,getAgentInMessage:r===Gt.GROUP?m:void 0,agentAvatarMap:r===Gt.GROUP?y:void 0,chatType:r})]})},`${R.id}-${R.createdAt}`)})]},g||"no-channel")},"ChatMessageListComponent");function Wwe({options:e=[],className:t="",onSelect:r,initialSelected:n=[]}){const[i,s]=U.useState(n),[o,l]=U.useState(!1),u=U.useRef(null);U.useEffect(()=>{s(n)},[n]),U.useEffect(()=>{const m=a(y=>{u.current&&!u.current.contains(y.target)&&l(!1)},"handleClickOutside");return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const c=a(m=>i.some(y=>m.id&&y.id?y.id===m.id:y.label===m.label),"isOptionSelected"),h=a(m=>{console.log("[MultiSelectCombobox] toggleSelection called with:",m),s(y=>{const x=c(m);let A;return x?A=y.filter(C=>m.id&&C.id?C.id!==m.id:C.label!==m.label):A=[...y,m],console.log("[MultiSelectCombobox] New selection:",A),r&&r(A),A})},"toggleSelection"),d=a(m=>{s(y=>{const x=y.filter(A=>m.id&&A.id?A.id!==m.id:A.label!==m.label);return r&&r(x),x})},"removeSelection"),g=a(()=>{s(m=>{const y=m.slice(0,3);return r&&r(y),y})},"removeExtraSelections");return b.jsxs("div",{className:`relative w-80 ${t}`,ref:u,children:[b.jsxs("div",{className:`flex items-center gap-2 border p-2 bg-background rounded cursor-pointer ${o?"border-primary":"border-input"}`,onClick:a(()=>l(!o),"onClick"),children:[b.jsx("div",{className:"flex flex-wrap gap-1 w-full",children:i.length>0?b.jsxs(b.Fragment,{children:[i.slice(0,3).map((m,y)=>b.jsxs(ya,{className:"flex items-center gap-1 px-2",children:[m.label,b.jsx(yi,{size:12,className:"cursor-pointer",onClick:a(x=>{x.stopPropagation(),d(m)},"onClick")})]},m.id||m.label||y)),i.length>3&&b.jsxs(ya,{className:"px-2 cursor-pointer",onClick:a(m=>{m.stopPropagation(),g()},"onClick"),children:["+",i.length-3," more"]})]}):b.jsx("span",{className:"text-muted-foreground",children:"Select agents..."})}),b.jsx(as,{size:16})]}),o&&b.jsx(ds,{className:"absolute left-0 mt-2 w-full shadow-md border border-border rounded z-40 max-h-60 overflow-y-auto",children:e.length===0?b.jsx("div",{className:"p-2 text-muted-foreground text-sm",children:"No agents available"}):e.map((m,y)=>b.jsxs("div",{className:`flex items-center gap-2 p-2 cursor-pointer rounded hover:bg-muted ${c(m)?"bg-muted":"bg-card"}`,onClick:a(()=>h(m),"onClick"),children:[b.jsx("div",{className:"bg-gray-500 rounded-full w-4 h-4 flex justify-center items-center overflow-hidden text-xs",children:m.icon?b.jsx("img",{src:m.icon,alt:m.label,className:"w-full h-full object-cover"}):Tl(m.label)}),m.label]},m.id||m.label||y))})]})}a(Wwe,"MultiSelectCombobox");const Qwe="00000000-0000-0000-0000-000000000000";function qwe(e){return!!e.id&&!!ch(e.id)&&typeof e.name=="string"&&e.name.trim()!==""}a(qwe,"isAgentSelectable");function Pg({onClose:e,channelId:t}){const[r,n]=U.useState(""),[i,s]=U.useState([]),[o,l]=U.useState(""),[u,c]=U.useState([]),h=Qwe,d=U.useRef(!1),g=U.useRef(t),m=U.useRef(!1),{data:y}=$w(t?h:void 0,{enabled:!!t}),{data:x,isLoading:A,isError:C}=ic(),M=U.useMemo(()=>(x?.agents||[]).filter(qwe),[x]),R=Ln(),P=Yn(),{toast:L}=Br(),{confirm:z,isOpen:Z,onOpenChange:Y,onConfirm:ae,options:F}=Xl();U.useEffect(()=>{t&&(R.invalidateQueries({queryKey:["channelParticipants",t]}),R.refetchQueries({queryKey:["channelParticipants",t]}))},[t,R]);const W=Pi({mutationFn:a(async({name:G,participantIds:J})=>await Mr().messaging.createGroupChannel({name:G,participantIds:J,metadata:{type:Gt.GROUP,server_id:h,source:qc}}),"mutationFn"),onSuccess:a(G=>{G&&(L({title:"Success",description:"Group created successfully."}),R.invalidateQueries({queryKey:["channels",h]}),R.invalidateQueries({queryKey:["channels"]}),e(),setTimeout(()=>{P(`/group/${G.id}?serverId=${h}`)},100))},"onSuccess"),onError:a(G=>{qe.error("Failed to create group",G);const J=G instanceof Error?G.message:"Failed to create group.";L({title:"Error",description:J,variant:"destructive"})},"onError")}),f=Pi({mutationFn:a(async({name:G,participantIds:J})=>{if(!t)throw new Error("Channel ID is required for update");return await Mr().messaging.updateChannel(t,{name:G,participantCentralUserIds:J})},"mutationFn"),onSuccess:a(()=>{L({title:"Group Updated",description:"Group details updated successfully."}),R.invalidateQueries({queryKey:["channels",h]}),R.invalidateQueries({queryKey:["channels"]}),e(),setTimeout(()=>{P(`/group/${t}?serverId=${h}`)},100)},"onSuccess"),onError:a(G=>{qe.error("Failed to update group",G),console.error("Group update error details:",G);const J=G instanceof Error?G.message:"Failed to update group.";L({title:"Error",description:J,variant:"destructive"})},"onError")}),w=Pi({mutationFn:a(async()=>{if(!t)throw new Error("Channel ID is required for delete");return await Mr().messaging.deleteChannel(t)},"mutationFn"),onSuccess:a(()=>{L({title:"Group Deleted",description:"The group has been successfully deleted."}),R.invalidateQueries({queryKey:["channels",h]}),R.invalidateQueries({queryKey:["channels"]}),P("/"),e()},"onSuccess"),onError:a(G=>{qe.error("Failed to delete channel",G);const J=G instanceof Error?G.message:"Could not delete group.";typeof G=="object"&&G!==null&&G.statusCode===404?L({title:"Error Deleting Group",description:"Delete operation not found on server.",variant:"destructive"}):L({title:"Error Deleting Group",description:J,variant:"destructive"})},"onError")}),{data:v,isLoading:_,isError:S,error:T}=Un({queryKey:["channelParticipants",t],queryFn:a(async()=>{if(!t)return{success:!0,data:[]};try{const J=await Mr().messaging.getChannelParticipants(t);let ce=[];return J&&Array.isArray(J.participants)?ce=J.participants.map(ne=>ne.userId):J&&Array.isArray(J)&&(ce=J.map(ne=>ne.userId||ne.id||ne)),{success:!0,data:ce}}catch(G){return console.error("[GroupPanel] Error fetching channel participants:",G),{success:!1,error:{message:G instanceof Error?G.message:"Unknown error"}}}},"queryFn"),enabled:!!t,retry:!1,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:0,gcTime:0});U.useEffect(()=>{if(t&&y?.data?.channels){const G=y.data.channels.find(J=>J.id===t);if(!d.current||g.current!==t){const J=G?.name||"";n(J),l(J),d.current=!0,g.current=t,m.current=!1}}else t||(d.current=!1,n(""),s([]),l(""),c([]))},[t,y]),U.useEffect(()=>{if(!A&&!(t&&_)){if(!t){m.current=!1;return}if(!(m.current&&g.current===t)){if(S){L({title:"Error",description:`Could not load group participants: ${T?.message||"Unknown error"}`,variant:"destructive"}),s([]),c([]),m.current=!0;return}if(v?.success&&v.data){const G=v.data,J=M.filter(ce=>G.includes(ce.id));s(J),c(J.map(ce=>ce.id)),m.current=!0}else v&&!v.success?(L({title:"Error",description:`Could not load group participants: ${v.error?.message||"Server error"}`,variant:"destructive"}),s([]),c([]),m.current=!0):(s([]),c([]),m.current=!0)}}},[t,A,_,v,M,S,T,L]);const N=U.useMemo(()=>A||C?[]:M.map(G=>({id:G.id,label:`${G.name}${G.status===vn.INACTIVE?" (Inactive)":""}`,icon:typeof G.settings?.avatar=="string"?G.settings.avatar:""})),[M,A,C]),k=U.useMemo(()=>[],[]),p=U.useMemo(()=>A||!t||t&&!m.current?k:i.map(J=>({id:J.id,label:`${J.name}${J.status===vn.INACTIVE?" (Inactive)":""}`,icon:typeof J.settings?.avatar=="string"?J.settings.avatar:""})),[t,i,A,k]),E=U.useCallback(G=>{const J=M.filter(ce=>G.some(ne=>ne.id===ce.id));s(J)},[M]),I=U.useCallback(async()=>{if(!t)return;const G=y?.data?.channels.find(J=>J.id===t);z({title:"Delete Group",description:`Are you sure you want to permanently delete the group chat "${G?.name||r||"this group"}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},()=>{w.mutate()})},[t,r,y,w]),O=U.useMemo(()=>{if(!t)return!0;const G=r.trim()!==o.trim(),J=i.map(se=>se.id).sort(),ce=u.sort(),ne=JSON.stringify(J)!==JSON.stringify(ce);return G||ne},[t,r,o,i,u]),B=U.useCallback(async()=>{if(!t&&i.length===0){L({title:"Validation Error",description:"Please select at least one agent for the group.",variant:"destructive"});return}const G=a(()=>{const J=i.map(ne=>ne.id),ce=r.trim()||(i.length>0?i.map(ne=>ne.name).join(", "):"Empty Group");t?f.mutate({name:ce,participantIds:J}):W.mutate({name:ce,participantIds:J})},"proceed");if(t&&i.length===0){z({title:"Remove All Agents?",description:"Are you sure you want to remove all agents from this group? This will leave the group with no participants.",confirmText:"Remove All",variant:"destructive"},()=>{G()});return}G()},[t,r,i,W,f,L]),H=t?!O||W.isPending||f.isPending||w.isPending:i.length===0||W.isPending||f.isPending||w.isPending;return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:e,children:b.jsxs(ds,{className:"w-[80%] max-w-2xl",onClick:a(G=>G.stopPropagation(),"onClick"),children:[b.jsxs(ng,{className:"flex flex-row items-center justify-between space-y-0",children:[b.jsx(Kw,{className:"text-xl font-semibold",children:t?"Edit Group Chat":"Create Group Chat"}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:e,children:b.jsx(yi,{className:"h-4 w-4"})})]}),b.jsx(Bi,{}),b.jsx(Jl,{className:"pt-4",children:b.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[b.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[b.jsx("label",{htmlFor:"chat-name",className:"text-sm font-medium",children:"Chat Name (Optional)"}),b.jsx(pn,{id:"chat-name",value:r,onChange:a(G=>n(G.target.value),"onChange"),className:"w-full bg-background text-foreground",placeholder:"Leave blank to auto-generate from participants",disabled:W.isPending||f.isPending||w.isPending})]}),b.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[b.jsxs("label",{htmlFor:"invite-agents",className:"text-sm font-medium",children:["Select Agents"," ",!t&&b.jsx("span",{className:"text-muted-foreground",children:"(Required)"})]}),A?b.jsxs("div",{className:"flex items-center justify-center p-4",children:[b.jsx(Fn,{className:"h-6 w-6 animate-spin text-muted-foreground"}),b.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading agents..."})]}):C?b.jsx("div",{className:"flex items-center justify-center p-4 text-red-500",children:"Error loading agents. Please try again later."}):b.jsx(Wwe,{options:N,onSelect:E,className:"w-full",initialSelected:p},`group-panel-combobox-${t||"create"}-${M.length}`),i.length>0&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," agent",i.length>1?"s":""," selected"]}),t&&O&&b.jsx("div",{className:"text-sm text-blue-500 mt-1",children:"You have unsaved changes"})]})]})}),b.jsxs(ig,{className:"flex justify-between pt-4",children:[t&&b.jsxs(dt,{variant:"destructive",onClick:I,disabled:w.isPending||W.isPending||f.isPending||A,children:[w.isPending?b.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}):b.jsx(xh,{className:"mr-2 h-4 w-4"}),"Delete Group"]}),b.jsxs(dt,{variant:"default",className:t?"":"w-full",onClick:B,disabled:H,children:[(W.isPending||f.isPending)&&b.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Update Group":"Create Group"]})]})]})}),b.jsx($l,{open:Z,onOpenChange:Y,title:F?.title||"",description:F?.description||"",confirmText:F?.confirmText,cancelText:F?.cancelText,variant:F?.variant,onConfirm:ae})]})}a(Pg,"GroupPanel");function e3e(e,t="00000000-0000-0000-0000-000000000000"){const r=Nl();return Un({queryKey:["dmChannels",e,r,t],queryFn:a(async()=>{if(!e)return[];qe.info("[useDmChannelsForAgent] Fetching distinct DM channels for agent:",e);const l=((await Mr().messaging.getServerChannels(t)).channels||[]).map(Vw).filter(u=>{const c=u.metadata||{},h=u.type===Gt.DM,d=c.isDm===!0,g=c.forAgent===e,m=c.user1===r&&c.user2===e||c.user1===e&&c.user2===r;if(h&&d&&g&&m)return!0;if(u.type===Gt.DM&&!c.isDm&&!c.forAgent){const y=u.name.toLowerCase(),x=`dm-${r}-${e}`.toLowerCase(),A=`dm-${e}-${r}`.toLowerCase();if(y===x||y===A)return qe.warn("[useDmChannelsForAgent] Matched a canonical DM channel by name convention:",u.id,u.name),!0}return!1});return qe.info("[useDmChannelsForAgent] Found distinct DM channels:",l.length,l.map(u=>({id:u.id,name:u.name,metadata:u.metadata}))),l.sort((u,c)=>{const h=new Date(u.updatedAt||u.createdAt).getTime();return new Date(c.updatedAt||c.createdAt).getTime()-h})},"queryFn"),enabled:!!e,staleTime:Or.FREQUENT,refetchInterval:Or.STANDARD})}a(e3e,"useDmChannelsForAgent");function t3e(){const e=Ln(),{toast:t}=Br(),r=Nl();return Pi({mutationFn:a(async({agentId:n,channelName:i,serverId:s="00000000-0000-0000-0000-000000000000"})=>{if(qe.info("[useCreateDmChannel] Creating new distinct DM channel with agent:",{agentId:n,channelName:i,serverId:s}),!i||!i.trim())throw new Error("Channel name cannot be empty for a new DM conversation.");return await Mr().messaging.createGroupChannel({name:i.trim(),participantIds:[r,n],metadata:{type:Gt.DM,server_id:s,isDm:!0,user1:r,user2:n,forAgent:n,createdAt:new Date().toISOString()}})},"mutationFn"),onSuccess:a((n,i)=>{qe.info("[useCreateDmChannel] Distinct DM channel created successfully:",n),t({title:"New Chat Started",description:`Conversation "${n.name}" created.`}),e.invalidateQueries({queryKey:["dmChannels",i.agentId,r,i.serverId]}),e.invalidateQueries({queryKey:["channels"]})},"onSuccess"),onError:a(n=>{qe.error("[useCreateDmChannel] Error creating distinct DM channel:",n),t({title:"Error Creating Chat",description:n instanceof Error?n.message:"Could not start new chat.",variant:"destructive"})},"onError")})}a(t3e,"useCreateDmChannel");const Dk="eliza-agent-sidebar-visible";function r3e(){const[e,t]=U.useState(!1);U.useEffect(()=>{try{const i=localStorage.getItem(Dk);if(i!==null){const s=JSON.parse(i);t(s)}}catch(i){qe.error("Error reading sidebar state from localStorage:",i),t(!1)}},[]);const r=U.useCallback(i=>{t(i);try{localStorage.setItem(Dk,JSON.stringify(i))}catch(s){qe.error("Error saving sidebar state to localStorage:",s)}},[]),n=U.useCallback(()=>{r(!e)},[e,r]);return{isVisible:e,setSidebarVisible:r,toggleSidebar:n}}a(r3e,"useSidebarState");const Iy="eliza-main-panel-width",My="eliza-sidebar-panel-width",Oy="eliza-floating-threshold",Ry=70,Py=30,Ly=1400;function n3e(){const[e,t]=U.useState(Ry),[r,n]=U.useState(Py),[i,s]=U.useState(!1),[o,l]=U.useState(Ly);U.useEffect(()=>{try{const m=localStorage.getItem(Iy),y=localStorage.getItem(My),x=localStorage.getItem(Oy);if(m!==null){const A=parseFloat(m);!isNaN(A)&&A>0&&A<=100&&t(A)}if(y!==null){const A=parseFloat(y);!isNaN(A)&&A>0&&A<=100&&n(A)}if(x!==null){const A=parseFloat(x);!isNaN(A)&&A>0&&l(A)}}catch(m){qe.error("Error reading panel sizes from localStorage:",m),t(Ry),n(Py),l(Ly)}},[]),U.useEffect(()=>{const m=a(()=>{const y=window.innerWidth<o;s(y)},"checkFloatingMode");return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[o]);const u=U.useCallback(m=>{const y=Math.max(20,Math.min(80,m));t(y);try{localStorage.setItem(Iy,y.toString())}catch(x){qe.error("Error saving main panel size to localStorage:",x)}},[]),c=U.useCallback(m=>{const y=Math.max(20,Math.min(80,m));n(y);try{localStorage.setItem(My,y.toString())}catch(x){qe.error("Error saving sidebar panel size to localStorage:",x)}},[]),h=U.useCallback(m=>{const y=Math.max(320,Math.min(2560,m));l(y);try{localStorage.setItem(Oy,y.toString())}catch(x){qe.error("Error saving floating threshold to localStorage:",x)}},[]),d=U.useCallback(()=>{s(m=>!m)},[]),g=U.useCallback(()=>{t(Ry),n(Py),l(Ly);try{localStorage.removeItem(Iy),localStorage.removeItem(My),localStorage.removeItem(Oy)}catch(m){qe.error("Error clearing panel sizes from localStorage:",m)}},[]);return{mainPanelSize:e,sidebarPanelSize:r,isFloatingMode:i,floatingThreshold:o,setMainPanelSize:u,setSidebarPanelSize:c,setFloatingThreshold:h,toggleFloatingMode:d,resetPanelSizes:g}}a(n3e,"usePanelWidthState");var R0={exports:{}},i3e=R0.exports,jk;function a3e(){return jk||(jk=1,(function(e,t){(function(r,n){e.exports=n()})(i3e,(function(){return function(r,n,i){r=r||{};var s=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(c,h,d,g){return s.fromToBase(c,h,d,g)}a(l,"i"),i.en.relativeTime=o,s.fromToBase=function(c,h,d,g,m){for(var y,x,A,C=d.$locale().relativeTime||o,M=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],R=M.length,P=0;P<R;P+=1){var L=M[P];L.d&&(y=g?i(c).diff(d,L.d,!0):d.diff(c,L.d,!0));var z=(r.rounding||Math.round)(Math.abs(y));if(A=y>0,z<=L.r||!L.r){z<=1&&P>0&&(L=M[P-1]);var Z=C[L.l];m&&(z=m(""+z)),x=typeof Z=="string"?Z.replace("%d",z):Z(z,h,L.l,A);break}}if(h)return x;var Y=A?C.future:C.past;return typeof Y=="function"?Y(x):Y.replace("%s",x)},s.to=function(c,h){return l(c,h,this,!0)},s.from=function(c,h){return l(c,h,this)};var u=a(function(c){return c.$u?i.utc():i()},"d");s.toNow=function(c){return this.to(u(this),c)},s.fromNow=function(c){return this.from(u(this),c)}}}))})(R0)),R0.exports}a(a3e,"requireRelativeTime");var s3e=a3e();const o3e=Xp(s3e);vl.extend(o3e);const Bk="00000000-0000-0000-0000-000000000000",l3e=a(e=>{const t=e.rawMessage,r=a(h=>{switch(h){case"pending":case"executing":case"running":return"input-streaming";case"completed":case"success":return"output-available";case"failed":case"error":return"output-error";default:return"input-available"}},"mapActionStatusToState"),n=t.actions?.[0]||t.action||"ACTION",i=t.actionStatus||"completed",s=t.actionId,o={};t.actions&&(o.actions=t.actions),t.action&&(o.action=t.action),t.thought&&(o.thought=t.thought);const l={};t.text&&(l.result=t.text),l.status=i,t.thought&&(l.thought=t.thought),t.actionResult&&(l.actionResult=t.actionResult);const c=i==="failed"||i==="error"?t.text||"Action failed":void 0;return{type:n,state:r(i),toolCallId:s,input:Object.keys(o).length>0?o:void 0,output:Object.keys(l).length>0?l:void 0,errorText:c}},"convertActionMessageToToolPart"),u3e=im.memo(c3e,(e,t)=>e.message.id===t.message.id&&e.message.text===t.message.text&&e.message.isLoading===t.message.isLoading&&e.shouldAnimate===t.shouldAnimate&&e.isUser===t.isUser);function c3e({message:e,agentForTts:t,shouldAnimate:r,onDelete:n,onRetry:i,isUser:s,getAgentInMessage:o,agentAvatarMap:l,chatType:u}){const c=e.type==="agent_action"||e.source==="agent_action";return b.jsxs("div",{className:"flex flex-col w-full",children:[b.jsxs(IL,{isLoading:e.isLoading,...s?{variant:"sent"}:{},...!e.text&&!e.attachments?.length?{className:"bg-transparent"}:{},children:[c?b.jsx(F6e,{toolPart:l3e(e),defaultOpen:!1,className:"max-w-none"}):b.jsx("div",{children:(()=>{if(!e.text)return null;const h=iF(e.text),d=new Set(e.attachments?.map(y=>y.url).filter(Boolean)||[]),g=h.filter(y=>!d.has(y.url)),m=X6e(e.text,h);return b.jsxs("div",{className:"space-y-3",children:[m.trim()&&b.jsx("div",{children:s?b.jsx("div",{className:"whitespace-pre-wrap",children:m}):b.jsx(tF,{className:"max-w-none",isAnimating:r,children:m})}),g.length>0&&b.jsx("div",{className:"space-y-2",children:g.map((y,x)=>b.jsx("div",{children:b.jsx(lS,{url:y.url,title:"Shared media"})},`${y.url}-${x}`))})]})})()}),e.attachments?.filter(h=>h.url&&h.url.trim()!=="").map(h=>b.jsx(lS,{url:h.url,title:h.title||"Attachment"},`${h.url}-${h.title}`))]}),b.jsxs("div",{className:"flex items-center justify-between w-full py-1",children:[b.jsx("div",{children:!s&&(e.text||e.attachments?.length)&&e.createdAt&&b.jsx(Iue,{className:"text-muted-foreground",timestamp:vl(e.createdAt).format("LT")})}),b.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[!s&&e.text&&!e.isLoading&&t?.id&&b.jsxs(b.Fragment,{children:[b.jsx(gue,{text:e.text}),b.jsx(Oue,{agentId:t.id,text:e.text})]}),s&&e.text&&!e.isLoading&&i&&b.jsx(bue,{onClick:a(()=>i(e.text||""),"onClick")}),b.jsx(vue,{onClick:a(()=>n(e.id),"onClick")})]})]})]})}a(c3e,"MessageContent");function MF({chatType:e,contextId:t,serverId:r,initialDmChannelId:n}){const{toast:i}=Br(),s=Ln(),{isVisible:o,setSidebarVisible:l,toggleSidebar:u}=r3e(),{mainPanelSize:c,sidebarPanelSize:h,isFloatingMode:d,setMainPanelSize:g,setSidebarPanelSize:m}=n3e(),[y,x]=U.useState({showGroupEditPanel:!1,showProfileOverlay:!1,input:"",inputDisabled:!1,selectedGroupAgentId:null,currentDmChannelId:null,isCreatingDM:!1,isMobile:!1}),M=qp().state?.forceNew||!1;Yn();const[R,P]=U.useState(M),L=d||y.isMobile,{confirm:z,isOpen:Z,onOpenChange:Y,onConfirm:ae,options:F}=Xl(),{stopAgent:W,isAgentStopping:f}=sc(),w=U.useCallback(Ze=>{x(at=>({...at,...Ze}))},[]),v=Nl(),_=U.useRef(null),S=U.useRef(null),T=U.useRef(null),N=U.useRef(!1),k=U.useRef(!1),p=U.useRef(""),{data:E,isLoading:I}=Zh(e===Gt.DM?t:void 0,{enabled:e===Gt.DM}),O=E?.data?{...E.data,createdAt:E.data.createdAt||Date.now(),updatedAt:E.data.updatedAt||Date.now()}:void 0,{handleDelete:B,isDeleting:H}=sF(O||{}),{data:G=[],isLoading:J}=e3e(e===Gt.DM?t:void 0,r||Bk),ce=t3e(),{data:ne}=gle(e===Gt.GROUP?t:void 0),{data:se}=Xw(e===Gt.GROUP?t:void 0),Ye=se?.data,{data:Te}=ic(),ye=Te?.agents||[],Me=G[0],X=e===Gt.DM?y.currentDmChannelId||void 0:t||void 0,oe=U.useMemo(()=>r||Bk,[r]),{data:ee=[],isLoading:te}=h7(Me?.id,oe),{data:fe=[],isLoading:xe,addMessage:Re,updateMessage:de,removeMessage:$,clearMessages:q}=h7(X,oe),K=U.useMemo(()=>e!==Gt.GROUP||!Ye?[]:Ye.map(Ze=>ye.find(at=>at.id===Ze)).filter(Boolean),[e,Ye,ye]),le=U.useMemo(()=>ye.reduce((Ze,at)=>(at.id&&typeof at.settings?.avatar=="string"&&(Ze[at.id]=at.settings.avatar),Ze),{}),[ye]),ue=U.useCallback(Ze=>ye.find(at=>at.id===Ze),[ye]),{scrollRef:ie,contentRef:et,isAtBottom:Pe,scrollToBottom:Ke,disableAutoScroll:Ct,autoScrollEnabled:Ce}=P6e({smooth:!0}),Qe=U.useRef(0),_e=U.useCallback(()=>{ie.current&&setTimeout(()=>Ke(),0)},[Ke,ie]),Ie=U.useRef(!1),Ge=U.useRef(null),Je=U.useCallback(async Ze=>{if(!Ze||e!=="DM")return;if(Me)try{const rr=await Mr().messaging.getChannelMessages(Me.id,{limit:30}),Yt=tt(Me.name),yr=(rr?.messages?.length??0)===0;if(Yt&&yr){y.currentDmChannelId===Me.id?i({title:"Already in a fresh chat",description:`You're already in a new chat with ${O?.name||"the agent"}.`}):(w({currentDmChannelId:Me.id}),i({title:"Chat opened",description:`You can now start chatting with ${O?.name||"the agent"}.`})),w({currentDmChannelId:Me.id});return}else qe.info("[Chat] Latest DM channel has messages or customized name, proceeding to create a new one.")}catch(Dt){qe.error("[Chat] Failed to fetch latest DM channel messages:",Dt)}const at=`Chat - ${vl().format("MMM D, HH:mm:ss")}`;qe.info(`[Chat] Creating new distinct DM channel with agent ${Ze}, name: "${at}"`),w({isCreatingDM:!0});try{Ie.current=!0,await ce.mutateAsync({agentId:Ze,channelName:at,serverId:oe}),w({input:""}),setTimeout(()=>_e(),150)}catch(Dt){qe.error("[Chat] Error creating new distinct DM channel:",Dt),w({currentDmChannelId:null,input:""})}finally{w({isCreatingDM:!1}),i({title:"Chat opened",description:`You can now start chatting with ${O?.name||"the agent"}.`})}},[e,ce,w,_e,Me]),Fe=U.useCallback(Ze=>{const at=G.find(Dt=>Dt.id===Ze);at&&(qe.info(`[Chat] DM Channel selected: ${at.name} (Channel ID: ${at.id})`),w({currentDmChannelId:at.id,input:""}),setTimeout(()=>_e(),150))},[G,w,_e]),rt=U.useCallback(()=>{if(e!==Gt.DM||!y.currentDmChannelId||!O?.id)return;const Ze=G.find(at=>at.id===y.currentDmChannelId);Ze&&z({title:"Delete Chat",description:`Are you sure you want to delete the chat "${Ze.name}" with ${O.name}? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},async()=>{qe.info(`[Chat] Deleting DM channel ${Ze.id}`);try{await Mr().messaging.deleteChannel(Ze.id),s.setQueryData(["dmChannels",O.id,v],rr=>rr?.filter(Yt=>Yt.id!==Ze.id)),s.invalidateQueries({queryKey:["dmChannels",O.id,v]}),s.invalidateQueries({queryKey:["channels"]}),i({title:"Chat Deleted",description:`"${Ze.name}" was deleted.`});const Dt=s.getQueryData(["dmChannels",O.id,v])||[];Dt.length>0?(w({currentDmChannelId:Dt[0].id}),qe.info("[Chat] Switched to DM channel:",Dt[0].id)):(qe.info("[Chat] No DM channels left after deletion. Will create a fresh chat once."),w({currentDmChannelId:null}),Ie.current=!1,await Je(O.id))}catch(at){qe.error("[Chat] Error deleting DM channel:",at),i({title:"Error",description:"Could not delete chat. The server might not support this action yet.",variant:"destructive"})}})},[e,y.currentDmChannelId,O,G,z,i,w,Je,s,v]);U.useEffect(()=>{Me&&!te&&ee&&O?.id&&R&&(Je(O.id),P(!1))},[R,P,Je,O?.id,Me,ee,te]),U.useEffect(()=>{N.current=y.inputDisabled},[y.inputDisabled]),U.useEffect(()=>{const Ze=G.find(at=>at.id===y.currentDmChannelId);Ze?.name&&(p.current=Ze.name)},[G,y.currentDmChannelId]),U.useEffect(()=>{!J&&G.length>0&&(qe.info("[Chat] Selecting first available DM channel:",G[0].id),w({currentDmChannelId:G[0].id}))},[G,J,w]);const Rt=U.useCallback(Ze=>{if(e===Gt.DM&&t&&Ze&&typeof window<"u"){const at=`/chat/${t}/${Ze}`;window.location.pathname!==at&&window.history&&window.history.replaceState(null,"",at)}},[e,t]);U.useEffect(()=>{y.currentDmChannelId&&Rt(y.currentDmChannelId)},[y.currentDmChannelId,Rt]),U.useEffect(()=>{if(qe.info("[Chat] URL navigation effect triggered",{initialDmChannelId:n,agentDmChannelsLength:G.length,isLoadingAgentDmChannels:J,currentDmChannelId:y.currentDmChannelId}),n&&G.length>0&&!J&&!k.current){if(!ch(n)){qe.warn("[Chat] Invalid channel ID format from URL:",n),k.current=!0;return}G.some(Dt=>Dt.id===n)?(qe.info("[Chat] Switching to channel from URL:",n),w({currentDmChannelId:n}),k.current=!0):(qe.warn("[Chat] Channel from URL not found, staying with current channel",{initialDmChannelId:n,availableChannels:G.map(Dt=>Dt.id)}),k.current=!0)}},[n,G,J,w]),U.useEffect(()=>{if(e===Gt.DM&&O?.id){if(!(!y.currentDmChannelId||G.some(at=>at.id===y.currentDmChannelId))&&!J){qe.info(`[Chat] Current DM channel ${y.currentDmChannelId} doesn't belong to agent ${O.id}, clearing it`),w({currentDmChannelId:null});return}!J&&G.length===0&&!n&&!Ie.current&&!y.isCreatingDM&&!ce.isPending&&(qe.info("[Chat] No existing DM channels found; auto-creating a fresh one."),Ie.current=!0,Je(O.id))}else e!==Gt.DM&&y.currentDmChannelId!==null&&w({currentDmChannelId:null})},[e,O?.id,G,J,ce.isPending,y.isCreatingDM,y.currentDmChannelId,n,w,Je]),U.useEffect(()=>(G.length>0&&Ge.current&&(clearTimeout(Ge.current),Ge.current=null),()=>{Ge.current&&(clearTimeout(Ge.current),Ge.current=null)}),[G]),U.useEffect(()=>{e===Gt.GROUP&&K.length===1&&!y.selectedGroupAgentId&&(w({selectedGroupAgentId:K[0].id}),o||l(!0))},[e,K,y.selectedGroupAgentId,w,o,l]);const{mutate:We}=vle(),{mutate:Oe}=ble();U.useEffect(()=>{const Ze=Qe.current===0&&fe.length>0,at=fe.length!==Qe.current&&Qe.current!==0;Ze?(qe.debug("[chat] Initial messages loaded, scrolling to bottom.",{count:fe.length}),_e()):at&&(Ce?(qe.debug("[chat] New messages and autoScroll enabled, scrolling."),_e()):qe.debug("[chat] New messages, but autoScroll is disabled (user scrolled up).")),Qe.current=fe.length},[fe,Ce,_e,X]);function tt(Ze){return!!Ze?.match(/^Chat - [A-Z][a-z]{2} \d{1,2}, \d{2}:\d{2}(:\d{2})?$/)}a(tt,"isAutoGeneratedChatName");const Be=a(async()=>{if(!(!!p.current&&tt(p.current)&&e===Gt.DM))return;if(!X||!y.currentDmChannelId){qe.warn("Cannot update chat title: missing channel ID");return}const at=Mr(),rr=(await at.messaging.generateChannelTitle(X,t))?.title,Yt=await at.messaging.getChannelParticipants(y.currentDmChannelId);if(rr&&Yt){let yr=[];Yt&&Array.isArray(Yt.participants)?yr=Yt.participants.map(wr=>wr.userId):Yt&&Array.isArray(Yt)&&(yr=Yt.map(wr=>wr.userId||wr.id||wr)),await at.messaging.updateChannel(X,{name:rr,participantCentralUserIds:yr});const Pr=Nl();s.invalidateQueries({queryKey:["dmChannels",t,Pr]})}},"updateChatTitle"),{sendMessage:nt,animatedMessageId:Tt}=H6e({channelId:X,currentUserId:v,contextId:t,chatType:e,allAgents:ye,messages:fe,onAddMessage:a(Ze=>{Re(Ze),Be(),Ze.isAgent&&_e()},"onAddMessage"),onUpdateMessage:a((Ze,at)=>{de(Ze,at),!at.isLoading&&at.isLoading!==void 0&&_e()},"onUpdateMessage"),onDeleteMessage:a(Ze=>{$(Ze)},"onDeleteMessage"),onClearMessages:a(()=>{q()},"onClearMessages"),onInputDisabledChange:a(Ze=>w({inputDisabled:Ze}),"onInputDisabledChange")}),{selectedFiles:pe,handleFileChange:we,removeFile:$e,createBlobUrls:De,uploadFiles:ze,cleanupBlobUrls:ct,clearFiles:me}=U6e({agentId:O?.id,channelId:X,chatType:e}),je=a(Ze=>{Ze.key==="Enter"&&!Ze.shiftKey&&!Ze.nativeEvent.isComposing&&(Ze.preventDefault(),lt(Ze))},"handleKeyDown"),lt=a(async Ze=>{Ze.preventDefault();let at=X;if(e===Gt.DM&&!at&&O?.id){if(y.isCreatingDM||ce.isPending){qe.info("[Chat] DM channel creation already in progress; will wait for it to finish instead of creating another.");return}qe.info("[Chat] No DM channel selected, creating one before sending message");try{Ie.current=!0;const pr=await ce.mutateAsync({agentId:O.id,channelName:`Chat - ${vl().format("MMM D, HH:mm")}`,serverId:oe});w({currentDmChannelId:pr.id}),at=pr.id,await new Promise(Gr=>setTimeout(Gr,100))}catch(pr){qe.error("[Chat] Failed to create DM channel before sending message:",pr),i({title:"Error",description:"Failed to create chat channel. Please try again.",variant:"destructive"}),w({inputDisabled:!1});return}}if(!y.input.trim()&&pe.length===0||N.current||!at||!oe||!v||e===Gt.DM&&!O?.id)return;const Dt=Fs();let rr=y.input.trim();const Yt=y.input;w({input:"",inputDisabled:!0});const yr=[...pe];me(),T.current?.reset();const Pr=De(yr),wr={id:Dt,text:rr,name:yu,createdAt:Date.now(),senderId:v,isAgent:!1,isLoading:!0,channelId:at,serverId:oe,source:e===Gt.DM?af:qc,attachments:Pr};(rr||yr.length>0)&&Re(wr),_e();try{let pr=[];if(yr.length>0){const{uploaded:Sr,failed:Cr,blobUrls:Ur}=await ze(yr);pr=Sr,Cr.length>0&&de(Dt,{attachments:wr.attachments?.filter($r=>!Cr.some(Xr=>Xr.file.id===$r.id))}),ct(Ur),!rr.trim()&&pr.length>0&&(rr=`Shared ${pr.length} file(s).`)}const Zr=iF(Yt).map((Sr,Cr)=>({id:`textmedia-${Dt}-${Cr}`,url:Sr.url,title:Sr.type==="image"?"Image":Sr.type==="video"?"Video":"Media Link",source:"user_input_url",contentType:Sr.type==="image"?F0.IMAGE:Sr.type==="video"?F0.VIDEO:void 0})),Nr=[...pr,...Zr],Fr=rr||(Nr.length>0?"Shared content.":"");if(!Fr.trim()&&Nr.length===0){w({inputDisabled:!1}),$(Dt);return}await nt(Fr,oe,e===Gt.DM?af:qc,Nr.length>0?Nr:void 0,Dt,void 0,at)}catch(pr){qe.error("Error sending message or uploading files:",pr),i({title:"Error Sending Message",description:pr instanceof Error?pr.message:"Could not send message.",variant:"destructive"}),de(Dt,{isLoading:!1,text:`${wr.text||"Attachment(s)"} (Failed to send)`}),w({inputDisabled:!1})}finally{_.current?.focus()}},"handleSendMessage"),Ne=a(Ze=>{if(!X||!Ze)return;const at=ch(Ze);at&&($(Ze),We({channelId:X,messageId:at}))},"handleDeleteMessage"),ut=a(async Ze=>{if(N.current||!Ze.text?.trim()&&Ze.attachments?.length===0)return;w({inputDisabled:!0});const at=Fs(),Dt=Ze.text?.trim()||`Shared ${Ze.attachments?.length} file(s).`,rr={id:at,text:Ze.text,name:yu,createdAt:Date.now(),senderId:v,isAgent:!1,isLoading:!0,channelId:Ze.channelId,serverId:oe,source:e===Gt.DM?af:qc,attachments:Ze.attachments};if(Re(rr),_e(),!oe||!X){qe.error("Cannot retry message: missing server or channel ID"),i({title:"Error Sending Message",description:"Missing required channel information.",variant:"destructive"}),w({inputDisabled:!1}),$(at);return}try{await nt(Dt,oe,e===Gt.DM?af:qc,Ze.attachments,at,void 0,X)}catch(Yt){qe.error("Error sending message or uploading files:",Yt),i({title:"Error Sending Message",description:Yt instanceof Error?Yt.message:"Could not send message.",variant:"destructive"}),de(at,{isLoading:!1,text:`${rr.text||"Attachment(s)"} (Failed to send)`}),w({inputDisabled:!1})}},"handleRetryMessage"),Ut=a(()=>{if(!X)return;const Ze=e===Gt.DM?`Clear all messages in this chat with ${O?.name}?`:"Clear all messages in this group chat?";z({title:"Clear Chat",description:`${Ze} This action cannot be undone.`,confirmText:"Clear",variant:"destructive"},()=>{Oe(X)})},"handleClearChat");if(U.useEffect(()=>{const Ze=a(()=>{const at=window.innerWidth<768;w({isMobile:at})},"checkMobile");return Ze(),window.addEventListener("resize",Ze),()=>window.removeEventListener("resize",Ze)},[w]),e===Gt.DM&&(I||!O&&t||J))return b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx(Fn,{className:"h-8 w-8 animate-spin text-primary"})});if(!X||!oe||e===Gt.DM&&!O)return b.jsx("div",{className:"flex flex-1 justify-center items-center",children:b.jsx("p",{children:"Loading chat context..."})});const st=a(()=>{H||z({title:"Delete Agent",description:`Are you sure you want to delete the agent "${O?.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},B)},"onDeleteAgent"),mt=a(()=>{if(e===Gt.DM&&O)return b.jsxs("div",{className:"flex items-center justify-between mb-4 p-3",children:[b.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:b.jsxs(Pd,{children:[b.jsx(Ld,{asChild:!0,children:b.jsxs(dt,{variant:"ghost",size:"sm",className:"py-6 px-2 flex-shrink-0",children:[b.jsxs("div",{className:"relative flex-shrink-0",children:[b.jsx(Lo,{className:"size-4 sm:size-10 border rounded-full",children:b.jsx(Bl,{src:Md(O)})}),O?.status===vn.ACTIVE?b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx("span",{className:"absolute bottom-0 right-0 size-2 sm:size-[10px] rounded-full border border-white bg-green-500"})}),b.jsx(nn,{side:"right",children:b.jsx("p",{children:"Agent is active"})})]}):b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx("span",{className:"absolute bottom-0 right-0 size-2 sm:size-[10px] rounded-full border border-white bg-muted-foreground"})}),b.jsx(nn,{side:"right",children:b.jsx("p",{children:"Agent is inactive"})})]})]}),b.jsx("div",{children:b.jsx("h2",{className:"font-semibold text-lg truncate max-w-[80px] sm:max-w-none",children:O?.name||"Agent"})}),b.jsx(as,{className:"size-4"})]})}),b.jsxs(Dd,{align:"start",side:"bottom",className:"min-w-36 w-[var(--radix-dropdown-menu-trigger-width)]",children:[b.jsxs(Ja,{onClick:a(()=>{r4(O,i)},"onClick"),children:[b.jsx(dA,{className:"h-4 w-4 mr-2"}),"Export"]}),b.jsx(j0,{}),b.jsxs(Ja,{onClick:a(()=>{O&&!f(O.id)&&W(O)},"onClick"),children:[b.jsx(D2,{className:"h-4 w-4 mr-2"}),"Stop Agent"]}),b.jsxs(Ja,{onClick:a(()=>{O&&!H&&st()},"onClick"),className:"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50",children:[b.jsx(xh,{className:"h-4 w-4 mr-2"}),"Delete Agent"]})]})]})}),b.jsx("div",{className:"flex gap-1 sm:gap-2 items-center flex-shrink-0",children:e===Gt.DM&&b.jsxs("div",{className:"flex items-center gap-2",children:[G.length>0&&b.jsxs(Pd,{children:[b.jsx(Ld,{asChild:!0,children:b.jsxs(dt,{variant:"outline",size:"sm",className:"w-8 h-9 sm:max-w-[300px] sm:w-auto rounded-[12px]",children:[b.jsx(rm,{className:"size-4 flex-shrink-0 text-muted-foreground"}),b.jsx("span",{className:"hidden md:inline truncate text-xs sm:text-sm",children:G.find(Ze=>Ze.id===y.currentDmChannelId)?.name||"Select Chat"}),b.jsx(as,{className:"hidden md:inline-flex size-4 text-muted-foreground"})]})}),b.jsxs(Dd,{align:"end",className:"w-[280px] sm:w-[320px]",children:[b.jsxs(KG,{className:"font-medium",children:["Chat History with ",O.name]}),b.jsx(j0,{}),b.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:G.map(Ze=>b.jsx(Ja,{onClick:a(()=>Fe(Ze.id),"onClick"),className:Ue("cursor-pointer",Ze.id===y.currentDmChannelId&&"bg-muted"),children:b.jsxs("div",{className:"flex items-center justify-between w-full",children:[b.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[b.jsx("span",{className:Ue("text-sm truncate",Ze.id===y.currentDmChannelId&&"font-medium"),children:Ze.name}),b.jsx("span",{className:"text-xs text-muted-foreground",children:vl((typeof Ze.metadata?.createdAt=="string"||typeof Ze.metadata?.createdAt=="number"?Ze.metadata.createdAt:null)||Ze.updatedAt||Ze.createdAt).fromNow()})]}),Ze.id===y.currentDmChannelId&&b.jsx(ya,{variant:"default",className:"text-xs flex-shrink-0 ml-2",children:"Current"})]})},Ze.id))})]})]}),b.jsx(O2,{mainAction:{label:y.isCreatingDM?"Creating...":b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"sm:hidden",children:"New"}),b.jsx("span",{className:"hidden sm:inline",children:"New Chat"})]}),onClick:a(()=>Je(O?.id),"onClick"),icon:y.isCreatingDM?b.jsx(Fn,{className:"size-4 animate-spin"}):b.jsx(em,{className:"size-4"}),disabled:y.isCreatingDM||J},actions:[{label:"Clear Chat",onClick:Ut,icon:b.jsx(w_,{className:"size-4"}),disabled:!fe||fe.length===0},{label:"Delete Chat",onClick:rt,icon:b.jsx(kl,{className:"size-4"}),disabled:!y.currentDmChannelId,variant:"destructive"}],variant:"outline",size:"sm",mainButtonClassName:"rounded-l-[12px] h-9",dropdownButtonClassName:"rounded-r-[12px] h-9"}),b.jsxs(dn,{children:[b.jsx(hn,{asChild:!0,children:b.jsx(dt,{className:"w-9 h-9 rounded-[12px]",variant:"outline",onClick:u,children:o?b.jsx(zg,{className:"size-4"}):b.jsx(__,{className:"size-4"})})}),b.jsx(nn,{side:"bottom",children:b.jsx("p",{children:o?"Close SidePanel":"Open SidePanel"})})]})]})})]});if(e===Gt.GROUP){const Ze=Q2(ne?.data||void 0,K,v);return b.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[b.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[b.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:b.jsx("h2",{className:"font-semibold text-lg truncate",title:Ze,children:Ze})}),b.jsxs("div",{className:"flex gap-1 sm:gap-2 items-center flex-shrink-0",children:[b.jsx(O2,{mainAction:{label:"Edit Group",onClick:a(()=>w({showGroupEditPanel:!0}),"onClick"),icon:b.jsx(rH,{className:"size-4"})},actions:[{label:"Clear Messages",onClick:Ut,icon:b.jsx(w_,{className:"size-4"}),disabled:!fe||fe.length===0},{label:"Delete Group",onClick:a(()=>{if(!X||!oe)return;const at=X;z({title:"Delete Group",description:"Are you sure you want to delete this group? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},async()=>{try{await Mr().messaging.deleteChannel(at),i({title:"Group Deleted",description:"The group has been successfully deleted."}),window.location.href="/"}catch(Dt){qe.error("[Chat] Error deleting group:",Dt),i({title:"Error",description:"Could not delete group.",variant:"destructive"})}})},"onClick"),icon:b.jsx(kl,{className:"size-4"}),disabled:!X||!oe,variant:"destructive"}],variant:"outline",size:"sm",className:"px-2 sm:px-3"}),b.jsx(dt,{variant:"ghost",size:"sm",className:"px-2 sm:px-3 h-8 w-8 sm:w-auto",onClick:u,children:o?b.jsx(zg,{className:"h-4 w-4"}):b.jsx(__,{className:"h-4 w-4"})})]})]}),K.length>0&&b.jsxs("div",{className:"flex items-center gap-2 p-2 bg-card rounded-lg border overflow-x-auto",children:[b.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap flex-shrink-0",children:"Agents:"}),b.jsxs("div",{className:"flex gap-2 min-w-0",children:[b.jsx(dt,{variant:y.selectedGroupAgentId?"ghost":"default",size:"sm",onClick:a(()=>w({selectedGroupAgentId:null}),"onClick"),className:"flex items-center gap-2 flex-shrink-0",children:b.jsx("span",{children:"All"})}),K.map(at=>b.jsxs(dt,{variant:y.selectedGroupAgentId===at?.id?"default":"ghost",size:"sm",onClick:a(()=>{w({selectedGroupAgentId:at?.id||null}),at?.id&&!o&&l(!0)},"onClick"),className:"flex items-center gap-2 flex-shrink-0",children:[b.jsx(Lo,{className:"size-5",children:b.jsx(Bl,{src:Md(at)})}),b.jsx("span",{className:"truncate max-w-[100px] sm:max-w-none",children:at?.name})]},at?.id))]})]})]})}return null},"renderChatHeader");return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"h-full flex flex-col relative overflow-hidden",children:[L?b.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[b.jsx("div",{className:"flex-shrink-0 p-2 sm:p-4 pb-0",children:mt()}),b.jsxs("div",{className:Ue("flex flex-col transition-all duration-300 w-full flex-1 min-h-0 overflow-hidden p-2 sm:p-4 pt-0"),children:[b.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-5 py-2",children:b.jsx(Lk,{messages:fe,isLoadingMessages:xe,chatType:e,currentClientEntityId:v,targetAgentData:O,allAgents:ye,animatedMessageId:Tt,scrollRef:ie,contentRef:et,isAtBottom:Pe,scrollToBottom:Ke,disableAutoScroll:Ct,finalChannelId:X,getAgentInMessage:ue,agentAvatarMap:le,onDeleteMessage:Ne,onRetryMessage:a(Ze=>{if(!X){i({title:"Error",description:"Cannot retry message: missing channel information.",variant:"destructive"});return}const at={id:Fs(),text:Ze,name:yu,senderId:v,isAgent:!1,createdAt:Date.now(),channelId:X,serverId:oe};ut(at)},"onRetryMessage"),selectedGroupAgentId:y.selectedGroupAgentId})}),b.jsx("div",{className:"flex-shrink-0",children:b.jsx(Pk,{input:y.input,setInput:a(Ze=>w({input:Ze}),"setInput"),inputDisabled:y.inputDisabled,selectedFiles:pe,removeFile:$e,handleFileChange:we,handleSendMessage:lt,handleKeyDown:je,chatType:e,targetAgentData:O,formRef:T,inputRef:_,fileInputRef:S})})]})]}):b.jsxs(L6e,{direction:"horizontal",className:"h-full flex-1 overflow-hidden",onLayout:a(Ze=>{Ze.length>=2&&o&&!y.isMobile&&(g(Ze[0]),m(Ze[1]))},"onLayout"),children:[b.jsx(wk,{defaultSize:o&&!y.isMobile?c:100,minSize:y.isMobile?100:50,children:b.jsx("div",{className:"relative h-full overflow-hidden",children:b.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[b.jsx("div",{className:"flex-shrink-0 p-2 sm:p-4 pb-0",children:mt()}),b.jsxs("div",{className:Ue("flex flex-col transition-all duration-300 w-full flex-1 min-h-0 overflow-hidden p-2 sm:p-4 pt-0"),children:[b.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-5 py-2",children:b.jsx(Lk,{messages:fe,isLoadingMessages:xe,chatType:e,currentClientEntityId:v,targetAgentData:O,allAgents:ye,animatedMessageId:Tt,scrollRef:ie,contentRef:et,isAtBottom:Pe,scrollToBottom:Ke,disableAutoScroll:Ct,finalChannelId:X,getAgentInMessage:ue,agentAvatarMap:le,onDeleteMessage:Ne,onRetryMessage:a(Ze=>{if(!X){i({title:"Error",description:"Cannot retry message: missing channel information.",variant:"destructive"});return}const at={id:Fs(),text:Ze,name:yu,senderId:v,isAgent:!1,createdAt:Date.now(),channelId:X,serverId:oe};ut(at)},"onRetryMessage"),selectedGroupAgentId:y.selectedGroupAgentId})}),b.jsx("div",{className:"flex-shrink-0",children:b.jsx(Pk,{input:y.input,setInput:a(Ze=>w({input:Ze}),"setInput"),inputDisabled:y.inputDisabled,selectedFiles:pe,removeFile:$e,handleFileChange:we,handleSendMessage:lt,handleKeyDown:je,chatType:e,targetAgentData:O,formRef:T,inputRef:_,fileInputRef:S})})]})]})})}),(()=>{let Ze,at="Agent",Dt;return e===Gt.DM?(Ze=t,at=O?.name||"Agent",Dt=y.currentDmChannelId||void 0):e===Gt.GROUP&&y.selectedGroupAgentId?(Ze=y.selectedGroupAgentId,at=ye.find(Yt=>Yt.id===y.selectedGroupAgentId)?.name||"Group Member",Dt=t):e===Gt.GROUP&&!y.selectedGroupAgentId&&(at="Group",Dt=t),o&&!y.isMobile&&b.jsxs(b.Fragment,{children:[b.jsx(D6e,{withHandle:!0}),b.jsx(wk,{defaultSize:h,minSize:15,maxSize:85,children:b.jsx(Ok,{agentId:Ze,agentName:at,channelId:Dt})})]})})()]}),(()=>{let Ze,at="Agent",Dt;return e===Gt.DM?(Ze=t,at=O?.name||"Agent",Dt=y.currentDmChannelId||void 0):e===Gt.GROUP&&y.selectedGroupAgentId?(Ze=y.selectedGroupAgentId,at=ye.find(Yt=>Yt.id===y.selectedGroupAgentId)?.name||"Group Member",Dt=t):e===Gt.GROUP&&!y.selectedGroupAgentId&&(at="Group",Dt=t),o&&L&&b.jsx("div",{className:"absolute inset-0 z-50 bg-background/80 backdrop-blur-sm",children:b.jsx("div",{className:"absolute inset-0 bg-background shadow-lg",children:b.jsxs("div",{className:"h-full flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[b.jsx("h3",{className:"font-semibold text-lg",children:at}),b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(()=>l(!1),"onClick"),className:"h-8 w-8 p-0",children:b.jsx(zg,{className:"h-4 w-4"})})]}),b.jsx("div",{className:"flex-1 overflow-hidden",children:b.jsx(Ok,{agentId:Ze,agentName:at,channelId:Dt})})]})})})})()]}),y.showGroupEditPanel&&e===Gt.GROUP&&b.jsx(Pg,{onClose:a(()=>w({showGroupEditPanel:!1}),"onClose"),channelId:t}),y.showProfileOverlay&&e===Gt.DM&&O?.id&&b.jsx(NL,{isOpen:y.showProfileOverlay,onClose:a(()=>w({showProfileOverlay:!1}),"onClose"),agentId:O.id}),b.jsx($l,{open:Z,onOpenChange:Y,title:F?.title||"",description:F?.description||"",confirmText:F?.confirmText,cancelText:F?.cancelText,variant:F?.variant,onConfirm:ae})]})}a(MF,"Chat");function zk(){const{agentId:e,channelId:t}=K2(),r=Yn();U.useEffect(()=>(qe.info("[AgentRoute] Component mounted/updated",{agentId:e,channelId:t}),()=>{qe.info("[AgentRoute] Component unmounted",{agentId:e,channelId:t})}),[e,t]);const{data:n,isLoading:i}=Zh(e),{startAgent:s,isAgentStarting:o}=sc(),{data:l,isLoading:u}=Zw(),c=l?.data?.servers?.[0]?.id,h=n?.data?{...n.data,status:n.data.status==="active"?vn.ACTIVE:(n.data.status==="inactive",vn.INACTIVE),username:n.data.username||n.data.name||"Unknown",bio:n.data.bio||"",messageExamples:n.data.messageExamples||[],postExamples:n.data.postExamples||[],topics:n.data.topics||[],adjectives:n.data.adjectives||[],knowledge:n.data.knowledge||[],plugins:n.data.plugins||[],settings:n.data.settings||{},secrets:n.data.secrets||{},style:n.data.style||{},templates:n.data.templates||{},enabled:typeof n.data.enabled=="boolean"?n.data.enabled:!0,createdAt:typeof n.data.createdAt=="number"?n.data.createdAt:Date.now(),updatedAt:typeof n.data.updatedAt=="number"?n.data.updatedAt:Date.now()}:void 0;if(!e)return b.jsx("div",{className:"p-4",children:"Agent ID not provided."});if(i||u||!h)return b.jsx("div",{className:"p-4 flex items-center justify-center h-full","data-testid":"loader",children:b.jsx(Fn,{className:"h-8 w-8 animate-spin text-primary"})});c||qe.warn("[AgentRoute] No server ID available, using default");const d=h.status===vn.ACTIVE,g=o(h.id),m=a(()=>{h&&s(h)},"handleStartAgent");return d?(qe.info("[AgentRoute] Agent is active, rendering chat for DM",{agentName:h?.name,dmChannelIdFromRoute:t}),b.jsx(MF,{chatType:Gt.DM,contextId:e,serverId:c,initialDmChannelId:t},`${e}-${t||"no-dm-channel"}`)):(qe.info("[AgentRoute] Agent is not active, rendering inactive state UI",{agentName:h?.name}),b.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 text-center",children:[b.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:[h.name," is not active."]}),b.jsx("p",{className:"text-muted-foreground mb-6",children:"Press the button below to start this agent."}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx(dt,{onClick:a(()=>r(`/settings/${e}`),"onClick"),variant:"outline",size:"lg",children:b.jsx(Al,{className:"h-5 w-5"})}),b.jsxs(dt,{onClick:m,disabled:g,size:"lg",children:[g?b.jsx(Fn,{className:"mr-2 h-5 w-5 animate-spin"}):b.jsx(B2,{className:"mr-2 h-5 w-5"}),g?"Starting Agent...":"Start Agent"]})]})]}))}a(zk,"AgentRoute");function d3e(){return b.jsx("div",{className:"h-full w-full overflow-y-auto",children:b.jsx("div",{className:"min-h-full flex w-full justify-center px-4 sm:px-6 py-4",children:b.jsx("div",{className:"w-full max-w-4xl min-w-0",children:b.jsx(ZP,{})})})})}a(d3e,"AgentCreatorRoute");function h3e({className:e,...t}){return b.jsx(nH,{"data-slot":"switch",className:Ue("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-4 w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",e),...t,children:b.jsx(iH,{"data-slot":"switch-thumb",className:Ue("bg-background dark:data-[state=unchecked]:bg-primary-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block h-2.5 w-2.5 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%+10px)] data-[state=unchecked]:translate-x-0")})})}a(h3e,"Switch");const f3e=a(({agent:e,onChat:t})=>{const r=Yn(),{startAgent:n,stopAgent:i,isAgentStarting:s,isAgentStopping:o}=sc();if(!e||!e.id)return qe.error("[AgentCard] Agent data or ID is missing",{agent:e}),b.jsx(ds,{className:"p-4 min-h-[100px] flex items-center justify-center text-muted-foreground",children:"Agent data not available."});const l=e.id,u=e.name||"Unnamed Agent",c=Array.isArray(e.bio)?e.bio.filter(Boolean).join(" ").trim():typeof e.bio=="string"&&e.bio.trim()||"Engages with all types of questions and conversations",h=e.status===vn.ACTIVE,d=s(e.id),g=o(e.id),m={id:e.id,name:u,username:e.username||u,bio:e.bio||"",messageExamples:e.messageExamples||[],postExamples:e.postExamples||[],topics:e.topics||[],adjectives:e.adjectives||[],knowledge:e.knowledge||[],plugins:e.plugins||[],settings:e.settings||{},secrets:e.secrets||{},style:e.style||{},system:e.system||void 0,templates:e.templates||{},enabled:typeof e.enabled=="boolean"?e.enabled:!0,status:e.status||vn.INACTIVE,createdAt:typeof e.createdAt=="number"?e.createdAt:Date.now(),updatedAt:typeof e.updatedAt=="number"?e.updatedAt:Date.now()},y=a(()=>{n(m)},"handleStart"),x=a(()=>{i(m)},"handleStop"),A=a((R=!1)=>{t(R)},"handleNewChat"),C=a(()=>{r(`/settings/${l}`)},"handleSettings"),M=a(()=>{h?x():y()},"handleToggle");return b.jsx(ds,{className:Ue("w-full transition-all bg-card border border-border/50 rounded-sm hover:bg-card/50 cursor-pointer",h?"":"opacity-75"),"data-testid":"agent-card",onClick:a(R=>{R.stopPropagation(),A()},"onClick"),children:b.jsxs(Jl,{className:"p-0 relative h-full",children:[b.jsx("div",{className:"absolute top-3 right-3",children:b.jsx(h3e,{checked:h,onCheckedChange:a(R=>{R!==h&&M()},"onCheckedChange"),onClick:a(R=>R.stopPropagation(),"onClick"),"aria-label":`Toggle ${u}`,disabled:d||g,className:Ue(h?"data-[state=checked]:!bg-green-600":"data-[state=unchecked]:!bg-gray-500/80")})}),b.jsxs("div",{className:"flex flex-col justify-between h-full",children:[b.jsxs("div",{className:"flex items-center gap-4 p-2 h-[90%]",children:[b.jsxs(Lo,{className:"h-16 w-16 flex-shrink-0 rounded-sm",children:[b.jsx(Bl,{src:Md(e),alt:u}),b.jsx(rg,{className:"text-lg font-medium rounded-sm",children:Tl(u)})]}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h3",{className:"font-semibold text-xl mb-1 truncate",title:u,children:u}),b.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:c})]})]}),b.jsx("div",{className:"border-t border-muted"}),b.jsxs("div",{className:"flex items-center justify-between py-1 px-2",children:[b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(R=>{R.stopPropagation(),C()},"onClick"),className:"h-8 w-8 p-0 hover:bg-muted/50 cursor-pointer",children:b.jsx(Al,{className:"h-4 w-4 text-muted-foreground"})}),b.jsx(dt,{variant:"outline",size:"sm",onClick:a(R=>{R.stopPropagation(),A(!0)},"onClick"),className:"h-8 px-2 rounded-sm bg-muted hover:bg-muted/50 cursor-pointer",children:"New Chat"})]})]})]})})},"AgentCard"),p3e=a(({group:e})=>{const t=Yn(),r=Nl(),[n,i]=U.useState(!1);if(!e||!e.id)return b.jsx(ds,{className:"p-4 min-h-[180px] flex items-center justify-center text-muted-foreground",children:"Group data not available."});const s=Q2(e,e.participants||[],r),o=a(()=>{t(`/group/${e.id}?serverId=${e.server_id}`)},"handleChatClick"),{data:l}=ic(),u=l?.agents||[],{data:c}=Xw(e.id),h=c?.data,d=h&&Array.isArray(h)?h:[],g=d?u.filter(x=>x.id&&d.includes(x.id)):[],m=a(()=>{i(!0)},"handleSettings"),y=g.map(x=>x.name).filter(Boolean).join(", ")||"No members";return b.jsxs(b.Fragment,{children:[b.jsx(ds,{className:"w-full transition-all bg-card border border-border/50 rounded-sm","data-testid":"agent-card",children:b.jsx(Jl,{className:"p-0 relative h-full",children:b.jsxs("div",{className:"flex flex-col justify-between h-full",children:[b.jsxs("div",{className:"flex items-center gap-4 p-2 h-[90%]",children:[b.jsx(Lo,{className:"bg-[#282829] h-16 w-16 flex-shrink-0 rounded-[3px] relative overflow-hidden",children:g&&g.length>0?b.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-1 w-full h-full p-1",children:[g.slice(0,3).map(x=>{const A=typeof x.settings?.avatar=="string"?x.settings.avatar:null;return A?b.jsx("img",{src:A,alt:x.name,className:"object-cover w-full h-full rounded-[3px]"},x.id):b.jsx("div",{className:"flex items-center justify-center bg-[#3F3F3F] text-xs font-medium w-full h-full rounded-[3px]",children:Tl(x.name)},x.id)}),g.length>3?b.jsxs("div",{className:"flex items-center justify-center bg-[#3F3F3F] text-xs font-medium w-full h-full rounded-[3px]",children:["+",g.length-3]}):Array.from({length:4-g.slice(0,3).length}).map((x,A)=>b.jsx("div",{className:"flex items-center justify-center bg-[#2D2D2D] text-xs font-medium w-full h-full rounded-[3px]"},`empty-${A}`))]}):b.jsx("div",{className:"flex items-center justify-center bg-muted text-lg font-medium w-full h-full",children:Tl(s)})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h3",{className:"font-semibold text-xl mb-1 truncate",title:s,children:s}),b.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:y})]})]}),b.jsx("div",{className:"border-t border-muted"}),b.jsxs("div",{className:"flex items-center justify-between py-1 px-2",children:[b.jsx(dt,{variant:"ghost",size:"sm",onClick:a(x=>{x.stopPropagation(),m()},"onClick"),className:"h-8 w-8 p-0 hover:bg-muted/50 cursor-pointer",children:b.jsx(Al,{className:"h-4 w-4 text-muted-foreground"})}),b.jsx(dt,{variant:"outline",size:"sm",onClick:a(x=>{x.stopPropagation(),o()},"onClick"),className:"h-8 px-2 rounded-sm bg-muted hover:bg-muted/50 cursor-pointer",children:"Chat"})]})]})})}),n&&b.jsx(Pg,{onClose:a(()=>i(!1),"onClose"),channelId:e.id})]})},"GroupCard");function m3e(){const{data:e,isLoading:t,isError:r,error:n}=ic(),i=Yn(),s=U.useMemo(()=>e?.agents||[],[e]),o=s.filter(z=>z.status===vn.ACTIVE).length,{data:l}=Zw(),u=l?.data?.servers||[],[c,h]=U.useState(!1),[d,g]=U.useState(!1),[m,y]=U.useState(null),[x,A]=U.useState(null),[C,M]=U.useState("agents"),R=a(()=>{y(null),h(!1)},"closeOverlay"),P=a(async(z,Z)=>{z.id&&i(`/chat/${z.id}`,{state:{forceNew:Z}})},"handleNavigateToDm"),L=a(()=>{i("/group/new")},"handleCreateGroup");return U.useEffect(()=>{qe.info("[Home] Component mounted/re-rendered. Key might have changed.")},[]),b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"flex-1 w-full overflow-y-auto bg-background",children:b.jsx("div",{className:"flex flex-col w-full h-full",children:b.jsxs(t4,{value:C,onValueChange:M,className:"w-full h-full flex flex-col",children:[b.jsx("div",{className:"w-full",children:b.jsxs("div",{className:"w-full md:max-w-4xl mx-auto px-6 pt-6 pb-2",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsxs(cm,{className:"h-auto p-0 bg-transparent border-0 border-b-0 gap-2 w-auto",children:[b.jsxs(Rd,{value:"agents",className:"relative rounded-full data-[state=active]:border-b-0 data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:font-bold cursor-pointer text-lg py-1",children:["Agents",b.jsx("span",{className:`
                          absolute -top-2.5 right-0 inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-600 text-white text-[8px] font-semibold border border-black
                          transition-all duration-300 ease-in-out
                          ${C==="agents"&&o>0?"opacity-100 scale-100":"opacity-0 scale-75 pointer-events-none"}
                        `,children:o})]}),b.jsx(Rd,{value:"groups",className:"rounded-full data-[state=active]:border-b-0 data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:font-bold cursor-pointer text-lg py-1",children:"Groups"})]}),b.jsxs(dt,{variant:"ghost",onClick:a(()=>{C==="agents"?i("/create"):L()},"onClick"),className:"create-agent-button cursor-pointer gap-1",children:[b.jsx(em,{className:"w-4 h-4"}),C==="agents"?"Create New Agent":"Create New Group"]})]}),b.jsx(Bi,{})]})}),b.jsx(va,{value:"agents",className:"flex-1 mt-0 bg-background",children:b.jsxs("div",{className:"flex flex-col gap-6 w-full md:max-w-4xl mx-auto px-6 py-2",children:[t&&b.jsx("div",{className:"text-center py-8",children:"Loading agents..."}),r&&b.jsxs("div",{className:"text-center py-8",children:["Error loading agents: ",n instanceof Error?n.message:"Unknown error"]}),s.length===0&&!t&&b.jsx("div",{className:"text-center py-8 flex flex-col items-center gap-4",children:b.jsx("p",{className:"text-muted-foreground",children:"No agents currently running. Start a character to begin."})}),!t&&!r&&b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-3 agents-section",children:s.sort((z,Z)=>{const Y=z.status===vn.ACTIVE?1:0;return(Z.status===vn.ACTIVE?1:0)-Y}).map(z=>b.jsx(f3e,{agent:z,onChat:a(Z=>P(z,Z),"onChat")},z.id))})]})}),b.jsx(va,{value:"groups",className:"flex-1 mt-0 bg-background",children:b.jsx("div",{className:"flex flex-col gap-6 w-full md:max-w-4xl mx-auto px-6 py-2",children:!t&&!r&&b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-3 groups-section",children:u.map(z=>b.jsx(OF,{serverId:z.id},z.id))})})})]})})}),m?.id&&b.jsx(NL,{isOpen:c,onClose:R,agentId:m.id}),d&&b.jsx(Pg,{onClose:a(()=>{A(null),g(!1)},"onClose"),channelId:x??void 0})]})}a(m3e,"Home");const OF=im.memo(({serverId:e})=>{const{data:t,isLoading:r}=$w(e),n=U.useMemo(()=>t?.data?.channels?.filter(i=>i.type===Gt.GROUP)||[],[t]);return r?b.jsx("p",{children:"Loading channels for server..."}):!n||n.length===0?b.jsx("p",{className:"text-sm text-muted-foreground",children:"No group channels in this server."}):b.jsx(b.Fragment,{children:n.map(i=>b.jsx(p3e,{group:{...i,server_id:e}},i.id))})});OF.displayName="ServerChannels";function g3e(){const t=qp().pathname,r=t.startsWith("/api/")||t.includes("/agents/")||t.includes("/memory/")||t.includes("/speech/");return b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4 text-center",children:[b.jsx("div",{className:"flex items-center justify-center mb-8",children:b.jsx("div",{className:"bg-red-900/20 h-24 w-24 rounded-full flex items-center justify-center",children:b.jsx(ea,{className:"h-14 w-14 text-red-500"})})}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Page Not Found"}),b.jsxs("div",{className:"max-w-lg",children:[r?b.jsxs(b.Fragment,{children:[b.jsxs("p",{className:"text-lg mb-6 text-muted-foreground",children:["The endpoint ",b.jsx("span",{className:"font-mono text-red-400",children:t})," does not exist."]}),b.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 mb-8 text-left",children:[b.jsxs("h3",{className:"text-red-400 font-medium mb-2 flex items-center",children:[b.jsx(ea,{className:"h-4 w-4 mr-2"}),"Endpoint Not Found"]}),b.jsx("p",{className:"text-sm text-red-300/80 mb-2",children:"The requested API endpoint does not exist on this server. Please check that:"}),b.jsxs("ul",{className:"text-sm text-red-300/80 list-disc pl-5 space-y-1",children:[b.jsx("li",{children:"The URL is spelled correctly"}),b.jsx("li",{children:"You're using the correct version of the API"}),b.jsx("li",{children:"The endpoint is available in this version of Eliza"})]})]})]}):b.jsx("p",{className:"text-lg mb-6 text-muted-foreground",children:"Sorry, the page you're looking for doesn't exist or has been moved."}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[b.jsx(dt,{asChild:!0,variant:"default",children:b.jsxs(aH,{to:"/",children:[b.jsx(sH,{className:"h-4 w-4 mr-2"}),"Go to Home"]})}),b.jsx(dt,{asChild:!0,variant:"outline",children:b.jsxs("a",{onClick:a(()=>window.history.back(),"onClick"),children:[b.jsx(zy,{className:"h-4 w-4 mr-2"}),"Go Back"]})})]})]})]})}a(g3e,"NotFound");function v3e(){const{channelId:e}=K2(),[t]=oH(),r=t.get("serverId"),n=ch(e),i=ch(r||"");return!n||!i?b.jsx("div",{className:"flex flex-1 justify-center items-center",children:b.jsx("p",{children:"Missing channel or server information."})}):b.jsx(MF,{chatType:Gt.GROUP,contextId:n,serverId:i},n)}a(v3e,"GroupRoute");function b3e(){const e=Yn();return b.jsx("div",{className:"pt-4 md:pt-8",children:b.jsx(Pg,{onClose:a(()=>e(-1),"onClose")})})}a(b3e,"GroupNew");function y3e(){const{agentId:e}=K2(),t=Yn(),{data:r,isLoading:n}=Zh(e);if(n)return b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx(Fn,{className:"h-8 w-8 animate-spin"})});if(!r?.data)return b.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[b.jsx("p",{className:"text-muted-foreground",children:"Agent not found"}),b.jsx(dt,{onClick:a(()=>t("/"),"onClick"),children:"Back to Home"})]});const i={...r.data,createdAt:r.data.createdAt??Date.now(),bio:r.data.bio??[],topics:r.data.topics??[],adjectives:r.data.adjectives??[],style:r.data.style??{all:[],chat:[],post:[]},settings:r.data.settings??{secrets:{}}};return b.jsx("div",{className:"flex w-full justify-center px-4 sm:px-6 overflow-y-auto",children:b.jsx("div",{className:"w-full md:max-w-4xl py-6",children:b.jsx(oF,{agent:i,agentId:e,onSaveComplete:a(()=>{},"onSaveComplete")})})})}a(y3e,"AgentSettingsRoute");function w3e(){const[e,t]=U.useState(""),[r,n]=U.useState(!1),{login:i}=Pw(),s=a(()=>{if(!window.Telegram?.Login){t("Telegram Login Widget  .    .");return}const o="your_bot_id_here";n(!0),t(""),window.Telegram.Login.auth({bot_id:o,request_access:!0,lang:"ru"},async l=>{if(n(!1),l)try{await i(l)}catch(u){t(u.message||" ")}else t(" ")})},"handleLogin");return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",children:b.jsxs("div",{className:"w-full max-w-md",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h1",{className:"text-4xl font-bold text-yellow-500 mb-2",children:"VIBEE"}),b.jsx("p",{className:"text-gray-400",children:"  "})]}),b.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-8",children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"  "}),b.jsx("p",{className:"text-gray-400 text-center mb-8",children:"  Telegram     "}),e&&b.jsx("div",{className:"mb-6 p-4 bg-red-900/50 border border-red-800 rounded-lg",children:b.jsx("p",{className:"text-red-400 text-sm",children:e})}),b.jsx("button",{onClick:s,disabled:r,className:`w-full flex items-center justify-center px-6 py-4 rounded-lg font-semibold transition-all duration-200 ${r?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white border border-blue-500 hover:border-blue-400"}`,children:r?b.jsxs(b.Fragment,{children:[b.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):b.jsxs(b.Fragment,{children:[b.jsx("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",fill:"currentColor",children:b.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),"  Telegram"]})}),b.jsx("div",{className:"mt-6 text-center",children:b.jsxs("p",{className:"text-xs text-gray-500",children:[" Telegram  ,   "," ",b.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300",children:" "})]})})]}),b.jsx("script",{src:"https://telegram.org/js/telegram-widget.js"})]})})}a(w3e,"LoginPage");const RF=new uH({defaultOptions:{queries:{staleTime:Or.STANDARD,refetchInterval:!1,retry:3,retryDelay:a(e=>Math.min(1e3*2**e,3e4),"retryDelay"),refetchOnWindowFocus:!0,refetchOnReconnect:!0},mutations:{retry:3,retryDelay:a(e=>Math.min(1e3*2**e,3e4),"retryDelay")}}}),PF=a(async()=>{try{await RF.prefetchQuery({queryKey:["agents"],queryFn:a(async()=>({data:await Mr().agents.listAgents()}),"queryFn"),staleTime:Or.FREQUENT})}catch(e){console.error("Error prefetching initial data:",e)}},"prefetchInitialData");PF();function _3e(){mue();const{status:e}=Gw(),{isAuthenticated:t,isLoading:r}=Pw(),[n,i]=U.useState(!1),[s,o]=U.useState(Date.now()),l=Ln();if(r)return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-500"})});if(!t)return b.jsx(w3e,{});U.useEffect(()=>{qe.info("[AppContent] Mounted/Updated"),PF()},[]);const u=a(()=>{qe.info("[AppContent] refreshHomePage called. Current homeKey:",s);const c=Date.now();o(c),qe.info("[AppContent] New homeKey set to:",c),qe.info("[AppContent] Invalidating queries for Home page refresh."),l.invalidateQueries({queryKey:["agents"]}),l.invalidateQueries({queryKey:["servers"]})},"refreshHomePage");return b.jsxs(Au,{delayDuration:0,children:[b.jsxs(oT,{children:[b.jsx(p7,{refreshHomePage:u}),b.jsxs(uT,{className:"h-screen flex flex-col md:ml-72 overflow-hidden",children:[b.jsx("div",{className:"md:hidden absolute top-4 left-4 z-50",children:b.jsxs(iT,{open:n,onOpenChange:i,children:[b.jsx(lG,{asChild:!0,children:b.jsxs(dt,{variant:"ghost",size:"icon","data-testid":"mobile-menu-button",children:[b.jsx(dH,{className:"h-5 w-5"}),b.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),b.jsx(e4,{side:"left",className:"w-80 p-0 z-50",children:b.jsx(p7,{isMobile:!0,refreshHomePage:u})})]})}),b.jsx("div",{className:"flex w-full justify-center pt-16 md:pt-0 flex-shrink-0",children:b.jsx("div",{className:"w-full md:max-w-4xl",children:b.jsx(Tle,{})})}),b.jsx("div",{className:"flex-1 min-h-0 flex flex-col overflow-hidden",children:b.jsxs(hH,{children:[b.jsx(sa,{path:"/",element:b.jsx(m3e,{},s)}),b.jsx(sa,{path:"chat/:agentId/:channelId",element:b.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:b.jsx(zk,{})})}),b.jsx(sa,{path:"chat/:agentId",element:b.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:b.jsx(zk,{})})}),b.jsx(sa,{path:"settings/:agentId",element:b.jsx(y3e,{})}),b.jsx(sa,{path:"group/new",element:b.jsx(b3e,{})}),b.jsx(sa,{path:"agents/new",element:b.jsx(d3e,{})}),b.jsx(sa,{path:"/create",element:b.jsx("div",{className:"flex w-full justify-center px-4 sm:px-6 overflow-y-auto",children:b.jsx("div",{className:"w-full md:max-w-4xl",children:b.jsx(ZP,{})})})}),b.jsx(sa,{path:"/logs",element:b.jsx("div",{className:"flex w-full justify-center",children:b.jsxs("div",{className:"w-full md:max-w-4xl",children:[b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsx("h2",{className:"text-2xl p-4 font-bold",children:"System Logs"})}),b.jsx(vL,{})]})})}),b.jsx(sa,{path:"group/:channelId",element:b.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:b.jsx(v3e,{})})}),b.jsx(sa,{path:"settings/",element:b.jsx("div",{className:"flex w-full justify-center overflow-y-auto",children:b.jsx("div",{className:"w-full md:max-w-4xl",children:b.jsx(Cle,{})})})}),b.jsx(sa,{path:"*",element:b.jsx(g3e,{})})]})})]})]}),b.jsx(Ule,{}),e!=="unauthorized"&&b.jsx(Ble,{})]})}a(_3e,"AppContent");function x3e(){return b.jsx(lH,{client:RF,children:b.jsx("div",{className:"dark antialiased font-sans",style:{colorScheme:"dark"},children:b.jsx(cH,{children:b.jsx(Tse,{children:b.jsx(qoe,{children:b.jsx(_3e,{})})})})})})}a(x3e,"App");const LF=document.getElementById("root");if(!LF)throw new Error("Root element not found");fH.createRoot(LF).render(b.jsx(U.StrictMode,{children:b.jsx(x3e,{})}));const R3e=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{N3e as a,GA as d,Tr as k,R3e as m};
//# sourceMappingURL=main-CtJHLXVr.js.map
