{
  "version": 3,
  "sources": ["../src/plugin.ts", "../src/index.ts"],
  "sourcesContent": [
    "import type {\n  Action,\n  ActionResult,\n  Content,\n  GenerateTextParams,\n  HandlerCallback,\n  IAgentRuntime,\n  Memory,\n  Plugin,\n  Provider,\n  ProviderResult,\n  State,\n} from '@elizaos/core';\nimport { ModelType, Service, logger } from '@elizaos/core';\nimport { z } from 'zod';\n\n/**\n * Defines the configuration schema for a plugin, including the validation rules for the plugin name.\n *\n * @type {import('zod').ZodObject<{ EXAMPLE_PLUGIN_VARIABLE: import('zod').ZodString }>}\n */\nconst configSchema = z.object({\n  EXAMPLE_PLUGIN_VARIABLE: z\n    .string()\n    .min(1, 'Example plugin variable is not provided')\n    .optional()\n    .transform((val) => {\n      if (!val) {\n        logger.warn('Example plugin variable is not provided (this is expected)');\n      }\n      return val;\n    }),\n});\n\n/**\n * Example HelloWorld action\n * This demonstrates the simplest possible action structure\n */\n/**\n * Action representing a hello world message.\n * @typedef {Object} Action\n * @property {string} name - The name of the action.\n * @property {string[]} similes - An array of related actions.\n * @property {string} description - A brief description of the action.\n * @property {Function} validate - Asynchronous function to validate the action.\n * @property {Function} handler - Asynchronous function to handle the action and generate a response.\n * @property {Object[]} examples - An array of example inputs and expected outputs for the action.\n */\nconst helloWorldAction: Action = {\n  name: 'HELLO_WORLD',\n  similes: ['GREET', 'SAY_HELLO'],\n  description: 'Responds with a simple hello world message',\n\n  validate: async (\n    _runtime: IAgentRuntime,\n    _message: Memory,\n    _state: State | undefined\n  ): Promise<boolean> => {\n    // Always valid\n    return true;\n  },\n\n  handler: async (\n    _runtime: IAgentRuntime,\n    message: Memory,\n    _state: State | undefined,\n    _options: any,\n    callback?: HandlerCallback,\n    _responses?: Memory[]\n  ): Promise<ActionResult> => {\n    try {\n      const response = 'Hello world!';\n\n      if (callback) {\n        await callback({\n          text: response,\n          actions: ['HELLO_WORLD'],\n          source: message.content.source,\n        });\n      }\n\n      return {\n        text: response,\n        success: true,\n        data: {\n          actions: ['HELLO_WORLD'],\n          source: message.content.source,\n        },\n      };\n    } catch (error) {\n      logger.error({ error }, 'Error in HelloWorld action:');\n      return {\n        success: false,\n        error: error instanceof Error ? error : new Error(String(error)),\n      };\n    }\n  },\n\n  examples: [\n    [\n      {\n        name: '{{userName}}',\n        content: {\n          text: 'hello',\n          actions: [],\n        },\n      },\n      {\n        name: '{{agentName}}',\n        content: {\n          text: 'Hello world!',\n          actions: ['HELLO_WORLD'],\n        },\n      },\n    ],\n  ],\n};\n\n/**\n * Example Hello World Provider\n * This demonstrates the simplest possible provider implementation\n */\nconst helloWorldProvider: Provider = {\n  name: 'HELLO_WORLD_PROVIDER',\n  description: 'A simple example provider',\n\n  get: async (\n    _runtime: IAgentRuntime,\n    _message: Memory,\n    _state: State | undefined\n  ): Promise<ProviderResult> => {\n    return {\n      text: 'I am a provider',\n      values: {},\n      data: {},\n    };\n  },\n};\n\nexport class StarterService extends Service {\n  static serviceType = 'starter';\n  capabilityDescription =\n    'This is a starter service which is attached to the agent through the starter plugin.';\n  constructor(protected runtime: IAgentRuntime) {\n    super(runtime);\n  }\n\n  static async start(runtime: IAgentRuntime) {\n    logger.info('Starting starter service');\n    const service = new StarterService(runtime);\n    return service;\n  }\n\n  static async stop(runtime: IAgentRuntime) {\n    logger.info('Stopping starter service');\n    // get the service from the runtime\n    const service = runtime.getService(StarterService.serviceType);\n    if (!service) {\n      throw new Error('Starter service not found');\n    }\n    service.stop();\n  }\n\n  async stop() {\n    logger.info('Stopping StarterService');\n  }\n}\n\nexport const starterPlugin: Plugin = {\n  name: 'plugin-starter',\n  description: 'Plugin starter for elizaOS',\n  config: {\n    EXAMPLE_PLUGIN_VARIABLE: process.env.EXAMPLE_PLUGIN_VARIABLE,\n  },\n  async init(config: Record<string, string>) {\n    logger.debug('Plugin initialized');\n    try {\n      const validatedConfig = await configSchema.parseAsync(config);\n\n      // Set all environment variables at once\n      for (const [key, value] of Object.entries(validatedConfig)) {\n        if (value) process.env[key] = value;\n      }\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        const errorMessages =\n          error.issues?.map((e) => e.message)?.join(', ') || 'Unknown validation error';\n        throw new Error(`Invalid plugin configuration: ${errorMessages}`);\n      }\n      throw new Error(\n        `Invalid plugin configuration: ${error instanceof Error ? error.message : String(error)}`\n      );\n    }\n  },\n  models: {\n    [ModelType.TEXT_SMALL]: async (\n      _runtime,\n      { prompt, stopSequences = [] }: GenerateTextParams\n    ) => {\n      return 'Never gonna give you up, never gonna let you down, never gonna run around and desert you...';\n    },\n    [ModelType.TEXT_LARGE]: async (\n      _runtime,\n      {\n        prompt,\n        stopSequences = [],\n        maxTokens = 8192,\n        temperature = 0.7,\n        frequencyPenalty = 0.7,\n        presencePenalty = 0.7,\n      }: GenerateTextParams\n    ) => {\n      return 'Never gonna make you cry, never gonna say goodbye, never gonna tell a lie and hurt you...';\n    },\n  },\n  routes: [\n    {\n      name: 'hello-world-route',\n      path: '/helloworld',\n      type: 'GET',\n      handler: async (_req: any, res: any) => {\n        // send a response\n        res.json({\n          message: 'Hello World!',\n        });\n      },\n    },\n    {\n      name: 'current-time-route',\n      path: '/api/time',\n      type: 'GET',\n      handler: async (_req: any, res: any) => {\n        // Return current time in various formats\n        const now = new Date();\n        res.json({\n          timestamp: now.toISOString(),\n          unix: Math.floor(now.getTime() / 1000),\n          formatted: now.toLocaleString(),\n          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n        });\n      },\n    },\n  ],\n  events: {\n    MESSAGE_RECEIVED: [\n      async (params) => {\n        logger.debug('MESSAGE_RECEIVED event received');\n        // print the keys\n        logger.debug({ keys: Object.keys(params) }, 'MESSAGE_RECEIVED param keys');\n      },\n    ],\n    VOICE_MESSAGE_RECEIVED: [\n      async (params) => {\n        logger.debug('VOICE_MESSAGE_RECEIVED event received');\n        // print the keys\n        logger.debug({ keys: Object.keys(params) }, 'VOICE_MESSAGE_RECEIVED param keys');\n      },\n    ],\n    WORLD_CONNECTED: [\n      async (params) => {\n        logger.debug('WORLD_CONNECTED event received');\n        // print the keys\n        logger.debug({ keys: Object.keys(params) }, 'WORLD_CONNECTED param keys');\n      },\n    ],\n    WORLD_JOINED: [\n      async (params) => {\n        logger.debug('WORLD_JOINED event received');\n        // print the keys\n        logger.debug({ keys: Object.keys(params) }, 'WORLD_JOINED param keys');\n      },\n    ],\n  },\n  services: [StarterService],\n  actions: [helloWorldAction],\n  providers: [helloWorldProvider],\n  // dependencies: ['@elizaos/plugin-knowledge'], <--- plugin dependencies go here (if requires another plugin)\n};\n\nexport default starterPlugin;\n",
    "import { starterPlugin } from './plugin.ts';\n\nexport { starterPlugin, StarterService } from './plugin.ts';\nexport default starterPlugin;\n"
  ],
  "mappings": ";AAaA;AACA;AAOA,IAAM,eAAe,EAAE,OAAO;AAAA,EAC5B,yBAAyB,EACtB,OAAO,EACP,IAAI,GAAG,yCAAyC,EAChD,SAAS,EACT,UAAU,CAAC,QAAQ;AAAA,IAClB,IAAI,CAAC,KAAK;AAAA,MACR,OAAO,KAAK,4DAA4D;AAAA,IAC1E;AAAA,IACA,OAAO;AAAA,GACR;AACL,CAAC;AAgBD,IAAM,mBAA2B;AAAA,EAC/B,MAAM;AAAA,EACN,SAAS,CAAC,SAAS,WAAW;AAAA,EAC9B,aAAa;AAAA,EAEb,UAAU,OACR,UACA,UACA,WACqB;AAAA,IAErB,OAAO;AAAA;AAAA,EAGT,SAAS,OACP,UACA,SACA,QACA,UACA,UACA,eAC0B;AAAA,IAC1B,IAAI;AAAA,MACF,MAAM,WAAW;AAAA,MAEjB,IAAI,UAAU;AAAA,QACZ,MAAM,SAAS;AAAA,UACb,MAAM;AAAA,UACN,SAAS,CAAC,aAAa;AAAA,UACvB,QAAQ,QAAQ,QAAQ;AAAA,QAC1B,CAAC;AAAA,MACH;AAAA,MAEA,OAAO;AAAA,QACL,MAAM;AAAA,QACN,SAAS;AAAA,QACT,MAAM;AAAA,UACJ,SAAS,CAAC,aAAa;AAAA,UACvB,QAAQ,QAAQ,QAAQ;AAAA,QAC1B;AAAA,MACF;AAAA,MACA,OAAO,OAAO;AAAA,MACd,OAAO,MAAM,EAAE,MAAM,GAAG,6BAA6B;AAAA,MACrD,OAAO;AAAA,QACL,SAAS;AAAA,QACT,OAAO,iBAAiB,QAAQ,QAAQ,IAAI,MAAM,OAAO,KAAK,CAAC;AAAA,MACjE;AAAA;AAAA;AAAA,EAIJ,UAAU;AAAA,IACR;AAAA,MACE;AAAA,QACE,MAAM;AAAA,QACN,SAAS;AAAA,UACP,MAAM;AAAA,UACN,SAAS,CAAC;AAAA,QACZ;AAAA,MACF;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,SAAS;AAAA,UACP,MAAM;AAAA,UACN,SAAS,CAAC,aAAa;AAAA,QACzB;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAMA,IAAM,qBAA+B;AAAA,EACnC,MAAM;AAAA,EACN,aAAa;AAAA,EAEb,KAAK,OACH,UACA,UACA,WAC4B;AAAA,IAC5B,OAAO;AAAA,MACL,MAAM;AAAA,MACN,QAAQ,CAAC;AAAA,MACT,MAAM,CAAC;AAAA,IACT;AAAA;AAEJ;AAAA;AAEO,MAAM,uBAAuB,QAAQ;AAAA,EAIpB;AAAA,SAHf,cAAc;AAAA,EACrB,wBACE;AAAA,EACF,WAAW,CAAW,SAAwB;AAAA,IAC5C,MAAM,OAAO;AAAA,IADO;AAAA;AAAA,cAIT,MAAK,CAAC,SAAwB;AAAA,IACzC,OAAO,KAAK,0BAA0B;AAAA,IACtC,MAAM,UAAU,IAAI,eAAe,OAAO;AAAA,IAC1C,OAAO;AAAA;AAAA,cAGI,KAAI,CAAC,SAAwB;AAAA,IACxC,OAAO,KAAK,0BAA0B;AAAA,IAEtC,MAAM,UAAU,QAAQ,WAAW,eAAe,WAAW;AAAA,IAC7D,IAAI,CAAC,SAAS;AAAA,MACZ,MAAM,IAAI,MAAM,2BAA2B;AAAA,IAC7C;AAAA,IACA,QAAQ,KAAK;AAAA;AAAA,OAGT,KAAI,GAAG;AAAA,IACX,OAAO,KAAK,yBAAyB;AAAA;AAEzC;AAEO,IAAM,gBAAwB;AAAA,EACnC,MAAM;AAAA,EACN,aAAa;AAAA,EACb,QAAQ;AAAA,IACN,yBAAyB,QAAQ,IAAI;AAAA,EACvC;AAAA,OACM,KAAI,CAAC,QAAgC;AAAA,IACzC,OAAO,MAAM,oBAAoB;AAAA,IACjC,IAAI;AAAA,MACF,MAAM,kBAAkB,MAAM,aAAa,WAAW,MAAM;AAAA,MAG5D,YAAY,KAAK,UAAU,OAAO,QAAQ,eAAe,GAAG;AAAA,QAC1D,IAAI;AAAA,UAAO,QAAQ,IAAI,OAAO;AAAA,MAChC;AAAA,MACA,OAAO,OAAO;AAAA,MACd,IAAI,iBAAiB,EAAE,UAAU;AAAA,QAC/B,MAAM,gBACJ,MAAM,QAAQ,IAAI,CAAC,MAAM,EAAE,OAAO,GAAG,KAAK,IAAI,KAAK;AAAA,QACrD,MAAM,IAAI,MAAM,iCAAiC,eAAe;AAAA,MAClE;AAAA,MACA,MAAM,IAAI,MACR,iCAAiC,iBAAiB,QAAQ,MAAM,UAAU,OAAO,KAAK,GACxF;AAAA;AAAA;AAAA,EAGJ,QAAQ;AAAA,KACL,UAAU,aAAa,OACtB,YACE,QAAQ,gBAAgB,CAAC,QACxB;AAAA,MACH,OAAO;AAAA;AAAA,KAER,UAAU,aAAa,OACtB;AAAA,MAEE;AAAA,MACA,gBAAgB,CAAC;AAAA,MACjB,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,mBAAmB;AAAA,MACnB,kBAAkB;AAAA,UAEjB;AAAA,MACH,OAAO;AAAA;AAAA,EAEX;AAAA,EACA,QAAQ;AAAA,IACN;AAAA,MACE,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,SAAS,OAAO,MAAW,QAAa;AAAA,QAEtC,IAAI,KAAK;AAAA,UACP,SAAS;AAAA,QACX,CAAC;AAAA;AAAA,IAEL;AAAA,IACA;AAAA,MACE,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,SAAS,OAAO,MAAW,QAAa;AAAA,QAEtC,MAAM,MAAM,IAAI;AAAA,QAChB,IAAI,KAAK;AAAA,UACP,WAAW,IAAI,YAAY;AAAA,UAC3B,MAAM,KAAK,MAAM,IAAI,QAAQ,IAAI,IAAI;AAAA,UACrC,WAAW,IAAI,eAAe;AAAA,UAC9B,UAAU,KAAK,eAAe,EAAE,gBAAgB,EAAE;AAAA,QACpD,CAAC;AAAA;AAAA,IAEL;AAAA,EACF;AAAA,EACA,QAAQ;AAAA,IACN,kBAAkB;AAAA,MAChB,OAAO,WAAW;AAAA,QAChB,OAAO,MAAM,iCAAiC;AAAA,QAE9C,OAAO,MAAM,EAAE,MAAM,OAAO,KAAK,MAAM,EAAE,GAAG,6BAA6B;AAAA;AAAA,IAE7E;AAAA,IACA,wBAAwB;AAAA,MACtB,OAAO,WAAW;AAAA,QAChB,OAAO,MAAM,uCAAuC;AAAA,QAEpD,OAAO,MAAM,EAAE,MAAM,OAAO,KAAK,MAAM,EAAE,GAAG,mCAAmC;AAAA;AAAA,IAEnF;AAAA,IACA,iBAAiB;AAAA,MACf,OAAO,WAAW;AAAA,QAChB,OAAO,MAAM,gCAAgC;AAAA,QAE7C,OAAO,MAAM,EAAE,MAAM,OAAO,KAAK,MAAM,EAAE,GAAG,4BAA4B;AAAA;AAAA,IAE5E;AAAA,IACA,cAAc;AAAA,MACZ,OAAO,WAAW;AAAA,QAChB,OAAO,MAAM,6BAA6B;AAAA,QAE1C,OAAO,MAAM,EAAE,MAAM,OAAO,KAAK,MAAM,EAAE,GAAG,yBAAyB;AAAA;AAAA,IAEzE;AAAA,EACF;AAAA,EACA,UAAU,CAAC,cAAc;AAAA,EACzB,SAAS,CAAC,gBAAgB;AAAA,EAC1B,WAAW,CAAC,kBAAkB;AAEhC;;;AClRA,IAAe;",
  "debugId": "66AB75656341D5D764756E2164756E21",
  "names": []
}