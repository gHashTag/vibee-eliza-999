# 07. HOOKS –ò –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø

**–ü—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:** –í [06-SLASH-–ö–û–ú–ê–ù–î–´.md](06-SLASH-–ö–û–ú–ê–ù–î–´.md) –≤—ã –Ω–∞—É—á–∏–ª–∏—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è Claude Code. –¢–µ–ø–µ—Ä—å –º—ã –ø–æ–π–¥–µ–º –¥–∞–ª—å—à–µ ‚Äî –Ω–∞—É—á–∏–º—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –¥–æ, –≤–æ –≤—Ä–µ–º—è –∏ –ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã Claude, —Å–æ–∑–¥–∞–≤–∞—è –Ω–∞—Å—Ç–æ—è—â—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

---

## –ß—Ç–æ —Ç–∞–∫–æ–µ hooks –≤ Claude Code?

### üéØ –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

**Hooks** (—Ö—É–∫–∏) ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–º–æ—â–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã. –í—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –∏—Ö –æ–¥–∏–Ω —Ä–∞–∑, –∏ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å–∞–º–∏.

### üè† –ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ **—É–º–Ω—ã–π –¥–æ–º**:
- **–ü–µ—Ä–µ–¥ —É—Ö–æ–¥–æ–º** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è —Å–≤–µ—Ç, –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –æ–∫–Ω–∞ (Pre-operation hooks)
- **–ö–æ–≥–¥–∞ –≤—ã –¥–æ–º–∞** ‚Üí —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤–∫–ª—é—á–∞–µ—Ç—Å—è –º—É–∑—ã–∫–∞ (Post-operation hooks)
- **–ü—Ä–∏ –≤—Ö–æ–¥–µ/–≤—ã—Ö–æ–¥–µ** ‚Üí —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—Å –∏–ª–∏ –ø—Ä–æ—â–∞–µ—Ç—Å—è (Session hooks)

–¢–æ –∂–µ —Å–∞–º–æ–µ —Å Claude Code:
- **–ü–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º** ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –≥–æ—Ç–æ–≤–∏–º —Ñ–∞–π–ª—ã
- **–ü–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏—è** ‚Üí —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –∫–æ–¥, —Å–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç—ã
- **–ù–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü —Ä–∞–±–æ—Ç—ã** ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

---

## üé¨ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç hooks: –ø—Ä–∏–º–µ—Ä –Ω–∞ –ø–∞–ª—å—Ü–∞—Ö

### –ü—Ä–æ–±–ª–µ–º–∞
Claude —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–π–ª —Å –ø–ª–æ—Ö–∏–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º:
```javascript
function hello(  ){console.log(  "world"  );}
```

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞—ë–º hook, –∫–æ—Ç–æ—Ä—ã–π **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.

### üí° –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π hook

**–ß—Ç–æ –º—ã —Ö–æ—Ç–∏–º:** –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ.

```javascript
// .claude/hooks/post-tool-use.js

module.exports = async (toolName, params) => {
  // –ï—Å–ª–∏ Claude —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª —Ñ–∞–π–ª
  if (toolName === 'Write') {
    console.log(`‚úÖ –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω: ${params.file_path}`);
  }

  return { success: true };
};
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. `module.exports` ‚Äî –¥–µ–ª–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–ª—è Claude
2. `toolName` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è Claude (Write, Edit, Bash –∏ —Ç.–¥.)
3. `params.file_path` ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏
4. `return { success: true }` ‚Äî –≥–æ–≤–æ—Ä–∏–º, —á—Ç–æ –≤—Å—ë —Ö–æ—Ä–æ—à–æ

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã –≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!

---

## üìö –¢—Ä–∏ —Ç–∏–ø–∞ hooks

### 1Ô∏è‚É£ Pre-operation hooks ‚Äî "–î–û" –¥–µ–π—Å—Ç–≤–∏—è

**–ó–∞—á–µ–º –Ω—É–∂–Ω—ã:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ñ–∞–π–ª—ã.

üéØ **–ü—Ä–∏–º–µ—Ä –∑–∞–¥–∞—á–∏:** –ù–µ –¥–∞—Ç—å Claude —É–¥–∞–ª–∏—Ç—å –≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã.

```javascript
// .claude/hooks/pre-tool-use.js

module.exports = async (toolName, params) => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥—ã Bash
  if (toolName === 'Bash') {
    const command = params.command;

    // –û–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
    if (command.includes('rm -rf')) {
      console.error('‚õî –°–¢–û–ü! –≠—Ç–æ –æ–ø–∞—Å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞!');

      return {
        approved: false, // –ù–ï —Ä–∞–∑—Ä–µ—à–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
        reason: '–û–ø–∞—Å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞'
      };
    }
  }

  return { approved: true }; // –†–∞–∑—Ä–µ—à–∞–µ–º
};
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ Bash –∫–æ–º–∞–Ω–¥–∞
2. –ò—â–µ–º –æ–ø–∞—Å–Ω—É—é –∫–æ–º–∞–Ω–¥—É `rm -rf` (—É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤)
3. –ï—Å–ª–∏ –Ω–∞—à–ª–∏ ‚Äî –±–ª–æ–∫–∏—Ä—É–µ–º (`approved: false`)
4. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Ä–∞–∑—Ä–µ—à–∞–µ–º (`approved: true`)

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** Claude –Ω–µ —Å–º–æ–∂–µ—Ç —Å–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–∏—Ç—å –≤–∞—à–∏ —Ñ–∞–π–ª—ã!

---

### 2Ô∏è‚É£ Post-operation hooks ‚Äî "–ü–û–°–õ–ï" –¥–µ–π—Å—Ç–≤–∏—è

**–ó–∞—á–µ–º –Ω—É–∂–Ω—ã:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ª—É—á—à–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã Claude.

üéØ **–ü—Ä–∏–º–µ—Ä –∑–∞–¥–∞—á–∏:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.

**–®–∞–≥ 1: –ü–æ–Ω–∏–º–∞–µ–º –ø—Ä–æ–±–ª–µ–º—É**
–ö–æ–≥–¥–∞ Claude —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–¥, –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∞–∫–∫—É—Ä–∞—Ç–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω. –ù—É–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å.

**–®–∞–≥ 2: –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ**

```javascript
// .claude/hooks/post-tool-use.js

const { exec } = require('child_process');

module.exports = async (toolName, params) => {
  // –†–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  if (toolName !== 'Write' && toolName !== 'Edit') {
    return { success: true };
  }

  const filePath = params.file_path;

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ JavaScript —Ñ–∞–π–ª
  if (filePath.endsWith('.js')) {
    console.log(`‚ú® –§–æ—Ä–º–∞—Ç–∏—Ä—É—é —Ñ–∞–π–ª: ${filePath}`);

    // –ó–∞–ø—É—Å–∫–∞–µ–º prettier –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    exec(`npx prettier --write "${filePath}"`, (error) => {
      if (error) {
        console.log('‚ö†Ô∏è Prettier –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
      } else {
        console.log('‚úÖ –§–∞–π–ª –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω!');
      }
    });
  }

  return { success: true };
};
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. `if (toolName !== 'Write' && toolName !== 'Edit')` ‚Äî —Ä–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
2. `filePath.endsWith('.js')` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ JavaScript
3. `exec(...)` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É Prettier
4. Prettier –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ë—ã–ª–æ:**
```javascript
function hello(  ){console.log(  "world"  );}
```

**–°—Ç–∞–ª–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
```javascript
function hello() {
  console.log("world");
}
```

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–¥ –≤—Å–µ–≥–¥–∞ –∫—Ä–∞—Å–∏–≤–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω!

---

### 3Ô∏è‚É£ Session hooks ‚Äî "–ù–ê–ß–ê–õ–û –∏ –ö–û–ù–ï–¶ —Ä–∞–±–æ—Ç—ã"

**–ó–∞—á–µ–º –Ω—É–∂–Ω—ã:** –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.

üéØ **–ü—Ä–∏–º–µ—Ä –∑–∞–¥–∞—á–∏:** –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–∏–ª–∏ –∑–∞ —Å–µ—Å—Å–∏—é.

**–ü—Ä–æ—Å—Ç–æ–π —Å—á—ë—Ç—á–∏–∫ —Ñ–∞–π–ª–æ–≤:**

```javascript
// .claude/hooks/session-start.js

// –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ (–æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π)
let filesChanged = 0;

module.exports = async (context) => {
  console.log('üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Ä–∞–±–æ—Ç—É!');
  filesChanged = 0; // –û–±–Ω—É–ª—è–µ–º —Å—á—ë—Ç—á–∏–∫

  return { success: true };
};
```

```javascript
// .claude/hooks/post-tool-use.js

module.exports = async (toolName, params) => {
  if (toolName === 'Edit' || toolName === 'Write') {
    filesChanged++; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫
    console.log(`üìù –ò–∑–º–µ–Ω–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: ${filesChanged}`);
  }

  return { success: true };
};
```

```javascript
// .claude/hooks/session-end.js

module.exports = async (context) => {
  console.log('üëã –°–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!');
  console.log(`üìä –ò—Ç–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: ${filesChanged}`);

  return { success: true };
};
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. **–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ** ‚Äî –æ–±–Ω—É–ª—è–µ–º —Å—á—ë—Ç—á–∏–∫
2. **–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏** ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –Ω–∞ 1
3. **–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—ã –≤—Å–µ–≥–¥–∞ –∑–Ω–∞–µ—Ç–µ, —Å–∫–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–¥–µ–ª–∞–Ω–æ!

---

## üõ†Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ hook: –ø–æ—à–∞–≥–æ–≤–æ

### –ó–∞–¥–∞—á–∞
–°–æ–∑–¥–∞—Ç—å hook, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.

### –®–∞–≥ 1: –°–æ–∑–¥–∞—ë–º –ø–∞–ø–∫—É –¥–ª—è hooks

```bash
mkdir -p ~/.claude/hooks
```

**–ß—Ç–æ —ç—Ç–æ:** –°–æ–∑–¥–∞—ë–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É, –≥–¥–µ –±—É–¥—É—Ç –ª–µ–∂–∞—Ç—å –Ω–∞—à–∏ hooks.

### –®–∞–≥ 2: –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª hook

```bash
cd ~/.claude/hooks
touch file-size-logger.js
```

**–ß—Ç–æ —ç—Ç–æ:** –°–æ–∑–¥–∞—ë–º –ø—É—Å—Ç–æ–π JavaScript —Ñ–∞–π–ª –¥–ª—è –Ω–∞—à–µ–≥–æ hook.

### –®–∞–≥ 3: –ü–∏—à–µ–º –ø—Ä–æ—Å—Ç–æ–π –∫–æ–¥

```javascript
// ~/.claude/hooks/file-size-logger.js

const fs = require('fs');

module.exports = async (toolName, params) => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
  if (toolName !== 'Write') {
    return { success: true };
  }

  const filePath = params.file_path;

  // –ß–∏—Ç–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–µ
  const stats = fs.statSync(filePath);
  const sizeKB = (stats.size / 1024).toFixed(2);

  console.log(`üìè –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: ${sizeKB} KB`);

  return { success: true };
};
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. `const fs = require('fs')` ‚Äî –ø–æ–¥–∫–ª—é—á–∞–µ–º –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
2. `if (toolName !== 'Write')` ‚Äî —Ä–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
3. `fs.statSync(filePath)` ‚Äî –ø–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–µ
4. `stats.size / 1024` ‚Äî –ø–µ—Ä–µ–≤–æ–¥–∏–º –±–∞–π—Ç—ã –≤ –∫–∏–ª–æ–±–∞–π—Ç—ã
5. `toFixed(2)` ‚Äî –æ–∫—Ä—É–≥–ª—è–µ–º –¥–æ 2 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π

### –®–∞–≥ 4: –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º hook

```json
// ~/.claude/settings.json
{
  "hooks": {
    "postToolUse": "~/.claude/hooks/file-size-logger.js"
  }
}
```

**–ß—Ç–æ —ç—Ç–æ:** –ì–æ–≤–æ—Ä–∏–º Claude –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—à hook –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è.

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã –≤–∏–¥–∏—Ç–µ:
```
‚úÖ –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω: /path/to/file.js
üìè –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 2.34 KB
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å hooks: –∑–∞—â–∏—Ç–∞ –æ—Ç –æ–ø–∞—Å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞
Claude –º–æ–∂–µ—Ç —Å–ª—É—á–∞–π–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–∞—Å–Ω—É—é –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è —É–¥–∞–ª–∏—Ç —Ñ–∞–π–ª—ã –∏–ª–∏ –ø–æ–≤—Ä–µ–¥–∏—Ç —Å–∏—Å—Ç–µ–º—É.

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞—ë–º "–±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫" –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.

### üí° –ü—Ä–æ—Å—Ç–æ–π guard (–æ—Ö—Ä–∞–Ω–Ω–∏–∫)

```javascript
// ~/.claude/hooks/security-guard.js

// –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
const SAFE_COMMANDS = [
  'npm test',
  'npm run build',
  'git status',
  'git diff',
  'ls',
  'pwd'
];

module.exports = async (toolName, params) => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ Bash –∫–æ–º–∞–Ω–¥—ã
  if (toolName !== 'Bash') {
    return { approved: true };
  }

  const command = params.command;

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ª–∏ –∫–æ–º–∞–Ω–¥–∞ —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ–π
  const isSafe = SAFE_COMMANDS.some(safe =>
    command.startsWith(safe)
  );

  if (!isSafe) {
    console.error('‚õî –ö–æ–º–∞–Ω–¥–∞ –Ω–µ –≤ —Å–ø–∏—Å–∫–µ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö!');
    console.log('üìã –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:', SAFE_COMMANDS);

    return {
      approved: false,
      reason: '–ö–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞'
    };
  }

  return { approved: true };
};
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. `SAFE_COMMANDS` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å
2. `command.startsWith(safe)` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—á–∞–ª–æ –∫–æ–º–∞–Ω–¥—ã
3. `some()` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
4. –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ ‚Äî –±–ª–æ–∫–∏—Ä—É–µ–º

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –†–∞–±–æ—Ç–∞–µ—Ç–µ —Å –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–æ–º
- –•–æ—Ç–∏—Ç–µ –∑–∞—â–∏—Ç–∏—Ç—å—Å—è –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö –æ—à–∏–±–æ–∫
- –ù—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ Claude

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** Claude –Ω–µ —Å–º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã!

---

## üé® –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö

### –ü—Ä–∏–º–µ—Ä 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ backup —Ñ–∞–π–ª–æ–≤

üéØ **–ó–∞–¥–∞—á–∞:** –ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –≤–∞–∂–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –µ–≥–æ –∫–æ–ø–∏—é.

```javascript
// ~/.claude/hooks/auto-backup.js

const fs = require('fs');
const path = require('path');

// –§–∞–π–ª—ã, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–µ–Ω backup
const IMPORTANT_FILES = [
  '.env',
  'package.json',
  'config.js'
];

module.exports = async (toolName, params) => {
  // –†–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  if (toolName !== 'Edit') {
    return { approved: true };
  }

  const filePath = params.file_path;
  const fileName = path.basename(filePath);

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–∞–∂–Ω—ã–π –ª–∏ —ç—Ç–æ —Ñ–∞–π–ª
  const isImportant = IMPORTANT_FILES.some(name =>
    fileName.includes(name)
  );

  if (!isImportant) {
    return { approved: true };
  }

  // –°–æ–∑–¥–∞—ë–º backup
  const timestamp = Date.now();
  const backupPath = `${filePath}.backup.${timestamp}`;

  try {
    fs.copyFileSync(filePath, backupPath);
    console.log(`üíæ –°–æ–∑–¥–∞–Ω backup: ${backupPath}`);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è backup:', error.message);
  }

  return { approved: true };
};
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
2. –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –≤–∞–∂–Ω—ã–π –ª–∏ —Ñ–∞–π–ª
3. `Date.now()` ‚Äî –ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è)
4. `fs.copyFileSync()` ‚Äî –∫–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª
5. Backup –ø–æ–ª—É—á–∞–µ—Ç –∏–º—è —Ç–∏–ø–∞: `config.js.backup.1704067200000`

**–ë—ã–ª–æ:**
```
config.js
```

**–°—Ç–∞–ª–æ:**
```
config.js
config.js.backup.1704067200000  ‚Üê –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup!
```

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏!

---

### –ü—Ä–∏–º–µ—Ä 2: –°—á—ë—Ç—á–∏–∫ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

üéØ **–ó–∞–¥–∞—á–∞:** –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–æ–±–∞–≤–∏–ª–∏ –∏–ª–∏ —É–¥–∞–ª–∏–ª–∏.

```javascript
// ~/.claude/hooks/lines-counter.js

module.exports = async (filePath, oldContent, newContent, context) => {
  // –°—á–∏—Ç–∞–µ–º —Å—Ç—Ä–æ–∫–∏ –≤ —Å—Ç–∞—Ä–æ–º –∏ –Ω–æ–≤–æ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–º
  const oldLines = oldContent.split('\n').length;
  const newLines = newContent.split('\n').length;

  // –í—ã—á–∏—Å–ª—è–µ–º —Ä–∞–∑–Ω–∏—Ü—É
  const diff = newLines - oldLines;

  // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤—ã–≤–æ–¥
  const sign = diff > 0 ? '+' : '';
  const emoji = diff > 0 ? 'üìà' : 'üìâ';

  console.log(`${emoji} –°—Ç—Ä–æ–∫: ${oldLines} ‚Üí ${newLines} (${sign}${diff})`);

  return { success: true };
};
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. `split('\n')` ‚Äî —Ä–∞–∑–±–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ —Å—Ç—Ä–æ–∫–∏
2. `.length` ‚Äî —Å—á–∏—Ç–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
3. `newLines - oldLines` ‚Äî –≤—ã—á–∏—Å–ª—è–µ–º —Ä–∞–∑–Ω–∏—Ü—É
4. `sign = diff > 0 ? '+' : ''` ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞–∫ + –¥–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª
5. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—Ä–∞—Å–∏–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å —ç–º–æ–¥–∑–∏

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üìà –°—Ç—Ä–æ–∫: 45 ‚Üí 67 (+22)  ‚Üê –¥–æ–±–∞–≤–∏–ª–∏ –∫–æ–¥
üìâ –°—Ç—Ä–æ–∫: 120 ‚Üí 98 (-22)  ‚Üê —É–¥–∞–ª–∏–ª–∏ –∫–æ–¥
```

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∏–¥–∏—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–±–æ—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏!

---

### –ü—Ä–∏–º–µ—Ä 3: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Ç–µ—Å—Ç–∞—Ö

üéØ **–ó–∞–¥–∞—á–∞:** –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥, –Ω–∞–ø–æ–º–Ω–∏—Ç—å –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã.

```javascript
// ~/.claude/hooks/test-reminder.js

const path = require('path');

module.exports = async (toolName, params) => {
  // –†–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –≤ src/
  if (toolName !== 'Edit' && toolName !== 'Write') {
    return { success: true };
  }

  const filePath = params.file_path;

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ src
  if (!filePath.includes('/src/')) {
    return { success: true };
  }

  // –ü–æ–ª—É—á–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞
  const fileName = path.basename(filePath);

  console.log('');
  console.log('‚ö†Ô∏è  –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ï:');
  console.log(`üìù –í—ã –∏–∑–º–µ–Ω–∏–ª–∏: ${fileName}`);
  console.log('‚úÖ –ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã!');
  console.log('');

  return { success: true };
};
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–∏ —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ `src/`
2. `path.basename()` ‚Äî –ø–æ–ª—É—á–∞–µ–º —Ç–æ–ª—å–∫–æ –∏–º—è —Ñ–∞–π–ª–∞ (–±–µ–∑ –ø—É—Ç–∏)
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
‚ö†Ô∏è  –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ï:
üìù –í—ã –∏–∑–º–µ–Ω–∏–ª–∏: UserService.js
‚úÖ –ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã!
```

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–±—É–¥–µ—Ç–µ –ø—Ä–æ —Ç–µ—Å—Ç—ã!

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –∑–∞—á–µ–º –Ω—É–∂–Ω—ã hooks

### –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏

**–ë–µ–∑ hooks (–≤—Ä—É—á–Ω—É—é):**
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞: ~2 –º–∏–Ω—É—Ç—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: ~3 –º–∏–Ω—É—Ç—ã
- –°–æ–∑–¥–∞–Ω–∏–µ backup: ~1 –º–∏–Ω—É—Ç–∞
- –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤: ~5 –º–∏–Ω—É—Ç

**–ò—Ç–æ–≥–æ:** ~11 –º–∏–Ω—É—Ç –Ω–∞ –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª

**–° hooks (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):**
- –í—Å—ë –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: ~0 –º–∏–Ω—É—Ç

**–≠–∫–æ–Ω–æ–º–∏—è:** 11 –º–∏–Ω—É—Ç √ó 20 —Ñ–∞–π–ª–æ–≤ –≤ –¥–µ–Ω—å = **220 –º–∏–Ω—É—Ç (3.5 —á–∞—Å–∞) –≤ –¥–µ–Ω—å**!

---

## üéì –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –ü—Ä–æ—Å—Ç–æ–π –ª–æ–≥–≥–µ—Ä (–õ—ë–≥–∫–æ–µ)

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞–π—Ç–µ hook, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ —Ñ–∞–π–ª `log.txt` –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è Claude.

**–ü–æ–¥—Å–∫–∞–∑–∫–∞:**
```javascript
const fs = require('fs');

module.exports = async (toolName, params) => {
  const logMessage = `${new Date()} - ${toolName}\n`;
  fs.appendFileSync('log.txt', logMessage);
  return { success: true };
};
```

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**
- –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
- –ò–º—è —Ñ–∞–π–ª–∞, –µ—Å–ª–∏ —ç—Ç–æ Edit/Write
- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –º–µ–∂–¥—É –∑–∞–ø–∏—Å—è–º–∏

---

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –î–µ—Ç–µ–∫—Ç–æ—Ä TODO (–°—Ä–µ–¥–Ω–µ–µ)

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞–π—Ç–µ hook, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.

**–ü–æ–¥—Å–∫–∞–∑–∫–∞:**
```javascript
module.exports = async (toolName, params) => {
  if (toolName !== 'Write') return { success: true };

  const content = params.content;
  // –ù–∞–π—Ç–∏ –≤—Å–µ // TODO –≤ –∫–æ–¥–µ
  // –ü–æ–∫–∞–∑–∞—Ç—å –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ

  return { success: true };
};
```

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**
- –ü–æ–∏—Å–∫ —Ä–∞–∑–Ω—ã—Ö –≤–∏–¥–æ–≤ TODO (`// TODO`, `/* TODO */`, `# TODO`)
- –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–æ–∫–∏, –≥–¥–µ –Ω–∞–π–¥–µ–Ω—ã TODO
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ñ–∞–π–ª–∞–º

---

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 3: –ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (–°–ª–æ–∂–Ω–æ–µ)

**–ó–∞–¥–∞—á–∞:** –ö–æ–≥–¥–∞ Claude —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ `src/`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª —Ç–µ—Å—Ç–∞ –≤ `tests/`.

**–ü–æ–¥—Å–∫–∞–∑–∫–∞:**
```javascript
const fs = require('fs');
const path = require('path');

module.exports = async (toolName, params) => {
  if (toolName !== 'Write') return { success: true };

  const filePath = params.file_path;
  if (!filePath.includes('/src/')) return { success: true };

  // 1. –ü–æ–ª—É—á–∏—Ç—å –∏–º—è —Ñ–∞–π–ª–∞
  // 2. –°–æ–∑–¥–∞—Ç—å –ø—É—Ç—å –∫ —Ç–µ—Å—Ç—É: src/file.js ‚Üí tests/file.test.js
  // 3. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Ç–µ—Å—Ç–∞
  // 4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

  return { success: true };
};
```

---

## üìñ –°–ª–æ–≤–∞—Ä—å –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

- **Hook (—Ö—É–∫)** = –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç
- **Pre-operation** = "–¥–æ –¥–µ–π—Å—Ç–≤–∏—è" (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞)
- **Post-operation** = "–ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏—è" (—É–ª—É—á—à–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞)
- **Session** = "—Ä–∞–±–æ—á–∞—è —Å–µ—Å—Å–∏—è" (–æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞ —Ä–∞–±–æ—Ç—ã)
- **Approved** = "—Ä–∞–∑—Ä–µ—à–µ–Ω–æ" (–º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å)
- **Timeout** = "—Ç–∞–π–º–∞—É—Ç" (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è)
- **Whitelist** = "–±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫" (—á—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ)
- **Blacklist** = "—á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫" (—á—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ)

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç: —á—Ç–æ –≤—ã —Ç–µ–ø–µ—Ä—å —É–º–µ–µ—Ç–µ

- [ ] –ü–æ–Ω–∏–º–∞–µ—Ç–µ, —á—Ç–æ —Ç–∞–∫–æ–µ hooks –∏ –∑–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã
- [ ] –ú–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π hook –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –£–º–µ–µ—Ç–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- [ ] –ú–æ–∂–µ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
- [ ] –°–æ–∑–¥–∞—ë—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ backup —Ñ–∞–π–ª–æ–≤
- [ ] –°—á–∏—Ç–∞–µ—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä–∞–±–æ—Ç—ã
- [ ] –ü–æ–Ω–∏–º–∞–µ—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å hooks

---

## üéØ –ì–ª–∞–≤–Ω—ã–µ –≤—ã–≤–æ–¥—ã

1. **Hooks = –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** ‚Üí –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ –æ–¥–∏–Ω —Ä–∞–∑, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞
2. **Pre-hooks = –∑–∞—â–∏—Ç–∞** ‚Üí –ë–ª–æ–∫–∏—Ä—É—é—Ç –æ–ø–∞—Å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
3. **Post-hooks = —É–ª—É—á—à–µ–Ω–∏–µ** ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ª—É—á—à–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
4. **–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏** ‚Üí –î–æ 3-4 —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å –Ω–∞ —Ä—É—Ç–∏–Ω–µ

---

---

## üéØ –¢–µ—Å—Ç –Ω–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ

### –ë–ª–æ–∫ 1: –û—Å–Ω–æ–≤—ã hooks (4 –≤–æ–ø—Ä–æ—Å–∞)

**–í–æ–ø—Ä–æ—Å 1:** –ß—Ç–æ —Ç–∞–∫–æ–µ hooks –≤ Claude Code?
- A) –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Git
- B) –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç—ã
- C) –ü–ª–∞–≥–∏–Ω—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- D) –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–¥–∞

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: B**

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** Hooks ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–º–æ—â–Ω–∏–∫–∏ (—Å–∫—Ä–∏–ø—Ç—ã), –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã: –¥–æ –¥–µ–π—Å—Ç–≤–∏—è (pre-operation), –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏—è (post-operation) –∏–ª–∏ –ø—Ä–∏ –Ω–∞—á–∞–ª–µ/–∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏ (session hooks). –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

</details>

---

**–í–æ–ø—Ä–æ—Å 2:** –ö–∞–∫–æ–π —Ç–∏–ø hook –Ω—É–∂–µ–Ω –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ–ø–∞—Å–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã `rm -rf`?
- A) Post-operation hook
- B) Session-end hook
- C) Pre-operation hook
- D) Mid-operation hook

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: C**

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** Pre-operation hooks —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç **–î–û** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è. –û–Ω–∏ –º–æ–≥—É—Ç –≤–µ—Ä–Ω—É—Ç—å `{ approved: false }` –∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∞—Å–Ω—É—é –∫–æ–º–∞–Ω–¥—É –¥–æ –µ—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. Post-operation hooks —Ä–∞–±–æ—Ç–∞—é—Ç —É–∂–µ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–¥–Ω–æ.

</details>

---

**–í–æ–ø—Ä–æ—Å 3:** –ß—Ç–æ –≤–µ—Ä–Ω—ë—Ç hook –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è?
```javascript
module.exports = async (toolName, params) => {
  return { ??? };
};
```
- A) `{ success: true }`
- B) `{ approved: true }`
- C) `{ allowed: true }`
- D) –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ hook

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: D**

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- **Pre-operation hooks** –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `{ approved: true }` –∏–ª–∏ `{ approved: false, reason: "..." }`
- **Post-operation hooks** –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `{ success: true }` –∏–ª–∏ `{ success: false, error: "..." }`
- **Session hooks** –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `{ success: true }`

</details>

---

**–í–æ–ø—Ä–æ—Å 4:** –í –∫–∞–∫–æ–π –ø–∞–ø–∫–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ö—Ä–∞–Ω—è—Ç—Å—è hooks?
- A) `~/.claude/hooks/`
- B) `./hooks/`
- C) `./.claude/hooks/`
- D) `~/claude-code/hooks/`

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: A**

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** Hooks —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `~/.claude/hooks/`. –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ hooks –≤ `.claude/hooks/` –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞, –Ω–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

</details>

---

### –ë–ª–æ–∫ 2: –°–æ–±—ã—Ç–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (3 –≤–æ–ø—Ä–æ—Å–∞)

**–í–æ–ø—Ä–æ—Å 5:** –í –∫–∞–∫–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç hooks –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞?
- A) post-tool-use ‚Üí pre-tool-use ‚Üí session-end
- B) pre-tool-use ‚Üí Write ‚Üí post-tool-use
- C) session-start ‚Üí Write ‚Üí session-end
- D) Write ‚Üí post-tool-use ‚Üí session-end

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: B**

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
1. **Pre-tool-use** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º (–º–æ–∂–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å)
2. **Write** ‚Äî —Å–∞–º–æ –¥–µ–π—Å—Ç–≤–∏–µ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞)
3. **Post-tool-use** ‚Äî –¥–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

Session hooks (session-start, session-end) —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞—á–∞–ª–µ/–∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –≤—Å–µ–π —Å–µ—Å—Å–∏–∏ —Ä–∞–±–æ—Ç—ã.

</details>

---

**–í–æ–ø—Ä–æ—Å 6:** –ö–∞–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –≤ post-tool-use hook?
```javascript
module.exports = async (toolName, params) => {
  const filePath = params.???;
};
```
- A) `params.path`
- B) `params.file_path`
- C) `params.filepath`
- D) `params.file`

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: B**

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –û–±—ä–µ–∫—Ç `params` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–∏. –î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∞–π–ª–∞–º–∏ (Write, Edit) –ø—É—Ç—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `params.file_path`. –î–ª—è –∫–æ–º–∞–Ω–¥ Bash –∫–æ–º–∞–Ω–¥–∞ –≤ `params.command`.

</details>

---

**–í–æ–ø—Ä–æ—Å 7:** –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ pre-tool-use hook –≤–µ—Ä–Ω—ë—Ç `{ approved: false }`?
- A) –î–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º
- B) –î–µ–π—Å—Ç–≤–∏–µ –±—É–¥–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
- C) Hook –±—É–¥–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω
- D) –í–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: B**

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –ö–æ–≥–¥–∞ pre-operation hook –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ approved: false }`, –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è. –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏—Ç—å `reason: "–ø—Ä–∏—á–∏–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏"` –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è.

</details>

---

### –ë–ª–æ–∫ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (3 –≤–æ–ø—Ä–æ—Å–∞)

**–í–æ–ø—Ä–æ—Å 8:** –ö–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å hook –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞?
- A) –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –≤ `~/.claude/hooks/` —Å –ª—é–±—ã–º –∏–º–µ–Ω–µ–º
- B) –î–æ–±–∞–≤–∏—Ç—å –ø—É—Ç—å –≤ `~/.claude/settings.json` –≤ —Å–µ–∫—Ü–∏—é `hooks`
- C) –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `claude hooks register`
- D) –£–∫–∞–∑–∞—Ç—å –≤ `.env` —Ñ–∞–π–ª–µ

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: B**

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** Hook –Ω—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `~/.claude/settings.json`:
```json
{
  "hooks": {
    "preToolUse": "~/.claude/hooks/security-guard.js",
    "postToolUse": "~/.claude/hooks/auto-format.js",
    "sessionStart": "~/.claude/hooks/session-start.js"
  }
}
```

</details>

---

**–í–æ–ø—Ä–æ—Å 9:** –ö–∞–∫–æ–π hook —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è?
- A) `pre-tool-use`
- B) `post-tool-use`
- C) `session-start`
- D) `mid-tool-use`

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: B**

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å **–ü–û–°–õ–ï** —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è post-tool-use hook. –ü—Ä–∏–º–µ—Ä:
```javascript
module.exports = async (toolName, params) => {
  if (toolName === 'Write' && params.file_path.endsWith('.js')) {
    exec(`npx prettier --write "${params.file_path}"`);
  }
  return { success: true };
};
```

</details>

---

**–í–æ–ø—Ä–æ—Å 10:** –ö–∞–∫ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ hooks (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—á—ë—Ç—á–∏–∫ —Ñ–∞–π–ª–æ–≤)?
- A) –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –º–æ–¥—É–ª–µ
- B) –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª –∏ —á–∏—Ç–∞—Ç—å –∏–∑ –Ω–µ–≥–æ
- C) –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- D) –ü–µ—Ä–µ–¥–∞—Ç—å —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: A**

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –º–æ–¥—É–ª–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏:
```javascript
let filesChanged = 0; // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è

module.exports = async (toolName, params) => {
  if (toolName === 'Write') {
    filesChanged++; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ
  }
  return { success: true };
};
```

</details>

---

### –û—Ü–µ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- **9-10 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:** üèÜ –û—Ç–ª–∏—á–Ω–æ! –í—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å–≤–æ–∏–ª–∏ hooks
- **7-8 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:** ‚úÖ –•–æ—Ä–æ—à–æ! –ù–µ–±–æ–ª—å—à–∏–µ –ø—Ä–æ–±–µ–ª—ã –ª–µ–≥–∫–æ –∑–∞–∫—Ä—ã—Ç—å
- **5-6 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:** üìö –ù–µ–ø–ª–æ—Ö–æ, –Ω–æ –Ω—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª
- **–ú–µ–Ω–µ–µ 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:** üîÑ –ü–µ—Ä–µ—á–∏—Ç–∞–π—Ç–µ —Å—Ç–∞—Ç—å—é –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

---

## üíª –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

### –ó–∞–¥–∞–Ω–∏–µ 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ª–∏–Ω—Ç–µ—Ä (–ë–∞–∑–æ–≤–æ–µ)
**–í—Ä–µ–º—è:** 15-25 –º–∏–Ω—É—Ç
**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å post-operation hooks –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–∞

**–ó–∞–¥–∞—á–∞:**
–°–æ–∑–¥–∞–π—Ç–µ hook, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç ESLint –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è JavaScript —Ñ–∞–π–ª–∞ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
1. Hook –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è `.js` —Ñ–∞–π–ª–æ–≤
2. –ó–∞–ø—É—Å–∫–∞—Ç—å ESLint —Å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º (`--fix`)
3. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
4. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª—å

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ESLint –≤ –ø—Ä–æ–µ–∫—Ç:
```bash
npm install --save-dev eslint
npx eslint --init
```

2. –°–æ–∑–¥–∞–π—Ç–µ hook —Ñ–∞–π–ª:
```bash
mkdir -p ~/.claude/hooks
touch ~/.claude/hooks/auto-lint.js
```

3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –±–∞–∑–æ–≤—É—é –ª–æ–≥–∏–∫—É:
```javascript
// ~/.claude/hooks/auto-lint.js
const { exec } = require('child_process');
const path = require('path');

module.exports = async (toolName, params) => {
  // TODO: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç—Ç–æ Write –∏–ª–∏ Edit
  // TODO: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ (.js)
  // TODO: –ó–∞–ø—É—Å—Ç–∏—Ç—å eslint --fix
  // TODO: –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

  return { success: true };
};
```

4. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ hook –≤ `~/.claude/settings.json`

**–ü–æ–¥—Å–∫–∞–∑–∫–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `exec()` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `filePath.endsWith('.js')`
- ESLint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –≤ stderr

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- ‚úÖ Hook –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ .js —Ñ–∞–π–ª–æ–≤
- ‚úÖ ESLint –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
- ‚úÖ –í—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- ‚úÖ –ù–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
‚úÖ –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω: /app/src/utils.js
üîç –ó–∞–ø—É—Å–∫ ESLint...
‚ú® ESLint –∏—Å–ø—Ä–∞–≤–∏–ª 3 –æ—à–∏–±–∫–∏
```

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</summary>

```javascript
// ~/.claude/hooks/auto-lint.js
const { exec } = require('child_process');
const path = require('path');

module.exports = async (toolName, params) => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏
  if (toolName !== 'Write' && toolName !== 'Edit') {
    return { success: true };
  }

  const filePath = params.file_path;

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
  if (!filePath.endsWith('.js')) {
    return { success: true };
  }

  console.log(`üîç –ó–∞–ø—É—Å–∫ ESLint –¥–ª—è: ${path.basename(filePath)}`);

  // –ó–∞–ø—É—Å–∫–∞–µ–º ESLint —Å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
  exec(`npx eslint --fix "${filePath}"`, (error, stdout, stderr) => {
    if (error && error.code !== 1) {
      // code 1 = –Ω–∞–π–¥–µ–Ω—ã –æ—à–∏–±–∫–∏ (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
      console.error('‚ùå –û—à–∏–±–∫–∞ ESLint:', error.message);
      return;
    }

    // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑ –≤—ã–≤–æ–¥–∞
    const fixedCount = (stdout.match(/fixed/g) || []).length;

    if (fixedCount > 0) {
      console.log(`‚ú® ESLint –∏—Å–ø—Ä–∞–≤–∏–ª ${fixedCount} –æ—à–∏–±–æ–∫`);
    } else {
      console.log('‚úÖ –û—à–∏–±–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
    }
  });

  return { success: true };
};
```

**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
```json
// ~/.claude/settings.json
{
  "hooks": {
    "postToolUse": "~/.claude/hooks/auto-lint.js"
  }
}
```

</details>

---

### –ó–∞–¥–∞–Ω–∏–µ 2: CI/CD Workflow Hook (–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ)
**–í—Ä–µ–º—è:** 30-45 –º–∏–Ω—É—Ç
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å —Ü–µ–ø–æ—á–∫—É hooks –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ workflow –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ

**–ó–∞–¥–∞—á–∞:**
–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∏–∑ 3 hooks, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. **Pre-commit:** –ü—Ä–æ–≤–µ—Ä—è—é—Ç, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
2. **Post-commit:** –°–æ–∑–¥–∞—é—Ç changelog –∏–∑ commit message
3. **Session-end:** –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

**Hook 1: Pre-commit –ø—Ä–æ–≤–µ—Ä–∫–∞**
- –ó–∞–ø—É—Å–∫–∞—Ç—å `npm test` –ø–µ—Ä–µ–¥ git commit
- –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–º–∏—Ç, –µ—Å–ª–∏ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—à–ª–∏
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö/—É–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤

**Hook 2: Auto-changelog**
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ –¥–æ–±–∞–≤–ª—è—Ç—å –∑–∞–ø–∏—Å—å –≤ CHANGELOG.md
- –§–æ—Ä–º–∞—Ç: `[YYYY-MM-DD HH:mm] - commit message`
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–∞–º

**Hook 3: Session —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
- –°—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤, –∫–æ–º–º–∏—Ç–æ–≤, —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤ JSON —Ñ–∞–π–ª

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

1. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```bash
mkdir -p ~/.claude/hooks
touch ~/.claude/hooks/pre-commit-test.js
touch ~/.claude/hooks/post-commit-changelog.js
touch ~/.claude/hooks/session-stats.js
```

2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ Pre-commit hook:
```javascript
// ~/.claude/hooks/pre-commit-test.js
module.exports = async (toolName, params) => {
  // TODO: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç—Ç–æ git commit –∫–æ–º–∞–Ω–¥–∞
  // TODO: –ó–∞–ø—É—Å—Ç–∏—Ç—å npm test
  // TODO: –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã —É–ø–∞–ª–∏ - –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å (approved: false)
  // TODO: –ï—Å–ª–∏ –ø—Ä–æ—à–ª–∏ - —Ä–∞–∑—Ä–µ—à–∏—Ç—å (approved: true)
};
```

3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ Post-commit hook:
```javascript
// ~/.claude/hooks/post-commit-changelog.js
module.exports = async (toolName, params) => {
  // TODO: –ò–∑–≤–ª–µ—á—å commit message –∏–∑ –∫–æ–º–∞–Ω–¥—ã
  // TODO: –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ CHANGELOG.md
  // TODO: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º
};
```

4. –†–µ–∞–ª–∏–∑—É–π—Ç–µ Session stats hook:
```javascript
// ~/.claude/hooks/session-stats.js
let stats = {
  files: 0,
  commits: 0,
  lines: 0
};

// session-start.js
module.exports = async () => {
  // TODO: –û–±–Ω—É–ª–∏—Ç—å —Å—á—ë—Ç—á–∏–∫–∏
};

// post-tool-use.js
module.exports = async (toolName, params) => {
  // TODO: –£–≤–µ–ª–∏—á–∏–≤–∞—Ç—å —Å—á—ë—Ç—á–∏–∫–∏
};

// session-end.js
module.exports = async () => {
  // TODO: –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  // TODO: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ history.json
};
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- ‚úÖ –ö–æ–º–º–∏—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ CHANGELOG.md –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ –í—Å–µ hooks —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ü–µ–ø–æ—á–∫–µ –±–µ–∑ –æ—à–∏–±–æ–∫

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üîç Pre-commit: –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤...
‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã: 15/15
‚úÖ –ö–æ–º–º–∏—Ç —Ä–∞–∑—Ä–µ—à—ë–Ω

üìù Post-commit: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ CHANGELOG...
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–ø–∏—Å—å: [2025-01-15 14:30] feat: –¥–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

üëã –°–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   - –§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ: 8
   - –ö–æ–º–º–∏—Ç–æ–≤: 3
   - –°—Ç—Ä–æ–∫ –∫–æ–¥–∞: +247
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ ~/.claude/history.json
```

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</summary>

**Pre-commit hook:**
```javascript
// ~/.claude/hooks/pre-commit-test.js
const { execSync } = require('child_process');

module.exports = async (toolName, params) => {
  if (toolName !== 'Bash') return { approved: true };

  const command = params.command;
  if (!command.includes('git commit')) return { approved: true };

  console.log('üîç Pre-commit: –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤...');

  try {
    const output = execSync('npm test', { encoding: 'utf-8' });
    const passedTests = (output.match(/‚úì/g) || []).length;

    console.log(`‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã: ${passedTests}/${passedTests}`);
    console.log('‚úÖ –ö–æ–º–º–∏—Ç —Ä–∞–∑—Ä–µ—à—ë–Ω\n');

    return { approved: true };
  } catch (error) {
    console.error('‚ùå –¢–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—à–ª–∏!');
    console.error(error.stdout);

    return {
      approved: false,
      reason: '–¢–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—à–ª–∏. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º.'
    };
  }
};
```

**Post-commit hook:**
```javascript
// ~/.claude/hooks/post-commit-changelog.js
const fs = require('fs');
const path = require('path');

module.exports = async (toolName, params) => {
  if (toolName !== 'Bash') return { success: true };

  const command = params.command;
  if (!command.includes('git commit')) return { success: true };

  // –ò–∑–≤–ª–µ–∫–∞–µ–º commit message
  const messageMatch = command.match(/git commit -m ["'](.+)["']/);
  if (!messageMatch) return { success: true };

  const commitMessage = messageMatch[1];
  const timestamp = new Date().toISOString().replace('T', ' ').slice(0, 16);

  // –ü—É—Ç—å –∫ CHANGELOG
  const changelogPath = path.join(process.cwd(), 'CHANGELOG.md');
  const entry = `[${timestamp}] - ${commitMessage}\n`;

  // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å
  try {
    let content = '';
    if (fs.existsSync(changelogPath)) {
      content = fs.readFileSync(changelogPath, 'utf-8');
    } else {
      content = '# Changelog\n\n';
    }

    // –í—Å—Ç–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –ø–æ—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞
    const lines = content.split('\n');
    lines.splice(2, 0, entry);

    fs.writeFileSync(changelogPath, lines.join('\n'));

    console.log(`üìù Post-commit: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ CHANGELOG...`);
    console.log(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–ø–∏—Å—å: ${entry}`);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è CHANGELOG:', error.message);
  }

  return { success: true };
};
```

**Session stats hooks:**
```javascript
// ~/.claude/hooks/session-stats.js
const fs = require('fs');
const path = require('path');

// –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
let stats = {
  files: 0,
  commits: 0,
  linesAdded: 0,
  linesRemoved: 0,
  startTime: null,
  endTime: null
};

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º 3 —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ hooks
module.exports = {
  // Session start
  onStart: async () => {
    stats = {
      files: 0,
      commits: 0,
      linesAdded: 0,
      linesRemoved: 0,
      startTime: new Date(),
      endTime: null
    };
    console.log('üöÄ –ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è –Ω–∞—á–∞—Ç–∞!');
    return { success: true };
  },

  // Post tool use
  onToolUse: async (toolName, params) => {
    if (toolName === 'Write' || toolName === 'Edit') {
      stats.files++;

      // –ü–æ–¥—Å—á—ë—Ç —Å—Ç—Ä–æ–∫
      if (params.content) {
        const lines = params.content.split('\n').length;
        stats.linesAdded += lines;
      }
    }

    if (toolName === 'Bash' && params.command.includes('git commit')) {
      stats.commits++;
    }

    return { success: true };
  },

  // Session end
  onEnd: async () => {
    stats.endTime = new Date();
    const duration = Math.round((stats.endTime - stats.startTime) / 1000 / 60);

    console.log('\nüëã –°–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!');
    console.log('üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:');
    console.log(`   - –§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ: ${stats.files}`);
    console.log(`   - –ö–æ–º–º–∏—Ç–æ–≤: ${stats.commits}`);
    console.log(`   - –°—Ç—Ä–æ–∫ –∫–æ–¥–∞: +${stats.linesAdded}`);
    console.log(`   - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ${duration} –º–∏–Ω`);

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ç–æ—Ä–∏—é
    const historyPath = path.join(process.env.HOME, '.claude', 'history.json');
    let history = [];

    if (fs.existsSync(historyPath)) {
      history = JSON.parse(fs.readFileSync(historyPath, 'utf-8'));
    }

    history.push({
      ...stats,
      startTime: stats.startTime.toISOString(),
      endTime: stats.endTime.toISOString()
    });

    fs.writeFileSync(historyPath, JSON.stringify(history, null, 2));
    console.log(`üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ ${historyPath}\n`);

    return { success: true };
  }
};
```

**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö hooks:**
```json
// ~/.claude/settings.json
{
  "hooks": {
    "preToolUse": "~/.claude/hooks/pre-commit-test.js",
    "postToolUse": [
      "~/.claude/hooks/post-commit-changelog.js",
      "~/.claude/hooks/session-stats.js::onToolUse"
    ],
    "sessionStart": "~/.claude/hooks/session-stats.js::onStart",
    "sessionEnd": "~/.claude/hooks/session-stats.js::onEnd"
  }
}
```

</details>

---

### –ó–∞–¥–∞–Ω–∏–µ 3: –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è Development –ø—Ä–æ—Ü–µ—Å—Å–∞ (–ü—Ä–æ–µ–∫—Ç–Ω–æ–µ)
**–í—Ä–µ–º—è:** 50-60+ –º–∏–Ω—É—Ç
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É hooks –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤—Å–µ–≥–æ workflow

**–ó–∞–¥–∞—á–∞:**
–†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤–∫–ª—é—á–∞–µ—Ç:

1. **Code Quality Automation**
   - –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Prettier)
   - –õ–∏–Ω—Ç–∏–Ω–≥ (ESLint)
   - Type checking (TypeScript)
   - Import sorting

2. **Testing Automation**
   - –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è coverage –æ—Ç—á—ë—Ç–æ–≤
   - –°–æ–∑–¥–∞–Ω–∏–µ snapshot —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

3. **Documentation Automation**
   - –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
   - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

4. **Git Workflow Automation**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è commit messages (conventional commits)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è release notes

5. **Performance Monitoring**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ bundle
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–±–æ—Ä–∫–∏
   - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
~/.claude/hooks/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ hook-manager.js        # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä hooks
‚îÇ   ‚îú‚îÄ‚îÄ logger.js              # –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ config.js              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ quality/
‚îÇ   ‚îú‚îÄ‚îÄ auto-format.js         # Prettier + ESLint
‚îÇ   ‚îú‚îÄ‚îÄ type-check.js          # TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ import-sort.js         # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
‚îú‚îÄ‚îÄ testing/
‚îÇ   ‚îú‚îÄ‚îÄ auto-test.js           # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ coverage.js            # Coverage –æ—Ç—á—ë—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ snapshot-gen.js        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è snapshots
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ jsdoc-gen.js           # JSDoc –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ api-docs.js            # API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ examples-gen.js        # –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
‚îú‚îÄ‚îÄ git/
‚îÇ   ‚îú‚îÄ‚îÄ commit-lint.js         # –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–º–º–∏—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ versioning.js          # –ê–≤—Ç–æ–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ release-notes.js       # Release notes
‚îî‚îÄ‚îÄ monitoring/
    ‚îú‚îÄ‚îÄ bundle-size.js         # –†–∞–∑–º–µ—Ä bundle
    ‚îú‚îÄ‚îÄ build-perf.js          # –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
    ‚îî‚îÄ‚îÄ metrics.js             # –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**

1. **Smart Hook Manager** - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```javascript
// ~/.claude/hooks/core/hook-manager.js
class HookManager {
  constructor() {
    this.hooks = new Map();
    this.metrics = {
      totalRuns: 0,
      errors: 0,
      avgDuration: 0
    };
  }

  async register(name, hook, options = {}) {
    // TODO: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è hook —Å –æ–ø—Ü–∏—è–º–∏
  }

  async execute(type, context) {
    // TODO: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö hooks –¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
    // TODO: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
    // TODO: –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫
  }

  getMetrics() {
    // TODO: –í–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  }
}
```

2. **Conditional Execution** - —É–º–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:
```javascript
// –ü—Ä–∏–º–µ—Ä: –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
{
  name: 'auto-test',
  enabled: true,
  condition: (context) => {
    return context.filePath.includes('/src/') &&
           !context.filePath.includes('.test.');
  },
  timeout: 30000
}
```

3. **Parallel Execution** - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫:
```javascript
// –ó–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ hooks –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
await Promise.all([
  runFormatter(),
  runLinter(),
  runTypeCheck()
]);
```

4. **Error Recovery** - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫:
```javascript
// Retry –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
async function withRetry(fn, maxRetries = 3) {
  // TODO: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è retry –ª–æ–≥–∏–∫–∏
}
```

5. **Rich Logging** - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```javascript
// ~/.claude/hooks/core/logger.js
class Logger {
  info(message, meta) { /* ... */ }
  warn(message, meta) { /* ... */ }
  error(message, meta) { /* ... */ }
  metrics(data) { /* ... */ }
}
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- ‚úÖ –í—Å–µ 15+ hooks —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å–∫–æ—Ä—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- ‚úÖ Conditional execution —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ë–æ–Ω—É—Å–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
- üéØ –î–æ–±–∞–≤–∏—Ç—å webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Slack/Discord
- üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD (GitHub Actions)
- üéØ Dashboard –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫
- üéØ AI-powered code review hook

**–ü—Ä–∏–º–µ—Ä —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:**
```
üöÄ Claude Code Session Started

üìù File changed: src/components/Button.tsx
  ‚ú® Auto-format: Applied Prettier
  üîç ESLint: 0 errors
  üìò TypeScript: No errors
  üìö JSDoc: Generated docs
  üß™ Tests: 12/12 passed
  üìä Coverage: 87% (+2%)

üìù File changed: src/utils/helpers.js
  ‚ú® Auto-format: Applied Prettier
  üîç ESLint: Fixed 2 errors
  üß™ Tests: 8/8 passed

üíæ Commit: feat: add Button component
  ‚úÖ Commit message valid (conventional)
  üìù CHANGELOG updated
  üè∑Ô∏è  Version bumped: 1.2.3 ‚Üí 1.3.0
  üìÑ Release notes generated

üëã Session Ended
üìä Session Statistics:
   - Duration: 45 min
   - Files changed: 8
   - Lines added: +347 -89
   - Commits: 3
   - Tests run: 156 (100% passed)
   - Code coverage: 89% (+5%)
   - Bundle size: 245 KB (-12 KB)
   - Build time: 12.3s (-2.1s)

‚ú® Quality Score: 9.4/10
üíæ Metrics saved to ~/.claude/metrics/2025-01-15.json
```

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–µ—à–µ–Ω–∏—è</summary>

**1. Hook Manager:**
```javascript
// ~/.claude/hooks/core/hook-manager.js
const fs = require('fs');
const path = require('path');

class HookManager {
  constructor() {
    this.hooks = new Map();
    this.logger = require('./logger');
    this.config = require('./config');
    this.metrics = {
      totalRuns: 0,
      successRuns: 0,
      errors: 0,
      totalDuration: 0
    };
  }

  register(name, hookFn, options = {}) {
    this.hooks.set(name, {
      fn: hookFn,
      enabled: options.enabled ?? true,
      condition: options.condition ?? (() => true),
      timeout: options.timeout ?? 30000,
      retries: options.retries ?? 0,
      parallel: options.parallel ?? false
    });
  }

  async execute(type, context) {
    const startTime = Date.now();
    this.metrics.totalRuns++;

    const hooksToRun = Array.from(this.hooks.entries())
      .filter(([_, hook]) => hook.enabled && hook.condition(context));

    if (hooksToRun.length === 0) {
      return { success: true, results: [] };
    }

    try {
      // –†–∞–∑–¥–µ–ª—è–µ–º –Ω–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ
      const parallelHooks = hooksToRun.filter(([_, h]) => h.parallel);
      const sequentialHooks = hooksToRun.filter(([_, h]) => !h.parallel);

      const results = [];

      // –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
      if (parallelHooks.length > 0) {
        const parallelResults = await Promise.all(
          parallelHooks.map(([name, hook]) =>
            this._runHook(name, hook, context)
          )
        );
        results.push(...parallelResults);
      }

      // –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
      for (const [name, hook] of sequentialHooks) {
        const result = await this._runHook(name, hook, context);
        results.push(result);
      }

      this.metrics.successRuns++;
      this.metrics.totalDuration += Date.now() - startTime;

      return { success: true, results };
    } catch (error) {
      this.metrics.errors++;
      this.logger.error('Hook execution failed', { error, type });
      return { success: false, error: error.message };
    }
  }

  async _runHook(name, hook, context) {
    const startTime = Date.now();
    this.logger.info(`Running hook: ${name}`);

    try {
      const result = await this._withTimeout(
        hook.fn(context),
        hook.timeout
      );

      const duration = Date.now() - startTime;
      this.logger.info(`Hook completed: ${name}`, { duration });

      return { name, success: true, duration, result };
    } catch (error) {
      if (hook.retries > 0) {
        return await this._retryHook(name, hook, context, hook.retries);
      }

      this.logger.error(`Hook failed: ${name}`, { error });
      return { name, success: false, error: error.message };
    }
  }

  async _retryHook(name, hook, context, retriesLeft) {
    this.logger.warn(`Retrying hook: ${name} (${retriesLeft} left)`);
    await new Promise(r => setTimeout(r, 1000)); // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ retry

    try {
      const result = await hook.fn(context);
      this.logger.info(`Hook retry succeeded: ${name}`);
      return { name, success: true, result };
    } catch (error) {
      if (retriesLeft > 1) {
        return await this._retryHook(name, hook, context, retriesLeft - 1);
      }
      throw error;
    }
  }

  async _withTimeout(promise, timeout) {
    return Promise.race([
      promise,
      new Promise((_, reject) =>
        setTimeout(() => reject(new Error('Hook timeout')), timeout)
      )
    ]);
  }

  getMetrics() {
    return {
      ...this.metrics,
      avgDuration: this.metrics.totalRuns > 0
        ? Math.round(this.metrics.totalDuration / this.metrics.totalRuns)
        : 0,
      successRate: this.metrics.totalRuns > 0
        ? Math.round((this.metrics.successRuns / this.metrics.totalRuns) * 100)
        : 0
    };
  }

  saveMetrics() {
    const metricsPath = path.join(
      process.env.HOME,
      '.claude',
      'metrics',
      `${new Date().toISOString().split('T')[0]}.json`
    );

    const metricsDir = path.dirname(metricsPath);
    if (!fs.existsSync(metricsDir)) {
      fs.mkdirSync(metricsDir, { recursive: true });
    }

    fs.writeFileSync(
      metricsPath,
      JSON.stringify(this.getMetrics(), null, 2)
    );
  }
}

module.exports = new HookManager();
```

**2. –ü—Ä–∏–º–µ—Ä Quality Hook:**
```javascript
// ~/.claude/hooks/quality/auto-format.js
const { exec } = require('child_process');
const { promisify } = require('util');
const execAsync = promisify(exec);

module.exports = async (context) => {
  const { filePath } = context;

  if (!filePath.match(/\.(js|ts|jsx|tsx)$/)) {
    return { skipped: true, reason: 'Not a JS/TS file' };
  }

  try {
    // Prettier
    await execAsync(`npx prettier --write "${filePath}"`);

    // ESLint
    const { stdout } = await execAsync(
      `npx eslint --fix "${filePath}"`
    ).catch(e => ({ stdout: e.stdout }));

    const fixedCount = (stdout.match(/fixed/g) || []).length;

    return {
      success: true,
      formatted: true,
      lintFixed: fixedCount
    };
  } catch (error) {
    return {
      success: false,
      error: error.message
    };
  }
};
```

**3. Main Hook Entry:**
```javascript
// ~/.claude/hooks/index.js
const HookManager = require('./core/hook-manager');

// Quality hooks
HookManager.register('auto-format', require('./quality/auto-format'), {
  parallel: true
});
HookManager.register('type-check', require('./quality/type-check'), {
  parallel: true
});

// Testing hooks
HookManager.register('auto-test', require('./testing/auto-test'), {
  condition: (ctx) => ctx.filePath.includes('/src/')
});

// Git hooks
HookManager.register('commit-lint', require('./git/commit-lint'));

// Export unified hooks
module.exports = {
  preToolUse: async (toolName, params) => {
    return await HookManager.execute('pre', { toolName, params });
  },

  postToolUse: async (toolName, params) => {
    const result = await HookManager.execute('post', { toolName, params });
    return result.success ? { success: true } : { success: false };
  },

  sessionEnd: async () => {
    const metrics = HookManager.getMetrics();
    console.log('\nüìä Session Metrics:');
    console.log(`   - Total hooks run: ${metrics.totalRuns}`);
    console.log(`   - Success rate: ${metrics.successRate}%`);
    console.log(`   - Avg duration: ${metrics.avgDuration}ms`);

    HookManager.saveMetrics();
    return { success: true };
  }
};
```

</details>

---

## –ù–∞–≤–∏–≥–∞—Ü–∏—è

‚Üê [–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è: 06. –°—É–±–∞–≥–µ–Ω—Ç—ã](06-–°–£–ë–ê–ì–ï–ù–¢–´.md)
‚Üí [–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: 08. Output styles](08-OUTPUT-STYLES.md)

**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 7 –∏–∑ 11 —Å—Ç–∞—Ç–µ–π —Ä–∞–∑–¥–µ–ª–∞ "Claude Code" | [–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é](README.md)

---

> üí° **–ö–ª—é—á–µ–≤–æ–π –∏–Ω—Å–∞–π—Ç –≥–ª–∞–≤—ã:** Hooks –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç Claude Code –≤ —É–º–Ω–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã, –∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç –≤–∞—à—É —Ä–∞–±–æ—Ç—É –ª—É—á—à–µ, –±—ã—Å—Ç—Ä–µ–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ. –≠—Ç–æ –∫–∞–∫ –ø–µ—Ä–µ–π—Ç–∏ –æ—Ç –æ–±—ã—á–Ω–æ–π –º–∞—à–∏–Ω—ã –∫ –º–∞—à–∏–Ω–µ —Å –∞–≤—Ç–æ–ø–∏–ª–æ—Ç–æ–º.

**–°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞:** –£–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–∏–ª–µ–º –≤—ã–≤–æ–¥–∞ Claude –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π ‚Äî –æ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –æ–±—ä—è—Å–Ω–µ–Ω–∏–π –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ –¥–æ —Å–∂–∞—Ç—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è production.
