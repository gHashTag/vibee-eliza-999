# üì∏ Instagram Plugin –¥–ª—è VIBEE

> –ü–ª–∞–≥–∏–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤ –≤ Instagram —á–µ—Ä–µ–∑ Meta Business API —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π —Ç–æ–∫–µ–Ω–æ–≤ (60 –¥–Ω–µ–π)

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –≤ Instagram —á–µ—Ä–µ–∑ Telegram –±–æ—Ç
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –ø–æ–¥–ø–∏—Å–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ö—ç—à—Ç–µ–≥–æ–≤ –∏ URL –∏–∑ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- ‚úÖ Long-lived —Ç–æ–∫–µ–Ω—ã (60 –¥–Ω–µ–π) - –±–æ–ª—å—à–µ –ù–ï –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞!

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤](#-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—Ç–æ–∫–µ–Ω–æ–≤)
4. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
5. [API](#-api)
6. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
7. [–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è](#-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)
8. [Troubleshooting](#-troubleshooting)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env
INSTAGRAM_APP_ID=your_app_id
INSTAGRAM_APP_SECRET=your_app_secret
INSTAGRAM_ACCESS_TOKEN=your_access_token
INSTAGRAM_ACCOUNT_ID=your_account_id
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

```bash
# –ü–æ–ª—É—á–∏—Ç–µ —Å–≤–µ–∂–∏–π User Access Token –∏–∑ Graph API Explorer
# https://developers.facebook.com/tools/explorer/

# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é
./refresh-instagram-tokens.sh
```

### 4. –ó–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–∞

```bash
npm run dev
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–ª–∞–≥–∏–Ω–∞

```
src/instagram-plugin/
‚îú‚îÄ‚îÄ actions/
‚îÇ   ‚îî‚îÄ‚îÄ instagramPostAction.ts     # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –ø–æ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ instagramService.ts        # API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ providers/
‚îÇ   ‚îî‚îÄ‚îÄ instagramProvider.ts       # –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
‚îú‚îÄ‚îÄ __tests__/
‚îÇ   ‚îú‚îÄ‚îÄ unit/                      # Unit —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ integration/               # Integration —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ e2e/                       # E2E —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ README.md                      # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. **InstagramPostAction**

–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤.

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- `/instagram –ø–æ—Å—Ç`
- `–æ–ø—É–±–ª–∏–∫—É–π –≤ –∏–Ω—Å—Ç–∞–≥—Ä–∞–º`
- `–ø–æ—Å—Ç –≤ instagram`

**–ü—Ä–∏–º–µ—Ä:**
```
/instagram –ø–æ—Å—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º https://example.com/image.jpg –∏ –ø–æ–¥–ø–∏—Å—å—é –¢–µ—Å—Ç–æ–≤–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è #vibee
```

#### 2. **InstagramService**

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Meta Graph API.

**–ú–µ—Ç–æ–¥—ã:**
- `createMediaContainer(imageUrl, caption)` - –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- `publishMedia(creationId)` - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `checkTokenValidity()` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

#### 3. **parseInstagramPost()**

–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–µ–∫—Å—Ç–∞.

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```typescript
text: string
attachments?: any[]
```

**–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```typescript
{
  imageUrl: string;
  caption: string;
  hashtags: string[];
}
```

**–ü—Ä–∏–º–µ—Ä—ã –ø–∞—Ä—Å–∏–Ω–≥–∞:**

```javascript
// 1. –° URL –≤ —Ç–µ–∫—Å—Ç–µ
parseInstagramPost("/instagram https://example.com/photo.jpg —Å –ø–æ–¥–ø–∏—Å—å—é –ü—Ä–∏–≤–µ—Ç")
// => { imageUrl: "https://...", caption: "–ü—Ä–∏–≤–µ—Ç", hashtags: [] }

// 2. –° –≤–ª–æ–∂–µ–Ω–∏—è–º–∏
parseInstagramPost("–æ–ø—É–±–ª–∏–∫—É–π —Å –ø–æ–¥–ø–∏—Å—å—é –¢–µ—Å—Ç #vibee", [{ url: "https://..." }])
// => { imageUrl: "https://...", caption: "–¢–µ—Å—Ç #vibee", hashtags: ["vibee"] }

// 3. –° —Ö—ç—à—Ç–µ–≥–∞–º–∏
parseInstagramPost("–ø–æ—Å—Ç –≤ –∏–Ω—Å—Ç–∞–≥—Ä–∞–º https://img.jpg —Ç–µ–∫—Å—Ç #ai #test")
// => { imageUrl: "https://...", caption: "—Ç–µ–∫—Å—Ç #ai #test", hashtags: ["ai", "test"] }
```

---

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤

### –¢–∏–ø—ã —Ç–æ–∫–µ–Ω–æ–≤

| –¢–∏–ø —Ç–æ–∫–µ–Ω–∞     | –°—Ä–æ–∫ –∂–∏–∑–Ω–∏ | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è      |
|----------------|------------|----------------|-------------------|
| Short-lived    | ~2 —á–∞—Å–∞    | ‚ùå –ù–µ—Ç         | ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å|
| Long-lived     | 60 –¥–Ω–µ–π    | ‚úÖ –ï—Å—Ç—å        | ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è  |

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (–ø–æ—à–∞–≥–æ–≤–æ)

#### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Facebook App

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://developers.facebook.com
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (App Type: Business)
3. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–¥—É–∫—Ç **Instagram Basic Display**

#### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ App Secret

1. Settings > Basic
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **App ID** –∏ **App Secret**
3. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
   ```bash
   INSTAGRAM_APP_ID=your_app_id
   INSTAGRAM_APP_SECRET=your_app_secret
   ```

#### –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ User Access Token

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://developers.facebook.com/tools/explorer/
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞:
   - `instagram_basic`
   - `instagram_content_publish`
   - `pages_show_list`
   - `pages_read_engagement`
4. –ù–∞–∂–º–∏—Ç–µ **"Generate Access Token"**
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

#### –®–∞–≥ 4: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ Long-lived —Ç–æ–∫–µ–Ω

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é
./refresh-instagram-tokens.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω –≤ long-lived (60 –¥–Ω–µ–π)
- ‚úÖ –ù–∞–π–¥—ë—Ç Instagram Account ID
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç `.env` —Ñ–∞–π–ª
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω

---

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

#### 1. –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å URL

```
/instagram –ø–æ—Å—Ç https://example.com/image.jpg —Å –ø–æ–¥–ø–∏—Å—å—é –ü—Ä–∏–≤–µ—Ç –∏–∑ VIBEE! #ai #automation
```

#### 2. –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å –≤–ª–æ–∂–µ–Ω–∏–µ–º

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–¥–ø–∏—Å—å—é:
```
–æ–ø—É–±–ª–∏–∫—É–π –≤ –∏–Ω—Å—Ç–∞–≥—Ä–∞–º —Å –ø–æ–¥–ø–∏—Å—å—é –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ—Å—Ç
```

#### 3. –¢–æ–ª—å–∫–æ —Ö—ç—à—Ç–µ–≥–∏

```
/instagram https://img.jpg #vibee #test #ai
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```typescript
import { instagramPostAction } from './actions/instagramPostAction';

// –í –≤–∞—à–µ–º –∫–æ–¥–µ
const result = await instagramPostAction.handler(
  runtime,
  message,
  state,
  options,
  callback
);

if (result.success) {
  console.log('–ü–æ—Å—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω!', result.data);
}
```

---

## üì° API

### Meta Graph API v18.0

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```http
POST https://graph.facebook.com/v18.0/{account_id}/media
Content-Type: application/json

{
  "image_url": "https://example.com/image.jpg",
  "caption": "–¢–µ–∫—Å—Ç –ø–æ–¥–ø–∏—Å–∏ #hashtag",
  "access_token": "..."
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": "18548069389040052"
}
```

#### 2. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –º–µ–¥–∏–∞

```http
POST https://graph.facebook.com/v18.0/{account_id}/media_publish
Content-Type: application/json

{
  "creation_id": "18548069389040052",
  "access_token": "..."
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": "18110822722608572"
}
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º

| –ü–∞—Ä–∞–º–µ—Ç—Ä        | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ                     |
|-----------------|--------------------------------|
| –§–æ—Ä–º–∞—Ç          | JPG, PNG                       |
| –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞    | < 8 MB                         |
| –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ      | Min 320px, Max 1080px          |
| Aspect Ratio    | 1:1, 4:5, 1.91:1               |
| URL             | –ü—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–π, HTTPS      |

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã

```bash
# –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤
npm test src/instagram-plugin/__tests__/unit

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm test -- --coverage
```

**–¢–µ—Å—Ç—ã parseInstagramPost:**
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ URL –∏–∑ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ URL –∏–∑ –≤–ª–æ–∂–µ–Ω–∏–π
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–º–∞–Ω–¥—ã "–æ–ø—É–±–ª–∏–∫—É–π"
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã "/instagram"
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ö—ç—à—Ç–µ–≥–æ–≤
- ‚úÖ Default caption –¥–ª—è –ø—É—Å—Ç—ã—Ö –ø–æ—Å—Ç–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–µ–π
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤

### Integration —Ç–µ—Å—Ç—ã

```bash
# –ó–∞–ø—É—Å–∫ integration —Ç–µ—Å—Ç–æ–≤
npm test src/instagram-plugin/__tests__/integration
```

**–¢–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–∞:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –º–µ–¥–∏–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

### E2E —Ç–µ—Å—Ç—ã

```bash
# –¢–µ—Å—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º API (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
node test-instagram-e2e.js

# –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
node test-instagram-final.js
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéâ –£–°–ü–ï–•! –ü–û–°–¢ –û–ü–£–ë–õ–ò–ö–û–í–ê–ù!
üìç Post ID: 18110822722608572
üîó –°–º–æ—Ç—Ä–µ—Ç—å: https://www.instagram.com/p/18110822722608572/
```

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –∞–≥–µ–Ω—Ç–∞:

```bash
npm run dev
```

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `check-instagram-token.js`:

```
üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å Instagram —Ç–æ–∫–µ–Ω–∞...

‚úÖ –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω!
   –ê–∫–∫–∞—É–Ω—Ç: VIBEE (@vibee_official)
   ID: 17841401201538156

‚è∞ –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑: 55 –¥–Ω–µ–π

üéâ Instagram —Ç–æ–∫–µ–Ω –≤ –ø–æ—Ä—è–¥–∫–µ!
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (—Ä–∞–∑ –≤ 60 –¥–Ω–µ–π)

```bash
./refresh-instagram-tokens.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç —Ç–µ–∫—É—â–∏–π —Ç–æ–∫–µ–Ω
2. ‚úÖ –ü–æ–ª—É—á–∏—Ç long-lived —Ç–æ–∫–µ–Ω (60 –¥–Ω–µ–π)
3. ‚úÖ –ù–∞–π–¥—ë—Ç Instagram Account ID
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç `.env` —Ñ–∞–π–ª
5. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω

### –ì—Ä–∞—Ñ–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```
–î–µ–Ω—å 0   ‚Üí –ü–æ–ª—É—á–µ–Ω–∏–µ long-lived —Ç–æ–∫–µ–Ω–∞
         ‚Üì
–î–µ–Ω—å 1-55 ‚Üí –ê–≥–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚úÖ
         ‚Üì
–î–µ–Ω—å 55  ‚Üí –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏ ‚ö†Ô∏è
         ‚Üì
–î–µ–Ω—å 60  ‚Üí –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫–∞–µ—Ç ‚ùå
         ‚Üì
–î–µ–Ω—å 61  ‚Üí ./refresh-instagram-tokens.sh
         ‚Üì
–î–µ–Ω—å 62+ ‚Üí –†–∞–±–æ—Ç–∞–µ—Ç –µ—â—ë 60 –¥–Ω–µ–π ‚úÖ
```

---

## üîß Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –¢–æ–∫–µ–Ω –∏—Å—Ç—ë–∫

**–°–∏–º–ø—Ç–æ–º—ã:**
```
‚ùå –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫ –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω!
   –û—à–∏–±–∫–∞: Session has expired
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü–æ–ª—É—á–∏—Ç–µ —Å–≤–µ–∂–∏–π —Ç–æ–∫–µ–Ω –∏–∑ Graph API Explorer
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./refresh-instagram-tokens.sh
```

#### 2. Aspect ratio not supported

**–°–∏–º–ø—Ç–æ–º—ã:**
```
‚ùå The aspect ratio is not supported.
```

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º–∏ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏:
- –ö–≤–∞–¥—Ä–∞—Ç: 1:1 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –ü–æ—Ä—Ç—Ä–µ—Ç: 4:5
- –õ–∞–Ω–¥—à–µ—Ñ—Ç: 1.91:1

#### 3. –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–∞—á–∞—Ç—å –º–µ–¥–∏–∞—Ñ–∞–π–ª

**–°–∏–º–ø—Ç–æ–º—ã:**
```
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–∞—á–∞—Ç—å –º–µ–¥–∏–∞—Ñ–∞–π–ª. –ï–≥–æ URI –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞—à–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.
```

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS (–Ω–µ HTTP)
- –ò–∑–±–µ–≥–∞–π—Ç–µ redirect URLs (picsum.photos –∏ –ø–æ–¥–æ–±–Ω—ã–µ)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

#### 4. Instagram Business –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

**–°–∏–º–ø—Ç–æ–º—ã:**
```
‚ùå Instagram Business –∞–∫–∫–∞—É–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à Instagram –ø—Ä–æ—Ñ–∏–ª—å –ø–µ—Ä–µ–∫–ª—é—á—ë–Ω –Ω–∞ **Business** –∞–∫–∫–∞—É–Ω—Ç
2. –ü—Ä–∏–≤—è–∂–∏—Ç–µ Instagram –∫ Facebook Page
3. –í—ã–¥–∞–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞ –≤ Graph API Explorer:
   - `instagram_basic`
   - `instagram_content_publish`
   - `pages_show_list`

### Debug —Ä–µ–∂–∏–º

```bash
# –í–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=debug npm run dev

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –≤—Ä—É—á–Ω—É—é
node check-instagram-token.js

# –¢–µ—Å—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
node test-instagram-final.js
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [INSTAGRAM_TOKENS_AUTOMATION.md](../../INSTAGRAM_TOKENS_AUTOMATION.md) - –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- [QUICKSTART_INSTAGRAM.md](../../QUICKSTART_INSTAGRAM.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [GET_FRESH_TOKEN.md](../../GET_FRESH_TOKEN.md) - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

### –°–∫—Ä–∏–ø—Ç—ã

- `check-instagram-token.js` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
- `instagram-token-manager.js` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏
- `refresh-instagram-tokens.sh` - –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `test-instagram-e2e.js` - E2E —Ç–µ—Å—Ç
- `test-instagram-final.js` - –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç

### –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã

- [Meta Graph API Documentation](https://developers.facebook.com/docs/instagram-platform/instagram-graph-api)
- [Facebook Developers Console](https://developers.facebook.com)
- [Graph API Explorer](https://developers.facebook.com/tools/explorer/)

---

## ü§ù Contributing

1. Fork –ø—Ä–æ–µ–∫—Ç
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'feat: Add AmazingFeature'`)
4. Push –≤ branch (`git push origin feature/AmazingFeature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

### Code Style

- TypeScript —Å–æ —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π
- –û—Ç—Å—Ç—É–ø—ã: 2 –ø—Ä–æ–±–µ–ª–∞
- –¢–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞
- –û–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –¥–ª—è —Å—Ç—Ä–æ–∫
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - see LICENSE file for details

---

## üôã –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [Troubleshooting](#-troubleshooting)
2. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](#-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã)
3. –°–æ–∑–¥–∞–π—Ç–µ [Issue](https://github.com/your-repo/issues)

---

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-21
**–í–µ—Ä—Å–∏—è:** 1.0.0
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready
